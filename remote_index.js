var HB = Object.defineProperty; var GB = (e, t, r) => t in e ? HB(e, t, { enumerable: !0, configurable: !0, writable: !0, value: r }) : e[t] = r; var Ry = (e, t, r) => GB(e, typeof t != "symbol" ? t + "" : t, r); function VB(e, t) { for (var r = 0; r < t.length; r++) { const n = t[r]; if (typeof n != "string" && !Array.isArray(n)) { for (const a in n) if (a !== "default" && !(a in e)) { const i = Object.getOwnPropertyDescriptor(n, a); i && Object.defineProperty(e, a, i.get ? i : { enumerable: !0, get: () => n[a] }) } } } return Object.freeze(Object.defineProperty(e, Symbol.toStringTag, { value: "Module" })) } (function () { const t = document.createElement("link").relList; if (t && t.supports && t.supports("modulepreload")) return; for (const a of document.querySelectorAll('link[rel="modulepreload"]')) n(a); new MutationObserver(a => { for (const i of a) if (i.type === "childList") for (const s of i.addedNodes) s.tagName === "LINK" && s.rel === "modulepreload" && n(s) }).observe(document, { childList: !0, subtree: !0 }); function r(a) { const i = {}; return a.integrity && (i.integrity = a.integrity), a.referrerPolicy && (i.referrerPolicy = a.referrerPolicy), a.crossOrigin === "use-credentials" ? i.credentials = "include" : a.crossOrigin === "anonymous" ? i.credentials = "omit" : i.credentials = "same-origin", i } function n(a) { if (a.ep) return; a.ep = !0; const i = r(a); fetch(a.href, i) } })(); function _i(e) { return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, "default") ? e.default : e } var Py = { exports: {} }, Wd = {};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sA; function qB() { if (sA) return Wd; sA = 1; var e = Symbol.for("react.transitional.element"), t = Symbol.for("react.fragment"); function r(n, a, i) { var s = null; if (i !== void 0 && (s = "" + i), a.key !== void 0 && (s = "" + a.key), "key" in a) { i = {}; for (var l in a) l !== "key" && (i[l] = a[l]) } else i = a; return a = i.ref, { $$typeof: e, type: n, key: s, ref: a !== void 0 ? a : null, props: i } } return Wd.Fragment = t, Wd.jsx = r, Wd.jsxs = r, Wd } var oA; function WB() { return oA || (oA = 1, Py.exports = qB()), Py.exports } var c = WB(), Dy = { exports: {} }, ot = {};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lA; function KB() { if (lA) return ot; lA = 1; var e = Symbol.for("react.transitional.element"), t = Symbol.for("react.portal"), r = Symbol.for("react.fragment"), n = Symbol.for("react.strict_mode"), a = Symbol.for("react.profiler"), i = Symbol.for("react.consumer"), s = Symbol.for("react.context"), l = Symbol.for("react.forward_ref"), f = Symbol.for("react.suspense"), d = Symbol.for("react.memo"), h = Symbol.for("react.lazy"), m = Symbol.for("react.activity"), g = Symbol.iterator; function v(G) { return G === null || typeof G != "object" ? null : (G = g && G[g] || G["@@iterator"], typeof G == "function" ? G : null) } var y = { isMounted: function () { return !1 }, enqueueForceUpdate: function () { }, enqueueReplaceState: function () { }, enqueueSetState: function () { } }, b = Object.assign, _ = {}; function k(G, P, W) { this.props = G, this.context = P, this.refs = _, this.updater = W || y } k.prototype.isReactComponent = {}, k.prototype.setState = function (G, P) { if (typeof G != "object" && typeof G != "function" && G != null) throw Error("takes an object of state variables to update or a function which returns an object of state variables."); this.updater.enqueueSetState(this, G, P, "setState") }, k.prototype.forceUpdate = function (G) { this.updater.enqueueForceUpdate(this, G, "forceUpdate") }; function C() { } C.prototype = k.prototype; function T(G, P, W) { this.props = G, this.context = P, this.refs = _, this.updater = W || y } var j = T.prototype = new C; j.constructor = T, b(j, k.prototype), j.isPureReactComponent = !0; var R = Array.isArray; function O() { } var I = { H: null, A: null, T: null, S: null }, H = Object.prototype.hasOwnProperty; function F(G, P, W) { var J = W.ref; return { $$typeof: e, type: G, key: P, ref: J !== void 0 ? J : null, props: W } } function X(G, P) { return F(G.type, P, G.props) } function V(G) { return typeof G == "object" && G !== null && G.$$typeof === e } function U(G) { var P = { "=": "=0", ":": "=2" }; return "$" + G.replace(/[=:]/g, function (W) { return P[W] }) } var ee = /\/+/g; function re(G, P) { return typeof G == "object" && G !== null && G.key != null ? U("" + G.key) : P.toString(36) } function de(G) { switch (G.status) { case "fulfilled": return G.value; case "rejected": throw G.reason; default: switch (typeof G.status == "string" ? G.then(O, O) : (G.status = "pending", G.then(function (P) { G.status === "pending" && (G.status = "fulfilled", G.value = P) }, function (P) { G.status === "pending" && (G.status = "rejected", G.reason = P) })), G.status) { case "fulfilled": return G.value; case "rejected": throw G.reason } }throw G } function D(G, P, W, J, B) { var ce = typeof G; (ce === "undefined" || ce === "boolean") && (G = null); var fe = !1; if (G === null) fe = !0; else switch (ce) { case "bigint": case "string": case "number": fe = !0; break; case "object": switch (G.$$typeof) { case e: case t: fe = !0; break; case h: return fe = G._init, D(fe(G._payload), P, W, J, B) } }if (fe) return B = B(G), fe = J === "" ? "." + re(G, 0) : J, R(B) ? (W = "", fe != null && (W = fe.replace(ee, "$&/") + "/"), D(B, P, W, "", function (pe) { return pe })) : B != null && (V(B) && (B = X(B, W + (B.key == null || G && G.key === B.key ? "" : ("" + B.key).replace(ee, "$&/") + "/") + fe)), P.push(B)), 1; fe = 0; var le = J === "" ? "." : J + ":"; if (R(G)) for (var oe = 0; oe < G.length; oe++)J = G[oe], ce = le + re(J, oe), fe += D(J, P, W, ce, B); else if (oe = v(G), typeof oe == "function") for (G = oe.call(G), oe = 0; !(J = G.next()).done;)J = J.value, ce = le + re(J, oe++), fe += D(J, P, W, ce, B); else if (ce === "object") { if (typeof G.then == "function") return D(de(G), P, W, J, B); throw P = String(G), Error("Objects are not valid as a React child (found: " + (P === "[object Object]" ? "object with keys {" + Object.keys(G).join(", ") + "}" : P) + "). If you meant to render a collection of children, use an array instead.") } return fe } function z(G, P, W) { if (G == null) return G; var J = [], B = 0; return D(G, J, "", "", function (ce) { return P.call(W, ce, B++) }), J } function ie(G) { if (G._status === -1) { var P = G._result; P = P(), P.then(function (W) { (G._status === 0 || G._status === -1) && (G._status = 1, G._result = W) }, function (W) { (G._status === 0 || G._status === -1) && (G._status = 2, G._result = W) }), G._status === -1 && (G._status = 0, G._result = P) } if (G._status === 1) return G._result.default; throw G._result } var M = typeof reportError == "function" ? reportError : function (G) { if (typeof window == "object" && typeof window.ErrorEvent == "function") { var P = new window.ErrorEvent("error", { bubbles: !0, cancelable: !0, message: typeof G == "object" && G !== null && typeof G.message == "string" ? String(G.message) : String(G), error: G }); if (!window.dispatchEvent(P)) return } else if (typeof process == "object" && typeof process.emit == "function") { process.emit("uncaughtException", G); return } console.error(G) }, te = { map: z, forEach: function (G, P, W) { z(G, function () { P.apply(this, arguments) }, W) }, count: function (G) { var P = 0; return z(G, function () { P++ }), P }, toArray: function (G) { return z(G, function (P) { return P }) || [] }, only: function (G) { if (!V(G)) throw Error("React.Children.only expected to receive a single React element child."); return G } }; return ot.Activity = m, ot.Children = te, ot.Component = k, ot.Fragment = r, ot.Profiler = a, ot.PureComponent = T, ot.StrictMode = n, ot.Suspense = f, ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE = I, ot.__COMPILER_RUNTIME = { __proto__: null, c: function (G) { return I.H.useMemoCache(G) } }, ot.cache = function (G) { return function () { return G.apply(null, arguments) } }, ot.cacheSignal = function () { return null }, ot.cloneElement = function (G, P, W) { if (G == null) throw Error("The argument must be a React element, but you passed " + G + "."); var J = b({}, G.props), B = G.key; if (P != null) for (ce in P.key !== void 0 && (B = "" + P.key), P) !H.call(P, ce) || ce === "key" || ce === "__self" || ce === "__source" || ce === "ref" && P.ref === void 0 || (J[ce] = P[ce]); var ce = arguments.length - 2; if (ce === 1) J.children = W; else if (1 < ce) { for (var fe = Array(ce), le = 0; le < ce; le++)fe[le] = arguments[le + 2]; J.children = fe } return F(G.type, B, J) }, ot.createContext = function (G) { return G = { $$typeof: s, _currentValue: G, _currentValue2: G, _threadCount: 0, Provider: null, Consumer: null }, G.Provider = G, G.Consumer = { $$typeof: i, _context: G }, G }, ot.createElement = function (G, P, W) { var J, B = {}, ce = null; if (P != null) for (J in P.key !== void 0 && (ce = "" + P.key), P) H.call(P, J) && J !== "key" && J !== "__self" && J !== "__source" && (B[J] = P[J]); var fe = arguments.length - 2; if (fe === 1) B.children = W; else if (1 < fe) { for (var le = Array(fe), oe = 0; oe < fe; oe++)le[oe] = arguments[oe + 2]; B.children = le } if (G && G.defaultProps) for (J in fe = G.defaultProps, fe) B[J] === void 0 && (B[J] = fe[J]); return F(G, ce, B) }, ot.createRef = function () { return { current: null } }, ot.forwardRef = function (G) { return { $$typeof: l, render: G } }, ot.isValidElement = V, ot.lazy = function (G) { return { $$typeof: h, _payload: { _status: -1, _result: G }, _init: ie } }, ot.memo = function (G, P) { return { $$typeof: d, type: G, compare: P === void 0 ? null : P } }, ot.startTransition = function (G) { var P = I.T, W = {}; I.T = W; try { var J = G(), B = I.S; B !== null && B(W, J), typeof J == "object" && J !== null && typeof J.then == "function" && J.then(O, M) } catch (ce) { M(ce) } finally { P !== null && W.types !== null && (P.types = W.types), I.T = P } }, ot.unstable_useCacheRefresh = function () { return I.H.useCacheRefresh() }, ot.use = function (G) { return I.H.use(G) }, ot.useActionState = function (G, P, W) { return I.H.useActionState(G, P, W) }, ot.useCallback = function (G, P) { return I.H.useCallback(G, P) }, ot.useContext = function (G) { return I.H.useContext(G) }, ot.useDebugValue = function () { }, ot.useDeferredValue = function (G, P) { return I.H.useDeferredValue(G, P) }, ot.useEffect = function (G, P) { return I.H.useEffect(G, P) }, ot.useEffectEvent = function (G) { return I.H.useEffectEvent(G) }, ot.useId = function () { return I.H.useId() }, ot.useImperativeHandle = function (G, P, W) { return I.H.useImperativeHandle(G, P, W) }, ot.useInsertionEffect = function (G, P) { return I.H.useInsertionEffect(G, P) }, ot.useLayoutEffect = function (G, P) { return I.H.useLayoutEffect(G, P) }, ot.useMemo = function (G, P) { return I.H.useMemo(G, P) }, ot.useOptimistic = function (G, P) { return I.H.useOptimistic(G, P) }, ot.useReducer = function (G, P, W) { return I.H.useReducer(G, P, W) }, ot.useRef = function (G) { return I.H.useRef(G) }, ot.useState = function (G) { return I.H.useState(G) }, ot.useSyncExternalStore = function (G, P, W) { return I.H.useSyncExternalStore(G, P, W) }, ot.useTransition = function () { return I.H.useTransition() }, ot.version = "19.2.4", ot } var cA; function nc() { return cA || (cA = 1, Dy.exports = KB()), Dy.exports } var A = nc(); const li = _i(A), YB = VB({ __proto__: null, default: li }, [A]); var My = { exports: {} }, Kd = {}, Ly = { exports: {} }, Fy = {};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uA; function XB() { return uA || (uA = 1, (function (e) { function t(D, z) { var ie = D.length; D.push(z); e: for (; 0 < ie;) { var M = ie - 1 >>> 1, te = D[M]; if (0 < a(te, z)) D[M] = z, D[ie] = te, ie = M; else break e } } function r(D) { return D.length === 0 ? null : D[0] } function n(D) { if (D.length === 0) return null; var z = D[0], ie = D.pop(); if (ie !== z) { D[0] = ie; e: for (var M = 0, te = D.length, G = te >>> 1; M < G;) { var P = 2 * (M + 1) - 1, W = D[P], J = P + 1, B = D[J]; if (0 > a(W, ie)) J < te && 0 > a(B, W) ? (D[M] = B, D[J] = ie, M = J) : (D[M] = W, D[P] = ie, M = P); else if (J < te && 0 > a(B, ie)) D[M] = B, D[J] = ie, M = J; else break e } } return z } function a(D, z) { var ie = D.sortIndex - z.sortIndex; return ie !== 0 ? ie : D.id - z.id } if (e.unstable_now = void 0, typeof performance == "object" && typeof performance.now == "function") { var i = performance; e.unstable_now = function () { return i.now() } } else { var s = Date, l = s.now(); e.unstable_now = function () { return s.now() - l } } var f = [], d = [], h = 1, m = null, g = 3, v = !1, y = !1, b = !1, _ = !1, k = typeof setTimeout == "function" ? setTimeout : null, C = typeof clearTimeout == "function" ? clearTimeout : null, T = typeof setImmediate < "u" ? setImmediate : null; function j(D) { for (var z = r(d); z !== null;) { if (z.callback === null) n(d); else if (z.startTime <= D) n(d), z.sortIndex = z.expirationTime, t(f, z); else break; z = r(d) } } function R(D) { if (b = !1, j(D), !y) if (r(f) !== null) y = !0, O || (O = !0, U()); else { var z = r(d); z !== null && de(R, z.startTime - D) } } var O = !1, I = -1, H = 5, F = -1; function X() { return _ ? !0 : !(e.unstable_now() - F < H) } function V() { if (_ = !1, O) { var D = e.unstable_now(); F = D; var z = !0; try { e: { y = !1, b && (b = !1, C(I), I = -1), v = !0; var ie = g; try { t: { for (j(D), m = r(f); m !== null && !(m.expirationTime > D && X());) { var M = m.callback; if (typeof M == "function") { m.callback = null, g = m.priorityLevel; var te = M(m.expirationTime <= D); if (D = e.unstable_now(), typeof te == "function") { m.callback = te, j(D), z = !0; break t } m === r(f) && n(f), j(D) } else n(f); m = r(f) } if (m !== null) z = !0; else { var G = r(d); G !== null && de(R, G.startTime - D), z = !1 } } break e } finally { m = null, g = ie, v = !1 } z = void 0 } } finally { z ? U() : O = !1 } } } var U; if (typeof T == "function") U = function () { T(V) }; else if (typeof MessageChannel < "u") { var ee = new MessageChannel, re = ee.port2; ee.port1.onmessage = V, U = function () { re.postMessage(null) } } else U = function () { k(V, 0) }; function de(D, z) { I = k(function () { D(e.unstable_now()) }, z) } e.unstable_IdlePriority = 5, e.unstable_ImmediatePriority = 1, e.unstable_LowPriority = 4, e.unstable_NormalPriority = 3, e.unstable_Profiling = null, e.unstable_UserBlockingPriority = 2, e.unstable_cancelCallback = function (D) { D.callback = null }, e.unstable_forceFrameRate = function (D) { 0 > D || 125 < D ? console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported") : H = 0 < D ? Math.floor(1e3 / D) : 5 }, e.unstable_getCurrentPriorityLevel = function () { return g }, e.unstable_next = function (D) { switch (g) { case 1: case 2: case 3: var z = 3; break; default: z = g }var ie = g; g = z; try { return D() } finally { g = ie } }, e.unstable_requestPaint = function () { _ = !0 }, e.unstable_runWithPriority = function (D, z) { switch (D) { case 1: case 2: case 3: case 4: case 5: break; default: D = 3 }var ie = g; g = D; try { return z() } finally { g = ie } }, e.unstable_scheduleCallback = function (D, z, ie) { var M = e.unstable_now(); switch (typeof ie == "object" && ie !== null ? (ie = ie.delay, ie = typeof ie == "number" && 0 < ie ? M + ie : M) : ie = M, D) { case 1: var te = -1; break; case 2: te = 250; break; case 5: te = 1073741823; break; case 4: te = 1e4; break; default: te = 5e3 }return te = ie + te, D = { id: h++, callback: z, priorityLevel: D, startTime: ie, expirationTime: te, sortIndex: -1 }, ie > M ? (D.sortIndex = ie, t(d, D), r(f) === null && D === r(d) && (b ? (C(I), I = -1) : b = !0, de(R, ie - M))) : (D.sortIndex = te, t(f, D), y || v || (y = !0, O || (O = !0, U()))), D }, e.unstable_shouldYield = X, e.unstable_wrapCallback = function (D) { var z = g; return function () { var ie = g; g = z; try { return D.apply(this, arguments) } finally { g = ie } } } })(Fy)), Fy } var dA; function JB() { return dA || (dA = 1, Ly.exports = XB()), Ly.exports } var Uy = { exports: {} }, An = {};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fA; function ZB() { if (fA) return An; fA = 1; var e = nc(); function t(f) { var d = "https://react.dev/errors/" + f; if (1 < arguments.length) { d += "?args[]=" + encodeURIComponent(arguments[1]); for (var h = 2; h < arguments.length; h++)d += "&args[]=" + encodeURIComponent(arguments[h]) } return "Minified React error #" + f + "; visit " + d + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings." } function r() { } var n = { d: { f: r, r: function () { throw Error(t(522)) }, D: r, C: r, L: r, m: r, X: r, S: r, M: r }, p: 0, findDOMNode: null }, a = Symbol.for("react.portal"); function i(f, d, h) { var m = 3 < arguments.length && arguments[3] !== void 0 ? arguments[3] : null; return { $$typeof: a, key: m == null ? null : "" + m, children: f, containerInfo: d, implementation: h } } var s = e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE; function l(f, d) { if (f === "font") return ""; if (typeof d == "string") return d === "use-credentials" ? d : "" } return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE = n, An.createPortal = function (f, d) { var h = 2 < arguments.length && arguments[2] !== void 0 ? arguments[2] : null; if (!d || d.nodeType !== 1 && d.nodeType !== 9 && d.nodeType !== 11) throw Error(t(299)); return i(f, d, null, h) }, An.flushSync = function (f) { var d = s.T, h = n.p; try { if (s.T = null, n.p = 2, f) return f() } finally { s.T = d, n.p = h, n.d.f() } }, An.preconnect = function (f, d) { typeof f == "string" && (d ? (d = d.crossOrigin, d = typeof d == "string" ? d === "use-credentials" ? d : "" : void 0) : d = null, n.d.C(f, d)) }, An.prefetchDNS = function (f) { typeof f == "string" && n.d.D(f) }, An.preinit = function (f, d) { if (typeof f == "string" && d && typeof d.as == "string") { var h = d.as, m = l(h, d.crossOrigin), g = typeof d.integrity == "string" ? d.integrity : void 0, v = typeof d.fetchPriority == "string" ? d.fetchPriority : void 0; h === "style" ? n.d.S(f, typeof d.precedence == "string" ? d.precedence : void 0, { crossOrigin: m, integrity: g, fetchPriority: v }) : h === "script" && n.d.X(f, { crossOrigin: m, integrity: g, fetchPriority: v, nonce: typeof d.nonce == "string" ? d.nonce : void 0 }) } }, An.preinitModule = function (f, d) { if (typeof f == "string") if (typeof d == "object" && d !== null) { if (d.as == null || d.as === "script") { var h = l(d.as, d.crossOrigin); n.d.M(f, { crossOrigin: h, integrity: typeof d.integrity == "string" ? d.integrity : void 0, nonce: typeof d.nonce == "string" ? d.nonce : void 0 }) } } else d == null && n.d.M(f) }, An.preload = function (f, d) { if (typeof f == "string" && typeof d == "object" && d !== null && typeof d.as == "string") { var h = d.as, m = l(h, d.crossOrigin); n.d.L(f, h, { crossOrigin: m, integrity: typeof d.integrity == "string" ? d.integrity : void 0, nonce: typeof d.nonce == "string" ? d.nonce : void 0, type: typeof d.type == "string" ? d.type : void 0, fetchPriority: typeof d.fetchPriority == "string" ? d.fetchPriority : void 0, referrerPolicy: typeof d.referrerPolicy == "string" ? d.referrerPolicy : void 0, imageSrcSet: typeof d.imageSrcSet == "string" ? d.imageSrcSet : void 0, imageSizes: typeof d.imageSizes == "string" ? d.imageSizes : void 0, media: typeof d.media == "string" ? d.media : void 0 }) } }, An.preloadModule = function (f, d) { if (typeof f == "string") if (d) { var h = l(d.as, d.crossOrigin); n.d.m(f, { as: typeof d.as == "string" && d.as !== "script" ? d.as : void 0, crossOrigin: h, integrity: typeof d.integrity == "string" ? d.integrity : void 0 }) } else n.d.m(f) }, An.requestFormReset = function (f) { n.d.r(f) }, An.unstable_batchedUpdates = function (f, d) { return f(d) }, An.useFormState = function (f, d, h) { return s.H.useFormState(f, d, h) }, An.useFormStatus = function () { return s.H.useHostTransitionStatus() }, An.version = "19.2.4", An } var hA; function A4() { if (hA) return Uy.exports; hA = 1; function e() { if (!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ > "u" || typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE != "function")) try { __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e) } catch (t) { console.error(t) } } return e(), Uy.exports = ZB(), Uy.exports }/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pA; function QB() {
  if (pA) return Kd; pA = 1; var e = JB(), t = nc(), r = A4(); function n(o) { var u = "https://react.dev/errors/" + o; if (1 < arguments.length) { u += "?args[]=" + encodeURIComponent(arguments[1]); for (var p = 2; p < arguments.length; p++)u += "&args[]=" + encodeURIComponent(arguments[p]) } return "Minified React error #" + o + "; visit " + u + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings." } function a(o) { return !(!o || o.nodeType !== 1 && o.nodeType !== 9 && o.nodeType !== 11) } function i(o) { var u = o, p = o; if (o.alternate) for (; u.return;)u = u.return; else { o = u; do u = o, (u.flags & 4098) !== 0 && (p = u.return), o = u.return; while (o) } return u.tag === 3 ? p : null } function s(o) { if (o.tag === 13) { var u = o.memoizedState; if (u === null && (o = o.alternate, o !== null && (u = o.memoizedState)), u !== null) return u.dehydrated } return null } function l(o) { if (o.tag === 31) { var u = o.memoizedState; if (u === null && (o = o.alternate, o !== null && (u = o.memoizedState)), u !== null) return u.dehydrated } return null } function f(o) { if (i(o) !== o) throw Error(n(188)) } function d(o) { var u = o.alternate; if (!u) { if (u = i(o), u === null) throw Error(n(188)); return u !== o ? null : o } for (var p = o, x = u; ;) { var E = p.return; if (E === null) break; var N = E.alternate; if (N === null) { if (x = E.return, x !== null) { p = x; continue } break } if (E.child === N.child) { for (N = E.child; N;) { if (N === p) return f(E), o; if (N === x) return f(E), u; N = N.sibling } throw Error(n(188)) } if (p.return !== x.return) p = E, x = N; else { for (var L = !1, K = E.child; K;) { if (K === p) { L = !0, p = E, x = N; break } if (K === x) { L = !0, x = E, p = N; break } K = K.sibling } if (!L) { for (K = N.child; K;) { if (K === p) { L = !0, p = N, x = E; break } if (K === x) { L = !0, x = N, p = E; break } K = K.sibling } if (!L) throw Error(n(189)) } } if (p.alternate !== x) throw Error(n(190)) } if (p.tag !== 3) throw Error(n(188)); return p.stateNode.current === p ? o : u } function h(o) { var u = o.tag; if (u === 5 || u === 26 || u === 27 || u === 6) return o; for (o = o.child; o !== null;) { if (u = h(o), u !== null) return u; o = o.sibling } return null } var m = Object.assign, g = Symbol.for("react.element"), v = Symbol.for("react.transitional.element"), y = Symbol.for("react.portal"), b = Symbol.for("react.fragment"), _ = Symbol.for("react.strict_mode"), k = Symbol.for("react.profiler"), C = Symbol.for("react.consumer"), T = Symbol.for("react.context"), j = Symbol.for("react.forward_ref"), R = Symbol.for("react.suspense"), O = Symbol.for("react.suspense_list"), I = Symbol.for("react.memo"), H = Symbol.for("react.lazy"), F = Symbol.for("react.activity"), X = Symbol.for("react.memo_cache_sentinel"), V = Symbol.iterator; function U(o) { return o === null || typeof o != "object" ? null : (o = V && o[V] || o["@@iterator"], typeof o == "function" ? o : null) } var ee = Symbol.for("react.client.reference"); function re(o) { if (o == null) return null; if (typeof o == "function") return o.$$typeof === ee ? null : o.displayName || o.name || null; if (typeof o == "string") return o; switch (o) { case b: return "Fragment"; case k: return "Profiler"; case _: return "StrictMode"; case R: return "Suspense"; case O: return "SuspenseList"; case F: return "Activity" }if (typeof o == "object") switch (o.$$typeof) { case y: return "Portal"; case T: return o.displayName || "Context"; case C: return (o._context.displayName || "Context") + ".Consumer"; case j: var u = o.render; return o = o.displayName, o || (o = u.displayName || u.name || "", o = o !== "" ? "ForwardRef(" + o + ")" : "ForwardRef"), o; case I: return u = o.displayName || null, u !== null ? u : re(o.type) || "Memo"; case H: u = o._payload, o = o._init; try { return re(o(u)) } catch { } }return null } var de = Array.isArray, D = t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE, z = r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE, ie = { pending: !1, data: null, method: null, action: null }, M = [], te = -1; function G(o) { return { current: o } } function P(o) { 0 > te || (o.current = M[te], M[te] = null, te--) } function W(o, u) { te++, M[te] = o.current, o.current = u } var J = G(null), B = G(null), ce = G(null), fe = G(null); function le(o, u) { switch (W(ce, u), W(B, o), W(J, null), u.nodeType) { case 9: case 11: o = (o = u.documentElement) && (o = o.namespaceURI) ? C2(o) : 0; break; default: if (o = u.tagName, u = u.namespaceURI) u = C2(u), o = j2(u, o); else switch (o) { case "svg": o = 1; break; case "math": o = 2; break; default: o = 0 } }P(J), W(J, o) } function oe() { P(J), P(B), P(ce) } function pe(o) { o.memoizedState !== null && W(fe, o); var u = J.current, p = j2(u, o.type); u !== p && (W(B, o), W(J, p)) } function Ie(o) { B.current === o && (P(J), P(B)), fe.current === o && (P(fe), Hd._currentValue = ie) } var Y, ct; function He(o) {
    if (Y === void 0) try { throw Error() } catch (p) {
      var u = p.stack.trim().match(/\n( *(at )?)/); Y = u && u[1] || "", ct = -1 < p.stack.indexOf(`
    at`) ? " (<anonymous>)" : -1 < p.stack.indexOf("@") ? "@unknown:0:0" : ""
    } return `
`+ Y + o + ct
  } var tt = !1; function Je(o, u) {
    if (!o || tt) return ""; tt = !0; var p = Error.prepareStackTrace; Error.prepareStackTrace = void 0; try {
      var x = { DetermineComponentFrameRoot: function () { try { if (u) { var je = function () { throw Error() }; if (Object.defineProperty(je.prototype, "props", { set: function () { throw Error() } }), typeof Reflect == "object" && Reflect.construct) { try { Reflect.construct(je, []) } catch (Te) { var Ee = Te } Reflect.construct(o, [], je) } else { try { je.call() } catch (Te) { Ee = Te } o.call(je.prototype) } } else { try { throw Error() } catch (Te) { Ee = Te } (je = o()) && typeof je.catch == "function" && je.catch(function () { }) } } catch (Te) { if (Te && Ee && typeof Te.stack == "string") return [Te.stack, Ee.stack] } return [null, null] } }; x.DetermineComponentFrameRoot.displayName = "DetermineComponentFrameRoot"; var E = Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot, "name"); E && E.configurable && Object.defineProperty(x.DetermineComponentFrameRoot, "name", { value: "DetermineComponentFrameRoot" }); var N = x.DetermineComponentFrameRoot(), L = N[0], K = N[1]; if (L && K) {
        var ue = L.split(`
`), be = K.split(`
`); for (E = x = 0; x < ue.length && !ue[x].includes("DetermineComponentFrameRoot");)x++; for (; E < be.length && !be[E].includes("DetermineComponentFrameRoot");)E++; if (x === ue.length || E === be.length) for (x = ue.length - 1, E = be.length - 1; 1 <= x && 0 <= E && ue[x] !== be[E];)E--; for (; 1 <= x && 0 <= E; x--, E--)if (ue[x] !== be[E]) {
          if (x !== 1 || E !== 1) do if (x--, E--, 0 > E || ue[x] !== be[E]) {
            var Ne = `
`+ ue[x].replace(" at new ", " at "); return o.displayName && Ne.includes("<anonymous>") && (Ne = Ne.replace("<anonymous>", o.displayName)), Ne
          } while (1 <= x && 0 <= E); break
        }
      }
    } finally { tt = !1, Error.prepareStackTrace = p } return (p = o ? o.displayName || o.name : "") ? He(p) : ""
  } function Pe(o, u) { switch (o.tag) { case 26: case 27: case 5: return He(o.type); case 16: return He("Lazy"); case 13: return o.child !== u && u !== null ? He("Suspense Fallback") : He("Suspense"); case 19: return He("SuspenseList"); case 0: case 15: return Je(o.type, !1); case 11: return Je(o.type.render, !1); case 1: return Je(o.type, !0); case 31: return He("Activity"); default: return "" } } function Ut(o) {
    try { var u = "", p = null; do u += Pe(o, p), p = o, o = o.return; while (o); return u } catch (x) {
      return `
Error generating stack: `+ x.message + `
`+ x.stack
    }
  } var dn = Object.prototype.hasOwnProperty, kn = e.unstable_scheduleCallback, Xr = e.unstable_cancelCallback, Ti = e.unstable_shouldYield, fa = e.unstable_requestPaint, Mt = e.unstable_now, Tn = e.unstable_getCurrentPriorityLevel, Ht = e.unstable_ImmediatePriority, ei = e.unstable_UserBlockingPriority, Fe = e.unstable_NormalPriority, $n = e.unstable_LowPriority, ut = e.unstable_IdlePriority, Xt = e.log, Nn = e.unstable_setDisableYieldValue, Pt = null, hr = null; function me(o) { if (typeof Xt == "function" && Nn(o), hr && typeof hr.setStrictMode == "function") try { hr.setStrictMode(Pt, o) } catch { } } var ve = Math.clz32 ? Math.clz32 : Qe, Me = Math.log, Ge = Math.LN2; function Qe(o) { return o >>>= 0, o === 0 ? 32 : 31 - (Me(o) / Ge | 0) | 0 } var gt = 256, Ct = 262144, Jr = 4194304; function mr(o) { var u = o & 42; if (u !== 0) return u; switch (o & -o) { case 1: return 1; case 2: return 2; case 4: return 4; case 8: return 8; case 16: return 16; case 32: return 32; case 64: return 64; case 128: return 128; case 256: case 512: case 1024: case 2048: case 4096: case 8192: case 16384: case 32768: case 65536: case 131072: return o & 261888; case 262144: case 524288: case 1048576: case 2097152: return o & 3932160; case 4194304: case 8388608: case 16777216: case 33554432: return o & 62914560; case 67108864: return 67108864; case 134217728: return 134217728; case 268435456: return 268435456; case 536870912: return 536870912; case 1073741824: return 0; default: return o } } function Zr(o, u, p) { var x = o.pendingLanes; if (x === 0) return 0; var E = 0, N = o.suspendedLanes, L = o.pingedLanes; o = o.warmLanes; var K = x & 134217727; return K !== 0 ? (x = K & ~N, x !== 0 ? E = mr(x) : (L &= K, L !== 0 ? E = mr(L) : p || (p = K & ~o, p !== 0 && (E = mr(p))))) : (K = x & ~N, K !== 0 ? E = mr(K) : L !== 0 ? E = mr(L) : p || (p = x & ~o, p !== 0 && (E = mr(p)))), E === 0 ? 0 : u !== 0 && u !== E && (u & N) === 0 && (N = E & -E, p = u & -u, N >= p || N === 32 && (p & 4194048) !== 0) ? u : E } function fn(o, u) { return (o.pendingLanes & ~(o.suspendedLanes & ~o.pingedLanes) & u) === 0 } function ti(o, u) { switch (o) { case 1: case 2: case 4: case 8: case 64: return u + 250; case 16: case 32: case 128: case 256: case 512: case 1024: case 2048: case 4096: case 8192: case 16384: case 32768: case 65536: case 131072: case 262144: case 524288: case 1048576: case 2097152: return u + 5e3; case 4194304: case 8388608: case 16777216: case 33554432: return -1; case 67108864: case 134217728: case 268435456: case 536870912: case 1073741824: return -1; default: return -1 } } function hc() { var o = Jr; return Jr <<= 1, (Jr & 62914560) === 0 && (Jr = 4194304), o } function hn(o) { for (var u = [], p = 0; 31 > p; p++)u.push(o); return u } function Ni(o, u) { o.pendingLanes |= u, u !== 268435456 && (o.suspendedLanes = 0, o.pingedLanes = 0, o.warmLanes = 0) } function pc(o, u, p, x, E, N) { var L = o.pendingLanes; o.pendingLanes = p, o.suspendedLanes = 0, o.pingedLanes = 0, o.warmLanes = 0, o.expiredLanes &= p, o.entangledLanes &= p, o.errorRecoveryDisabledLanes &= p, o.shellSuspendCounter = 0; var K = o.entanglements, ue = o.expirationTimes, be = o.hiddenUpdates; for (p = L & ~p; 0 < p;) { var Ne = 31 - ve(p), je = 1 << Ne; K[Ne] = 0, ue[Ne] = -1; var Ee = be[Ne]; if (Ee !== null) for (be[Ne] = null, Ne = 0; Ne < Ee.length; Ne++) { var Te = Ee[Ne]; Te !== null && (Te.lane &= -536870913) } p &= ~je } x !== 0 && Jo(o, x, 0), N !== 0 && E === 0 && o.tag !== 0 && (o.suspendedLanes |= N & ~(L & ~u)) } function Jo(o, u, p) { o.pendingLanes |= u, o.suspendedLanes &= ~u; var x = 31 - ve(u); o.entangledLanes |= u, o.entanglements[x] = o.entanglements[x] | 1073741824 | p & 261930 } function Qi(o, u) { var p = o.entangledLanes |= u; for (o = o.entanglements; p;) { var x = 31 - ve(p), E = 1 << x; E & u | o[x] & u && (o[x] |= u), p &= ~E } } function mc(o, u) { var p = u & -u; return p = (p & 42) !== 0 ? 1 : Zo(p), (p & (o.suspendedLanes | u)) !== 0 ? 0 : p } function Zo(o) { switch (o) { case 2: o = 1; break; case 8: o = 4; break; case 32: o = 16; break; case 256: case 512: case 1024: case 2048: case 4096: case 8192: case 16384: case 32768: case 65536: case 131072: case 262144: case 524288: case 1048576: case 2097152: case 4194304: case 8388608: case 16777216: case 33554432: o = 128; break; case 268435456: o = 134217728; break; default: o = 0 }return o } function Ks(o) { return o &= -o, 2 < o ? 8 < o ? (o & 134217727) !== 0 ? 32 : 268435456 : 8 : 2 } function q() { var o = z.p; return o !== 0 ? o : (o = window.event, o === void 0 ? 32 : Q2(o.type)) } function ae(o, u) { var p = z.p; try { return z.p = o, u() } finally { z.p = p } } var Z = Math.random().toString(36).slice(2), Q = "__reactFiber$" + Z, ne = "__reactProps$" + Z, se = "__reactContainer$" + Z, we = "__reactEvents$" + Z, Ae = "__reactListeners$" + Z, _e = "__reactHandles$" + Z, Se = "__reactResources$" + Z, ke = "__reactMarker$" + Z; function Oe(o) { delete o[Q], delete o[ne], delete o[we], delete o[Ae], delete o[_e] } function De(o) { var u = o[Q]; if (u) return u; for (var p = o.parentNode; p;) { if (u = p[se] || p[Q]) { if (p = u.alternate, u.child !== null || p !== null && p.child !== null) for (o = L2(o); o !== null;) { if (p = o[Q]) return p; o = L2(o) } return u } o = p, p = o.parentNode } return null } function Be(o) { if (o = o[Q] || o[se]) { var u = o.tag; if (u === 5 || u === 6 || u === 13 || u === 31 || u === 26 || u === 27 || u === 3) return o } return null } function Re(o) { var u = o.tag; if (u === 5 || u === 26 || u === 27 || u === 6) return o.stateNode; throw Error(n(33)) } function Ue(o) { var u = o[Se]; return u || (u = o[Se] = { hoistableStyles: new Map, hoistableScripts: new Map }), u } function Ke(o) { o[ke] = !0 } var Jt = new Set, Zt = {}; function sr(o, u) { Aa(o, u), Aa(o + "Capture", u) } function Aa(o, u) { for (Zt[o] = u, o = 0; o < u.length; o++)Jt.add(u[o]) } var Qo = RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"), Ys = {}, Ai = {}; function id(o) { return dn.call(Ai, o) ? !0 : dn.call(Ys, o) ? !1 : Qo.test(o) ? Ai[o] = !0 : (Ys[o] = !0, !1) } function ta(o, u, p) { if (id(u)) if (p === null) o.removeAttribute(u); else { switch (typeof p) { case "undefined": case "function": case "symbol": o.removeAttribute(u); return; case "boolean": var x = u.toLowerCase().slice(0, 5); if (x !== "data-" && x !== "aria-") { o.removeAttribute(u); return } }o.setAttribute(u, "" + p) } } function U0(o, u, p) { if (p === null) o.removeAttribute(u); else { switch (typeof p) { case "undefined": case "function": case "symbol": case "boolean": o.removeAttribute(u); return }o.setAttribute(u, "" + p) } } function es(o, u, p, x) { if (x === null) o.removeAttribute(p); else { switch (typeof x) { case "undefined": case "function": case "symbol": case "boolean": o.removeAttribute(p); return }o.setAttributeNS(u, p, "" + x) } } function Ca(o) { switch (typeof o) { case "bigint": case "boolean": case "number": case "string": case "undefined": return o; case "object": return o; default: return "" } } function wk(o) { var u = o.type; return (o = o.nodeName) && o.toLowerCase() === "input" && (u === "checkbox" || u === "radio") } function MU(o, u, p) { var x = Object.getOwnPropertyDescriptor(o.constructor.prototype, u); if (!o.hasOwnProperty(u) && typeof x < "u" && typeof x.get == "function" && typeof x.set == "function") { var E = x.get, N = x.set; return Object.defineProperty(o, u, { configurable: !0, get: function () { return E.call(this) }, set: function (L) { p = "" + L, N.call(this, L) } }), Object.defineProperty(o, u, { enumerable: x.enumerable }), { getValue: function () { return p }, setValue: function (L) { p = "" + L }, stopTracking: function () { o._valueTracker = null, delete o[u] } } } } function Tx(o) { if (!o._valueTracker) { var u = wk(o) ? "checked" : "value"; o._valueTracker = MU(o, u, "" + o[u]) } } function _k(o) { if (!o) return !1; var u = o._valueTracker; if (!u) return !0; var p = u.getValue(), x = ""; return o && (x = wk(o) ? o.checked ? "true" : "false" : o.value), o = x, o !== p ? (u.setValue(o), !0) : !1 } function B0(o) { if (o = o || (typeof document < "u" ? document : void 0), typeof o > "u") return null; try { return o.activeElement || o.body } catch { return o.body } } var LU = /[\n"\\]/g; function ja(o) { return o.replace(LU, function (u) { return "\\" + u.charCodeAt(0).toString(16) + " " }) } function Nx(o, u, p, x, E, N, L, K) { o.name = "", L != null && typeof L != "function" && typeof L != "symbol" && typeof L != "boolean" ? o.type = L : o.removeAttribute("type"), u != null ? L === "number" ? (u === 0 && o.value === "" || o.value != u) && (o.value = "" + Ca(u)) : o.value !== "" + Ca(u) && (o.value = "" + Ca(u)) : L !== "submit" && L !== "reset" || o.removeAttribute("value"), u != null ? Ax(o, L, Ca(u)) : p != null ? Ax(o, L, Ca(p)) : x != null && o.removeAttribute("value"), E == null && N != null && (o.defaultChecked = !!N), E != null && (o.checked = E && typeof E != "function" && typeof E != "symbol"), K != null && typeof K != "function" && typeof K != "symbol" && typeof K != "boolean" ? o.name = "" + Ca(K) : o.removeAttribute("name") } function Sk(o, u, p, x, E, N, L, K) { if (N != null && typeof N != "function" && typeof N != "symbol" && typeof N != "boolean" && (o.type = N), u != null || p != null) { if (!(N !== "submit" && N !== "reset" || u != null)) { Tx(o); return } p = p != null ? "" + Ca(p) : "", u = u != null ? "" + Ca(u) : p, K || u === o.value || (o.value = u), o.defaultValue = u } x = x ?? E, x = typeof x != "function" && typeof x != "symbol" && !!x, o.checked = K ? o.checked : !!x, o.defaultChecked = !!x, L != null && typeof L != "function" && typeof L != "symbol" && typeof L != "boolean" && (o.name = L), Tx(o) } function Ax(o, u, p) { u === "number" && B0(o.ownerDocument) === o || o.defaultValue === "" + p || (o.defaultValue = "" + p) } function gc(o, u, p, x) { if (o = o.options, u) { u = {}; for (var E = 0; E < p.length; E++)u["$" + p[E]] = !0; for (p = 0; p < o.length; p++)E = u.hasOwnProperty("$" + o[p].value), o[p].selected !== E && (o[p].selected = E), E && x && (o[p].defaultSelected = !0) } else { for (p = "" + Ca(p), u = null, E = 0; E < o.length; E++) { if (o[E].value === p) { o[E].selected = !0, x && (o[E].defaultSelected = !0); return } u !== null || o[E].disabled || (u = o[E]) } u !== null && (u.selected = !0) } } function Ek(o, u, p) { if (u != null && (u = "" + Ca(u), u !== o.value && (o.value = u), p == null)) { o.defaultValue !== u && (o.defaultValue = u); return } o.defaultValue = p != null ? "" + Ca(p) : "" } function kk(o, u, p, x) { if (u == null) { if (x != null) { if (p != null) throw Error(n(92)); if (de(x)) { if (1 < x.length) throw Error(n(93)); x = x[0] } p = x } p == null && (p = ""), u = p } p = Ca(u), o.defaultValue = p, x = o.textContent, x === p && x !== "" && x !== null && (o.value = x), Tx(o) } function xc(o, u) { if (u) { var p = o.firstChild; if (p && p === o.lastChild && p.nodeType === 3) { p.nodeValue = u; return } } o.textContent = u } var FU = new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")); function Tk(o, u, p) { var x = u.indexOf("--") === 0; p == null || typeof p == "boolean" || p === "" ? x ? o.setProperty(u, "") : u === "float" ? o.cssFloat = "" : o[u] = "" : x ? o.setProperty(u, p) : typeof p != "number" || p === 0 || FU.has(u) ? u === "float" ? o.cssFloat = p : o[u] = ("" + p).trim() : o[u] = p + "px" } function Nk(o, u, p) { if (u != null && typeof u != "object") throw Error(n(62)); if (o = o.style, p != null) { for (var x in p) !p.hasOwnProperty(x) || u != null && u.hasOwnProperty(x) || (x.indexOf("--") === 0 ? o.setProperty(x, "") : x === "float" ? o.cssFloat = "" : o[x] = ""); for (var E in u) x = u[E], u.hasOwnProperty(E) && p[E] !== x && Tk(o, E, x) } else for (var N in u) u.hasOwnProperty(N) && Tk(o, N, u[N]) } function Cx(o) { if (o.indexOf("-") === -1) return !1; switch (o) { case "annotation-xml": case "color-profile": case "font-face": case "font-face-src": case "font-face-uri": case "font-face-format": case "font-face-name": case "missing-glyph": return !1; default: return !0 } } var UU = new Map([["acceptCharset", "accept-charset"], ["htmlFor", "for"], ["httpEquiv", "http-equiv"], ["crossOrigin", "crossorigin"], ["accentHeight", "accent-height"], ["alignmentBaseline", "alignment-baseline"], ["arabicForm", "arabic-form"], ["baselineShift", "baseline-shift"], ["capHeight", "cap-height"], ["clipPath", "clip-path"], ["clipRule", "clip-rule"], ["colorInterpolation", "color-interpolation"], ["colorInterpolationFilters", "color-interpolation-filters"], ["colorProfile", "color-profile"], ["colorRendering", "color-rendering"], ["dominantBaseline", "dominant-baseline"], ["enableBackground", "enable-background"], ["fillOpacity", "fill-opacity"], ["fillRule", "fill-rule"], ["floodColor", "flood-color"], ["floodOpacity", "flood-opacity"], ["fontFamily", "font-family"], ["fontSize", "font-size"], ["fontSizeAdjust", "font-size-adjust"], ["fontStretch", "font-stretch"], ["fontStyle", "font-style"], ["fontVariant", "font-variant"], ["fontWeight", "font-weight"], ["glyphName", "glyph-name"], ["glyphOrientationHorizontal", "glyph-orientation-horizontal"], ["glyphOrientationVertical", "glyph-orientation-vertical"], ["horizAdvX", "horiz-adv-x"], ["horizOriginX", "horiz-origin-x"], ["imageRendering", "image-rendering"], ["letterSpacing", "letter-spacing"], ["lightingColor", "lighting-color"], ["markerEnd", "marker-end"], ["markerMid", "marker-mid"], ["markerStart", "marker-start"], ["overlinePosition", "overline-position"], ["overlineThickness", "overline-thickness"], ["paintOrder", "paint-order"], ["panose-1", "panose-1"], ["pointerEvents", "pointer-events"], ["renderingIntent", "rendering-intent"], ["shapeRendering", "shape-rendering"], ["stopColor", "stop-color"], ["stopOpacity", "stop-opacity"], ["strikethroughPosition", "strikethrough-position"], ["strikethroughThickness", "strikethrough-thickness"], ["strokeDasharray", "stroke-dasharray"], ["strokeDashoffset", "stroke-dashoffset"], ["strokeLinecap", "stroke-linecap"], ["strokeLinejoin", "stroke-linejoin"], ["strokeMiterlimit", "stroke-miterlimit"], ["strokeOpacity", "stroke-opacity"], ["strokeWidth", "stroke-width"], ["textAnchor", "text-anchor"], ["textDecoration", "text-decoration"], ["textRendering", "text-rendering"], ["transformOrigin", "transform-origin"], ["underlinePosition", "underline-position"], ["underlineThickness", "underline-thickness"], ["unicodeBidi", "unicode-bidi"], ["unicodeRange", "unicode-range"], ["unitsPerEm", "units-per-em"], ["vAlphabetic", "v-alphabetic"], ["vHanging", "v-hanging"], ["vIdeographic", "v-ideographic"], ["vMathematical", "v-mathematical"], ["vectorEffect", "vector-effect"], ["vertAdvY", "vert-adv-y"], ["vertOriginX", "vert-origin-x"], ["vertOriginY", "vert-origin-y"], ["wordSpacing", "word-spacing"], ["writingMode", "writing-mode"], ["xmlnsXlink", "xmlns:xlink"], ["xHeight", "x-height"]]), BU = /^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i; function $0(o) { return BU.test("" + o) ? "javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')" : o } function ts() { } var jx = null; function Ix(o) { return o = o.target || o.srcElement || window, o.correspondingUseElement && (o = o.correspondingUseElement), o.nodeType === 3 ? o.parentNode : o } var vc = null, yc = null; function Ak(o) { var u = Be(o); if (u && (o = u.stateNode)) { var p = o[ne] || null; e: switch (o = u.stateNode, u.type) { case "input": if (Nx(o, p.value, p.defaultValue, p.defaultValue, p.checked, p.defaultChecked, p.type, p.name), u = p.name, p.type === "radio" && u != null) { for (p = o; p.parentNode;)p = p.parentNode; for (p = p.querySelectorAll('input[name="' + ja("" + u) + '"][type="radio"]'), u = 0; u < p.length; u++) { var x = p[u]; if (x !== o && x.form === o.form) { var E = x[ne] || null; if (!E) throw Error(n(90)); Nx(x, E.value, E.defaultValue, E.defaultValue, E.checked, E.defaultChecked, E.type, E.name) } } for (u = 0; u < p.length; u++)x = p[u], x.form === o.form && _k(x) } break e; case "textarea": Ek(o, p.value, p.defaultValue); break e; case "select": u = p.value, u != null && gc(o, !!p.multiple, u, !1) } } } var Ox = !1; function Ck(o, u, p) { if (Ox) return o(u, p); Ox = !0; try { var x = o(u); return x } finally { if (Ox = !1, (vc !== null || yc !== null) && (Ah(), vc && (u = vc, o = yc, yc = vc = null, Ak(u), o))) for (u = 0; u < o.length; u++)Ak(o[u]) } } function sd(o, u) { var p = o.stateNode; if (p === null) return null; var x = p[ne] || null; if (x === null) return null; p = x[u]; e: switch (u) { case "onClick": case "onClickCapture": case "onDoubleClick": case "onDoubleClickCapture": case "onMouseDown": case "onMouseDownCapture": case "onMouseMove": case "onMouseMoveCapture": case "onMouseUp": case "onMouseUpCapture": case "onMouseEnter": (x = !x.disabled) || (o = o.type, x = !(o === "button" || o === "input" || o === "select" || o === "textarea")), o = !x; break e; default: o = !1 }if (o) return null; if (p && typeof p != "function") throw Error(n(231, u, typeof p)); return p } var rs = !(typeof window > "u" || typeof window.document > "u" || typeof window.document.createElement > "u"), Rx = !1; if (rs) try { var od = {}; Object.defineProperty(od, "passive", { get: function () { Rx = !0 } }), window.addEventListener("test", od, od), window.removeEventListener("test", od, od) } catch { Rx = !1 } var Xs = null, Px = null, z0 = null; function jk() { if (z0) return z0; var o, u = Px, p = u.length, x, E = "value" in Xs ? Xs.value : Xs.textContent, N = E.length; for (o = 0; o < p && u[o] === E[o]; o++); var L = p - o; for (x = 1; x <= L && u[p - x] === E[N - x]; x++); return z0 = E.slice(o, 1 < x ? 1 - x : void 0) } function H0(o) { var u = o.keyCode; return "charCode" in o ? (o = o.charCode, o === 0 && u === 13 && (o = 13)) : o = u, o === 10 && (o = 13), 32 <= o || o === 13 ? o : 0 } function G0() { return !0 } function Ik() { return !1 } function ra(o) { function u(p, x, E, N, L) { this._reactName = p, this._targetInst = E, this.type = x, this.nativeEvent = N, this.target = L, this.currentTarget = null; for (var K in o) o.hasOwnProperty(K) && (p = o[K], this[K] = p ? p(N) : N[K]); return this.isDefaultPrevented = (N.defaultPrevented != null ? N.defaultPrevented : N.returnValue === !1) ? G0 : Ik, this.isPropagationStopped = Ik, this } return m(u.prototype, { preventDefault: function () { this.defaultPrevented = !0; var p = this.nativeEvent; p && (p.preventDefault ? p.preventDefault() : typeof p.returnValue != "unknown" && (p.returnValue = !1), this.isDefaultPrevented = G0) }, stopPropagation: function () { var p = this.nativeEvent; p && (p.stopPropagation ? p.stopPropagation() : typeof p.cancelBubble != "unknown" && (p.cancelBubble = !0), this.isPropagationStopped = G0) }, persist: function () { }, isPersistent: G0 }), u } var el = { eventPhase: 0, bubbles: 0, cancelable: 0, timeStamp: function (o) { return o.timeStamp || Date.now() }, defaultPrevented: 0, isTrusted: 0 }, V0 = ra(el), ld = m({}, el, { view: 0, detail: 0 }), $U = ra(ld), Dx, Mx, cd, q0 = m({}, ld, { screenX: 0, screenY: 0, clientX: 0, clientY: 0, pageX: 0, pageY: 0, ctrlKey: 0, shiftKey: 0, altKey: 0, metaKey: 0, getModifierState: Fx, button: 0, buttons: 0, relatedTarget: function (o) { return o.relatedTarget === void 0 ? o.fromElement === o.srcElement ? o.toElement : o.fromElement : o.relatedTarget }, movementX: function (o) { return "movementX" in o ? o.movementX : (o !== cd && (cd && o.type === "mousemove" ? (Dx = o.screenX - cd.screenX, Mx = o.screenY - cd.screenY) : Mx = Dx = 0, cd = o), Dx) }, movementY: function (o) { return "movementY" in o ? o.movementY : Mx } }), Ok = ra(q0), zU = m({}, q0, { dataTransfer: 0 }), HU = ra(zU), GU = m({}, ld, { relatedTarget: 0 }), Lx = ra(GU), VU = m({}, el, { animationName: 0, elapsedTime: 0, pseudoElement: 0 }), qU = ra(VU), WU = m({}, el, { clipboardData: function (o) { return "clipboardData" in o ? o.clipboardData : window.clipboardData } }), KU = ra(WU), YU = m({}, el, { data: 0 }), Rk = ra(YU), XU = { Esc: "Escape", Spacebar: " ", Left: "ArrowLeft", Up: "ArrowUp", Right: "ArrowRight", Down: "ArrowDown", Del: "Delete", Win: "OS", Menu: "ContextMenu", Apps: "ContextMenu", Scroll: "ScrollLock", MozPrintableKey: "Unidentified" }, JU = { 8: "Backspace", 9: "Tab", 12: "Clear", 13: "Enter", 16: "Shift", 17: "Control", 18: "Alt", 19: "Pause", 20: "CapsLock", 27: "Escape", 32: " ", 33: "PageUp", 34: "PageDown", 35: "End", 36: "Home", 37: "ArrowLeft", 38: "ArrowUp", 39: "ArrowRight", 40: "ArrowDown", 45: "Insert", 46: "Delete", 112: "F1", 113: "F2", 114: "F3", 115: "F4", 116: "F5", 117: "F6", 118: "F7", 119: "F8", 120: "F9", 121: "F10", 122: "F11", 123: "F12", 144: "NumLock", 145: "ScrollLock", 224: "Meta" }, ZU = { Alt: "altKey", Control: "ctrlKey", Meta: "metaKey", Shift: "shiftKey" }; function QU(o) { var u = this.nativeEvent; return u.getModifierState ? u.getModifierState(o) : (o = ZU[o]) ? !!u[o] : !1 } function Fx() { return QU } var e9 = m({}, ld, { key: function (o) { if (o.key) { var u = XU[o.key] || o.key; if (u !== "Unidentified") return u } return o.type === "keypress" ? (o = H0(o), o === 13 ? "Enter" : String.fromCharCode(o)) : o.type === "keydown" || o.type === "keyup" ? JU[o.keyCode] || "Unidentified" : "" }, code: 0, location: 0, ctrlKey: 0, shiftKey: 0, altKey: 0, metaKey: 0, repeat: 0, locale: 0, getModifierState: Fx, charCode: function (o) { return o.type === "keypress" ? H0(o) : 0 }, keyCode: function (o) { return o.type === "keydown" || o.type === "keyup" ? o.keyCode : 0 }, which: function (o) { return o.type === "keypress" ? H0(o) : o.type === "keydown" || o.type === "keyup" ? o.keyCode : 0 } }), t9 = ra(e9), r9 = m({}, q0, { pointerId: 0, width: 0, height: 0, pressure: 0, tangentialPressure: 0, tiltX: 0, tiltY: 0, twist: 0, pointerType: 0, isPrimary: 0 }), Pk = ra(r9), n9 = m({}, ld, { touches: 0, targetTouches: 0, changedTouches: 0, altKey: 0, metaKey: 0, ctrlKey: 0, shiftKey: 0, getModifierState: Fx }), a9 = ra(n9), i9 = m({}, el, { propertyName: 0, elapsedTime: 0, pseudoElement: 0 }), s9 = ra(i9), o9 = m({}, q0, { deltaX: function (o) { return "deltaX" in o ? o.deltaX : "wheelDeltaX" in o ? -o.wheelDeltaX : 0 }, deltaY: function (o) { return "deltaY" in o ? o.deltaY : "wheelDeltaY" in o ? -o.wheelDeltaY : "wheelDelta" in o ? -o.wheelDelta : 0 }, deltaZ: 0, deltaMode: 0 }), l9 = ra(o9), c9 = m({}, el, { newState: 0, oldState: 0 }), u9 = ra(c9), d9 = [9, 13, 27, 32], Ux = rs && "CompositionEvent" in window, ud = null; rs && "documentMode" in document && (ud = document.documentMode); var f9 = rs && "TextEvent" in window && !ud, Dk = rs && (!Ux || ud && 8 < ud && 11 >= ud), Mk = " ", Lk = !1; function Fk(o, u) { switch (o) { case "keyup": return d9.indexOf(u.keyCode) !== -1; case "keydown": return u.keyCode !== 229; case "keypress": case "mousedown": case "focusout": return !0; default: return !1 } } function Uk(o) { return o = o.detail, typeof o == "object" && "data" in o ? o.data : null } var bc = !1; function h9(o, u) { switch (o) { case "compositionend": return Uk(u); case "keypress": return u.which !== 32 ? null : (Lk = !0, Mk); case "textInput": return o = u.data, o === Mk && Lk ? null : o; default: return null } } function p9(o, u) { if (bc) return o === "compositionend" || !Ux && Fk(o, u) ? (o = jk(), z0 = Px = Xs = null, bc = !1, o) : null; switch (o) { case "paste": return null; case "keypress": if (!(u.ctrlKey || u.altKey || u.metaKey) || u.ctrlKey && u.altKey) { if (u.char && 1 < u.char.length) return u.char; if (u.which) return String.fromCharCode(u.which) } return null; case "compositionend": return Dk && u.locale !== "ko" ? null : u.data; default: return null } } var m9 = { color: !0, date: !0, datetime: !0, "datetime-local": !0, email: !0, month: !0, number: !0, password: !0, range: !0, search: !0, tel: !0, text: !0, time: !0, url: !0, week: !0 }; function Bk(o) { var u = o && o.nodeName && o.nodeName.toLowerCase(); return u === "input" ? !!m9[o.type] : u === "textarea" } function $k(o, u, p, x) { vc ? yc ? yc.push(x) : yc = [x] : vc = x, u = Dh(u, "onChange"), 0 < u.length && (p = new V0("onChange", "change", null, p, x), o.push({ event: p, listeners: u })) } var dd = null, fd = null; function g9(o) { S2(o, 0) } function W0(o) { var u = Re(o); if (_k(u)) return o } function zk(o, u) { if (o === "change") return u } var Hk = !1; if (rs) { var Bx; if (rs) { var $x = "oninput" in document; if (!$x) { var Gk = document.createElement("div"); Gk.setAttribute("oninput", "return;"), $x = typeof Gk.oninput == "function" } Bx = $x } else Bx = !1; Hk = Bx && (!document.documentMode || 9 < document.documentMode) } function Vk() { dd && (dd.detachEvent("onpropertychange", qk), fd = dd = null) } function qk(o) { if (o.propertyName === "value" && W0(fd)) { var u = []; $k(u, fd, o, Ix(o)), Ck(g9, u) } } function x9(o, u, p) { o === "focusin" ? (Vk(), dd = u, fd = p, dd.attachEvent("onpropertychange", qk)) : o === "focusout" && Vk() } function v9(o) { if (o === "selectionchange" || o === "keyup" || o === "keydown") return W0(fd) } function y9(o, u) { if (o === "click") return W0(u) } function b9(o, u) { if (o === "input" || o === "change") return W0(u) } function w9(o, u) { return o === u && (o !== 0 || 1 / o === 1 / u) || o !== o && u !== u } var ha = typeof Object.is == "function" ? Object.is : w9; function hd(o, u) { if (ha(o, u)) return !0; if (typeof o != "object" || o === null || typeof u != "object" || u === null) return !1; var p = Object.keys(o), x = Object.keys(u); if (p.length !== x.length) return !1; for (x = 0; x < p.length; x++) { var E = p[x]; if (!dn.call(u, E) || !ha(o[E], u[E])) return !1 } return !0 } function Wk(o) { for (; o && o.firstChild;)o = o.firstChild; return o } function Kk(o, u) { var p = Wk(o); o = 0; for (var x; p;) { if (p.nodeType === 3) { if (x = o + p.textContent.length, o <= u && x >= u) return { node: p, offset: u - o }; o = x } e: { for (; p;) { if (p.nextSibling) { p = p.nextSibling; break e } p = p.parentNode } p = void 0 } p = Wk(p) } } function Yk(o, u) { return o && u ? o === u ? !0 : o && o.nodeType === 3 ? !1 : u && u.nodeType === 3 ? Yk(o, u.parentNode) : "contains" in o ? o.contains(u) : o.compareDocumentPosition ? !!(o.compareDocumentPosition(u) & 16) : !1 : !1 } function Xk(o) { o = o != null && o.ownerDocument != null && o.ownerDocument.defaultView != null ? o.ownerDocument.defaultView : window; for (var u = B0(o.document); u instanceof o.HTMLIFrameElement;) { try { var p = typeof u.contentWindow.location.href == "string" } catch { p = !1 } if (p) o = u.contentWindow; else break; u = B0(o.document) } return u } function zx(o) { var u = o && o.nodeName && o.nodeName.toLowerCase(); return u && (u === "input" && (o.type === "text" || o.type === "search" || o.type === "tel" || o.type === "url" || o.type === "password") || u === "textarea" || o.contentEditable === "true") } var _9 = rs && "documentMode" in document && 11 >= document.documentMode, wc = null, Hx = null, pd = null, Gx = !1; function Jk(o, u, p) { var x = p.window === p ? p.document : p.nodeType === 9 ? p : p.ownerDocument; Gx || wc == null || wc !== B0(x) || (x = wc, "selectionStart" in x && zx(x) ? x = { start: x.selectionStart, end: x.selectionEnd } : (x = (x.ownerDocument && x.ownerDocument.defaultView || window).getSelection(), x = { anchorNode: x.anchorNode, anchorOffset: x.anchorOffset, focusNode: x.focusNode, focusOffset: x.focusOffset }), pd && hd(pd, x) || (pd = x, x = Dh(Hx, "onSelect"), 0 < x.length && (u = new V0("onSelect", "select", null, u, p), o.push({ event: u, listeners: x }), u.target = wc))) } function tl(o, u) { var p = {}; return p[o.toLowerCase()] = u.toLowerCase(), p["Webkit" + o] = "webkit" + u, p["Moz" + o] = "moz" + u, p } var _c = { animationend: tl("Animation", "AnimationEnd"), animationiteration: tl("Animation", "AnimationIteration"), animationstart: tl("Animation", "AnimationStart"), transitionrun: tl("Transition", "TransitionRun"), transitionstart: tl("Transition", "TransitionStart"), transitioncancel: tl("Transition", "TransitionCancel"), transitionend: tl("Transition", "TransitionEnd") }, Vx = {}, Zk = {}; rs && (Zk = document.createElement("div").style, "AnimationEvent" in window || (delete _c.animationend.animation, delete _c.animationiteration.animation, delete _c.animationstart.animation), "TransitionEvent" in window || delete _c.transitionend.transition); function rl(o) { if (Vx[o]) return Vx[o]; if (!_c[o]) return o; var u = _c[o], p; for (p in u) if (u.hasOwnProperty(p) && p in Zk) return Vx[o] = u[p]; return o } var Qk = rl("animationend"), eT = rl("animationiteration"), tT = rl("animationstart"), S9 = rl("transitionrun"), E9 = rl("transitionstart"), k9 = rl("transitioncancel"), rT = rl("transitionend"), nT = new Map, qx = "abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" "); qx.push("scrollEnd"); function ri(o, u) { nT.set(o, u), sr(u, [o]) } var K0 = typeof reportError == "function" ? reportError : function (o) { if (typeof window == "object" && typeof window.ErrorEvent == "function") { var u = new window.ErrorEvent("error", { bubbles: !0, cancelable: !0, message: typeof o == "object" && o !== null && typeof o.message == "string" ? String(o.message) : String(o), error: o }); if (!window.dispatchEvent(u)) return } else if (typeof process == "object" && typeof process.emit == "function") { process.emit("uncaughtException", o); return } console.error(o) }, Ia = [], Sc = 0, Wx = 0; function Y0() { for (var o = Sc, u = Wx = Sc = 0; u < o;) { var p = Ia[u]; Ia[u++] = null; var x = Ia[u]; Ia[u++] = null; var E = Ia[u]; Ia[u++] = null; var N = Ia[u]; if (Ia[u++] = null, x !== null && E !== null) { var L = x.pending; L === null ? E.next = E : (E.next = L.next, L.next = E), x.pending = E } N !== 0 && aT(p, E, N) } } function X0(o, u, p, x) { Ia[Sc++] = o, Ia[Sc++] = u, Ia[Sc++] = p, Ia[Sc++] = x, Wx |= x, o.lanes |= x, o = o.alternate, o !== null && (o.lanes |= x) } function Kx(o, u, p, x) { return X0(o, u, p, x), J0(o) } function nl(o, u) { return X0(o, null, null, u), J0(o) } function aT(o, u, p) { o.lanes |= p; var x = o.alternate; x !== null && (x.lanes |= p); for (var E = !1, N = o.return; N !== null;)N.childLanes |= p, x = N.alternate, x !== null && (x.childLanes |= p), N.tag === 22 && (o = N.stateNode, o === null || o._visibility & 1 || (E = !0)), o = N, N = N.return; return o.tag === 3 ? (N = o.stateNode, E && u !== null && (E = 31 - ve(p), o = N.hiddenUpdates, x = o[E], x === null ? o[E] = [u] : x.push(u), u.lane = p | 536870912), N) : null } function J0(o) { if (50 < Md) throw Md = 0, ny = null, Error(n(185)); for (var u = o.return; u !== null;)o = u, u = o.return; return o.tag === 3 ? o.stateNode : null } var Ec = {}; function T9(o, u, p, x) { this.tag = o, this.key = p, this.sibling = this.child = this.return = this.stateNode = this.type = this.elementType = null, this.index = 0, this.refCleanup = this.ref = null, this.pendingProps = u, this.dependencies = this.memoizedState = this.updateQueue = this.memoizedProps = null, this.mode = x, this.subtreeFlags = this.flags = 0, this.deletions = null, this.childLanes = this.lanes = 0, this.alternate = null } function pa(o, u, p, x) { return new T9(o, u, p, x) } function Yx(o) { return o = o.prototype, !(!o || !o.isReactComponent) } function ns(o, u) { var p = o.alternate; return p === null ? (p = pa(o.tag, u, o.key, o.mode), p.elementType = o.elementType, p.type = o.type, p.stateNode = o.stateNode, p.alternate = o, o.alternate = p) : (p.pendingProps = u, p.type = o.type, p.flags = 0, p.subtreeFlags = 0, p.deletions = null), p.flags = o.flags & 65011712, p.childLanes = o.childLanes, p.lanes = o.lanes, p.child = o.child, p.memoizedProps = o.memoizedProps, p.memoizedState = o.memoizedState, p.updateQueue = o.updateQueue, u = o.dependencies, p.dependencies = u === null ? null : { lanes: u.lanes, firstContext: u.firstContext }, p.sibling = o.sibling, p.index = o.index, p.ref = o.ref, p.refCleanup = o.refCleanup, p } function iT(o, u) { o.flags &= 65011714; var p = o.alternate; return p === null ? (o.childLanes = 0, o.lanes = u, o.child = null, o.subtreeFlags = 0, o.memoizedProps = null, o.memoizedState = null, o.updateQueue = null, o.dependencies = null, o.stateNode = null) : (o.childLanes = p.childLanes, o.lanes = p.lanes, o.child = p.child, o.subtreeFlags = 0, o.deletions = null, o.memoizedProps = p.memoizedProps, o.memoizedState = p.memoizedState, o.updateQueue = p.updateQueue, o.type = p.type, u = p.dependencies, o.dependencies = u === null ? null : { lanes: u.lanes, firstContext: u.firstContext }), o } function Z0(o, u, p, x, E, N) { var L = 0; if (x = o, typeof o == "function") Yx(o) && (L = 1); else if (typeof o == "string") L = IB(o, p, J.current) ? 26 : o === "html" || o === "head" || o === "body" ? 27 : 5; else e: switch (o) { case F: return o = pa(31, p, u, E), o.elementType = F, o.lanes = N, o; case b: return al(p.children, E, N, u); case _: L = 8, E |= 24; break; case k: return o = pa(12, p, u, E | 2), o.elementType = k, o.lanes = N, o; case R: return o = pa(13, p, u, E), o.elementType = R, o.lanes = N, o; case O: return o = pa(19, p, u, E), o.elementType = O, o.lanes = N, o; default: if (typeof o == "object" && o !== null) switch (o.$$typeof) { case T: L = 10; break e; case C: L = 9; break e; case j: L = 11; break e; case I: L = 14; break e; case H: L = 16, x = null; break e }L = 29, p = Error(n(130, o === null ? "null" : typeof o, "")), x = null }return u = pa(L, p, u, E), u.elementType = o, u.type = x, u.lanes = N, u } function al(o, u, p, x) { return o = pa(7, o, x, u), o.lanes = p, o } function Xx(o, u, p) { return o = pa(6, o, null, u), o.lanes = p, o } function sT(o) { var u = pa(18, null, null, 0); return u.stateNode = o, u } function Jx(o, u, p) { return u = pa(4, o.children !== null ? o.children : [], o.key, u), u.lanes = p, u.stateNode = { containerInfo: o.containerInfo, pendingChildren: null, implementation: o.implementation }, u } var oT = new WeakMap; function Oa(o, u) { if (typeof o == "object" && o !== null) { var p = oT.get(o); return p !== void 0 ? p : (u = { value: o, source: u, stack: Ut(u) }, oT.set(o, u), u) } return { value: o, source: u, stack: Ut(u) } } var kc = [], Tc = 0, Q0 = null, md = 0, Ra = [], Pa = 0, Js = null, Ci = 1, ji = ""; function as(o, u) { kc[Tc++] = md, kc[Tc++] = Q0, Q0 = o, md = u } function lT(o, u, p) { Ra[Pa++] = Ci, Ra[Pa++] = ji, Ra[Pa++] = Js, Js = o; var x = Ci; o = ji; var E = 32 - ve(x) - 1; x &= ~(1 << E), p += 1; var N = 32 - ve(u) + E; if (30 < N) { var L = E - E % 5; N = (x & (1 << L) - 1).toString(32), x >>= L, E -= L, Ci = 1 << 32 - ve(u) + E | p << E | x, ji = N + o } else Ci = 1 << N | p << E | x, ji = o } function Zx(o) { o.return !== null && (as(o, 1), lT(o, 1, 0)) } function Qx(o) { for (; o === Q0;)Q0 = kc[--Tc], kc[Tc] = null, md = kc[--Tc], kc[Tc] = null; for (; o === Js;)Js = Ra[--Pa], Ra[Pa] = null, ji = Ra[--Pa], Ra[Pa] = null, Ci = Ra[--Pa], Ra[Pa] = null } function cT(o, u) { Ra[Pa++] = Ci, Ra[Pa++] = ji, Ra[Pa++] = Js, Ci = u.id, ji = u.overflow, Js = o } var pn = null, nr = null, _t = !1, Zs = null, Da = !1, ev = Error(n(519)); function Qs(o) { var u = Error(n(418, 1 < arguments.length && arguments[1] !== void 0 && arguments[1] ? "text" : "HTML", "")); throw gd(Oa(u, o)), ev } function uT(o) { var u = o.stateNode, p = o.type, x = o.memoizedProps; switch (u[Q] = o, u[ne] = x, p) { case "dialog": yt("cancel", u), yt("close", u); break; case "iframe": case "object": case "embed": yt("load", u); break; case "video": case "audio": for (p = 0; p < Fd.length; p++)yt(Fd[p], u); break; case "source": yt("error", u); break; case "img": case "image": case "link": yt("error", u), yt("load", u); break; case "details": yt("toggle", u); break; case "input": yt("invalid", u), Sk(u, x.value, x.defaultValue, x.checked, x.defaultChecked, x.type, x.name, !0); break; case "select": yt("invalid", u); break; case "textarea": yt("invalid", u), kk(u, x.value, x.defaultValue, x.children) }p = x.children, typeof p != "string" && typeof p != "number" && typeof p != "bigint" || u.textContent === "" + p || x.suppressHydrationWarning === !0 || N2(u.textContent, p) ? (x.popover != null && (yt("beforetoggle", u), yt("toggle", u)), x.onScroll != null && yt("scroll", u), x.onScrollEnd != null && yt("scrollend", u), x.onClick != null && (u.onclick = ts), u = !0) : u = !1, u || Qs(o, !0) } function dT(o) { for (pn = o.return; pn;)switch (pn.tag) { case 5: case 31: case 13: Da = !1; return; case 27: case 3: Da = !0; return; default: pn = pn.return } } function Nc(o) { if (o !== pn) return !1; if (!_t) return dT(o), _t = !0, !1; var u = o.tag, p; if ((p = u !== 3 && u !== 27) && ((p = u === 5) && (p = o.type, p = !(p !== "form" && p !== "button") || vy(o.type, o.memoizedProps)), p = !p), p && nr && Qs(o), dT(o), u === 13) { if (o = o.memoizedState, o = o !== null ? o.dehydrated : null, !o) throw Error(n(317)); nr = M2(o) } else if (u === 31) { if (o = o.memoizedState, o = o !== null ? o.dehydrated : null, !o) throw Error(n(317)); nr = M2(o) } else u === 27 ? (u = nr, po(o.type) ? (o = Sy, Sy = null, nr = o) : nr = u) : nr = pn ? La(o.stateNode.nextSibling) : null; return !0 } function il() { nr = pn = null, _t = !1 } function tv() { var o = Zs; return o !== null && (sa === null ? sa = o : sa.push.apply(sa, o), Zs = null), o } function gd(o) { Zs === null ? Zs = [o] : Zs.push(o) } var rv = G(null), sl = null, is = null; function eo(o, u, p) { W(rv, u._currentValue), u._currentValue = p } function ss(o) { o._currentValue = rv.current, P(rv) } function nv(o, u, p) { for (; o !== null;) { var x = o.alternate; if ((o.childLanes & u) !== u ? (o.childLanes |= u, x !== null && (x.childLanes |= u)) : x !== null && (x.childLanes & u) !== u && (x.childLanes |= u), o === p) break; o = o.return } } function av(o, u, p, x) { var E = o.child; for (E !== null && (E.return = o); E !== null;) { var N = E.dependencies; if (N !== null) { var L = E.child; N = N.firstContext; e: for (; N !== null;) { var K = N; N = E; for (var ue = 0; ue < u.length; ue++)if (K.context === u[ue]) { N.lanes |= p, K = N.alternate, K !== null && (K.lanes |= p), nv(N.return, p, o), x || (L = null); break e } N = K.next } } else if (E.tag === 18) { if (L = E.return, L === null) throw Error(n(341)); L.lanes |= p, N = L.alternate, N !== null && (N.lanes |= p), nv(L, p, o), L = null } else L = E.child; if (L !== null) L.return = E; else for (L = E; L !== null;) { if (L === o) { L = null; break } if (E = L.sibling, E !== null) { E.return = L.return, L = E; break } L = L.return } E = L } } function Ac(o, u, p, x) { o = null; for (var E = u, N = !1; E !== null;) { if (!N) { if ((E.flags & 524288) !== 0) N = !0; else if ((E.flags & 262144) !== 0) break } if (E.tag === 10) { var L = E.alternate; if (L === null) throw Error(n(387)); if (L = L.memoizedProps, L !== null) { var K = E.type; ha(E.pendingProps.value, L.value) || (o !== null ? o.push(K) : o = [K]) } } else if (E === fe.current) { if (L = E.alternate, L === null) throw Error(n(387)); L.memoizedState.memoizedState !== E.memoizedState.memoizedState && (o !== null ? o.push(Hd) : o = [Hd]) } E = E.return } o !== null && av(u, o, p, x), u.flags |= 262144 } function eh(o) { for (o = o.firstContext; o !== null;) { if (!ha(o.context._currentValue, o.memoizedValue)) return !0; o = o.next } return !1 } function ol(o) { sl = o, is = null, o = o.dependencies, o !== null && (o.firstContext = null) } function mn(o) { return fT(sl, o) } function th(o, u) { return sl === null && ol(o), fT(o, u) } function fT(o, u) { var p = u._currentValue; if (u = { context: u, memoizedValue: p, next: null }, is === null) { if (o === null) throw Error(n(308)); is = u, o.dependencies = { lanes: 0, firstContext: u }, o.flags |= 524288 } else is = is.next = u; return p } var N9 = typeof AbortController < "u" ? AbortController : function () { var o = [], u = this.signal = { aborted: !1, addEventListener: function (p, x) { o.push(x) } }; this.abort = function () { u.aborted = !0, o.forEach(function (p) { return p() }) } }, A9 = e.unstable_scheduleCallback, C9 = e.unstable_NormalPriority, Ir = { $$typeof: T, Consumer: null, Provider: null, _currentValue: null, _currentValue2: null, _threadCount: 0 }; function iv() { return { controller: new N9, data: new Map, refCount: 0 } } function xd(o) { o.refCount--, o.refCount === 0 && A9(C9, function () { o.controller.abort() }) } var vd = null, sv = 0, Cc = 0, jc = null; function j9(o, u) { if (vd === null) { var p = vd = []; sv = 0, Cc = cy(), jc = { status: "pending", value: void 0, then: function (x) { p.push(x) } } } return sv++, u.then(hT, hT), u } function hT() { if (--sv === 0 && vd !== null) { jc !== null && (jc.status = "fulfilled"); var o = vd; vd = null, Cc = 0, jc = null; for (var u = 0; u < o.length; u++)(0, o[u])() } } function I9(o, u) { var p = [], x = { status: "pending", value: null, reason: null, then: function (E) { p.push(E) } }; return o.then(function () { x.status = "fulfilled", x.value = u; for (var E = 0; E < p.length; E++)(0, p[E])(u) }, function (E) { for (x.status = "rejected", x.reason = E, E = 0; E < p.length; E++)(0, p[E])(void 0) }), x } var pT = D.S; D.S = function (o, u) { JN = Mt(), typeof u == "object" && u !== null && typeof u.then == "function" && j9(o, u), pT !== null && pT(o, u) }; var ll = G(null); function ov() { var o = ll.current; return o !== null ? o : Kt.pooledCache } function rh(o, u) { u === null ? W(ll, ll.current) : W(ll, u.pool) } function mT() { var o = ov(); return o === null ? null : { parent: Ir._currentValue, pool: o } } var Ic = Error(n(460)), lv = Error(n(474)), nh = Error(n(542)), ah = { then: function () { } }; function gT(o) { return o = o.status, o === "fulfilled" || o === "rejected" } function xT(o, u, p) { switch (p = o[p], p === void 0 ? o.push(u) : p !== u && (u.then(ts, ts), u = p), u.status) { case "fulfilled": return u.value; case "rejected": throw o = u.reason, yT(o), o; default: if (typeof u.status == "string") u.then(ts, ts); else { if (o = Kt, o !== null && 100 < o.shellSuspendCounter) throw Error(n(482)); o = u, o.status = "pending", o.then(function (x) { if (u.status === "pending") { var E = u; E.status = "fulfilled", E.value = x } }, function (x) { if (u.status === "pending") { var E = u; E.status = "rejected", E.reason = x } }) } switch (u.status) { case "fulfilled": return u.value; case "rejected": throw o = u.reason, yT(o), o }throw ul = u, Ic } } function cl(o) { try { var u = o._init; return u(o._payload) } catch (p) { throw p !== null && typeof p == "object" && typeof p.then == "function" ? (ul = p, Ic) : p } } var ul = null; function vT() { if (ul === null) throw Error(n(459)); var o = ul; return ul = null, o } function yT(o) { if (o === Ic || o === nh) throw Error(n(483)) } var Oc = null, yd = 0; function ih(o) { var u = yd; return yd += 1, Oc === null && (Oc = []), xT(Oc, o, u) } function bd(o, u) { u = u.props.ref, o.ref = u !== void 0 ? u : null } function sh(o, u) { throw u.$$typeof === g ? Error(n(525)) : (o = Object.prototype.toString.call(u), Error(n(31, o === "[object Object]" ? "object with keys {" + Object.keys(u).join(", ") + "}" : o))) } function bT(o) { function u(ge, he) { if (o) { var ye = ge.deletions; ye === null ? (ge.deletions = [he], ge.flags |= 16) : ye.push(he) } } function p(ge, he) { if (!o) return null; for (; he !== null;)u(ge, he), he = he.sibling; return null } function x(ge) { for (var he = new Map; ge !== null;)ge.key !== null ? he.set(ge.key, ge) : he.set(ge.index, ge), ge = ge.sibling; return he } function E(ge, he) { return ge = ns(ge, he), ge.index = 0, ge.sibling = null, ge } function N(ge, he, ye) { return ge.index = ye, o ? (ye = ge.alternate, ye !== null ? (ye = ye.index, ye < he ? (ge.flags |= 67108866, he) : ye) : (ge.flags |= 67108866, he)) : (ge.flags |= 1048576, he) } function L(ge) { return o && ge.alternate === null && (ge.flags |= 67108866), ge } function K(ge, he, ye, Ce) { return he === null || he.tag !== 6 ? (he = Xx(ye, ge.mode, Ce), he.return = ge, he) : (he = E(he, ye), he.return = ge, he) } function ue(ge, he, ye, Ce) { var Ze = ye.type; return Ze === b ? Ne(ge, he, ye.props.children, Ce, ye.key) : he !== null && (he.elementType === Ze || typeof Ze == "object" && Ze !== null && Ze.$$typeof === H && cl(Ze) === he.type) ? (he = E(he, ye.props), bd(he, ye), he.return = ge, he) : (he = Z0(ye.type, ye.key, ye.props, null, ge.mode, Ce), bd(he, ye), he.return = ge, he) } function be(ge, he, ye, Ce) { return he === null || he.tag !== 4 || he.stateNode.containerInfo !== ye.containerInfo || he.stateNode.implementation !== ye.implementation ? (he = Jx(ye, ge.mode, Ce), he.return = ge, he) : (he = E(he, ye.children || []), he.return = ge, he) } function Ne(ge, he, ye, Ce, Ze) { return he === null || he.tag !== 7 ? (he = al(ye, ge.mode, Ce, Ze), he.return = ge, he) : (he = E(he, ye), he.return = ge, he) } function je(ge, he, ye) { if (typeof he == "string" && he !== "" || typeof he == "number" || typeof he == "bigint") return he = Xx("" + he, ge.mode, ye), he.return = ge, he; if (typeof he == "object" && he !== null) { switch (he.$$typeof) { case v: return ye = Z0(he.type, he.key, he.props, null, ge.mode, ye), bd(ye, he), ye.return = ge, ye; case y: return he = Jx(he, ge.mode, ye), he.return = ge, he; case H: return he = cl(he), je(ge, he, ye) }if (de(he) || U(he)) return he = al(he, ge.mode, ye, null), he.return = ge, he; if (typeof he.then == "function") return je(ge, ih(he), ye); if (he.$$typeof === T) return je(ge, th(ge, he), ye); sh(ge, he) } return null } function Ee(ge, he, ye, Ce) { var Ze = he !== null ? he.key : null; if (typeof ye == "string" && ye !== "" || typeof ye == "number" || typeof ye == "bigint") return Ze !== null ? null : K(ge, he, "" + ye, Ce); if (typeof ye == "object" && ye !== null) { switch (ye.$$typeof) { case v: return ye.key === Ze ? ue(ge, he, ye, Ce) : null; case y: return ye.key === Ze ? be(ge, he, ye, Ce) : null; case H: return ye = cl(ye), Ee(ge, he, ye, Ce) }if (de(ye) || U(ye)) return Ze !== null ? null : Ne(ge, he, ye, Ce, null); if (typeof ye.then == "function") return Ee(ge, he, ih(ye), Ce); if (ye.$$typeof === T) return Ee(ge, he, th(ge, ye), Ce); sh(ge, ye) } return null } function Te(ge, he, ye, Ce, Ze) { if (typeof Ce == "string" && Ce !== "" || typeof Ce == "number" || typeof Ce == "bigint") return ge = ge.get(ye) || null, K(he, ge, "" + Ce, Ze); if (typeof Ce == "object" && Ce !== null) { switch (Ce.$$typeof) { case v: return ge = ge.get(Ce.key === null ? ye : Ce.key) || null, ue(he, ge, Ce, Ze); case y: return ge = ge.get(Ce.key === null ? ye : Ce.key) || null, be(he, ge, Ce, Ze); case H: return Ce = cl(Ce), Te(ge, he, ye, Ce, Ze) }if (de(Ce) || U(Ce)) return ge = ge.get(ye) || null, Ne(he, ge, Ce, Ze, null); if (typeof Ce.then == "function") return Te(ge, he, ye, ih(Ce), Ze); if (Ce.$$typeof === T) return Te(ge, he, ye, th(he, Ce), Ze); sh(he, Ce) } return null } function qe(ge, he, ye, Ce) { for (var Ze = null, jt = null, Ye = he, ht = he = 0, wt = null; Ye !== null && ht < ye.length; ht++) { Ye.index > ht ? (wt = Ye, Ye = null) : wt = Ye.sibling; var It = Ee(ge, Ye, ye[ht], Ce); if (It === null) { Ye === null && (Ye = wt); break } o && Ye && It.alternate === null && u(ge, Ye), he = N(It, he, ht), jt === null ? Ze = It : jt.sibling = It, jt = It, Ye = wt } if (ht === ye.length) return p(ge, Ye), _t && as(ge, ht), Ze; if (Ye === null) { for (; ht < ye.length; ht++)Ye = je(ge, ye[ht], Ce), Ye !== null && (he = N(Ye, he, ht), jt === null ? Ze = Ye : jt.sibling = Ye, jt = Ye); return _t && as(ge, ht), Ze } for (Ye = x(Ye); ht < ye.length; ht++)wt = Te(Ye, ge, ht, ye[ht], Ce), wt !== null && (o && wt.alternate !== null && Ye.delete(wt.key === null ? ht : wt.key), he = N(wt, he, ht), jt === null ? Ze = wt : jt.sibling = wt, jt = wt); return o && Ye.forEach(function (yo) { return u(ge, yo) }), _t && as(ge, ht), Ze } function et(ge, he, ye, Ce) { if (ye == null) throw Error(n(151)); for (var Ze = null, jt = null, Ye = he, ht = he = 0, wt = null, It = ye.next(); Ye !== null && !It.done; ht++, It = ye.next()) { Ye.index > ht ? (wt = Ye, Ye = null) : wt = Ye.sibling; var yo = Ee(ge, Ye, It.value, Ce); if (yo === null) { Ye === null && (Ye = wt); break } o && Ye && yo.alternate === null && u(ge, Ye), he = N(yo, he, ht), jt === null ? Ze = yo : jt.sibling = yo, jt = yo, Ye = wt } if (It.done) return p(ge, Ye), _t && as(ge, ht), Ze; if (Ye === null) { for (; !It.done; ht++, It = ye.next())It = je(ge, It.value, Ce), It !== null && (he = N(It, he, ht), jt === null ? Ze = It : jt.sibling = It, jt = It); return _t && as(ge, ht), Ze } for (Ye = x(Ye); !It.done; ht++, It = ye.next())It = Te(Ye, ge, ht, It.value, Ce), It !== null && (o && It.alternate !== null && Ye.delete(It.key === null ? ht : It.key), he = N(It, he, ht), jt === null ? Ze = It : jt.sibling = It, jt = It); return o && Ye.forEach(function (zB) { return u(ge, zB) }), _t && as(ge, ht), Ze } function qt(ge, he, ye, Ce) { if (typeof ye == "object" && ye !== null && ye.type === b && ye.key === null && (ye = ye.props.children), typeof ye == "object" && ye !== null) { switch (ye.$$typeof) { case v: e: { for (var Ze = ye.key; he !== null;) { if (he.key === Ze) { if (Ze = ye.type, Ze === b) { if (he.tag === 7) { p(ge, he.sibling), Ce = E(he, ye.props.children), Ce.return = ge, ge = Ce; break e } } else if (he.elementType === Ze || typeof Ze == "object" && Ze !== null && Ze.$$typeof === H && cl(Ze) === he.type) { p(ge, he.sibling), Ce = E(he, ye.props), bd(Ce, ye), Ce.return = ge, ge = Ce; break e } p(ge, he); break } else u(ge, he); he = he.sibling } ye.type === b ? (Ce = al(ye.props.children, ge.mode, Ce, ye.key), Ce.return = ge, ge = Ce) : (Ce = Z0(ye.type, ye.key, ye.props, null, ge.mode, Ce), bd(Ce, ye), Ce.return = ge, ge = Ce) } return L(ge); case y: e: { for (Ze = ye.key; he !== null;) { if (he.key === Ze) if (he.tag === 4 && he.stateNode.containerInfo === ye.containerInfo && he.stateNode.implementation === ye.implementation) { p(ge, he.sibling), Ce = E(he, ye.children || []), Ce.return = ge, ge = Ce; break e } else { p(ge, he); break } else u(ge, he); he = he.sibling } Ce = Jx(ye, ge.mode, Ce), Ce.return = ge, ge = Ce } return L(ge); case H: return ye = cl(ye), qt(ge, he, ye, Ce) }if (de(ye)) return qe(ge, he, ye, Ce); if (U(ye)) { if (Ze = U(ye), typeof Ze != "function") throw Error(n(150)); return ye = Ze.call(ye), et(ge, he, ye, Ce) } if (typeof ye.then == "function") return qt(ge, he, ih(ye), Ce); if (ye.$$typeof === T) return qt(ge, he, th(ge, ye), Ce); sh(ge, ye) } return typeof ye == "string" && ye !== "" || typeof ye == "number" || typeof ye == "bigint" ? (ye = "" + ye, he !== null && he.tag === 6 ? (p(ge, he.sibling), Ce = E(he, ye), Ce.return = ge, ge = Ce) : (p(ge, he), Ce = Xx(ye, ge.mode, Ce), Ce.return = ge, ge = Ce), L(ge)) : p(ge, he) } return function (ge, he, ye, Ce) { try { yd = 0; var Ze = qt(ge, he, ye, Ce); return Oc = null, Ze } catch (Ye) { if (Ye === Ic || Ye === nh) throw Ye; var jt = pa(29, Ye, null, ge.mode); return jt.lanes = Ce, jt.return = ge, jt } finally { } } } var dl = bT(!0), wT = bT(!1), to = !1; function cv(o) { o.updateQueue = { baseState: o.memoizedState, firstBaseUpdate: null, lastBaseUpdate: null, shared: { pending: null, lanes: 0, hiddenCallbacks: null }, callbacks: null } } function uv(o, u) { o = o.updateQueue, u.updateQueue === o && (u.updateQueue = { baseState: o.baseState, firstBaseUpdate: o.firstBaseUpdate, lastBaseUpdate: o.lastBaseUpdate, shared: o.shared, callbacks: null }) } function ro(o) { return { lane: o, tag: 0, payload: null, callback: null, next: null } } function no(o, u, p) { var x = o.updateQueue; if (x === null) return null; if (x = x.shared, (Dt & 2) !== 0) { var E = x.pending; return E === null ? u.next = u : (u.next = E.next, E.next = u), x.pending = u, u = J0(o), aT(o, null, p), u } return X0(o, x, u, p), J0(o) } function wd(o, u, p) { if (u = u.updateQueue, u !== null && (u = u.shared, (p & 4194048) !== 0)) { var x = u.lanes; x &= o.pendingLanes, p |= x, u.lanes = p, Qi(o, p) } } function dv(o, u) { var p = o.updateQueue, x = o.alternate; if (x !== null && (x = x.updateQueue, p === x)) { var E = null, N = null; if (p = p.firstBaseUpdate, p !== null) { do { var L = { lane: p.lane, tag: p.tag, payload: p.payload, callback: null, next: null }; N === null ? E = N = L : N = N.next = L, p = p.next } while (p !== null); N === null ? E = N = u : N = N.next = u } else E = N = u; p = { baseState: x.baseState, firstBaseUpdate: E, lastBaseUpdate: N, shared: x.shared, callbacks: x.callbacks }, o.updateQueue = p; return } o = p.lastBaseUpdate, o === null ? p.firstBaseUpdate = u : o.next = u, p.lastBaseUpdate = u } var fv = !1; function _d() { if (fv) { var o = jc; if (o !== null) throw o } } function Sd(o, u, p, x) { fv = !1; var E = o.updateQueue; to = !1; var N = E.firstBaseUpdate, L = E.lastBaseUpdate, K = E.shared.pending; if (K !== null) { E.shared.pending = null; var ue = K, be = ue.next; ue.next = null, L === null ? N = be : L.next = be, L = ue; var Ne = o.alternate; Ne !== null && (Ne = Ne.updateQueue, K = Ne.lastBaseUpdate, K !== L && (K === null ? Ne.firstBaseUpdate = be : K.next = be, Ne.lastBaseUpdate = ue)) } if (N !== null) { var je = E.baseState; L = 0, Ne = be = ue = null, K = N; do { var Ee = K.lane & -536870913, Te = Ee !== K.lane; if (Te ? (bt & Ee) === Ee : (x & Ee) === Ee) { Ee !== 0 && Ee === Cc && (fv = !0), Ne !== null && (Ne = Ne.next = { lane: 0, tag: K.tag, payload: K.payload, callback: null, next: null }); e: { var qe = o, et = K; Ee = u; var qt = p; switch (et.tag) { case 1: if (qe = et.payload, typeof qe == "function") { je = qe.call(qt, je, Ee); break e } je = qe; break e; case 3: qe.flags = qe.flags & -65537 | 128; case 0: if (qe = et.payload, Ee = typeof qe == "function" ? qe.call(qt, je, Ee) : qe, Ee == null) break e; je = m({}, je, Ee); break e; case 2: to = !0 } } Ee = K.callback, Ee !== null && (o.flags |= 64, Te && (o.flags |= 8192), Te = E.callbacks, Te === null ? E.callbacks = [Ee] : Te.push(Ee)) } else Te = { lane: Ee, tag: K.tag, payload: K.payload, callback: K.callback, next: null }, Ne === null ? (be = Ne = Te, ue = je) : Ne = Ne.next = Te, L |= Ee; if (K = K.next, K === null) { if (K = E.shared.pending, K === null) break; Te = K, K = Te.next, Te.next = null, E.lastBaseUpdate = Te, E.shared.pending = null } } while (!0); Ne === null && (ue = je), E.baseState = ue, E.firstBaseUpdate = be, E.lastBaseUpdate = Ne, N === null && (E.shared.lanes = 0), lo |= L, o.lanes = L, o.memoizedState = je } } function _T(o, u) { if (typeof o != "function") throw Error(n(191, o)); o.call(u) } function ST(o, u) { var p = o.callbacks; if (p !== null) for (o.callbacks = null, o = 0; o < p.length; o++)_T(p[o], u) } var Rc = G(null), oh = G(0); function ET(o, u) { o = ms, W(oh, o), W(Rc, u), ms = o | u.baseLanes } function hv() { W(oh, ms), W(Rc, Rc.current) } function pv() { ms = oh.current, P(Rc), P(oh) } var ma = G(null), Ma = null; function ao(o) { var u = o.alternate; W(Nr, Nr.current & 1), W(ma, o), Ma === null && (u === null || Rc.current !== null || u.memoizedState !== null) && (Ma = o) } function mv(o) { W(Nr, Nr.current), W(ma, o), Ma === null && (Ma = o) } function kT(o) { o.tag === 22 ? (W(Nr, Nr.current), W(ma, o), Ma === null && (Ma = o)) : io() } function io() { W(Nr, Nr.current), W(ma, ma.current) } function ga(o) { P(ma), Ma === o && (Ma = null), P(Nr) } var Nr = G(0); function lh(o) { for (var u = o; u !== null;) { if (u.tag === 13) { var p = u.memoizedState; if (p !== null && (p = p.dehydrated, p === null || wy(p) || _y(p))) return u } else if (u.tag === 19 && (u.memoizedProps.revealOrder === "forwards" || u.memoizedProps.revealOrder === "backwards" || u.memoizedProps.revealOrder === "unstable_legacy-backwards" || u.memoizedProps.revealOrder === "together")) { if ((u.flags & 128) !== 0) return u } else if (u.child !== null) { u.child.return = u, u = u.child; continue } if (u === o) break; for (; u.sibling === null;) { if (u.return === null || u.return === o) return null; u = u.return } u.sibling.return = u.return, u = u.sibling } return null } var os = 0, dt = null, Gt = null, Or = null, ch = !1, Pc = !1, fl = !1, uh = 0, Ed = 0, Dc = null, O9 = 0; function gr() { throw Error(n(321)) } function gv(o, u) { if (u === null) return !1; for (var p = 0; p < u.length && p < o.length; p++)if (!ha(o[p], u[p])) return !1; return !0 } function xv(o, u, p, x, E, N) { return os = N, dt = u, u.memoizedState = null, u.updateQueue = null, u.lanes = 0, D.H = o === null || o.memoizedState === null ? lN : Ov, fl = !1, N = p(x, E), fl = !1, Pc && (N = NT(u, p, x, E)), TT(o), N } function TT(o) { D.H = Nd; var u = Gt !== null && Gt.next !== null; if (os = 0, Or = Gt = dt = null, ch = !1, Ed = 0, Dc = null, u) throw Error(n(300)); o === null || Rr || (o = o.dependencies, o !== null && eh(o) && (Rr = !0)) } function NT(o, u, p, x) { dt = o; var E = 0; do { if (Pc && (Dc = null), Ed = 0, Pc = !1, 25 <= E) throw Error(n(301)); if (E += 1, Or = Gt = null, o.updateQueue != null) { var N = o.updateQueue; N.lastEffect = null, N.events = null, N.stores = null, N.memoCache != null && (N.memoCache.index = 0) } D.H = cN, N = u(p, x) } while (Pc); return N } function R9() { var o = D.H, u = o.useState()[0]; return u = typeof u.then == "function" ? kd(u) : u, o = o.useState()[0], (Gt !== null ? Gt.memoizedState : null) !== o && (dt.flags |= 1024), u } function vv() { var o = uh !== 0; return uh = 0, o } function yv(o, u, p) { u.updateQueue = o.updateQueue, u.flags &= -2053, o.lanes &= ~p } function bv(o) { if (ch) { for (o = o.memoizedState; o !== null;) { var u = o.queue; u !== null && (u.pending = null), o = o.next } ch = !1 } os = 0, Or = Gt = dt = null, Pc = !1, Ed = uh = 0, Dc = null } function zn() { var o = { memoizedState: null, baseState: null, baseQueue: null, queue: null, next: null }; return Or === null ? dt.memoizedState = Or = o : Or = Or.next = o, Or } function Ar() { if (Gt === null) { var o = dt.alternate; o = o !== null ? o.memoizedState : null } else o = Gt.next; var u = Or === null ? dt.memoizedState : Or.next; if (u !== null) Or = u, Gt = o; else { if (o === null) throw dt.alternate === null ? Error(n(467)) : Error(n(310)); Gt = o, o = { memoizedState: Gt.memoizedState, baseState: Gt.baseState, baseQueue: Gt.baseQueue, queue: Gt.queue, next: null }, Or === null ? dt.memoizedState = Or = o : Or = Or.next = o } return Or } function dh() { return { lastEffect: null, events: null, stores: null, memoCache: null } } function kd(o) { var u = Ed; return Ed += 1, Dc === null && (Dc = []), o = xT(Dc, o, u), u = dt, (Or === null ? u.memoizedState : Or.next) === null && (u = u.alternate, D.H = u === null || u.memoizedState === null ? lN : Ov), o } function fh(o) { if (o !== null && typeof o == "object") { if (typeof o.then == "function") return kd(o); if (o.$$typeof === T) return mn(o) } throw Error(n(438, String(o))) } function wv(o) { var u = null, p = dt.updateQueue; if (p !== null && (u = p.memoCache), u == null) { var x = dt.alternate; x !== null && (x = x.updateQueue, x !== null && (x = x.memoCache, x != null && (u = { data: x.data.map(function (E) { return E.slice() }), index: 0 }))) } if (u == null && (u = { data: [], index: 0 }), p === null && (p = dh(), dt.updateQueue = p), p.memoCache = u, p = u.data[u.index], p === void 0) for (p = u.data[u.index] = Array(o), x = 0; x < o; x++)p[x] = X; return u.index++, p } function ls(o, u) { return typeof u == "function" ? u(o) : u } function hh(o) { var u = Ar(); return _v(u, Gt, o) } function _v(o, u, p) { var x = o.queue; if (x === null) throw Error(n(311)); x.lastRenderedReducer = p; var E = o.baseQueue, N = x.pending; if (N !== null) { if (E !== null) { var L = E.next; E.next = N.next, N.next = L } u.baseQueue = E = N, x.pending = null } if (N = o.baseState, E === null) o.memoizedState = N; else { u = E.next; var K = L = null, ue = null, be = u, Ne = !1; do { var je = be.lane & -536870913; if (je !== be.lane ? (bt & je) === je : (os & je) === je) { var Ee = be.revertLane; if (Ee === 0) ue !== null && (ue = ue.next = { lane: 0, revertLane: 0, gesture: null, action: be.action, hasEagerState: be.hasEagerState, eagerState: be.eagerState, next: null }), je === Cc && (Ne = !0); else if ((os & Ee) === Ee) { be = be.next, Ee === Cc && (Ne = !0); continue } else je = { lane: 0, revertLane: be.revertLane, gesture: null, action: be.action, hasEagerState: be.hasEagerState, eagerState: be.eagerState, next: null }, ue === null ? (K = ue = je, L = N) : ue = ue.next = je, dt.lanes |= Ee, lo |= Ee; je = be.action, fl && p(N, je), N = be.hasEagerState ? be.eagerState : p(N, je) } else Ee = { lane: je, revertLane: be.revertLane, gesture: be.gesture, action: be.action, hasEagerState: be.hasEagerState, eagerState: be.eagerState, next: null }, ue === null ? (K = ue = Ee, L = N) : ue = ue.next = Ee, dt.lanes |= je, lo |= je; be = be.next } while (be !== null && be !== u); if (ue === null ? L = N : ue.next = K, !ha(N, o.memoizedState) && (Rr = !0, Ne && (p = jc, p !== null))) throw p; o.memoizedState = N, o.baseState = L, o.baseQueue = ue, x.lastRenderedState = N } return E === null && (x.lanes = 0), [o.memoizedState, x.dispatch] } function Sv(o) { var u = Ar(), p = u.queue; if (p === null) throw Error(n(311)); p.lastRenderedReducer = o; var x = p.dispatch, E = p.pending, N = u.memoizedState; if (E !== null) { p.pending = null; var L = E = E.next; do N = o(N, L.action), L = L.next; while (L !== E); ha(N, u.memoizedState) || (Rr = !0), u.memoizedState = N, u.baseQueue === null && (u.baseState = N), p.lastRenderedState = N } return [N, x] } function AT(o, u, p) { var x = dt, E = Ar(), N = _t; if (N) { if (p === void 0) throw Error(n(407)); p = p() } else p = u(); var L = !ha((Gt || E).memoizedState, p); if (L && (E.memoizedState = p, Rr = !0), E = E.queue, Tv(IT.bind(null, x, E, o), [o]), E.getSnapshot !== u || L || Or !== null && Or.memoizedState.tag & 1) { if (x.flags |= 2048, Mc(9, { destroy: void 0 }, jT.bind(null, x, E, p, u), null), Kt === null) throw Error(n(349)); N || (os & 127) !== 0 || CT(x, u, p) } return p } function CT(o, u, p) { o.flags |= 16384, o = { getSnapshot: u, value: p }, u = dt.updateQueue, u === null ? (u = dh(), dt.updateQueue = u, u.stores = [o]) : (p = u.stores, p === null ? u.stores = [o] : p.push(o)) } function jT(o, u, p, x) { u.value = p, u.getSnapshot = x, OT(u) && RT(o) } function IT(o, u, p) { return p(function () { OT(u) && RT(o) }) } function OT(o) { var u = o.getSnapshot; o = o.value; try { var p = u(); return !ha(o, p) } catch { return !0 } } function RT(o) { var u = nl(o, 2); u !== null && oa(u, o, 2) } function Ev(o) { var u = zn(); if (typeof o == "function") { var p = o; if (o = p(), fl) { me(!0); try { p() } finally { me(!1) } } } return u.memoizedState = u.baseState = o, u.queue = { pending: null, lanes: 0, dispatch: null, lastRenderedReducer: ls, lastRenderedState: o }, u } function PT(o, u, p, x) { return o.baseState = p, _v(o, Gt, typeof x == "function" ? x : ls) } function P9(o, u, p, x, E) { if (gh(o)) throw Error(n(485)); if (o = u.action, o !== null) { var N = { payload: E, action: o, next: null, isTransition: !0, status: "pending", value: null, reason: null, listeners: [], then: function (L) { N.listeners.push(L) } }; D.T !== null ? p(!0) : N.isTransition = !1, x(N), p = u.pending, p === null ? (N.next = u.pending = N, DT(u, N)) : (N.next = p.next, u.pending = p.next = N) } } function DT(o, u) { var p = u.action, x = u.payload, E = o.state; if (u.isTransition) { var N = D.T, L = {}; D.T = L; try { var K = p(E, x), ue = D.S; ue !== null && ue(L, K), MT(o, u, K) } catch (be) { kv(o, u, be) } finally { N !== null && L.types !== null && (N.types = L.types), D.T = N } } else try { N = p(E, x), MT(o, u, N) } catch (be) { kv(o, u, be) } } function MT(o, u, p) { p !== null && typeof p == "object" && typeof p.then == "function" ? p.then(function (x) { LT(o, u, x) }, function (x) { return kv(o, u, x) }) : LT(o, u, p) } function LT(o, u, p) { u.status = "fulfilled", u.value = p, FT(u), o.state = p, u = o.pending, u !== null && (p = u.next, p === u ? o.pending = null : (p = p.next, u.next = p, DT(o, p))) } function kv(o, u, p) { var x = o.pending; if (o.pending = null, x !== null) { x = x.next; do u.status = "rejected", u.reason = p, FT(u), u = u.next; while (u !== x) } o.action = null } function FT(o) { o = o.listeners; for (var u = 0; u < o.length; u++)(0, o[u])() } function UT(o, u) { return u } function BT(o, u) { if (_t) { var p = Kt.formState; if (p !== null) { e: { var x = dt; if (_t) { if (nr) { t: { for (var E = nr, N = Da; E.nodeType !== 8;) { if (!N) { E = null; break t } if (E = La(E.nextSibling), E === null) { E = null; break t } } N = E.data, E = N === "F!" || N === "F" ? E : null } if (E) { nr = La(E.nextSibling), x = E.data === "F!"; break e } } Qs(x) } x = !1 } x && (u = p[0]) } } return p = zn(), p.memoizedState = p.baseState = u, x = { pending: null, lanes: 0, dispatch: null, lastRenderedReducer: UT, lastRenderedState: u }, p.queue = x, p = iN.bind(null, dt, x), x.dispatch = p, x = Ev(!1), N = Iv.bind(null, dt, !1, x.queue), x = zn(), E = { state: u, dispatch: null, action: o, pending: null }, x.queue = E, p = P9.bind(null, dt, E, N, p), E.dispatch = p, x.memoizedState = o, [u, p, !1] } function $T(o) { var u = Ar(); return zT(u, Gt, o) } function zT(o, u, p) { if (u = _v(o, u, UT)[0], o = hh(ls)[0], typeof u == "object" && u !== null && typeof u.then == "function") try { var x = kd(u) } catch (L) { throw L === Ic ? nh : L } else x = u; u = Ar(); var E = u.queue, N = E.dispatch; return p !== u.memoizedState && (dt.flags |= 2048, Mc(9, { destroy: void 0 }, D9.bind(null, E, p), null)), [x, N, o] } function D9(o, u) { o.action = u } function HT(o) { var u = Ar(), p = Gt; if (p !== null) return zT(u, p, o); Ar(), u = u.memoizedState, p = Ar(); var x = p.queue.dispatch; return p.memoizedState = o, [u, x, !1] } function Mc(o, u, p, x) { return o = { tag: o, create: p, deps: x, inst: u, next: null }, u = dt.updateQueue, u === null && (u = dh(), dt.updateQueue = u), p = u.lastEffect, p === null ? u.lastEffect = o.next = o : (x = p.next, p.next = o, o.next = x, u.lastEffect = o), o } function GT() { return Ar().memoizedState } function ph(o, u, p, x) { var E = zn(); dt.flags |= o, E.memoizedState = Mc(1 | u, { destroy: void 0 }, p, x === void 0 ? null : x) } function mh(o, u, p, x) { var E = Ar(); x = x === void 0 ? null : x; var N = E.memoizedState.inst; Gt !== null && x !== null && gv(x, Gt.memoizedState.deps) ? E.memoizedState = Mc(u, N, p, x) : (dt.flags |= o, E.memoizedState = Mc(1 | u, N, p, x)) } function VT(o, u) { ph(8390656, 8, o, u) } function Tv(o, u) { mh(2048, 8, o, u) } function M9(o) { dt.flags |= 4; var u = dt.updateQueue; if (u === null) u = dh(), dt.updateQueue = u, u.events = [o]; else { var p = u.events; p === null ? u.events = [o] : p.push(o) } } function qT(o) { var u = Ar().memoizedState; return M9({ ref: u, nextImpl: o }), function () { if ((Dt & 2) !== 0) throw Error(n(440)); return u.impl.apply(void 0, arguments) } } function WT(o, u) { return mh(4, 2, o, u) } function KT(o, u) { return mh(4, 4, o, u) } function YT(o, u) { if (typeof u == "function") { o = o(); var p = u(o); return function () { typeof p == "function" ? p() : u(null) } } if (u != null) return o = o(), u.current = o, function () { u.current = null } } function XT(o, u, p) { p = p != null ? p.concat([o]) : null, mh(4, 4, YT.bind(null, u, o), p) } function Nv() { } function JT(o, u) { var p = Ar(); u = u === void 0 ? null : u; var x = p.memoizedState; return u !== null && gv(u, x[1]) ? x[0] : (p.memoizedState = [o, u], o) } function ZT(o, u) { var p = Ar(); u = u === void 0 ? null : u; var x = p.memoizedState; if (u !== null && gv(u, x[1])) return x[0]; if (x = o(), fl) { me(!0); try { o() } finally { me(!1) } } return p.memoizedState = [x, u], x } function Av(o, u, p) { return p === void 0 || (os & 1073741824) !== 0 && (bt & 261930) === 0 ? o.memoizedState = u : (o.memoizedState = p, o = QN(), dt.lanes |= o, lo |= o, p) } function QT(o, u, p, x) { return ha(p, u) ? p : Rc.current !== null ? (o = Av(o, p, x), ha(o, u) || (Rr = !0), o) : (os & 42) === 0 || (os & 1073741824) !== 0 && (bt & 261930) === 0 ? (Rr = !0, o.memoizedState = p) : (o = QN(), dt.lanes |= o, lo |= o, u) } function eN(o, u, p, x, E) { var N = z.p; z.p = N !== 0 && 8 > N ? N : 8; var L = D.T, K = {}; D.T = K, Iv(o, !1, u, p); try { var ue = E(), be = D.S; if (be !== null && be(K, ue), ue !== null && typeof ue == "object" && typeof ue.then == "function") { var Ne = I9(ue, x); Td(o, u, Ne, ya(o)) } else Td(o, u, x, ya(o)) } catch (je) { Td(o, u, { then: function () { }, status: "rejected", reason: je }, ya()) } finally { z.p = N, L !== null && K.types !== null && (L.types = K.types), D.T = L } } function L9() { } function Cv(o, u, p, x) { if (o.tag !== 5) throw Error(n(476)); var E = tN(o).queue; eN(o, E, u, ie, p === null ? L9 : function () { return rN(o), p(x) }) } function tN(o) { var u = o.memoizedState; if (u !== null) return u; u = { memoizedState: ie, baseState: ie, baseQueue: null, queue: { pending: null, lanes: 0, dispatch: null, lastRenderedReducer: ls, lastRenderedState: ie }, next: null }; var p = {}; return u.next = { memoizedState: p, baseState: p, baseQueue: null, queue: { pending: null, lanes: 0, dispatch: null, lastRenderedReducer: ls, lastRenderedState: p }, next: null }, o.memoizedState = u, o = o.alternate, o !== null && (o.memoizedState = u), u } function rN(o) { var u = tN(o); u.next === null && (u = o.alternate.memoizedState), Td(o, u.next.queue, {}, ya()) } function jv() { return mn(Hd) } function nN() { return Ar().memoizedState } function aN() { return Ar().memoizedState } function F9(o) { for (var u = o.return; u !== null;) { switch (u.tag) { case 24: case 3: var p = ya(); o = ro(p); var x = no(u, o, p); x !== null && (oa(x, u, p), wd(x, u, p)), u = { cache: iv() }, o.payload = u; return }u = u.return } } function U9(o, u, p) { var x = ya(); p = { lane: x, revertLane: 0, gesture: null, action: p, hasEagerState: !1, eagerState: null, next: null }, gh(o) ? sN(u, p) : (p = Kx(o, u, p, x), p !== null && (oa(p, o, x), oN(p, u, x))) } function iN(o, u, p) { var x = ya(); Td(o, u, p, x) } function Td(o, u, p, x) { var E = { lane: x, revertLane: 0, gesture: null, action: p, hasEagerState: !1, eagerState: null, next: null }; if (gh(o)) sN(u, E); else { var N = o.alternate; if (o.lanes === 0 && (N === null || N.lanes === 0) && (N = u.lastRenderedReducer, N !== null)) try { var L = u.lastRenderedState, K = N(L, p); if (E.hasEagerState = !0, E.eagerState = K, ha(K, L)) return X0(o, u, E, 0), Kt === null && Y0(), !1 } catch { } finally { } if (p = Kx(o, u, E, x), p !== null) return oa(p, o, x), oN(p, u, x), !0 } return !1 } function Iv(o, u, p, x) { if (x = { lane: 2, revertLane: cy(), gesture: null, action: x, hasEagerState: !1, eagerState: null, next: null }, gh(o)) { if (u) throw Error(n(479)) } else u = Kx(o, p, x, 2), u !== null && oa(u, o, 2) } function gh(o) { var u = o.alternate; return o === dt || u !== null && u === dt } function sN(o, u) { Pc = ch = !0; var p = o.pending; p === null ? u.next = u : (u.next = p.next, p.next = u), o.pending = u } function oN(o, u, p) { if ((p & 4194048) !== 0) { var x = u.lanes; x &= o.pendingLanes, p |= x, u.lanes = p, Qi(o, p) } } var Nd = { readContext: mn, use: fh, useCallback: gr, useContext: gr, useEffect: gr, useImperativeHandle: gr, useLayoutEffect: gr, useInsertionEffect: gr, useMemo: gr, useReducer: gr, useRef: gr, useState: gr, useDebugValue: gr, useDeferredValue: gr, useTransition: gr, useSyncExternalStore: gr, useId: gr, useHostTransitionStatus: gr, useFormState: gr, useActionState: gr, useOptimistic: gr, useMemoCache: gr, useCacheRefresh: gr }; Nd.useEffectEvent = gr; var lN = { readContext: mn, use: fh, useCallback: function (o, u) { return zn().memoizedState = [o, u === void 0 ? null : u], o }, useContext: mn, useEffect: VT, useImperativeHandle: function (o, u, p) { p = p != null ? p.concat([o]) : null, ph(4194308, 4, YT.bind(null, u, o), p) }, useLayoutEffect: function (o, u) { return ph(4194308, 4, o, u) }, useInsertionEffect: function (o, u) { ph(4, 2, o, u) }, useMemo: function (o, u) { var p = zn(); u = u === void 0 ? null : u; var x = o(); if (fl) { me(!0); try { o() } finally { me(!1) } } return p.memoizedState = [x, u], x }, useReducer: function (o, u, p) { var x = zn(); if (p !== void 0) { var E = p(u); if (fl) { me(!0); try { p(u) } finally { me(!1) } } } else E = u; return x.memoizedState = x.baseState = E, o = { pending: null, lanes: 0, dispatch: null, lastRenderedReducer: o, lastRenderedState: E }, x.queue = o, o = o.dispatch = U9.bind(null, dt, o), [x.memoizedState, o] }, useRef: function (o) { var u = zn(); return o = { current: o }, u.memoizedState = o }, useState: function (o) { o = Ev(o); var u = o.queue, p = iN.bind(null, dt, u); return u.dispatch = p, [o.memoizedState, p] }, useDebugValue: Nv, useDeferredValue: function (o, u) { var p = zn(); return Av(p, o, u) }, useTransition: function () { var o = Ev(!1); return o = eN.bind(null, dt, o.queue, !0, !1), zn().memoizedState = o, [!1, o] }, useSyncExternalStore: function (o, u, p) { var x = dt, E = zn(); if (_t) { if (p === void 0) throw Error(n(407)); p = p() } else { if (p = u(), Kt === null) throw Error(n(349)); (bt & 127) !== 0 || CT(x, u, p) } E.memoizedState = p; var N = { value: p, getSnapshot: u }; return E.queue = N, VT(IT.bind(null, x, N, o), [o]), x.flags |= 2048, Mc(9, { destroy: void 0 }, jT.bind(null, x, N, p, u), null), p }, useId: function () { var o = zn(), u = Kt.identifierPrefix; if (_t) { var p = ji, x = Ci; p = (x & ~(1 << 32 - ve(x) - 1)).toString(32) + p, u = "_" + u + "R_" + p, p = uh++, 0 < p && (u += "H" + p.toString(32)), u += "_" } else p = O9++, u = "_" + u + "r_" + p.toString(32) + "_"; return o.memoizedState = u }, useHostTransitionStatus: jv, useFormState: BT, useActionState: BT, useOptimistic: function (o) { var u = zn(); u.memoizedState = u.baseState = o; var p = { pending: null, lanes: 0, dispatch: null, lastRenderedReducer: null, lastRenderedState: null }; return u.queue = p, u = Iv.bind(null, dt, !0, p), p.dispatch = u, [o, u] }, useMemoCache: wv, useCacheRefresh: function () { return zn().memoizedState = F9.bind(null, dt) }, useEffectEvent: function (o) { var u = zn(), p = { impl: o }; return u.memoizedState = p, function () { if ((Dt & 2) !== 0) throw Error(n(440)); return p.impl.apply(void 0, arguments) } } }, Ov = { readContext: mn, use: fh, useCallback: JT, useContext: mn, useEffect: Tv, useImperativeHandle: XT, useInsertionEffect: WT, useLayoutEffect: KT, useMemo: ZT, useReducer: hh, useRef: GT, useState: function () { return hh(ls) }, useDebugValue: Nv, useDeferredValue: function (o, u) { var p = Ar(); return QT(p, Gt.memoizedState, o, u) }, useTransition: function () { var o = hh(ls)[0], u = Ar().memoizedState; return [typeof o == "boolean" ? o : kd(o), u] }, useSyncExternalStore: AT, useId: nN, useHostTransitionStatus: jv, useFormState: $T, useActionState: $T, useOptimistic: function (o, u) { var p = Ar(); return PT(p, Gt, o, u) }, useMemoCache: wv, useCacheRefresh: aN }; Ov.useEffectEvent = qT; var cN = { readContext: mn, use: fh, useCallback: JT, useContext: mn, useEffect: Tv, useImperativeHandle: XT, useInsertionEffect: WT, useLayoutEffect: KT, useMemo: ZT, useReducer: Sv, useRef: GT, useState: function () { return Sv(ls) }, useDebugValue: Nv, useDeferredValue: function (o, u) { var p = Ar(); return Gt === null ? Av(p, o, u) : QT(p, Gt.memoizedState, o, u) }, useTransition: function () { var o = Sv(ls)[0], u = Ar().memoizedState; return [typeof o == "boolean" ? o : kd(o), u] }, useSyncExternalStore: AT, useId: nN, useHostTransitionStatus: jv, useFormState: HT, useActionState: HT, useOptimistic: function (o, u) { var p = Ar(); return Gt !== null ? PT(p, Gt, o, u) : (p.baseState = o, [o, p.queue.dispatch]) }, useMemoCache: wv, useCacheRefresh: aN }; cN.useEffectEvent = qT; function Rv(o, u, p, x) { u = o.memoizedState, p = p(x, u), p = p == null ? u : m({}, u, p), o.memoizedState = p, o.lanes === 0 && (o.updateQueue.baseState = p) } var Pv = { enqueueSetState: function (o, u, p) { o = o._reactInternals; var x = ya(), E = ro(x); E.payload = u, p != null && (E.callback = p), u = no(o, E, x), u !== null && (oa(u, o, x), wd(u, o, x)) }, enqueueReplaceState: function (o, u, p) { o = o._reactInternals; var x = ya(), E = ro(x); E.tag = 1, E.payload = u, p != null && (E.callback = p), u = no(o, E, x), u !== null && (oa(u, o, x), wd(u, o, x)) }, enqueueForceUpdate: function (o, u) { o = o._reactInternals; var p = ya(), x = ro(p); x.tag = 2, u != null && (x.callback = u), u = no(o, x, p), u !== null && (oa(u, o, p), wd(u, o, p)) } }; function uN(o, u, p, x, E, N, L) { return o = o.stateNode, typeof o.shouldComponentUpdate == "function" ? o.shouldComponentUpdate(x, N, L) : u.prototype && u.prototype.isPureReactComponent ? !hd(p, x) || !hd(E, N) : !0 } function dN(o, u, p, x) { o = u.state, typeof u.componentWillReceiveProps == "function" && u.componentWillReceiveProps(p, x), typeof u.UNSAFE_componentWillReceiveProps == "function" && u.UNSAFE_componentWillReceiveProps(p, x), u.state !== o && Pv.enqueueReplaceState(u, u.state, null) } function hl(o, u) { var p = u; if ("ref" in u) { p = {}; for (var x in u) x !== "ref" && (p[x] = u[x]) } if (o = o.defaultProps) { p === u && (p = m({}, p)); for (var E in o) p[E] === void 0 && (p[E] = o[E]) } return p } function fN(o) { K0(o) } function hN(o) { console.error(o) } function pN(o) { K0(o) } function xh(o, u) { try { var p = o.onUncaughtError; p(u.value, { componentStack: u.stack }) } catch (x) { setTimeout(function () { throw x }) } } function mN(o, u, p) { try { var x = o.onCaughtError; x(p.value, { componentStack: p.stack, errorBoundary: u.tag === 1 ? u.stateNode : null }) } catch (E) { setTimeout(function () { throw E }) } } function Dv(o, u, p) { return p = ro(p), p.tag = 3, p.payload = { element: null }, p.callback = function () { xh(o, u) }, p } function gN(o) { return o = ro(o), o.tag = 3, o } function xN(o, u, p, x) { var E = p.type.getDerivedStateFromError; if (typeof E == "function") { var N = x.value; o.payload = function () { return E(N) }, o.callback = function () { mN(u, p, x) } } var L = p.stateNode; L !== null && typeof L.componentDidCatch == "function" && (o.callback = function () { mN(u, p, x), typeof E != "function" && (co === null ? co = new Set([this]) : co.add(this)); var K = x.stack; this.componentDidCatch(x.value, { componentStack: K !== null ? K : "" }) }) } function B9(o, u, p, x, E) { if (p.flags |= 32768, x !== null && typeof x == "object" && typeof x.then == "function") { if (u = p.alternate, u !== null && Ac(u, p, E, !0), p = ma.current, p !== null) { switch (p.tag) { case 31: case 13: return Ma === null ? Ch() : p.alternate === null && xr === 0 && (xr = 3), p.flags &= -257, p.flags |= 65536, p.lanes = E, x === ah ? p.flags |= 16384 : (u = p.updateQueue, u === null ? p.updateQueue = new Set([x]) : u.add(x), sy(o, x, E)), !1; case 22: return p.flags |= 65536, x === ah ? p.flags |= 16384 : (u = p.updateQueue, u === null ? (u = { transitions: null, markerInstances: null, retryQueue: new Set([x]) }, p.updateQueue = u) : (p = u.retryQueue, p === null ? u.retryQueue = new Set([x]) : p.add(x)), sy(o, x, E)), !1 }throw Error(n(435, p.tag)) } return sy(o, x, E), Ch(), !1 } if (_t) return u = ma.current, u !== null ? ((u.flags & 65536) === 0 && (u.flags |= 256), u.flags |= 65536, u.lanes = E, x !== ev && (o = Error(n(422), { cause: x }), gd(Oa(o, p)))) : (x !== ev && (u = Error(n(423), { cause: x }), gd(Oa(u, p))), o = o.current.alternate, o.flags |= 65536, E &= -E, o.lanes |= E, x = Oa(x, p), E = Dv(o.stateNode, x, E), dv(o, E), xr !== 4 && (xr = 2)), !1; var N = Error(n(520), { cause: x }); if (N = Oa(N, p), Dd === null ? Dd = [N] : Dd.push(N), xr !== 4 && (xr = 2), u === null) return !0; x = Oa(x, p), p = u; do { switch (p.tag) { case 3: return p.flags |= 65536, o = E & -E, p.lanes |= o, o = Dv(p.stateNode, x, o), dv(p, o), !1; case 1: if (u = p.type, N = p.stateNode, (p.flags & 128) === 0 && (typeof u.getDerivedStateFromError == "function" || N !== null && typeof N.componentDidCatch == "function" && (co === null || !co.has(N)))) return p.flags |= 65536, E &= -E, p.lanes |= E, E = gN(E), xN(E, o, p, x), dv(p, E), !1 }p = p.return } while (p !== null); return !1 } var Mv = Error(n(461)), Rr = !1; function gn(o, u, p, x) { u.child = o === null ? wT(u, null, p, x) : dl(u, o.child, p, x) } function vN(o, u, p, x, E) { p = p.render; var N = u.ref; if ("ref" in x) { var L = {}; for (var K in x) K !== "ref" && (L[K] = x[K]) } else L = x; return ol(u), x = xv(o, u, p, L, N, E), K = vv(), o !== null && !Rr ? (yv(o, u, E), cs(o, u, E)) : (_t && K && Zx(u), u.flags |= 1, gn(o, u, x, E), u.child) } function yN(o, u, p, x, E) { if (o === null) { var N = p.type; return typeof N == "function" && !Yx(N) && N.defaultProps === void 0 && p.compare === null ? (u.tag = 15, u.type = N, bN(o, u, N, x, E)) : (o = Z0(p.type, null, x, u, u.mode, E), o.ref = u.ref, o.return = u, u.child = o) } if (N = o.child, !Gv(o, E)) { var L = N.memoizedProps; if (p = p.compare, p = p !== null ? p : hd, p(L, x) && o.ref === u.ref) return cs(o, u, E) } return u.flags |= 1, o = ns(N, x), o.ref = u.ref, o.return = u, u.child = o } function bN(o, u, p, x, E) { if (o !== null) { var N = o.memoizedProps; if (hd(N, x) && o.ref === u.ref) if (Rr = !1, u.pendingProps = x = N, Gv(o, E)) (o.flags & 131072) !== 0 && (Rr = !0); else return u.lanes = o.lanes, cs(o, u, E) } return Lv(o, u, p, x, E) } function wN(o, u, p, x) { var E = x.children, N = o !== null ? o.memoizedState : null; if (o === null && u.stateNode === null && (u.stateNode = { _visibility: 1, _pendingMarkers: null, _retryCache: null, _transitions: null }), x.mode === "hidden") { if ((u.flags & 128) !== 0) { if (N = N !== null ? N.baseLanes | p : p, o !== null) { for (x = u.child = o.child, E = 0; x !== null;)E = E | x.lanes | x.childLanes, x = x.sibling; x = E & ~N } else x = 0, u.child = null; return _N(o, u, N, p, x) } if ((p & 536870912) !== 0) u.memoizedState = { baseLanes: 0, cachePool: null }, o !== null && rh(u, N !== null ? N.cachePool : null), N !== null ? ET(u, N) : hv(), kT(u); else return x = u.lanes = 536870912, _N(o, u, N !== null ? N.baseLanes | p : p, p, x) } else N !== null ? (rh(u, N.cachePool), ET(u, N), io(), u.memoizedState = null) : (o !== null && rh(u, null), hv(), io()); return gn(o, u, E, p), u.child } function Ad(o, u) { return o !== null && o.tag === 22 || u.stateNode !== null || (u.stateNode = { _visibility: 1, _pendingMarkers: null, _retryCache: null, _transitions: null }), u.sibling } function _N(o, u, p, x, E) { var N = ov(); return N = N === null ? null : { parent: Ir._currentValue, pool: N }, u.memoizedState = { baseLanes: p, cachePool: N }, o !== null && rh(u, null), hv(), kT(u), o !== null && Ac(o, u, x, !0), u.childLanes = E, null } function vh(o, u) { return u = bh({ mode: u.mode, children: u.children }, o.mode), u.ref = o.ref, o.child = u, u.return = o, u } function SN(o, u, p) { return dl(u, o.child, null, p), o = vh(u, u.pendingProps), o.flags |= 2, ga(u), u.memoizedState = null, o } function $9(o, u, p) { var x = u.pendingProps, E = (u.flags & 128) !== 0; if (u.flags &= -129, o === null) { if (_t) { if (x.mode === "hidden") return o = vh(u, x), u.lanes = 536870912, Ad(null, o); if (mv(u), (o = nr) ? (o = D2(o, Da), o = o !== null && o.data === "&" ? o : null, o !== null && (u.memoizedState = { dehydrated: o, treeContext: Js !== null ? { id: Ci, overflow: ji } : null, retryLane: 536870912, hydrationErrors: null }, p = sT(o), p.return = u, u.child = p, pn = u, nr = null)) : o = null, o === null) throw Qs(u); return u.lanes = 536870912, null } return vh(u, x) } var N = o.memoizedState; if (N !== null) { var L = N.dehydrated; if (mv(u), E) if (u.flags & 256) u.flags &= -257, u = SN(o, u, p); else if (u.memoizedState !== null) u.child = o.child, u.flags |= 128, u = null; else throw Error(n(558)); else if (Rr || Ac(o, u, p, !1), E = (p & o.childLanes) !== 0, Rr || E) { if (x = Kt, x !== null && (L = mc(x, p), L !== 0 && L !== N.retryLane)) throw N.retryLane = L, nl(o, L), oa(x, o, L), Mv; Ch(), u = SN(o, u, p) } else o = N.treeContext, nr = La(L.nextSibling), pn = u, _t = !0, Zs = null, Da = !1, o !== null && cT(u, o), u = vh(u, x), u.flags |= 4096; return u } return o = ns(o.child, { mode: x.mode, children: x.children }), o.ref = u.ref, u.child = o, o.return = u, o } function yh(o, u) { var p = u.ref; if (p === null) o !== null && o.ref !== null && (u.flags |= 4194816); else { if (typeof p != "function" && typeof p != "object") throw Error(n(284)); (o === null || o.ref !== p) && (u.flags |= 4194816) } } function Lv(o, u, p, x, E) { return ol(u), p = xv(o, u, p, x, void 0, E), x = vv(), o !== null && !Rr ? (yv(o, u, E), cs(o, u, E)) : (_t && x && Zx(u), u.flags |= 1, gn(o, u, p, E), u.child) } function EN(o, u, p, x, E, N) { return ol(u), u.updateQueue = null, p = NT(u, x, p, E), TT(o), x = vv(), o !== null && !Rr ? (yv(o, u, N), cs(o, u, N)) : (_t && x && Zx(u), u.flags |= 1, gn(o, u, p, N), u.child) } function kN(o, u, p, x, E) { if (ol(u), u.stateNode === null) { var N = Ec, L = p.contextType; typeof L == "object" && L !== null && (N = mn(L)), N = new p(x, N), u.memoizedState = N.state !== null && N.state !== void 0 ? N.state : null, N.updater = Pv, u.stateNode = N, N._reactInternals = u, N = u.stateNode, N.props = x, N.state = u.memoizedState, N.refs = {}, cv(u), L = p.contextType, N.context = typeof L == "object" && L !== null ? mn(L) : Ec, N.state = u.memoizedState, L = p.getDerivedStateFromProps, typeof L == "function" && (Rv(u, p, L, x), N.state = u.memoizedState), typeof p.getDerivedStateFromProps == "function" || typeof N.getSnapshotBeforeUpdate == "function" || typeof N.UNSAFE_componentWillMount != "function" && typeof N.componentWillMount != "function" || (L = N.state, typeof N.componentWillMount == "function" && N.componentWillMount(), typeof N.UNSAFE_componentWillMount == "function" && N.UNSAFE_componentWillMount(), L !== N.state && Pv.enqueueReplaceState(N, N.state, null), Sd(u, x, N, E), _d(), N.state = u.memoizedState), typeof N.componentDidMount == "function" && (u.flags |= 4194308), x = !0 } else if (o === null) { N = u.stateNode; var K = u.memoizedProps, ue = hl(p, K); N.props = ue; var be = N.context, Ne = p.contextType; L = Ec, typeof Ne == "object" && Ne !== null && (L = mn(Ne)); var je = p.getDerivedStateFromProps; Ne = typeof je == "function" || typeof N.getSnapshotBeforeUpdate == "function", K = u.pendingProps !== K, Ne || typeof N.UNSAFE_componentWillReceiveProps != "function" && typeof N.componentWillReceiveProps != "function" || (K || be !== L) && dN(u, N, x, L), to = !1; var Ee = u.memoizedState; N.state = Ee, Sd(u, x, N, E), _d(), be = u.memoizedState, K || Ee !== be || to ? (typeof je == "function" && (Rv(u, p, je, x), be = u.memoizedState), (ue = to || uN(u, p, ue, x, Ee, be, L)) ? (Ne || typeof N.UNSAFE_componentWillMount != "function" && typeof N.componentWillMount != "function" || (typeof N.componentWillMount == "function" && N.componentWillMount(), typeof N.UNSAFE_componentWillMount == "function" && N.UNSAFE_componentWillMount()), typeof N.componentDidMount == "function" && (u.flags |= 4194308)) : (typeof N.componentDidMount == "function" && (u.flags |= 4194308), u.memoizedProps = x, u.memoizedState = be), N.props = x, N.state = be, N.context = L, x = ue) : (typeof N.componentDidMount == "function" && (u.flags |= 4194308), x = !1) } else { N = u.stateNode, uv(o, u), L = u.memoizedProps, Ne = hl(p, L), N.props = Ne, je = u.pendingProps, Ee = N.context, be = p.contextType, ue = Ec, typeof be == "object" && be !== null && (ue = mn(be)), K = p.getDerivedStateFromProps, (be = typeof K == "function" || typeof N.getSnapshotBeforeUpdate == "function") || typeof N.UNSAFE_componentWillReceiveProps != "function" && typeof N.componentWillReceiveProps != "function" || (L !== je || Ee !== ue) && dN(u, N, x, ue), to = !1, Ee = u.memoizedState, N.state = Ee, Sd(u, x, N, E), _d(); var Te = u.memoizedState; L !== je || Ee !== Te || to || o !== null && o.dependencies !== null && eh(o.dependencies) ? (typeof K == "function" && (Rv(u, p, K, x), Te = u.memoizedState), (Ne = to || uN(u, p, Ne, x, Ee, Te, ue) || o !== null && o.dependencies !== null && eh(o.dependencies)) ? (be || typeof N.UNSAFE_componentWillUpdate != "function" && typeof N.componentWillUpdate != "function" || (typeof N.componentWillUpdate == "function" && N.componentWillUpdate(x, Te, ue), typeof N.UNSAFE_componentWillUpdate == "function" && N.UNSAFE_componentWillUpdate(x, Te, ue)), typeof N.componentDidUpdate == "function" && (u.flags |= 4), typeof N.getSnapshotBeforeUpdate == "function" && (u.flags |= 1024)) : (typeof N.componentDidUpdate != "function" || L === o.memoizedProps && Ee === o.memoizedState || (u.flags |= 4), typeof N.getSnapshotBeforeUpdate != "function" || L === o.memoizedProps && Ee === o.memoizedState || (u.flags |= 1024), u.memoizedProps = x, u.memoizedState = Te), N.props = x, N.state = Te, N.context = ue, x = Ne) : (typeof N.componentDidUpdate != "function" || L === o.memoizedProps && Ee === o.memoizedState || (u.flags |= 4), typeof N.getSnapshotBeforeUpdate != "function" || L === o.memoizedProps && Ee === o.memoizedState || (u.flags |= 1024), x = !1) } return N = x, yh(o, u), x = (u.flags & 128) !== 0, N || x ? (N = u.stateNode, p = x && typeof p.getDerivedStateFromError != "function" ? null : N.render(), u.flags |= 1, o !== null && x ? (u.child = dl(u, o.child, null, E), u.child = dl(u, null, p, E)) : gn(o, u, p, E), u.memoizedState = N.state, o = u.child) : o = cs(o, u, E), o } function TN(o, u, p, x) { return il(), u.flags |= 256, gn(o, u, p, x), u.child } var Fv = { dehydrated: null, treeContext: null, retryLane: 0, hydrationErrors: null }; function Uv(o) { return { baseLanes: o, cachePool: mT() } } function Bv(o, u, p) { return o = o !== null ? o.childLanes & ~p : 0, u && (o |= va), o } function NN(o, u, p) { var x = u.pendingProps, E = !1, N = (u.flags & 128) !== 0, L; if ((L = N) || (L = o !== null && o.memoizedState === null ? !1 : (Nr.current & 2) !== 0), L && (E = !0, u.flags &= -129), L = (u.flags & 32) !== 0, u.flags &= -33, o === null) { if (_t) { if (E ? ao(u) : io(), (o = nr) ? (o = D2(o, Da), o = o !== null && o.data !== "&" ? o : null, o !== null && (u.memoizedState = { dehydrated: o, treeContext: Js !== null ? { id: Ci, overflow: ji } : null, retryLane: 536870912, hydrationErrors: null }, p = sT(o), p.return = u, u.child = p, pn = u, nr = null)) : o = null, o === null) throw Qs(u); return _y(o) ? u.lanes = 32 : u.lanes = 536870912, null } var K = x.children; return x = x.fallback, E ? (io(), E = u.mode, K = bh({ mode: "hidden", children: K }, E), x = al(x, E, p, null), K.return = u, x.return = u, K.sibling = x, u.child = K, x = u.child, x.memoizedState = Uv(p), x.childLanes = Bv(o, L, p), u.memoizedState = Fv, Ad(null, x)) : (ao(u), $v(u, K)) } var ue = o.memoizedState; if (ue !== null && (K = ue.dehydrated, K !== null)) { if (N) u.flags & 256 ? (ao(u), u.flags &= -257, u = zv(o, u, p)) : u.memoizedState !== null ? (io(), u.child = o.child, u.flags |= 128, u = null) : (io(), K = x.fallback, E = u.mode, x = bh({ mode: "visible", children: x.children }, E), K = al(K, E, p, null), K.flags |= 2, x.return = u, K.return = u, x.sibling = K, u.child = x, dl(u, o.child, null, p), x = u.child, x.memoizedState = Uv(p), x.childLanes = Bv(o, L, p), u.memoizedState = Fv, u = Ad(null, x)); else if (ao(u), _y(K)) { if (L = K.nextSibling && K.nextSibling.dataset, L) var be = L.dgst; L = be, x = Error(n(419)), x.stack = "", x.digest = L, gd({ value: x, source: null, stack: null }), u = zv(o, u, p) } else if (Rr || Ac(o, u, p, !1), L = (p & o.childLanes) !== 0, Rr || L) { if (L = Kt, L !== null && (x = mc(L, p), x !== 0 && x !== ue.retryLane)) throw ue.retryLane = x, nl(o, x), oa(L, o, x), Mv; wy(K) || Ch(), u = zv(o, u, p) } else wy(K) ? (u.flags |= 192, u.child = o.child, u = null) : (o = ue.treeContext, nr = La(K.nextSibling), pn = u, _t = !0, Zs = null, Da = !1, o !== null && cT(u, o), u = $v(u, x.children), u.flags |= 4096); return u } return E ? (io(), K = x.fallback, E = u.mode, ue = o.child, be = ue.sibling, x = ns(ue, { mode: "hidden", children: x.children }), x.subtreeFlags = ue.subtreeFlags & 65011712, be !== null ? K = ns(be, K) : (K = al(K, E, p, null), K.flags |= 2), K.return = u, x.return = u, x.sibling = K, u.child = x, Ad(null, x), x = u.child, K = o.child.memoizedState, K === null ? K = Uv(p) : (E = K.cachePool, E !== null ? (ue = Ir._currentValue, E = E.parent !== ue ? { parent: ue, pool: ue } : E) : E = mT(), K = { baseLanes: K.baseLanes | p, cachePool: E }), x.memoizedState = K, x.childLanes = Bv(o, L, p), u.memoizedState = Fv, Ad(o.child, x)) : (ao(u), p = o.child, o = p.sibling, p = ns(p, { mode: "visible", children: x.children }), p.return = u, p.sibling = null, o !== null && (L = u.deletions, L === null ? (u.deletions = [o], u.flags |= 16) : L.push(o)), u.child = p, u.memoizedState = null, p) } function $v(o, u) { return u = bh({ mode: "visible", children: u }, o.mode), u.return = o, o.child = u } function bh(o, u) { return o = pa(22, o, null, u), o.lanes = 0, o } function zv(o, u, p) { return dl(u, o.child, null, p), o = $v(u, u.pendingProps.children), o.flags |= 2, u.memoizedState = null, o } function AN(o, u, p) { o.lanes |= u; var x = o.alternate; x !== null && (x.lanes |= u), nv(o.return, u, p) } function Hv(o, u, p, x, E, N) { var L = o.memoizedState; L === null ? o.memoizedState = { isBackwards: u, rendering: null, renderingStartTime: 0, last: x, tail: p, tailMode: E, treeForkCount: N } : (L.isBackwards = u, L.rendering = null, L.renderingStartTime = 0, L.last = x, L.tail = p, L.tailMode = E, L.treeForkCount = N) } function CN(o, u, p) { var x = u.pendingProps, E = x.revealOrder, N = x.tail; x = x.children; var L = Nr.current, K = (L & 2) !== 0; if (K ? (L = L & 1 | 2, u.flags |= 128) : L &= 1, W(Nr, L), gn(o, u, x, p), x = _t ? md : 0, !K && o !== null && (o.flags & 128) !== 0) e: for (o = u.child; o !== null;) { if (o.tag === 13) o.memoizedState !== null && AN(o, p, u); else if (o.tag === 19) AN(o, p, u); else if (o.child !== null) { o.child.return = o, o = o.child; continue } if (o === u) break e; for (; o.sibling === null;) { if (o.return === null || o.return === u) break e; o = o.return } o.sibling.return = o.return, o = o.sibling } switch (E) { case "forwards": for (p = u.child, E = null; p !== null;)o = p.alternate, o !== null && lh(o) === null && (E = p), p = p.sibling; p = E, p === null ? (E = u.child, u.child = null) : (E = p.sibling, p.sibling = null), Hv(u, !1, E, p, N, x); break; case "backwards": case "unstable_legacy-backwards": for (p = null, E = u.child, u.child = null; E !== null;) { if (o = E.alternate, o !== null && lh(o) === null) { u.child = E; break } o = E.sibling, E.sibling = p, p = E, E = o } Hv(u, !0, p, null, N, x); break; case "together": Hv(u, !1, null, null, void 0, x); break; default: u.memoizedState = null }return u.child } function cs(o, u, p) { if (o !== null && (u.dependencies = o.dependencies), lo |= u.lanes, (p & u.childLanes) === 0) if (o !== null) { if (Ac(o, u, p, !1), (p & u.childLanes) === 0) return null } else return null; if (o !== null && u.child !== o.child) throw Error(n(153)); if (u.child !== null) { for (o = u.child, p = ns(o, o.pendingProps), u.child = p, p.return = u; o.sibling !== null;)o = o.sibling, p = p.sibling = ns(o, o.pendingProps), p.return = u; p.sibling = null } return u.child } function Gv(o, u) { return (o.lanes & u) !== 0 ? !0 : (o = o.dependencies, !!(o !== null && eh(o))) } function z9(o, u, p) { switch (u.tag) { case 3: le(u, u.stateNode.containerInfo), eo(u, Ir, o.memoizedState.cache), il(); break; case 27: case 5: pe(u); break; case 4: le(u, u.stateNode.containerInfo); break; case 10: eo(u, u.type, u.memoizedProps.value); break; case 31: if (u.memoizedState !== null) return u.flags |= 128, mv(u), null; break; case 13: var x = u.memoizedState; if (x !== null) return x.dehydrated !== null ? (ao(u), u.flags |= 128, null) : (p & u.child.childLanes) !== 0 ? NN(o, u, p) : (ao(u), o = cs(o, u, p), o !== null ? o.sibling : null); ao(u); break; case 19: var E = (o.flags & 128) !== 0; if (x = (p & u.childLanes) !== 0, x || (Ac(o, u, p, !1), x = (p & u.childLanes) !== 0), E) { if (x) return CN(o, u, p); u.flags |= 128 } if (E = u.memoizedState, E !== null && (E.rendering = null, E.tail = null, E.lastEffect = null), W(Nr, Nr.current), x) break; return null; case 22: return u.lanes = 0, wN(o, u, p, u.pendingProps); case 24: eo(u, Ir, o.memoizedState.cache) }return cs(o, u, p) } function jN(o, u, p) { if (o !== null) if (o.memoizedProps !== u.pendingProps) Rr = !0; else { if (!Gv(o, p) && (u.flags & 128) === 0) return Rr = !1, z9(o, u, p); Rr = (o.flags & 131072) !== 0 } else Rr = !1, _t && (u.flags & 1048576) !== 0 && lT(u, md, u.index); switch (u.lanes = 0, u.tag) { case 16: e: { var x = u.pendingProps; if (o = cl(u.elementType), u.type = o, typeof o == "function") Yx(o) ? (x = hl(o, x), u.tag = 1, u = kN(null, u, o, x, p)) : (u.tag = 0, u = Lv(null, u, o, x, p)); else { if (o != null) { var E = o.$$typeof; if (E === j) { u.tag = 11, u = vN(null, u, o, x, p); break e } else if (E === I) { u.tag = 14, u = yN(null, u, o, x, p); break e } } throw u = re(o) || o, Error(n(306, u, "")) } } return u; case 0: return Lv(o, u, u.type, u.pendingProps, p); case 1: return x = u.type, E = hl(x, u.pendingProps), kN(o, u, x, E, p); case 3: e: { if (le(u, u.stateNode.containerInfo), o === null) throw Error(n(387)); x = u.pendingProps; var N = u.memoizedState; E = N.element, uv(o, u), Sd(u, x, null, p); var L = u.memoizedState; if (x = L.cache, eo(u, Ir, x), x !== N.cache && av(u, [Ir], p, !0), _d(), x = L.element, N.isDehydrated) if (N = { element: x, isDehydrated: !1, cache: L.cache }, u.updateQueue.baseState = N, u.memoizedState = N, u.flags & 256) { u = TN(o, u, x, p); break e } else if (x !== E) { E = Oa(Error(n(424)), u), gd(E), u = TN(o, u, x, p); break e } else { switch (o = u.stateNode.containerInfo, o.nodeType) { case 9: o = o.body; break; default: o = o.nodeName === "HTML" ? o.ownerDocument.body : o }for (nr = La(o.firstChild), pn = u, _t = !0, Zs = null, Da = !0, p = wT(u, null, x, p), u.child = p; p;)p.flags = p.flags & -3 | 4096, p = p.sibling } else { if (il(), x === E) { u = cs(o, u, p); break e } gn(o, u, x, p) } u = u.child } return u; case 26: return yh(o, u), o === null ? (p = $2(u.type, null, u.pendingProps, null)) ? u.memoizedState = p : _t || (p = u.type, o = u.pendingProps, x = Mh(ce.current).createElement(p), x[Q] = u, x[ne] = o, xn(x, p, o), Ke(x), u.stateNode = x) : u.memoizedState = $2(u.type, o.memoizedProps, u.pendingProps, o.memoizedState), null; case 27: return pe(u), o === null && _t && (x = u.stateNode = F2(u.type, u.pendingProps, ce.current), pn = u, Da = !0, E = nr, po(u.type) ? (Sy = E, nr = La(x.firstChild)) : nr = E), gn(o, u, u.pendingProps.children, p), yh(o, u), o === null && (u.flags |= 4194304), u.child; case 5: return o === null && _t && ((E = x = nr) && (x = vB(x, u.type, u.pendingProps, Da), x !== null ? (u.stateNode = x, pn = u, nr = La(x.firstChild), Da = !1, E = !0) : E = !1), E || Qs(u)), pe(u), E = u.type, N = u.pendingProps, L = o !== null ? o.memoizedProps : null, x = N.children, vy(E, N) ? x = null : L !== null && vy(E, L) && (u.flags |= 32), u.memoizedState !== null && (E = xv(o, u, R9, null, null, p), Hd._currentValue = E), yh(o, u), gn(o, u, x, p), u.child; case 6: return o === null && _t && ((o = p = nr) && (p = yB(p, u.pendingProps, Da), p !== null ? (u.stateNode = p, pn = u, nr = null, o = !0) : o = !1), o || Qs(u)), null; case 13: return NN(o, u, p); case 4: return le(u, u.stateNode.containerInfo), x = u.pendingProps, o === null ? u.child = dl(u, null, x, p) : gn(o, u, x, p), u.child; case 11: return vN(o, u, u.type, u.pendingProps, p); case 7: return gn(o, u, u.pendingProps, p), u.child; case 8: return gn(o, u, u.pendingProps.children, p), u.child; case 12: return gn(o, u, u.pendingProps.children, p), u.child; case 10: return x = u.pendingProps, eo(u, u.type, x.value), gn(o, u, x.children, p), u.child; case 9: return E = u.type._context, x = u.pendingProps.children, ol(u), E = mn(E), x = x(E), u.flags |= 1, gn(o, u, x, p), u.child; case 14: return yN(o, u, u.type, u.pendingProps, p); case 15: return bN(o, u, u.type, u.pendingProps, p); case 19: return CN(o, u, p); case 31: return $9(o, u, p); case 22: return wN(o, u, p, u.pendingProps); case 24: return ol(u), x = mn(Ir), o === null ? (E = ov(), E === null && (E = Kt, N = iv(), E.pooledCache = N, N.refCount++, N !== null && (E.pooledCacheLanes |= p), E = N), u.memoizedState = { parent: x, cache: E }, cv(u), eo(u, Ir, E)) : ((o.lanes & p) !== 0 && (uv(o, u), Sd(u, null, null, p), _d()), E = o.memoizedState, N = u.memoizedState, E.parent !== x ? (E = { parent: x, cache: x }, u.memoizedState = E, u.lanes === 0 && (u.memoizedState = u.updateQueue.baseState = E), eo(u, Ir, x)) : (x = N.cache, eo(u, Ir, x), x !== E.cache && av(u, [Ir], p, !0))), gn(o, u, u.pendingProps.children, p), u.child; case 29: throw u.pendingProps }throw Error(n(156, u.tag)) } function us(o) { o.flags |= 4 } function Vv(o, u, p, x, E) { if ((u = (o.mode & 32) !== 0) && (u = !1), u) { if (o.flags |= 16777216, (E & 335544128) === E) if (o.stateNode.complete) o.flags |= 8192; else if (n2()) o.flags |= 8192; else throw ul = ah, lv } else o.flags &= -16777217 } function IN(o, u) { if (u.type !== "stylesheet" || (u.state.loading & 4) !== 0) o.flags &= -16777217; else if (o.flags |= 16777216, !q2(u)) if (n2()) o.flags |= 8192; else throw ul = ah, lv } function wh(o, u) { u !== null && (o.flags |= 4), o.flags & 16384 && (u = o.tag !== 22 ? hc() : 536870912, o.lanes |= u, Bc |= u) } function Cd(o, u) { if (!_t) switch (o.tailMode) { case "hidden": u = o.tail; for (var p = null; u !== null;)u.alternate !== null && (p = u), u = u.sibling; p === null ? o.tail = null : p.sibling = null; break; case "collapsed": p = o.tail; for (var x = null; p !== null;)p.alternate !== null && (x = p), p = p.sibling; x === null ? u || o.tail === null ? o.tail = null : o.tail.sibling = null : x.sibling = null } } function ar(o) { var u = o.alternate !== null && o.alternate.child === o.child, p = 0, x = 0; if (u) for (var E = o.child; E !== null;)p |= E.lanes | E.childLanes, x |= E.subtreeFlags & 65011712, x |= E.flags & 65011712, E.return = o, E = E.sibling; else for (E = o.child; E !== null;)p |= E.lanes | E.childLanes, x |= E.subtreeFlags, x |= E.flags, E.return = o, E = E.sibling; return o.subtreeFlags |= x, o.childLanes = p, u } function H9(o, u, p) { var x = u.pendingProps; switch (Qx(u), u.tag) { case 16: case 15: case 0: case 11: case 7: case 8: case 12: case 9: case 14: return ar(u), null; case 1: return ar(u), null; case 3: return p = u.stateNode, x = null, o !== null && (x = o.memoizedState.cache), u.memoizedState.cache !== x && (u.flags |= 2048), ss(Ir), oe(), p.pendingContext && (p.context = p.pendingContext, p.pendingContext = null), (o === null || o.child === null) && (Nc(u) ? us(u) : o === null || o.memoizedState.isDehydrated && (u.flags & 256) === 0 || (u.flags |= 1024, tv())), ar(u), null; case 26: var E = u.type, N = u.memoizedState; return o === null ? (us(u), N !== null ? (ar(u), IN(u, N)) : (ar(u), Vv(u, E, null, x, p))) : N ? N !== o.memoizedState ? (us(u), ar(u), IN(u, N)) : (ar(u), u.flags &= -16777217) : (o = o.memoizedProps, o !== x && us(u), ar(u), Vv(u, E, o, x, p)), null; case 27: if (Ie(u), p = ce.current, E = u.type, o !== null && u.stateNode != null) o.memoizedProps !== x && us(u); else { if (!x) { if (u.stateNode === null) throw Error(n(166)); return ar(u), null } o = J.current, Nc(u) ? uT(u) : (o = F2(E, x, p), u.stateNode = o, us(u)) } return ar(u), null; case 5: if (Ie(u), E = u.type, o !== null && u.stateNode != null) o.memoizedProps !== x && us(u); else { if (!x) { if (u.stateNode === null) throw Error(n(166)); return ar(u), null } if (N = J.current, Nc(u)) uT(u); else { var L = Mh(ce.current); switch (N) { case 1: N = L.createElementNS("http://www.w3.org/2000/svg", E); break; case 2: N = L.createElementNS("http://www.w3.org/1998/Math/MathML", E); break; default: switch (E) { case "svg": N = L.createElementNS("http://www.w3.org/2000/svg", E); break; case "math": N = L.createElementNS("http://www.w3.org/1998/Math/MathML", E); break; case "script": N = L.createElement("div"), N.innerHTML = "<script><\/script>", N = N.removeChild(N.firstChild); break; case "select": N = typeof x.is == "string" ? L.createElement("select", { is: x.is }) : L.createElement("select"), x.multiple ? N.multiple = !0 : x.size && (N.size = x.size); break; default: N = typeof x.is == "string" ? L.createElement(E, { is: x.is }) : L.createElement(E) } }N[Q] = u, N[ne] = x; e: for (L = u.child; L !== null;) { if (L.tag === 5 || L.tag === 6) N.appendChild(L.stateNode); else if (L.tag !== 4 && L.tag !== 27 && L.child !== null) { L.child.return = L, L = L.child; continue } if (L === u) break e; for (; L.sibling === null;) { if (L.return === null || L.return === u) break e; L = L.return } L.sibling.return = L.return, L = L.sibling } u.stateNode = N; e: switch (xn(N, E, x), E) { case "button": case "input": case "select": case "textarea": x = !!x.autoFocus; break e; case "img": x = !0; break e; default: x = !1 }x && us(u) } } return ar(u), Vv(u, u.type, o === null ? null : o.memoizedProps, u.pendingProps, p), null; case 6: if (o && u.stateNode != null) o.memoizedProps !== x && us(u); else { if (typeof x != "string" && u.stateNode === null) throw Error(n(166)); if (o = ce.current, Nc(u)) { if (o = u.stateNode, p = u.memoizedProps, x = null, E = pn, E !== null) switch (E.tag) { case 27: case 5: x = E.memoizedProps }o[Q] = u, o = !!(o.nodeValue === p || x !== null && x.suppressHydrationWarning === !0 || N2(o.nodeValue, p)), o || Qs(u, !0) } else o = Mh(o).createTextNode(x), o[Q] = u, u.stateNode = o } return ar(u), null; case 31: if (p = u.memoizedState, o === null || o.memoizedState !== null) { if (x = Nc(u), p !== null) { if (o === null) { if (!x) throw Error(n(318)); if (o = u.memoizedState, o = o !== null ? o.dehydrated : null, !o) throw Error(n(557)); o[Q] = u } else il(), (u.flags & 128) === 0 && (u.memoizedState = null), u.flags |= 4; ar(u), o = !1 } else p = tv(), o !== null && o.memoizedState !== null && (o.memoizedState.hydrationErrors = p), o = !0; if (!o) return u.flags & 256 ? (ga(u), u) : (ga(u), null); if ((u.flags & 128) !== 0) throw Error(n(558)) } return ar(u), null; case 13: if (x = u.memoizedState, o === null || o.memoizedState !== null && o.memoizedState.dehydrated !== null) { if (E = Nc(u), x !== null && x.dehydrated !== null) { if (o === null) { if (!E) throw Error(n(318)); if (E = u.memoizedState, E = E !== null ? E.dehydrated : null, !E) throw Error(n(317)); E[Q] = u } else il(), (u.flags & 128) === 0 && (u.memoizedState = null), u.flags |= 4; ar(u), E = !1 } else E = tv(), o !== null && o.memoizedState !== null && (o.memoizedState.hydrationErrors = E), E = !0; if (!E) return u.flags & 256 ? (ga(u), u) : (ga(u), null) } return ga(u), (u.flags & 128) !== 0 ? (u.lanes = p, u) : (p = x !== null, o = o !== null && o.memoizedState !== null, p && (x = u.child, E = null, x.alternate !== null && x.alternate.memoizedState !== null && x.alternate.memoizedState.cachePool !== null && (E = x.alternate.memoizedState.cachePool.pool), N = null, x.memoizedState !== null && x.memoizedState.cachePool !== null && (N = x.memoizedState.cachePool.pool), N !== E && (x.flags |= 2048)), p !== o && p && (u.child.flags |= 8192), wh(u, u.updateQueue), ar(u), null); case 4: return oe(), o === null && hy(u.stateNode.containerInfo), ar(u), null; case 10: return ss(u.type), ar(u), null; case 19: if (P(Nr), x = u.memoizedState, x === null) return ar(u), null; if (E = (u.flags & 128) !== 0, N = x.rendering, N === null) if (E) Cd(x, !1); else { if (xr !== 0 || o !== null && (o.flags & 128) !== 0) for (o = u.child; o !== null;) { if (N = lh(o), N !== null) { for (u.flags |= 128, Cd(x, !1), o = N.updateQueue, u.updateQueue = o, wh(u, o), u.subtreeFlags = 0, o = p, p = u.child; p !== null;)iT(p, o), p = p.sibling; return W(Nr, Nr.current & 1 | 2), _t && as(u, x.treeForkCount), u.child } o = o.sibling } x.tail !== null && Mt() > Th && (u.flags |= 128, E = !0, Cd(x, !1), u.lanes = 4194304) } else { if (!E) if (o = lh(N), o !== null) { if (u.flags |= 128, E = !0, o = o.updateQueue, u.updateQueue = o, wh(u, o), Cd(x, !0), x.tail === null && x.tailMode === "hidden" && !N.alternate && !_t) return ar(u), null } else 2 * Mt() - x.renderingStartTime > Th && p !== 536870912 && (u.flags |= 128, E = !0, Cd(x, !1), u.lanes = 4194304); x.isBackwards ? (N.sibling = u.child, u.child = N) : (o = x.last, o !== null ? o.sibling = N : u.child = N, x.last = N) } return x.tail !== null ? (o = x.tail, x.rendering = o, x.tail = o.sibling, x.renderingStartTime = Mt(), o.sibling = null, p = Nr.current, W(Nr, E ? p & 1 | 2 : p & 1), _t && as(u, x.treeForkCount), o) : (ar(u), null); case 22: case 23: return ga(u), pv(), x = u.memoizedState !== null, o !== null ? o.memoizedState !== null !== x && (u.flags |= 8192) : x && (u.flags |= 8192), x ? (p & 536870912) !== 0 && (u.flags & 128) === 0 && (ar(u), u.subtreeFlags & 6 && (u.flags |= 8192)) : ar(u), p = u.updateQueue, p !== null && wh(u, p.retryQueue), p = null, o !== null && o.memoizedState !== null && o.memoizedState.cachePool !== null && (p = o.memoizedState.cachePool.pool), x = null, u.memoizedState !== null && u.memoizedState.cachePool !== null && (x = u.memoizedState.cachePool.pool), x !== p && (u.flags |= 2048), o !== null && P(ll), null; case 24: return p = null, o !== null && (p = o.memoizedState.cache), u.memoizedState.cache !== p && (u.flags |= 2048), ss(Ir), ar(u), null; case 25: return null; case 30: return null }throw Error(n(156, u.tag)) } function G9(o, u) { switch (Qx(u), u.tag) { case 1: return o = u.flags, o & 65536 ? (u.flags = o & -65537 | 128, u) : null; case 3: return ss(Ir), oe(), o = u.flags, (o & 65536) !== 0 && (o & 128) === 0 ? (u.flags = o & -65537 | 128, u) : null; case 26: case 27: case 5: return Ie(u), null; case 31: if (u.memoizedState !== null) { if (ga(u), u.alternate === null) throw Error(n(340)); il() } return o = u.flags, o & 65536 ? (u.flags = o & -65537 | 128, u) : null; case 13: if (ga(u), o = u.memoizedState, o !== null && o.dehydrated !== null) { if (u.alternate === null) throw Error(n(340)); il() } return o = u.flags, o & 65536 ? (u.flags = o & -65537 | 128, u) : null; case 19: return P(Nr), null; case 4: return oe(), null; case 10: return ss(u.type), null; case 22: case 23: return ga(u), pv(), o !== null && P(ll), o = u.flags, o & 65536 ? (u.flags = o & -65537 | 128, u) : null; case 24: return ss(Ir), null; case 25: return null; default: return null } } function ON(o, u) { switch (Qx(u), u.tag) { case 3: ss(Ir), oe(); break; case 26: case 27: case 5: Ie(u); break; case 4: oe(); break; case 31: u.memoizedState !== null && ga(u); break; case 13: ga(u); break; case 19: P(Nr); break; case 10: ss(u.type); break; case 22: case 23: ga(u), pv(), o !== null && P(ll); break; case 24: ss(Ir) } } function jd(o, u) { try { var p = u.updateQueue, x = p !== null ? p.lastEffect : null; if (x !== null) { var E = x.next; p = E; do { if ((p.tag & o) === o) { x = void 0; var N = p.create, L = p.inst; x = N(), L.destroy = x } p = p.next } while (p !== E) } } catch (K) { $t(u, u.return, K) } } function so(o, u, p) { try { var x = u.updateQueue, E = x !== null ? x.lastEffect : null; if (E !== null) { var N = E.next; x = N; do { if ((x.tag & o) === o) { var L = x.inst, K = L.destroy; if (K !== void 0) { L.destroy = void 0, E = u; var ue = p, be = K; try { be() } catch (Ne) { $t(E, ue, Ne) } } } x = x.next } while (x !== N) } } catch (Ne) { $t(u, u.return, Ne) } } function RN(o) { var u = o.updateQueue; if (u !== null) { var p = o.stateNode; try { ST(u, p) } catch (x) { $t(o, o.return, x) } } } function PN(o, u, p) { p.props = hl(o.type, o.memoizedProps), p.state = o.memoizedState; try { p.componentWillUnmount() } catch (x) { $t(o, u, x) } } function Id(o, u) { try { var p = o.ref; if (p !== null) { switch (o.tag) { case 26: case 27: case 5: var x = o.stateNode; break; case 30: x = o.stateNode; break; default: x = o.stateNode }typeof p == "function" ? o.refCleanup = p(x) : p.current = x } } catch (E) { $t(o, u, E) } } function Ii(o, u) { var p = o.ref, x = o.refCleanup; if (p !== null) if (typeof x == "function") try { x() } catch (E) { $t(o, u, E) } finally { o.refCleanup = null, o = o.alternate, o != null && (o.refCleanup = null) } else if (typeof p == "function") try { p(null) } catch (E) { $t(o, u, E) } else p.current = null } function DN(o) { var u = o.type, p = o.memoizedProps, x = o.stateNode; try { e: switch (u) { case "button": case "input": case "select": case "textarea": p.autoFocus && x.focus(); break e; case "img": p.src ? x.src = p.src : p.srcSet && (x.srcset = p.srcSet) } } catch (E) { $t(o, o.return, E) } } function qv(o, u, p) { try { var x = o.stateNode; fB(x, o.type, p, u), x[ne] = u } catch (E) { $t(o, o.return, E) } } function MN(o) { return o.tag === 5 || o.tag === 3 || o.tag === 26 || o.tag === 27 && po(o.type) || o.tag === 4 } function Wv(o) { e: for (; ;) { for (; o.sibling === null;) { if (o.return === null || MN(o.return)) return null; o = o.return } for (o.sibling.return = o.return, o = o.sibling; o.tag !== 5 && o.tag !== 6 && o.tag !== 18;) { if (o.tag === 27 && po(o.type) || o.flags & 2 || o.child === null || o.tag === 4) continue e; o.child.return = o, o = o.child } if (!(o.flags & 2)) return o.stateNode } } function Kv(o, u, p) { var x = o.tag; if (x === 5 || x === 6) o = o.stateNode, u ? (p.nodeType === 9 ? p.body : p.nodeName === "HTML" ? p.ownerDocument.body : p).insertBefore(o, u) : (u = p.nodeType === 9 ? p.body : p.nodeName === "HTML" ? p.ownerDocument.body : p, u.appendChild(o), p = p._reactRootContainer, p != null || u.onclick !== null || (u.onclick = ts)); else if (x !== 4 && (x === 27 && po(o.type) && (p = o.stateNode, u = null), o = o.child, o !== null)) for (Kv(o, u, p), o = o.sibling; o !== null;)Kv(o, u, p), o = o.sibling } function _h(o, u, p) { var x = o.tag; if (x === 5 || x === 6) o = o.stateNode, u ? p.insertBefore(o, u) : p.appendChild(o); else if (x !== 4 && (x === 27 && po(o.type) && (p = o.stateNode), o = o.child, o !== null)) for (_h(o, u, p), o = o.sibling; o !== null;)_h(o, u, p), o = o.sibling } function LN(o) { var u = o.stateNode, p = o.memoizedProps; try { for (var x = o.type, E = u.attributes; E.length;)u.removeAttributeNode(E[0]); xn(u, x, p), u[Q] = o, u[ne] = p } catch (N) { $t(o, o.return, N) } } var ds = !1, Pr = !1, Yv = !1, FN = typeof WeakSet == "function" ? WeakSet : Set, Qr = null; function V9(o, u) { if (o = o.containerInfo, gy = Hh, o = Xk(o), zx(o)) { if ("selectionStart" in o) var p = { start: o.selectionStart, end: o.selectionEnd }; else e: { p = (p = o.ownerDocument) && p.defaultView || window; var x = p.getSelection && p.getSelection(); if (x && x.rangeCount !== 0) { p = x.anchorNode; var E = x.anchorOffset, N = x.focusNode; x = x.focusOffset; try { p.nodeType, N.nodeType } catch { p = null; break e } var L = 0, K = -1, ue = -1, be = 0, Ne = 0, je = o, Ee = null; t: for (; ;) { for (var Te; je !== p || E !== 0 && je.nodeType !== 3 || (K = L + E), je !== N || x !== 0 && je.nodeType !== 3 || (ue = L + x), je.nodeType === 3 && (L += je.nodeValue.length), (Te = je.firstChild) !== null;)Ee = je, je = Te; for (; ;) { if (je === o) break t; if (Ee === p && ++be === E && (K = L), Ee === N && ++Ne === x && (ue = L), (Te = je.nextSibling) !== null) break; je = Ee, Ee = je.parentNode } je = Te } p = K === -1 || ue === -1 ? null : { start: K, end: ue } } else p = null } p = p || { start: 0, end: 0 } } else p = null; for (xy = { focusedElem: o, selectionRange: p }, Hh = !1, Qr = u; Qr !== null;)if (u = Qr, o = u.child, (u.subtreeFlags & 1028) !== 0 && o !== null) o.return = u, Qr = o; else for (; Qr !== null;) { switch (u = Qr, N = u.alternate, o = u.flags, u.tag) { case 0: if ((o & 4) !== 0 && (o = u.updateQueue, o = o !== null ? o.events : null, o !== null)) for (p = 0; p < o.length; p++)E = o[p], E.ref.impl = E.nextImpl; break; case 11: case 15: break; case 1: if ((o & 1024) !== 0 && N !== null) { o = void 0, p = u, E = N.memoizedProps, N = N.memoizedState, x = p.stateNode; try { var qe = hl(p.type, E); o = x.getSnapshotBeforeUpdate(qe, N), x.__reactInternalSnapshotBeforeUpdate = o } catch (et) { $t(p, p.return, et) } } break; case 3: if ((o & 1024) !== 0) { if (o = u.stateNode.containerInfo, p = o.nodeType, p === 9) by(o); else if (p === 1) switch (o.nodeName) { case "HEAD": case "HTML": case "BODY": by(o); break; default: o.textContent = "" } } break; case 5: case 26: case 27: case 6: case 4: case 17: break; default: if ((o & 1024) !== 0) throw Error(n(163)) }if (o = u.sibling, o !== null) { o.return = u.return, Qr = o; break } Qr = u.return } } function UN(o, u, p) { var x = p.flags; switch (p.tag) { case 0: case 11: case 15: hs(o, p), x & 4 && jd(5, p); break; case 1: if (hs(o, p), x & 4) if (o = p.stateNode, u === null) try { o.componentDidMount() } catch (L) { $t(p, p.return, L) } else { var E = hl(p.type, u.memoizedProps); u = u.memoizedState; try { o.componentDidUpdate(E, u, o.__reactInternalSnapshotBeforeUpdate) } catch (L) { $t(p, p.return, L) } } x & 64 && RN(p), x & 512 && Id(p, p.return); break; case 3: if (hs(o, p), x & 64 && (o = p.updateQueue, o !== null)) { if (u = null, p.child !== null) switch (p.child.tag) { case 27: case 5: u = p.child.stateNode; break; case 1: u = p.child.stateNode }try { ST(o, u) } catch (L) { $t(p, p.return, L) } } break; case 27: u === null && x & 4 && LN(p); case 26: case 5: hs(o, p), u === null && x & 4 && DN(p), x & 512 && Id(p, p.return); break; case 12: hs(o, p); break; case 31: hs(o, p), x & 4 && zN(o, p); break; case 13: hs(o, p), x & 4 && HN(o, p), x & 64 && (o = p.memoizedState, o !== null && (o = o.dehydrated, o !== null && (p = eB.bind(null, p), bB(o, p)))); break; case 22: if (x = p.memoizedState !== null || ds, !x) { u = u !== null && u.memoizedState !== null || Pr, E = ds; var N = Pr; ds = x, (Pr = u) && !N ? ps(o, p, (p.subtreeFlags & 8772) !== 0) : hs(o, p), ds = E, Pr = N } break; case 30: break; default: hs(o, p) } } function BN(o) { var u = o.alternate; u !== null && (o.alternate = null, BN(u)), o.child = null, o.deletions = null, o.sibling = null, o.tag === 5 && (u = o.stateNode, u !== null && Oe(u)), o.stateNode = null, o.return = null, o.dependencies = null, o.memoizedProps = null, o.memoizedState = null, o.pendingProps = null, o.stateNode = null, o.updateQueue = null } var or = null, na = !1; function fs(o, u, p) { for (p = p.child; p !== null;)$N(o, u, p), p = p.sibling } function $N(o, u, p) { if (hr && typeof hr.onCommitFiberUnmount == "function") try { hr.onCommitFiberUnmount(Pt, p) } catch { } switch (p.tag) { case 26: Pr || Ii(p, u), fs(o, u, p), p.memoizedState ? p.memoizedState.count-- : p.stateNode && (p = p.stateNode, p.parentNode.removeChild(p)); break; case 27: Pr || Ii(p, u); var x = or, E = na; po(p.type) && (or = p.stateNode, na = !1), fs(o, u, p), Bd(p.stateNode), or = x, na = E; break; case 5: Pr || Ii(p, u); case 6: if (x = or, E = na, or = null, fs(o, u, p), or = x, na = E, or !== null) if (na) try { (or.nodeType === 9 ? or.body : or.nodeName === "HTML" ? or.ownerDocument.body : or).removeChild(p.stateNode) } catch (N) { $t(p, u, N) } else try { or.removeChild(p.stateNode) } catch (N) { $t(p, u, N) } break; case 18: or !== null && (na ? (o = or, R2(o.nodeType === 9 ? o.body : o.nodeName === "HTML" ? o.ownerDocument.body : o, p.stateNode), Kc(o)) : R2(or, p.stateNode)); break; case 4: x = or, E = na, or = p.stateNode.containerInfo, na = !0, fs(o, u, p), or = x, na = E; break; case 0: case 11: case 14: case 15: so(2, p, u), Pr || so(4, p, u), fs(o, u, p); break; case 1: Pr || (Ii(p, u), x = p.stateNode, typeof x.componentWillUnmount == "function" && PN(p, u, x)), fs(o, u, p); break; case 21: fs(o, u, p); break; case 22: Pr = (x = Pr) || p.memoizedState !== null, fs(o, u, p), Pr = x; break; default: fs(o, u, p) } } function zN(o, u) { if (u.memoizedState === null && (o = u.alternate, o !== null && (o = o.memoizedState, o !== null))) { o = o.dehydrated; try { Kc(o) } catch (p) { $t(u, u.return, p) } } } function HN(o, u) { if (u.memoizedState === null && (o = u.alternate, o !== null && (o = o.memoizedState, o !== null && (o = o.dehydrated, o !== null)))) try { Kc(o) } catch (p) { $t(u, u.return, p) } } function q9(o) { switch (o.tag) { case 31: case 13: case 19: var u = o.stateNode; return u === null && (u = o.stateNode = new FN), u; case 22: return o = o.stateNode, u = o._retryCache, u === null && (u = o._retryCache = new FN), u; default: throw Error(n(435, o.tag)) } } function Sh(o, u) { var p = q9(o); u.forEach(function (x) { if (!p.has(x)) { p.add(x); var E = tB.bind(null, o, x); x.then(E, E) } }) } function aa(o, u) { var p = u.deletions; if (p !== null) for (var x = 0; x < p.length; x++) { var E = p[x], N = o, L = u, K = L; e: for (; K !== null;) { switch (K.tag) { case 27: if (po(K.type)) { or = K.stateNode, na = !1; break e } break; case 5: or = K.stateNode, na = !1; break e; case 3: case 4: or = K.stateNode.containerInfo, na = !0; break e }K = K.return } if (or === null) throw Error(n(160)); $N(N, L, E), or = null, na = !1, N = E.alternate, N !== null && (N.return = null), E.return = null } if (u.subtreeFlags & 13886) for (u = u.child; u !== null;)GN(u, o), u = u.sibling } var ni = null; function GN(o, u) { var p = o.alternate, x = o.flags; switch (o.tag) { case 0: case 11: case 14: case 15: aa(u, o), ia(o), x & 4 && (so(3, o, o.return), jd(3, o), so(5, o, o.return)); break; case 1: aa(u, o), ia(o), x & 512 && (Pr || p === null || Ii(p, p.return)), x & 64 && ds && (o = o.updateQueue, o !== null && (x = o.callbacks, x !== null && (p = o.shared.hiddenCallbacks, o.shared.hiddenCallbacks = p === null ? x : p.concat(x)))); break; case 26: var E = ni; if (aa(u, o), ia(o), x & 512 && (Pr || p === null || Ii(p, p.return)), x & 4) { var N = p !== null ? p.memoizedState : null; if (x = o.memoizedState, p === null) if (x === null) if (o.stateNode === null) { e: { x = o.type, p = o.memoizedProps, E = E.ownerDocument || E; t: switch (x) { case "title": N = E.getElementsByTagName("title")[0], (!N || N[ke] || N[Q] || N.namespaceURI === "http://www.w3.org/2000/svg" || N.hasAttribute("itemprop")) && (N = E.createElement(x), E.head.insertBefore(N, E.querySelector("head > title"))), xn(N, x, p), N[Q] = o, Ke(N), x = N; break e; case "link": var L = G2("link", "href", E).get(x + (p.href || "")); if (L) { for (var K = 0; K < L.length; K++)if (N = L[K], N.getAttribute("href") === (p.href == null || p.href === "" ? null : p.href) && N.getAttribute("rel") === (p.rel == null ? null : p.rel) && N.getAttribute("title") === (p.title == null ? null : p.title) && N.getAttribute("crossorigin") === (p.crossOrigin == null ? null : p.crossOrigin)) { L.splice(K, 1); break t } } N = E.createElement(x), xn(N, x, p), E.head.appendChild(N); break; case "meta": if (L = G2("meta", "content", E).get(x + (p.content || ""))) { for (K = 0; K < L.length; K++)if (N = L[K], N.getAttribute("content") === (p.content == null ? null : "" + p.content) && N.getAttribute("name") === (p.name == null ? null : p.name) && N.getAttribute("property") === (p.property == null ? null : p.property) && N.getAttribute("http-equiv") === (p.httpEquiv == null ? null : p.httpEquiv) && N.getAttribute("charset") === (p.charSet == null ? null : p.charSet)) { L.splice(K, 1); break t } } N = E.createElement(x), xn(N, x, p), E.head.appendChild(N); break; default: throw Error(n(468, x)) }N[Q] = o, Ke(N), x = N } o.stateNode = x } else V2(E, o.type, o.stateNode); else o.stateNode = H2(E, x, o.memoizedProps); else N !== x ? (N === null ? p.stateNode !== null && (p = p.stateNode, p.parentNode.removeChild(p)) : N.count--, x === null ? V2(E, o.type, o.stateNode) : H2(E, x, o.memoizedProps)) : x === null && o.stateNode !== null && qv(o, o.memoizedProps, p.memoizedProps) } break; case 27: aa(u, o), ia(o), x & 512 && (Pr || p === null || Ii(p, p.return)), p !== null && x & 4 && qv(o, o.memoizedProps, p.memoizedProps); break; case 5: if (aa(u, o), ia(o), x & 512 && (Pr || p === null || Ii(p, p.return)), o.flags & 32) { E = o.stateNode; try { xc(E, "") } catch (qe) { $t(o, o.return, qe) } } x & 4 && o.stateNode != null && (E = o.memoizedProps, qv(o, E, p !== null ? p.memoizedProps : E)), x & 1024 && (Yv = !0); break; case 6: if (aa(u, o), ia(o), x & 4) { if (o.stateNode === null) throw Error(n(162)); x = o.memoizedProps, p = o.stateNode; try { p.nodeValue = x } catch (qe) { $t(o, o.return, qe) } } break; case 3: if (Uh = null, E = ni, ni = Lh(u.containerInfo), aa(u, o), ni = E, ia(o), x & 4 && p !== null && p.memoizedState.isDehydrated) try { Kc(u.containerInfo) } catch (qe) { $t(o, o.return, qe) } Yv && (Yv = !1, VN(o)); break; case 4: x = ni, ni = Lh(o.stateNode.containerInfo), aa(u, o), ia(o), ni = x; break; case 12: aa(u, o), ia(o); break; case 31: aa(u, o), ia(o), x & 4 && (x = o.updateQueue, x !== null && (o.updateQueue = null, Sh(o, x))); break; case 13: aa(u, o), ia(o), o.child.flags & 8192 && o.memoizedState !== null != (p !== null && p.memoizedState !== null) && (kh = Mt()), x & 4 && (x = o.updateQueue, x !== null && (o.updateQueue = null, Sh(o, x))); break; case 22: E = o.memoizedState !== null; var ue = p !== null && p.memoizedState !== null, be = ds, Ne = Pr; if (ds = be || E, Pr = Ne || ue, aa(u, o), Pr = Ne, ds = be, ia(o), x & 8192) e: for (u = o.stateNode, u._visibility = E ? u._visibility & -2 : u._visibility | 1, E && (p === null || ue || ds || Pr || pl(o)), p = null, u = o; ;) { if (u.tag === 5 || u.tag === 26) { if (p === null) { ue = p = u; try { if (N = ue.stateNode, E) L = N.style, typeof L.setProperty == "function" ? L.setProperty("display", "none", "important") : L.display = "none"; else { K = ue.stateNode; var je = ue.memoizedProps.style, Ee = je != null && je.hasOwnProperty("display") ? je.display : null; K.style.display = Ee == null || typeof Ee == "boolean" ? "" : ("" + Ee).trim() } } catch (qe) { $t(ue, ue.return, qe) } } } else if (u.tag === 6) { if (p === null) { ue = u; try { ue.stateNode.nodeValue = E ? "" : ue.memoizedProps } catch (qe) { $t(ue, ue.return, qe) } } } else if (u.tag === 18) { if (p === null) { ue = u; try { var Te = ue.stateNode; E ? P2(Te, !0) : P2(ue.stateNode, !1) } catch (qe) { $t(ue, ue.return, qe) } } } else if ((u.tag !== 22 && u.tag !== 23 || u.memoizedState === null || u === o) && u.child !== null) { u.child.return = u, u = u.child; continue } if (u === o) break e; for (; u.sibling === null;) { if (u.return === null || u.return === o) break e; p === u && (p = null), u = u.return } p === u && (p = null), u.sibling.return = u.return, u = u.sibling } x & 4 && (x = o.updateQueue, x !== null && (p = x.retryQueue, p !== null && (x.retryQueue = null, Sh(o, p)))); break; case 19: aa(u, o), ia(o), x & 4 && (x = o.updateQueue, x !== null && (o.updateQueue = null, Sh(o, x))); break; case 30: break; case 21: break; default: aa(u, o), ia(o) } } function ia(o) { var u = o.flags; if (u & 2) { try { for (var p, x = o.return; x !== null;) { if (MN(x)) { p = x; break } x = x.return } if (p == null) throw Error(n(160)); switch (p.tag) { case 27: var E = p.stateNode, N = Wv(o); _h(o, N, E); break; case 5: var L = p.stateNode; p.flags & 32 && (xc(L, ""), p.flags &= -33); var K = Wv(o); _h(o, K, L); break; case 3: case 4: var ue = p.stateNode.containerInfo, be = Wv(o); Kv(o, be, ue); break; default: throw Error(n(161)) } } catch (Ne) { $t(o, o.return, Ne) } o.flags &= -3 } u & 4096 && (o.flags &= -4097) } function VN(o) { if (o.subtreeFlags & 1024) for (o = o.child; o !== null;) { var u = o; VN(u), u.tag === 5 && u.flags & 1024 && u.stateNode.reset(), o = o.sibling } } function hs(o, u) { if (u.subtreeFlags & 8772) for (u = u.child; u !== null;)UN(o, u.alternate, u), u = u.sibling } function pl(o) { for (o = o.child; o !== null;) { var u = o; switch (u.tag) { case 0: case 11: case 14: case 15: so(4, u, u.return), pl(u); break; case 1: Ii(u, u.return); var p = u.stateNode; typeof p.componentWillUnmount == "function" && PN(u, u.return, p), pl(u); break; case 27: Bd(u.stateNode); case 26: case 5: Ii(u, u.return), pl(u); break; case 22: u.memoizedState === null && pl(u); break; case 30: pl(u); break; default: pl(u) }o = o.sibling } } function ps(o, u, p) { for (p = p && (u.subtreeFlags & 8772) !== 0, u = u.child; u !== null;) { var x = u.alternate, E = o, N = u, L = N.flags; switch (N.tag) { case 0: case 11: case 15: ps(E, N, p), jd(4, N); break; case 1: if (ps(E, N, p), x = N, E = x.stateNode, typeof E.componentDidMount == "function") try { E.componentDidMount() } catch (be) { $t(x, x.return, be) } if (x = N, E = x.updateQueue, E !== null) { var K = x.stateNode; try { var ue = E.shared.hiddenCallbacks; if (ue !== null) for (E.shared.hiddenCallbacks = null, E = 0; E < ue.length; E++)_T(ue[E], K) } catch (be) { $t(x, x.return, be) } } p && L & 64 && RN(N), Id(N, N.return); break; case 27: LN(N); case 26: case 5: ps(E, N, p), p && x === null && L & 4 && DN(N), Id(N, N.return); break; case 12: ps(E, N, p); break; case 31: ps(E, N, p), p && L & 4 && zN(E, N); break; case 13: ps(E, N, p), p && L & 4 && HN(E, N); break; case 22: N.memoizedState === null && ps(E, N, p), Id(N, N.return); break; case 30: break; default: ps(E, N, p) }u = u.sibling } } function Xv(o, u) { var p = null; o !== null && o.memoizedState !== null && o.memoizedState.cachePool !== null && (p = o.memoizedState.cachePool.pool), o = null, u.memoizedState !== null && u.memoizedState.cachePool !== null && (o = u.memoizedState.cachePool.pool), o !== p && (o != null && o.refCount++, p != null && xd(p)) } function Jv(o, u) { o = null, u.alternate !== null && (o = u.alternate.memoizedState.cache), u = u.memoizedState.cache, u !== o && (u.refCount++, o != null && xd(o)) } function ai(o, u, p, x) { if (u.subtreeFlags & 10256) for (u = u.child; u !== null;)qN(o, u, p, x), u = u.sibling } function qN(o, u, p, x) { var E = u.flags; switch (u.tag) { case 0: case 11: case 15: ai(o, u, p, x), E & 2048 && jd(9, u); break; case 1: ai(o, u, p, x); break; case 3: ai(o, u, p, x), E & 2048 && (o = null, u.alternate !== null && (o = u.alternate.memoizedState.cache), u = u.memoizedState.cache, u !== o && (u.refCount++, o != null && xd(o))); break; case 12: if (E & 2048) { ai(o, u, p, x), o = u.stateNode; try { var N = u.memoizedProps, L = N.id, K = N.onPostCommit; typeof K == "function" && K(L, u.alternate === null ? "mount" : "update", o.passiveEffectDuration, -0) } catch (ue) { $t(u, u.return, ue) } } else ai(o, u, p, x); break; case 31: ai(o, u, p, x); break; case 13: ai(o, u, p, x); break; case 23: break; case 22: N = u.stateNode, L = u.alternate, u.memoizedState !== null ? N._visibility & 2 ? ai(o, u, p, x) : Od(o, u) : N._visibility & 2 ? ai(o, u, p, x) : (N._visibility |= 2, Lc(o, u, p, x, (u.subtreeFlags & 10256) !== 0 || !1)), E & 2048 && Xv(L, u); break; case 24: ai(o, u, p, x), E & 2048 && Jv(u.alternate, u); break; default: ai(o, u, p, x) } } function Lc(o, u, p, x, E) { for (E = E && ((u.subtreeFlags & 10256) !== 0 || !1), u = u.child; u !== null;) { var N = o, L = u, K = p, ue = x, be = L.flags; switch (L.tag) { case 0: case 11: case 15: Lc(N, L, K, ue, E), jd(8, L); break; case 23: break; case 22: var Ne = L.stateNode; L.memoizedState !== null ? Ne._visibility & 2 ? Lc(N, L, K, ue, E) : Od(N, L) : (Ne._visibility |= 2, Lc(N, L, K, ue, E)), E && be & 2048 && Xv(L.alternate, L); break; case 24: Lc(N, L, K, ue, E), E && be & 2048 && Jv(L.alternate, L); break; default: Lc(N, L, K, ue, E) }u = u.sibling } } function Od(o, u) { if (u.subtreeFlags & 10256) for (u = u.child; u !== null;) { var p = o, x = u, E = x.flags; switch (x.tag) { case 22: Od(p, x), E & 2048 && Xv(x.alternate, x); break; case 24: Od(p, x), E & 2048 && Jv(x.alternate, x); break; default: Od(p, x) }u = u.sibling } } var Rd = 8192; function Fc(o, u, p) { if (o.subtreeFlags & Rd) for (o = o.child; o !== null;)WN(o, u, p), o = o.sibling } function WN(o, u, p) { switch (o.tag) { case 26: Fc(o, u, p), o.flags & Rd && o.memoizedState !== null && OB(p, ni, o.memoizedState, o.memoizedProps); break; case 5: Fc(o, u, p); break; case 3: case 4: var x = ni; ni = Lh(o.stateNode.containerInfo), Fc(o, u, p), ni = x; break; case 22: o.memoizedState === null && (x = o.alternate, x !== null && x.memoizedState !== null ? (x = Rd, Rd = 16777216, Fc(o, u, p), Rd = x) : Fc(o, u, p)); break; default: Fc(o, u, p) } } function KN(o) { var u = o.alternate; if (u !== null && (o = u.child, o !== null)) { u.child = null; do u = o.sibling, o.sibling = null, o = u; while (o !== null) } } function Pd(o) { var u = o.deletions; if ((o.flags & 16) !== 0) { if (u !== null) for (var p = 0; p < u.length; p++) { var x = u[p]; Qr = x, XN(x, o) } KN(o) } if (o.subtreeFlags & 10256) for (o = o.child; o !== null;)YN(o), o = o.sibling } function YN(o) { switch (o.tag) { case 0: case 11: case 15: Pd(o), o.flags & 2048 && so(9, o, o.return); break; case 3: Pd(o); break; case 12: Pd(o); break; case 22: var u = o.stateNode; o.memoizedState !== null && u._visibility & 2 && (o.return === null || o.return.tag !== 13) ? (u._visibility &= -3, Eh(o)) : Pd(o); break; default: Pd(o) } } function Eh(o) { var u = o.deletions; if ((o.flags & 16) !== 0) { if (u !== null) for (var p = 0; p < u.length; p++) { var x = u[p]; Qr = x, XN(x, o) } KN(o) } for (o = o.child; o !== null;) { switch (u = o, u.tag) { case 0: case 11: case 15: so(8, u, u.return), Eh(u); break; case 22: p = u.stateNode, p._visibility & 2 && (p._visibility &= -3, Eh(u)); break; default: Eh(u) }o = o.sibling } } function XN(o, u) { for (; Qr !== null;) { var p = Qr; switch (p.tag) { case 0: case 11: case 15: so(8, p, u); break; case 23: case 22: if (p.memoizedState !== null && p.memoizedState.cachePool !== null) { var x = p.memoizedState.cachePool.pool; x != null && x.refCount++ } break; case 24: xd(p.memoizedState.cache) }if (x = p.child, x !== null) x.return = p, Qr = x; else e: for (p = o; Qr !== null;) { x = Qr; var E = x.sibling, N = x.return; if (BN(x), x === p) { Qr = null; break e } if (E !== null) { E.return = N, Qr = E; break e } Qr = N } } } var W9 = { getCacheForType: function (o) { var u = mn(Ir), p = u.data.get(o); return p === void 0 && (p = o(), u.data.set(o, p)), p }, cacheSignal: function () { return mn(Ir).controller.signal } }, K9 = typeof WeakMap == "function" ? WeakMap : Map, Dt = 0, Kt = null, vt = null, bt = 0, Bt = 0, xa = null, oo = !1, Uc = !1, Zv = !1, ms = 0, xr = 0, lo = 0, ml = 0, Qv = 0, va = 0, Bc = 0, Dd = null, sa = null, ey = !1, kh = 0, JN = 0, Th = 1 / 0, Nh = null, co = null, $r = 0, uo = null, $c = null, gs = 0, ty = 0, ry = null, ZN = null, Md = 0, ny = null; function ya() { return (Dt & 2) !== 0 && bt !== 0 ? bt & -bt : D.T !== null ? cy() : q() } function QN() { if (va === 0) if ((bt & 536870912) === 0 || _t) { var o = Ct; Ct <<= 1, (Ct & 3932160) === 0 && (Ct = 262144), va = o } else va = 536870912; return o = ma.current, o !== null && (o.flags |= 32), va } function oa(o, u, p) { (o === Kt && (Bt === 2 || Bt === 9) || o.cancelPendingCommit !== null) && (zc(o, 0), fo(o, bt, va, !1)), Ni(o, p), ((Dt & 2) === 0 || o !== Kt) && (o === Kt && ((Dt & 2) === 0 && (ml |= p), xr === 4 && fo(o, bt, va, !1)), Oi(o)) } function e2(o, u, p) { if ((Dt & 6) !== 0) throw Error(n(327)); var x = !p && (u & 127) === 0 && (u & o.expiredLanes) === 0 || fn(o, u), E = x ? J9(o, u) : iy(o, u, !0), N = x; do { if (E === 0) { Uc && !x && fo(o, u, 0, !1); break } else { if (p = o.current.alternate, N && !Y9(p)) { E = iy(o, u, !1), N = !1; continue } if (E === 2) { if (N = u, o.errorRecoveryDisabledLanes & N) var L = 0; else L = o.pendingLanes & -536870913, L = L !== 0 ? L : L & 536870912 ? 536870912 : 0; if (L !== 0) { u = L; e: { var K = o; E = Dd; var ue = K.current.memoizedState.isDehydrated; if (ue && (zc(K, L).flags |= 256), L = iy(K, L, !1), L !== 2) { if (Zv && !ue) { K.errorRecoveryDisabledLanes |= N, ml |= N, E = 4; break e } N = sa, sa = E, N !== null && (sa === null ? sa = N : sa.push.apply(sa, N)) } E = L } if (N = !1, E !== 2) continue } } if (E === 1) { zc(o, 0), fo(o, u, 0, !0); break } e: { switch (x = o, N = E, N) { case 0: case 1: throw Error(n(345)); case 4: if ((u & 4194048) !== u) break; case 6: fo(x, u, va, !oo); break e; case 2: sa = null; break; case 3: case 5: break; default: throw Error(n(329)) }if ((u & 62914560) === u && (E = kh + 300 - Mt(), 10 < E)) { if (fo(x, u, va, !oo), Zr(x, 0, !0) !== 0) break e; gs = u, x.timeoutHandle = I2(t2.bind(null, x, p, sa, Nh, ey, u, va, ml, Bc, oo, N, "Throttled", -0, 0), E); break e } t2(x, p, sa, Nh, ey, u, va, ml, Bc, oo, N, null, -0, 0) } } break } while (!0); Oi(o) } function t2(o, u, p, x, E, N, L, K, ue, be, Ne, je, Ee, Te) { if (o.timeoutHandle = -1, je = u.subtreeFlags, je & 8192 || (je & 16785408) === 16785408) { je = { stylesheets: null, count: 0, imgCount: 0, imgBytes: 0, suspenseyImages: [], waitingForImages: !0, waitingForViewTransition: !1, unsuspend: ts }, WN(u, N, je); var qe = (N & 62914560) === N ? kh - Mt() : (N & 4194048) === N ? JN - Mt() : 0; if (qe = RB(je, qe), qe !== null) { gs = N, o.cancelPendingCommit = qe(c2.bind(null, o, u, N, p, x, E, L, K, ue, Ne, je, null, Ee, Te)), fo(o, N, L, !be); return } } c2(o, u, N, p, x, E, L, K, ue) } function Y9(o) { for (var u = o; ;) { var p = u.tag; if ((p === 0 || p === 11 || p === 15) && u.flags & 16384 && (p = u.updateQueue, p !== null && (p = p.stores, p !== null))) for (var x = 0; x < p.length; x++) { var E = p[x], N = E.getSnapshot; E = E.value; try { if (!ha(N(), E)) return !1 } catch { return !1 } } if (p = u.child, u.subtreeFlags & 16384 && p !== null) p.return = u, u = p; else { if (u === o) break; for (; u.sibling === null;) { if (u.return === null || u.return === o) return !0; u = u.return } u.sibling.return = u.return, u = u.sibling } } return !0 } function fo(o, u, p, x) { u &= ~Qv, u &= ~ml, o.suspendedLanes |= u, o.pingedLanes &= ~u, x && (o.warmLanes |= u), x = o.expirationTimes; for (var E = u; 0 < E;) { var N = 31 - ve(E), L = 1 << N; x[N] = -1, E &= ~L } p !== 0 && Jo(o, p, u) } function Ah() { return (Dt & 6) === 0 ? (Ld(0), !1) : !0 } function ay() { if (vt !== null) { if (Bt === 0) var o = vt.return; else o = vt, is = sl = null, bv(o), Oc = null, yd = 0, o = vt; for (; o !== null;)ON(o.alternate, o), o = o.return; vt = null } } function zc(o, u) { var p = o.timeoutHandle; p !== -1 && (o.timeoutHandle = -1, mB(p)), p = o.cancelPendingCommit, p !== null && (o.cancelPendingCommit = null, p()), gs = 0, ay(), Kt = o, vt = p = ns(o.current, null), bt = u, Bt = 0, xa = null, oo = !1, Uc = fn(o, u), Zv = !1, Bc = va = Qv = ml = lo = xr = 0, sa = Dd = null, ey = !1, (u & 8) !== 0 && (u |= u & 32); var x = o.entangledLanes; if (x !== 0) for (o = o.entanglements, x &= u; 0 < x;) { var E = 31 - ve(x), N = 1 << E; u |= o[E], x &= ~N } return ms = u, Y0(), p } function r2(o, u) { dt = null, D.H = Nd, u === Ic || u === nh ? (u = vT(), Bt = 3) : u === lv ? (u = vT(), Bt = 4) : Bt = u === Mv ? 8 : u !== null && typeof u == "object" && typeof u.then == "function" ? 6 : 1, xa = u, vt === null && (xr = 1, xh(o, Oa(u, o.current))) } function n2() { var o = ma.current; return o === null ? !0 : (bt & 4194048) === bt ? Ma === null : (bt & 62914560) === bt || (bt & 536870912) !== 0 ? o === Ma : !1 } function a2() { var o = D.H; return D.H = Nd, o === null ? Nd : o } function i2() { var o = D.A; return D.A = W9, o } function Ch() { xr = 4, oo || (bt & 4194048) !== bt && ma.current !== null || (Uc = !0), (lo & 134217727) === 0 && (ml & 134217727) === 0 || Kt === null || fo(Kt, bt, va, !1) } function iy(o, u, p) { var x = Dt; Dt |= 2; var E = a2(), N = i2(); (Kt !== o || bt !== u) && (Nh = null, zc(o, u)), u = !1; var L = xr; e: do try { if (Bt !== 0 && vt !== null) { var K = vt, ue = xa; switch (Bt) { case 8: ay(), L = 6; break e; case 3: case 2: case 9: case 6: ma.current === null && (u = !0); var be = Bt; if (Bt = 0, xa = null, Hc(o, K, ue, be), p && Uc) { L = 0; break e } break; default: be = Bt, Bt = 0, xa = null, Hc(o, K, ue, be) } } X9(), L = xr; break } catch (Ne) { r2(o, Ne) } while (!0); return u && o.shellSuspendCounter++, is = sl = null, Dt = x, D.H = E, D.A = N, vt === null && (Kt = null, bt = 0, Y0()), L } function X9() { for (; vt !== null;)s2(vt) } function J9(o, u) { var p = Dt; Dt |= 2; var x = a2(), E = i2(); Kt !== o || bt !== u ? (Nh = null, Th = Mt() + 500, zc(o, u)) : Uc = fn(o, u); e: do try { if (Bt !== 0 && vt !== null) { u = vt; var N = xa; t: switch (Bt) { case 1: Bt = 0, xa = null, Hc(o, u, N, 1); break; case 2: case 9: if (gT(N)) { Bt = 0, xa = null, o2(u); break } u = function () { Bt !== 2 && Bt !== 9 || Kt !== o || (Bt = 7), Oi(o) }, N.then(u, u); break e; case 3: Bt = 7; break e; case 4: Bt = 5; break e; case 7: gT(N) ? (Bt = 0, xa = null, o2(u)) : (Bt = 0, xa = null, Hc(o, u, N, 7)); break; case 5: var L = null; switch (vt.tag) { case 26: L = vt.memoizedState; case 5: case 27: var K = vt; if (L ? q2(L) : K.stateNode.complete) { Bt = 0, xa = null; var ue = K.sibling; if (ue !== null) vt = ue; else { var be = K.return; be !== null ? (vt = be, jh(be)) : vt = null } break t } }Bt = 0, xa = null, Hc(o, u, N, 5); break; case 6: Bt = 0, xa = null, Hc(o, u, N, 6); break; case 8: ay(), xr = 6; break e; default: throw Error(n(462)) } } Z9(); break } catch (Ne) { r2(o, Ne) } while (!0); return is = sl = null, D.H = x, D.A = E, Dt = p, vt !== null ? 0 : (Kt = null, bt = 0, Y0(), xr) } function Z9() { for (; vt !== null && !Ti();)s2(vt) } function s2(o) { var u = jN(o.alternate, o, ms); o.memoizedProps = o.pendingProps, u === null ? jh(o) : vt = u } function o2(o) { var u = o, p = u.alternate; switch (u.tag) { case 15: case 0: u = EN(p, u, u.pendingProps, u.type, void 0, bt); break; case 11: u = EN(p, u, u.pendingProps, u.type.render, u.ref, bt); break; case 5: bv(u); default: ON(p, u), u = vt = iT(u, ms), u = jN(p, u, ms) }o.memoizedProps = o.pendingProps, u === null ? jh(o) : vt = u } function Hc(o, u, p, x) { is = sl = null, bv(u), Oc = null, yd = 0; var E = u.return; try { if (B9(o, E, u, p, bt)) { xr = 1, xh(o, Oa(p, o.current)), vt = null; return } } catch (N) { if (E !== null) throw vt = E, N; xr = 1, xh(o, Oa(p, o.current)), vt = null; return } u.flags & 32768 ? (_t || x === 1 ? o = !0 : Uc || (bt & 536870912) !== 0 ? o = !1 : (oo = o = !0, (x === 2 || x === 9 || x === 3 || x === 6) && (x = ma.current, x !== null && x.tag === 13 && (x.flags |= 16384))), l2(u, o)) : jh(u) } function jh(o) { var u = o; do { if ((u.flags & 32768) !== 0) { l2(u, oo); return } o = u.return; var p = H9(u.alternate, u, ms); if (p !== null) { vt = p; return } if (u = u.sibling, u !== null) { vt = u; return } vt = u = o } while (u !== null); xr === 0 && (xr = 5) } function l2(o, u) { do { var p = G9(o.alternate, o); if (p !== null) { p.flags &= 32767, vt = p; return } if (p = o.return, p !== null && (p.flags |= 32768, p.subtreeFlags = 0, p.deletions = null), !u && (o = o.sibling, o !== null)) { vt = o; return } vt = o = p } while (o !== null); xr = 6, vt = null } function c2(o, u, p, x, E, N, L, K, ue) { o.cancelPendingCommit = null; do Ih(); while ($r !== 0); if ((Dt & 6) !== 0) throw Error(n(327)); if (u !== null) { if (u === o.current) throw Error(n(177)); if (N = u.lanes | u.childLanes, N |= Wx, pc(o, p, N, L, K, ue), o === Kt && (vt = Kt = null, bt = 0), $c = u, uo = o, gs = p, ty = N, ry = E, ZN = x, (u.subtreeFlags & 10256) !== 0 || (u.flags & 10256) !== 0 ? (o.callbackNode = null, o.callbackPriority = 0, rB(Fe, function () { return p2(), null })) : (o.callbackNode = null, o.callbackPriority = 0), x = (u.flags & 13878) !== 0, (u.subtreeFlags & 13878) !== 0 || x) { x = D.T, D.T = null, E = z.p, z.p = 2, L = Dt, Dt |= 4; try { V9(o, u, p) } finally { Dt = L, z.p = E, D.T = x } } $r = 1, u2(), d2(), f2() } } function u2() { if ($r === 1) { $r = 0; var o = uo, u = $c, p = (u.flags & 13878) !== 0; if ((u.subtreeFlags & 13878) !== 0 || p) { p = D.T, D.T = null; var x = z.p; z.p = 2; var E = Dt; Dt |= 4; try { GN(u, o); var N = xy, L = Xk(o.containerInfo), K = N.focusedElem, ue = N.selectionRange; if (L !== K && K && K.ownerDocument && Yk(K.ownerDocument.documentElement, K)) { if (ue !== null && zx(K)) { var be = ue.start, Ne = ue.end; if (Ne === void 0 && (Ne = be), "selectionStart" in K) K.selectionStart = be, K.selectionEnd = Math.min(Ne, K.value.length); else { var je = K.ownerDocument || document, Ee = je && je.defaultView || window; if (Ee.getSelection) { var Te = Ee.getSelection(), qe = K.textContent.length, et = Math.min(ue.start, qe), qt = ue.end === void 0 ? et : Math.min(ue.end, qe); !Te.extend && et > qt && (L = qt, qt = et, et = L); var ge = Kk(K, et), he = Kk(K, qt); if (ge && he && (Te.rangeCount !== 1 || Te.anchorNode !== ge.node || Te.anchorOffset !== ge.offset || Te.focusNode !== he.node || Te.focusOffset !== he.offset)) { var ye = je.createRange(); ye.setStart(ge.node, ge.offset), Te.removeAllRanges(), et > qt ? (Te.addRange(ye), Te.extend(he.node, he.offset)) : (ye.setEnd(he.node, he.offset), Te.addRange(ye)) } } } } for (je = [], Te = K; Te = Te.parentNode;)Te.nodeType === 1 && je.push({ element: Te, left: Te.scrollLeft, top: Te.scrollTop }); for (typeof K.focus == "function" && K.focus(), K = 0; K < je.length; K++) { var Ce = je[K]; Ce.element.scrollLeft = Ce.left, Ce.element.scrollTop = Ce.top } } Hh = !!gy, xy = gy = null } finally { Dt = E, z.p = x, D.T = p } } o.current = u, $r = 2 } } function d2() { if ($r === 2) { $r = 0; var o = uo, u = $c, p = (u.flags & 8772) !== 0; if ((u.subtreeFlags & 8772) !== 0 || p) { p = D.T, D.T = null; var x = z.p; z.p = 2; var E = Dt; Dt |= 4; try { UN(o, u.alternate, u) } finally { Dt = E, z.p = x, D.T = p } } $r = 3 } } function f2() { if ($r === 4 || $r === 3) { $r = 0, fa(); var o = uo, u = $c, p = gs, x = ZN; (u.subtreeFlags & 10256) !== 0 || (u.flags & 10256) !== 0 ? $r = 5 : ($r = 0, $c = uo = null, h2(o, o.pendingLanes)); var E = o.pendingLanes; if (E === 0 && (co = null), Ks(p), u = u.stateNode, hr && typeof hr.onCommitFiberRoot == "function") try { hr.onCommitFiberRoot(Pt, u, void 0, (u.current.flags & 128) === 128) } catch { } if (x !== null) { u = D.T, E = z.p, z.p = 2, D.T = null; try { for (var N = o.onRecoverableError, L = 0; L < x.length; L++) { var K = x[L]; N(K.value, { componentStack: K.stack }) } } finally { D.T = u, z.p = E } } (gs & 3) !== 0 && Ih(), Oi(o), E = o.pendingLanes, (p & 261930) !== 0 && (E & 42) !== 0 ? o === ny ? Md++ : (Md = 0, ny = o) : Md = 0, Ld(0) } } function h2(o, u) { (o.pooledCacheLanes &= u) === 0 && (u = o.pooledCache, u != null && (o.pooledCache = null, xd(u))) } function Ih() { return u2(), d2(), f2(), p2() } function p2() { if ($r !== 5) return !1; var o = uo, u = ty; ty = 0; var p = Ks(gs), x = D.T, E = z.p; try { z.p = 32 > p ? 32 : p, D.T = null, p = ry, ry = null; var N = uo, L = gs; if ($r = 0, $c = uo = null, gs = 0, (Dt & 6) !== 0) throw Error(n(331)); var K = Dt; if (Dt |= 4, YN(N.current), qN(N, N.current, L, p), Dt = K, Ld(0, !1), hr && typeof hr.onPostCommitFiberRoot == "function") try { hr.onPostCommitFiberRoot(Pt, N) } catch { } return !0 } finally { z.p = E, D.T = x, h2(o, u) } } function m2(o, u, p) { u = Oa(p, u), u = Dv(o.stateNode, u, 2), o = no(o, u, 2), o !== null && (Ni(o, 2), Oi(o)) } function $t(o, u, p) { if (o.tag === 3) m2(o, o, p); else for (; u !== null;) { if (u.tag === 3) { m2(u, o, p); break } else if (u.tag === 1) { var x = u.stateNode; if (typeof u.type.getDerivedStateFromError == "function" || typeof x.componentDidCatch == "function" && (co === null || !co.has(x))) { o = Oa(p, o), p = gN(2), x = no(u, p, 2), x !== null && (xN(p, x, u, o), Ni(x, 2), Oi(x)); break } } u = u.return } } function sy(o, u, p) { var x = o.pingCache; if (x === null) { x = o.pingCache = new K9; var E = new Set; x.set(u, E) } else E = x.get(u), E === void 0 && (E = new Set, x.set(u, E)); E.has(p) || (Zv = !0, E.add(p), o = Q9.bind(null, o, u, p), u.then(o, o)) } function Q9(o, u, p) { var x = o.pingCache; x !== null && x.delete(u), o.pingedLanes |= o.suspendedLanes & p, o.warmLanes &= ~p, Kt === o && (bt & p) === p && (xr === 4 || xr === 3 && (bt & 62914560) === bt && 300 > Mt() - kh ? (Dt & 2) === 0 && zc(o, 0) : Qv |= p, Bc === bt && (Bc = 0)), Oi(o) } function g2(o, u) { u === 0 && (u = hc()), o = nl(o, u), o !== null && (Ni(o, u), Oi(o)) } function eB(o) { var u = o.memoizedState, p = 0; u !== null && (p = u.retryLane), g2(o, p) } function tB(o, u) { var p = 0; switch (o.tag) { case 31: case 13: var x = o.stateNode, E = o.memoizedState; E !== null && (p = E.retryLane); break; case 19: x = o.stateNode; break; case 22: x = o.stateNode._retryCache; break; default: throw Error(n(314)) }x !== null && x.delete(u), g2(o, p) } function rB(o, u) { return kn(o, u) } var Oh = null, Gc = null, oy = !1, Rh = !1, ly = !1, ho = 0; function Oi(o) { o !== Gc && o.next === null && (Gc === null ? Oh = Gc = o : Gc = Gc.next = o), Rh = !0, oy || (oy = !0, aB()) } function Ld(o, u) { if (!ly && Rh) { ly = !0; do for (var p = !1, x = Oh; x !== null;) { if (o !== 0) { var E = x.pendingLanes; if (E === 0) var N = 0; else { var L = x.suspendedLanes, K = x.pingedLanes; N = (1 << 31 - ve(42 | o) + 1) - 1, N &= E & ~(L & ~K), N = N & 201326741 ? N & 201326741 | 1 : N ? N | 2 : 0 } N !== 0 && (p = !0, b2(x, N)) } else N = bt, N = Zr(x, x === Kt ? N : 0, x.cancelPendingCommit !== null || x.timeoutHandle !== -1), (N & 3) === 0 || fn(x, N) || (p = !0, b2(x, N)); x = x.next } while (p); ly = !1 } } function nB() { x2() } function x2() { Rh = oy = !1; var o = 0; ho !== 0 && pB() && (o = ho); for (var u = Mt(), p = null, x = Oh; x !== null;) { var E = x.next, N = v2(x, u); N === 0 ? (x.next = null, p === null ? Oh = E : p.next = E, E === null && (Gc = p)) : (p = x, (o !== 0 || (N & 3) !== 0) && (Rh = !0)), x = E } $r !== 0 && $r !== 5 || Ld(o), ho !== 0 && (ho = 0) } function v2(o, u) { for (var p = o.suspendedLanes, x = o.pingedLanes, E = o.expirationTimes, N = o.pendingLanes & -62914561; 0 < N;) { var L = 31 - ve(N), K = 1 << L, ue = E[L]; ue === -1 ? ((K & p) === 0 || (K & x) !== 0) && (E[L] = ti(K, u)) : ue <= u && (o.expiredLanes |= K), N &= ~K } if (u = Kt, p = bt, p = Zr(o, o === u ? p : 0, o.cancelPendingCommit !== null || o.timeoutHandle !== -1), x = o.callbackNode, p === 0 || o === u && (Bt === 2 || Bt === 9) || o.cancelPendingCommit !== null) return x !== null && x !== null && Xr(x), o.callbackNode = null, o.callbackPriority = 0; if ((p & 3) === 0 || fn(o, p)) { if (u = p & -p, u === o.callbackPriority) return u; switch (x !== null && Xr(x), Ks(p)) { case 2: case 8: p = ei; break; case 32: p = Fe; break; case 268435456: p = ut; break; default: p = Fe }return x = y2.bind(null, o), p = kn(p, x), o.callbackPriority = u, o.callbackNode = p, u } return x !== null && x !== null && Xr(x), o.callbackPriority = 2, o.callbackNode = null, 2 } function y2(o, u) { if ($r !== 0 && $r !== 5) return o.callbackNode = null, o.callbackPriority = 0, null; var p = o.callbackNode; if (Ih() && o.callbackNode !== p) return null; var x = bt; return x = Zr(o, o === Kt ? x : 0, o.cancelPendingCommit !== null || o.timeoutHandle !== -1), x === 0 ? null : (e2(o, x, u), v2(o, Mt()), o.callbackNode != null && o.callbackNode === p ? y2.bind(null, o) : null) } function b2(o, u) { if (Ih()) return null; e2(o, u, !0) } function aB() { gB(function () { (Dt & 6) !== 0 ? kn(Ht, nB) : x2() }) } function cy() { if (ho === 0) { var o = Cc; o === 0 && (o = gt, gt <<= 1, (gt & 261888) === 0 && (gt = 256)), ho = o } return ho } function w2(o) { return o == null || typeof o == "symbol" || typeof o == "boolean" ? null : typeof o == "function" ? o : $0("" + o) } function _2(o, u) { var p = u.ownerDocument.createElement("input"); return p.name = u.name, p.value = u.value, o.id && p.setAttribute("form", o.id), u.parentNode.insertBefore(p, u), o = new FormData(o), p.parentNode.removeChild(p), o } function iB(o, u, p, x, E) { if (u === "submit" && p && p.stateNode === E) { var N = w2((E[ne] || null).action), L = x.submitter; L && (u = (u = L[ne] || null) ? w2(u.formAction) : L.getAttribute("formAction"), u !== null && (N = u, L = null)); var K = new V0("action", "action", null, x, E); o.push({ event: K, listeners: [{ instance: null, listener: function () { if (x.defaultPrevented) { if (ho !== 0) { var ue = L ? _2(E, L) : new FormData(E); Cv(p, { pending: !0, data: ue, method: E.method, action: N }, null, ue) } } else typeof N == "function" && (K.preventDefault(), ue = L ? _2(E, L) : new FormData(E), Cv(p, { pending: !0, data: ue, method: E.method, action: N }, N, ue)) }, currentTarget: E }] }) } } for (var uy = 0; uy < qx.length; uy++) { var dy = qx[uy], sB = dy.toLowerCase(), oB = dy[0].toUpperCase() + dy.slice(1); ri(sB, "on" + oB) } ri(Qk, "onAnimationEnd"), ri(eT, "onAnimationIteration"), ri(tT, "onAnimationStart"), ri("dblclick", "onDoubleClick"), ri("focusin", "onFocus"), ri("focusout", "onBlur"), ri(S9, "onTransitionRun"), ri(E9, "onTransitionStart"), ri(k9, "onTransitionCancel"), ri(rT, "onTransitionEnd"), Aa("onMouseEnter", ["mouseout", "mouseover"]), Aa("onMouseLeave", ["mouseout", "mouseover"]), Aa("onPointerEnter", ["pointerout", "pointerover"]), Aa("onPointerLeave", ["pointerout", "pointerover"]), sr("onChange", "change click focusin focusout input keydown keyup selectionchange".split(" ")), sr("onSelect", "focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")), sr("onBeforeInput", ["compositionend", "keypress", "textInput", "paste"]), sr("onCompositionEnd", "compositionend focusout keydown keypress keyup mousedown".split(" ")), sr("onCompositionStart", "compositionstart focusout keydown keypress keyup mousedown".split(" ")), sr("onCompositionUpdate", "compositionupdate focusout keydown keypress keyup mousedown".split(" ")); var Fd = "abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "), lB = new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fd)); function S2(o, u) { u = (u & 4) !== 0; for (var p = 0; p < o.length; p++) { var x = o[p], E = x.event; x = x.listeners; e: { var N = void 0; if (u) for (var L = x.length - 1; 0 <= L; L--) { var K = x[L], ue = K.instance, be = K.currentTarget; if (K = K.listener, ue !== N && E.isPropagationStopped()) break e; N = K, E.currentTarget = be; try { N(E) } catch (Ne) { K0(Ne) } E.currentTarget = null, N = ue } else for (L = 0; L < x.length; L++) { if (K = x[L], ue = K.instance, be = K.currentTarget, K = K.listener, ue !== N && E.isPropagationStopped()) break e; N = K, E.currentTarget = be; try { N(E) } catch (Ne) { K0(Ne) } E.currentTarget = null, N = ue } } } } function yt(o, u) { var p = u[we]; p === void 0 && (p = u[we] = new Set); var x = o + "__bubble"; p.has(x) || (E2(u, o, 2, !1), p.add(x)) } function fy(o, u, p) { var x = 0; u && (x |= 4), E2(p, o, x, u) } var Ph = "_reactListening" + Math.random().toString(36).slice(2); function hy(o) { if (!o[Ph]) { o[Ph] = !0, Jt.forEach(function (p) { p !== "selectionchange" && (lB.has(p) || fy(p, !1, o), fy(p, !0, o)) }); var u = o.nodeType === 9 ? o : o.ownerDocument; u === null || u[Ph] || (u[Ph] = !0, fy("selectionchange", !1, u)) } } function E2(o, u, p, x) { switch (Q2(u)) { case 2: var E = MB; break; case 8: E = LB; break; default: E = Ay }p = E.bind(null, u, p, o), E = void 0, !Rx || u !== "touchstart" && u !== "touchmove" && u !== "wheel" || (E = !0), x ? E !== void 0 ? o.addEventListener(u, p, { capture: !0, passive: E }) : o.addEventListener(u, p, !0) : E !== void 0 ? o.addEventListener(u, p, { passive: E }) : o.addEventListener(u, p, !1) } function py(o, u, p, x, E) { var N = x; if ((u & 1) === 0 && (u & 2) === 0 && x !== null) e: for (; ;) { if (x === null) return; var L = x.tag; if (L === 3 || L === 4) { var K = x.stateNode.containerInfo; if (K === E) break; if (L === 4) for (L = x.return; L !== null;) { var ue = L.tag; if ((ue === 3 || ue === 4) && L.stateNode.containerInfo === E) return; L = L.return } for (; K !== null;) { if (L = De(K), L === null) return; if (ue = L.tag, ue === 5 || ue === 6 || ue === 26 || ue === 27) { x = N = L; continue e } K = K.parentNode } } x = x.return } Ck(function () { var be = N, Ne = Ix(p), je = []; e: { var Ee = nT.get(o); if (Ee !== void 0) { var Te = V0, qe = o; switch (o) { case "keypress": if (H0(p) === 0) break e; case "keydown": case "keyup": Te = t9; break; case "focusin": qe = "focus", Te = Lx; break; case "focusout": qe = "blur", Te = Lx; break; case "beforeblur": case "afterblur": Te = Lx; break; case "click": if (p.button === 2) break e; case "auxclick": case "dblclick": case "mousedown": case "mousemove": case "mouseup": case "mouseout": case "mouseover": case "contextmenu": Te = Ok; break; case "drag": case "dragend": case "dragenter": case "dragexit": case "dragleave": case "dragover": case "dragstart": case "drop": Te = HU; break; case "touchcancel": case "touchend": case "touchmove": case "touchstart": Te = a9; break; case Qk: case eT: case tT: Te = qU; break; case rT: Te = s9; break; case "scroll": case "scrollend": Te = $U; break; case "wheel": Te = l9; break; case "copy": case "cut": case "paste": Te = KU; break; case "gotpointercapture": case "lostpointercapture": case "pointercancel": case "pointerdown": case "pointermove": case "pointerout": case "pointerover": case "pointerup": Te = Pk; break; case "toggle": case "beforetoggle": Te = u9 }var et = (u & 4) !== 0, qt = !et && (o === "scroll" || o === "scrollend"), ge = et ? Ee !== null ? Ee + "Capture" : null : Ee; et = []; for (var he = be, ye; he !== null;) { var Ce = he; if (ye = Ce.stateNode, Ce = Ce.tag, Ce !== 5 && Ce !== 26 && Ce !== 27 || ye === null || ge === null || (Ce = sd(he, ge), Ce != null && et.push(Ud(he, Ce, ye))), qt) break; he = he.return } 0 < et.length && (Ee = new Te(Ee, qe, null, p, Ne), je.push({ event: Ee, listeners: et })) } } if ((u & 7) === 0) { e: { if (Ee = o === "mouseover" || o === "pointerover", Te = o === "mouseout" || o === "pointerout", Ee && p !== jx && (qe = p.relatedTarget || p.fromElement) && (De(qe) || qe[se])) break e; if ((Te || Ee) && (Ee = Ne.window === Ne ? Ne : (Ee = Ne.ownerDocument) ? Ee.defaultView || Ee.parentWindow : window, Te ? (qe = p.relatedTarget || p.toElement, Te = be, qe = qe ? De(qe) : null, qe !== null && (qt = i(qe), et = qe.tag, qe !== qt || et !== 5 && et !== 27 && et !== 6) && (qe = null)) : (Te = null, qe = be), Te !== qe)) { if (et = Ok, Ce = "onMouseLeave", ge = "onMouseEnter", he = "mouse", (o === "pointerout" || o === "pointerover") && (et = Pk, Ce = "onPointerLeave", ge = "onPointerEnter", he = "pointer"), qt = Te == null ? Ee : Re(Te), ye = qe == null ? Ee : Re(qe), Ee = new et(Ce, he + "leave", Te, p, Ne), Ee.target = qt, Ee.relatedTarget = ye, Ce = null, De(Ne) === be && (et = new et(ge, he + "enter", qe, p, Ne), et.target = ye, et.relatedTarget = qt, Ce = et), qt = Ce, Te && qe) t: { for (et = cB, ge = Te, he = qe, ye = 0, Ce = ge; Ce; Ce = et(Ce))ye++; Ce = 0; for (var Ze = he; Ze; Ze = et(Ze))Ce++; for (; 0 < ye - Ce;)ge = et(ge), ye--; for (; 0 < Ce - ye;)he = et(he), Ce--; for (; ye--;) { if (ge === he || he !== null && ge === he.alternate) { et = ge; break t } ge = et(ge), he = et(he) } et = null } else et = null; Te !== null && k2(je, Ee, Te, et, !1), qe !== null && qt !== null && k2(je, qt, qe, et, !0) } } e: { if (Ee = be ? Re(be) : window, Te = Ee.nodeName && Ee.nodeName.toLowerCase(), Te === "select" || Te === "input" && Ee.type === "file") var jt = zk; else if (Bk(Ee)) if (Hk) jt = b9; else { jt = v9; var Ye = x9 } else Te = Ee.nodeName, !Te || Te.toLowerCase() !== "input" || Ee.type !== "checkbox" && Ee.type !== "radio" ? be && Cx(be.elementType) && (jt = zk) : jt = y9; if (jt && (jt = jt(o, be))) { $k(je, jt, p, Ne); break e } Ye && Ye(o, Ee, be), o === "focusout" && be && Ee.type === "number" && be.memoizedProps.value != null && Ax(Ee, "number", Ee.value) } switch (Ye = be ? Re(be) : window, o) { case "focusin": (Bk(Ye) || Ye.contentEditable === "true") && (wc = Ye, Hx = be, pd = null); break; case "focusout": pd = Hx = wc = null; break; case "mousedown": Gx = !0; break; case "contextmenu": case "mouseup": case "dragend": Gx = !1, Jk(je, p, Ne); break; case "selectionchange": if (_9) break; case "keydown": case "keyup": Jk(je, p, Ne) }var ht; if (Ux) e: { switch (o) { case "compositionstart": var wt = "onCompositionStart"; break e; case "compositionend": wt = "onCompositionEnd"; break e; case "compositionupdate": wt = "onCompositionUpdate"; break e }wt = void 0 } else bc ? Fk(o, p) && (wt = "onCompositionEnd") : o === "keydown" && p.keyCode === 229 && (wt = "onCompositionStart"); wt && (Dk && p.locale !== "ko" && (bc || wt !== "onCompositionStart" ? wt === "onCompositionEnd" && bc && (ht = jk()) : (Xs = Ne, Px = "value" in Xs ? Xs.value : Xs.textContent, bc = !0)), Ye = Dh(be, wt), 0 < Ye.length && (wt = new Rk(wt, o, null, p, Ne), je.push({ event: wt, listeners: Ye }), ht ? wt.data = ht : (ht = Uk(p), ht !== null && (wt.data = ht)))), (ht = f9 ? h9(o, p) : p9(o, p)) && (wt = Dh(be, "onBeforeInput"), 0 < wt.length && (Ye = new Rk("onBeforeInput", "beforeinput", null, p, Ne), je.push({ event: Ye, listeners: wt }), Ye.data = ht)), iB(je, o, be, p, Ne) } S2(je, u) }) } function Ud(o, u, p) { return { instance: o, listener: u, currentTarget: p } } function Dh(o, u) { for (var p = u + "Capture", x = []; o !== null;) { var E = o, N = E.stateNode; if (E = E.tag, E !== 5 && E !== 26 && E !== 27 || N === null || (E = sd(o, p), E != null && x.unshift(Ud(o, E, N)), E = sd(o, u), E != null && x.push(Ud(o, E, N))), o.tag === 3) return x; o = o.return } return [] } function cB(o) { if (o === null) return null; do o = o.return; while (o && o.tag !== 5 && o.tag !== 27); return o || null } function k2(o, u, p, x, E) { for (var N = u._reactName, L = []; p !== null && p !== x;) { var K = p, ue = K.alternate, be = K.stateNode; if (K = K.tag, ue !== null && ue === x) break; K !== 5 && K !== 26 && K !== 27 || be === null || (ue = be, E ? (be = sd(p, N), be != null && L.unshift(Ud(p, be, ue))) : E || (be = sd(p, N), be != null && L.push(Ud(p, be, ue)))), p = p.return } L.length !== 0 && o.push({ event: u, listeners: L }) } var uB = /\r\n?/g, dB = /\u0000|\uFFFD/g; function T2(o) {
    return (typeof o == "string" ? o : "" + o).replace(uB, `
`).replace(dB, "")
  } function N2(o, u) { return u = T2(u), T2(o) === u } function Vt(o, u, p, x, E, N) { switch (p) { case "children": typeof x == "string" ? u === "body" || u === "textarea" && x === "" || xc(o, x) : (typeof x == "number" || typeof x == "bigint") && u !== "body" && xc(o, "" + x); break; case "className": U0(o, "class", x); break; case "tabIndex": U0(o, "tabindex", x); break; case "dir": case "role": case "viewBox": case "width": case "height": U0(o, p, x); break; case "style": Nk(o, x, N); break; case "data": if (u !== "object") { U0(o, "data", x); break } case "src": case "href": if (x === "" && (u !== "a" || p !== "href")) { o.removeAttribute(p); break } if (x == null || typeof x == "function" || typeof x == "symbol" || typeof x == "boolean") { o.removeAttribute(p); break } x = $0("" + x), o.setAttribute(p, x); break; case "action": case "formAction": if (typeof x == "function") { o.setAttribute(p, "javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')"); break } else typeof N == "function" && (p === "formAction" ? (u !== "input" && Vt(o, u, "name", E.name, E, null), Vt(o, u, "formEncType", E.formEncType, E, null), Vt(o, u, "formMethod", E.formMethod, E, null), Vt(o, u, "formTarget", E.formTarget, E, null)) : (Vt(o, u, "encType", E.encType, E, null), Vt(o, u, "method", E.method, E, null), Vt(o, u, "target", E.target, E, null))); if (x == null || typeof x == "symbol" || typeof x == "boolean") { o.removeAttribute(p); break } x = $0("" + x), o.setAttribute(p, x); break; case "onClick": x != null && (o.onclick = ts); break; case "onScroll": x != null && yt("scroll", o); break; case "onScrollEnd": x != null && yt("scrollend", o); break; case "dangerouslySetInnerHTML": if (x != null) { if (typeof x != "object" || !("__html" in x)) throw Error(n(61)); if (p = x.__html, p != null) { if (E.children != null) throw Error(n(60)); o.innerHTML = p } } break; case "multiple": o.multiple = x && typeof x != "function" && typeof x != "symbol"; break; case "muted": o.muted = x && typeof x != "function" && typeof x != "symbol"; break; case "suppressContentEditableWarning": case "suppressHydrationWarning": case "defaultValue": case "defaultChecked": case "innerHTML": case "ref": break; case "autoFocus": break; case "xlinkHref": if (x == null || typeof x == "function" || typeof x == "boolean" || typeof x == "symbol") { o.removeAttribute("xlink:href"); break } p = $0("" + x), o.setAttributeNS("http://www.w3.org/1999/xlink", "xlink:href", p); break; case "contentEditable": case "spellCheck": case "draggable": case "value": case "autoReverse": case "externalResourcesRequired": case "focusable": case "preserveAlpha": x != null && typeof x != "function" && typeof x != "symbol" ? o.setAttribute(p, "" + x) : o.removeAttribute(p); break; case "inert": case "allowFullScreen": case "async": case "autoPlay": case "controls": case "default": case "defer": case "disabled": case "disablePictureInPicture": case "disableRemotePlayback": case "formNoValidate": case "hidden": case "loop": case "noModule": case "noValidate": case "open": case "playsInline": case "readOnly": case "required": case "reversed": case "scoped": case "seamless": case "itemScope": x && typeof x != "function" && typeof x != "symbol" ? o.setAttribute(p, "") : o.removeAttribute(p); break; case "capture": case "download": x === !0 ? o.setAttribute(p, "") : x !== !1 && x != null && typeof x != "function" && typeof x != "symbol" ? o.setAttribute(p, x) : o.removeAttribute(p); break; case "cols": case "rows": case "size": case "span": x != null && typeof x != "function" && typeof x != "symbol" && !isNaN(x) && 1 <= x ? o.setAttribute(p, x) : o.removeAttribute(p); break; case "rowSpan": case "start": x == null || typeof x == "function" || typeof x == "symbol" || isNaN(x) ? o.removeAttribute(p) : o.setAttribute(p, x); break; case "popover": yt("beforetoggle", o), yt("toggle", o), ta(o, "popover", x); break; case "xlinkActuate": es(o, "http://www.w3.org/1999/xlink", "xlink:actuate", x); break; case "xlinkArcrole": es(o, "http://www.w3.org/1999/xlink", "xlink:arcrole", x); break; case "xlinkRole": es(o, "http://www.w3.org/1999/xlink", "xlink:role", x); break; case "xlinkShow": es(o, "http://www.w3.org/1999/xlink", "xlink:show", x); break; case "xlinkTitle": es(o, "http://www.w3.org/1999/xlink", "xlink:title", x); break; case "xlinkType": es(o, "http://www.w3.org/1999/xlink", "xlink:type", x); break; case "xmlBase": es(o, "http://www.w3.org/XML/1998/namespace", "xml:base", x); break; case "xmlLang": es(o, "http://www.w3.org/XML/1998/namespace", "xml:lang", x); break; case "xmlSpace": es(o, "http://www.w3.org/XML/1998/namespace", "xml:space", x); break; case "is": ta(o, "is", x); break; case "innerText": case "textContent": break; default: (!(2 < p.length) || p[0] !== "o" && p[0] !== "O" || p[1] !== "n" && p[1] !== "N") && (p = UU.get(p) || p, ta(o, p, x)) } } function my(o, u, p, x, E, N) { switch (p) { case "style": Nk(o, x, N); break; case "dangerouslySetInnerHTML": if (x != null) { if (typeof x != "object" || !("__html" in x)) throw Error(n(61)); if (p = x.__html, p != null) { if (E.children != null) throw Error(n(60)); o.innerHTML = p } } break; case "children": typeof x == "string" ? xc(o, x) : (typeof x == "number" || typeof x == "bigint") && xc(o, "" + x); break; case "onScroll": x != null && yt("scroll", o); break; case "onScrollEnd": x != null && yt("scrollend", o); break; case "onClick": x != null && (o.onclick = ts); break; case "suppressContentEditableWarning": case "suppressHydrationWarning": case "innerHTML": case "ref": break; case "innerText": case "textContent": break; default: if (!Zt.hasOwnProperty(p)) e: { if (p[0] === "o" && p[1] === "n" && (E = p.endsWith("Capture"), u = p.slice(2, E ? p.length - 7 : void 0), N = o[ne] || null, N = N != null ? N[p] : null, typeof N == "function" && o.removeEventListener(u, N, E), typeof x == "function")) { typeof N != "function" && N !== null && (p in o ? o[p] = null : o.hasAttribute(p) && o.removeAttribute(p)), o.addEventListener(u, x, E); break e } p in o ? o[p] = x : x === !0 ? o.setAttribute(p, "") : ta(o, p, x) } } } function xn(o, u, p) { switch (u) { case "div": case "span": case "svg": case "path": case "a": case "g": case "p": case "li": break; case "img": yt("error", o), yt("load", o); var x = !1, E = !1, N; for (N in p) if (p.hasOwnProperty(N)) { var L = p[N]; if (L != null) switch (N) { case "src": x = !0; break; case "srcSet": E = !0; break; case "children": case "dangerouslySetInnerHTML": throw Error(n(137, u)); default: Vt(o, u, N, L, p, null) } } E && Vt(o, u, "srcSet", p.srcSet, p, null), x && Vt(o, u, "src", p.src, p, null); return; case "input": yt("invalid", o); var K = N = L = E = null, ue = null, be = null; for (x in p) if (p.hasOwnProperty(x)) { var Ne = p[x]; if (Ne != null) switch (x) { case "name": E = Ne; break; case "type": L = Ne; break; case "checked": ue = Ne; break; case "defaultChecked": be = Ne; break; case "value": N = Ne; break; case "defaultValue": K = Ne; break; case "children": case "dangerouslySetInnerHTML": if (Ne != null) throw Error(n(137, u)); break; default: Vt(o, u, x, Ne, p, null) } } Sk(o, N, K, ue, be, L, E, !1); return; case "select": yt("invalid", o), x = L = N = null; for (E in p) if (p.hasOwnProperty(E) && (K = p[E], K != null)) switch (E) { case "value": N = K; break; case "defaultValue": L = K; break; case "multiple": x = K; default: Vt(o, u, E, K, p, null) }u = N, p = L, o.multiple = !!x, u != null ? gc(o, !!x, u, !1) : p != null && gc(o, !!x, p, !0); return; case "textarea": yt("invalid", o), N = E = x = null; for (L in p) if (p.hasOwnProperty(L) && (K = p[L], K != null)) switch (L) { case "value": x = K; break; case "defaultValue": E = K; break; case "children": N = K; break; case "dangerouslySetInnerHTML": if (K != null) throw Error(n(91)); break; default: Vt(o, u, L, K, p, null) }kk(o, x, E, N); return; case "option": for (ue in p) if (p.hasOwnProperty(ue) && (x = p[ue], x != null)) switch (ue) { case "selected": o.selected = x && typeof x != "function" && typeof x != "symbol"; break; default: Vt(o, u, ue, x, p, null) }return; case "dialog": yt("beforetoggle", o), yt("toggle", o), yt("cancel", o), yt("close", o); break; case "iframe": case "object": yt("load", o); break; case "video": case "audio": for (x = 0; x < Fd.length; x++)yt(Fd[x], o); break; case "image": yt("error", o), yt("load", o); break; case "details": yt("toggle", o); break; case "embed": case "source": case "link": yt("error", o), yt("load", o); case "area": case "base": case "br": case "col": case "hr": case "keygen": case "meta": case "param": case "track": case "wbr": case "menuitem": for (be in p) if (p.hasOwnProperty(be) && (x = p[be], x != null)) switch (be) { case "children": case "dangerouslySetInnerHTML": throw Error(n(137, u)); default: Vt(o, u, be, x, p, null) }return; default: if (Cx(u)) { for (Ne in p) p.hasOwnProperty(Ne) && (x = p[Ne], x !== void 0 && my(o, u, Ne, x, p, void 0)); return } }for (K in p) p.hasOwnProperty(K) && (x = p[K], x != null && Vt(o, u, K, x, p, null)) } function fB(o, u, p, x) { switch (u) { case "div": case "span": case "svg": case "path": case "a": case "g": case "p": case "li": break; case "input": var E = null, N = null, L = null, K = null, ue = null, be = null, Ne = null; for (Te in p) { var je = p[Te]; if (p.hasOwnProperty(Te) && je != null) switch (Te) { case "checked": break; case "value": break; case "defaultValue": ue = je; default: x.hasOwnProperty(Te) || Vt(o, u, Te, null, x, je) } } for (var Ee in x) { var Te = x[Ee]; if (je = p[Ee], x.hasOwnProperty(Ee) && (Te != null || je != null)) switch (Ee) { case "type": N = Te; break; case "name": E = Te; break; case "checked": be = Te; break; case "defaultChecked": Ne = Te; break; case "value": L = Te; break; case "defaultValue": K = Te; break; case "children": case "dangerouslySetInnerHTML": if (Te != null) throw Error(n(137, u)); break; default: Te !== je && Vt(o, u, Ee, Te, x, je) } } Nx(o, L, K, ue, be, Ne, N, E); return; case "select": Te = L = K = Ee = null; for (N in p) if (ue = p[N], p.hasOwnProperty(N) && ue != null) switch (N) { case "value": break; case "multiple": Te = ue; default: x.hasOwnProperty(N) || Vt(o, u, N, null, x, ue) }for (E in x) if (N = x[E], ue = p[E], x.hasOwnProperty(E) && (N != null || ue != null)) switch (E) { case "value": Ee = N; break; case "defaultValue": K = N; break; case "multiple": L = N; default: N !== ue && Vt(o, u, E, N, x, ue) }u = K, p = L, x = Te, Ee != null ? gc(o, !!p, Ee, !1) : !!x != !!p && (u != null ? gc(o, !!p, u, !0) : gc(o, !!p, p ? [] : "", !1)); return; case "textarea": Te = Ee = null; for (K in p) if (E = p[K], p.hasOwnProperty(K) && E != null && !x.hasOwnProperty(K)) switch (K) { case "value": break; case "children": break; default: Vt(o, u, K, null, x, E) }for (L in x) if (E = x[L], N = p[L], x.hasOwnProperty(L) && (E != null || N != null)) switch (L) { case "value": Ee = E; break; case "defaultValue": Te = E; break; case "children": break; case "dangerouslySetInnerHTML": if (E != null) throw Error(n(91)); break; default: E !== N && Vt(o, u, L, E, x, N) }Ek(o, Ee, Te); return; case "option": for (var qe in p) if (Ee = p[qe], p.hasOwnProperty(qe) && Ee != null && !x.hasOwnProperty(qe)) switch (qe) { case "selected": o.selected = !1; break; default: Vt(o, u, qe, null, x, Ee) }for (ue in x) if (Ee = x[ue], Te = p[ue], x.hasOwnProperty(ue) && Ee !== Te && (Ee != null || Te != null)) switch (ue) { case "selected": o.selected = Ee && typeof Ee != "function" && typeof Ee != "symbol"; break; default: Vt(o, u, ue, Ee, x, Te) }return; case "img": case "link": case "area": case "base": case "br": case "col": case "embed": case "hr": case "keygen": case "meta": case "param": case "source": case "track": case "wbr": case "menuitem": for (var et in p) Ee = p[et], p.hasOwnProperty(et) && Ee != null && !x.hasOwnProperty(et) && Vt(o, u, et, null, x, Ee); for (be in x) if (Ee = x[be], Te = p[be], x.hasOwnProperty(be) && Ee !== Te && (Ee != null || Te != null)) switch (be) { case "children": case "dangerouslySetInnerHTML": if (Ee != null) throw Error(n(137, u)); break; default: Vt(o, u, be, Ee, x, Te) }return; default: if (Cx(u)) { for (var qt in p) Ee = p[qt], p.hasOwnProperty(qt) && Ee !== void 0 && !x.hasOwnProperty(qt) && my(o, u, qt, void 0, x, Ee); for (Ne in x) Ee = x[Ne], Te = p[Ne], !x.hasOwnProperty(Ne) || Ee === Te || Ee === void 0 && Te === void 0 || my(o, u, Ne, Ee, x, Te); return } }for (var ge in p) Ee = p[ge], p.hasOwnProperty(ge) && Ee != null && !x.hasOwnProperty(ge) && Vt(o, u, ge, null, x, Ee); for (je in x) Ee = x[je], Te = p[je], !x.hasOwnProperty(je) || Ee === Te || Ee == null && Te == null || Vt(o, u, je, Ee, x, Te) } function A2(o) { switch (o) { case "css": case "script": case "font": case "img": case "image": case "input": case "link": return !0; default: return !1 } } function hB() { if (typeof performance.getEntriesByType == "function") { for (var o = 0, u = 0, p = performance.getEntriesByType("resource"), x = 0; x < p.length; x++) { var E = p[x], N = E.transferSize, L = E.initiatorType, K = E.duration; if (N && K && A2(L)) { for (L = 0, K = E.responseEnd, x += 1; x < p.length; x++) { var ue = p[x], be = ue.startTime; if (be > K) break; var Ne = ue.transferSize, je = ue.initiatorType; Ne && A2(je) && (ue = ue.responseEnd, L += Ne * (ue < K ? 1 : (K - be) / (ue - be))) } if (--x, u += 8 * (N + L) / (E.duration / 1e3), o++, 10 < o) break } } if (0 < o) return u / o / 1e6 } return navigator.connection && (o = navigator.connection.downlink, typeof o == "number") ? o : 5 } var gy = null, xy = null; function Mh(o) { return o.nodeType === 9 ? o : o.ownerDocument } function C2(o) { switch (o) { case "http://www.w3.org/2000/svg": return 1; case "http://www.w3.org/1998/Math/MathML": return 2; default: return 0 } } function j2(o, u) { if (o === 0) switch (u) { case "svg": return 1; case "math": return 2; default: return 0 }return o === 1 && u === "foreignObject" ? 0 : o } function vy(o, u) { return o === "textarea" || o === "noscript" || typeof u.children == "string" || typeof u.children == "number" || typeof u.children == "bigint" || typeof u.dangerouslySetInnerHTML == "object" && u.dangerouslySetInnerHTML !== null && u.dangerouslySetInnerHTML.__html != null } var yy = null; function pB() { var o = window.event; return o && o.type === "popstate" ? o === yy ? !1 : (yy = o, !0) : (yy = null, !1) } var I2 = typeof setTimeout == "function" ? setTimeout : void 0, mB = typeof clearTimeout == "function" ? clearTimeout : void 0, O2 = typeof Promise == "function" ? Promise : void 0, gB = typeof queueMicrotask == "function" ? queueMicrotask : typeof O2 < "u" ? function (o) { return O2.resolve(null).then(o).catch(xB) } : I2; function xB(o) { setTimeout(function () { throw o }) } function po(o) { return o === "head" } function R2(o, u) { var p = u, x = 0; do { var E = p.nextSibling; if (o.removeChild(p), E && E.nodeType === 8) if (p = E.data, p === "/$" || p === "/&") { if (x === 0) { o.removeChild(E), Kc(u); return } x-- } else if (p === "$" || p === "$?" || p === "$~" || p === "$!" || p === "&") x++; else if (p === "html") Bd(o.ownerDocument.documentElement); else if (p === "head") { p = o.ownerDocument.head, Bd(p); for (var N = p.firstChild; N;) { var L = N.nextSibling, K = N.nodeName; N[ke] || K === "SCRIPT" || K === "STYLE" || K === "LINK" && N.rel.toLowerCase() === "stylesheet" || p.removeChild(N), N = L } } else p === "body" && Bd(o.ownerDocument.body); p = E } while (p); Kc(u) } function P2(o, u) { var p = o; o = 0; do { var x = p.nextSibling; if (p.nodeType === 1 ? u ? (p._stashedDisplay = p.style.display, p.style.display = "none") : (p.style.display = p._stashedDisplay || "", p.getAttribute("style") === "" && p.removeAttribute("style")) : p.nodeType === 3 && (u ? (p._stashedText = p.nodeValue, p.nodeValue = "") : p.nodeValue = p._stashedText || ""), x && x.nodeType === 8) if (p = x.data, p === "/$") { if (o === 0) break; o-- } else p !== "$" && p !== "$?" && p !== "$~" && p !== "$!" || o++; p = x } while (p) } function by(o) { var u = o.firstChild; for (u && u.nodeType === 10 && (u = u.nextSibling); u;) { var p = u; switch (u = u.nextSibling, p.nodeName) { case "HTML": case "HEAD": case "BODY": by(p), Oe(p); continue; case "SCRIPT": case "STYLE": continue; case "LINK": if (p.rel.toLowerCase() === "stylesheet") continue }o.removeChild(p) } } function vB(o, u, p, x) { for (; o.nodeType === 1;) { var E = p; if (o.nodeName.toLowerCase() !== u.toLowerCase()) { if (!x && (o.nodeName !== "INPUT" || o.type !== "hidden")) break } else if (x) { if (!o[ke]) switch (u) { case "meta": if (!o.hasAttribute("itemprop")) break; return o; case "link": if (N = o.getAttribute("rel"), N === "stylesheet" && o.hasAttribute("data-precedence")) break; if (N !== E.rel || o.getAttribute("href") !== (E.href == null || E.href === "" ? null : E.href) || o.getAttribute("crossorigin") !== (E.crossOrigin == null ? null : E.crossOrigin) || o.getAttribute("title") !== (E.title == null ? null : E.title)) break; return o; case "style": if (o.hasAttribute("data-precedence")) break; return o; case "script": if (N = o.getAttribute("src"), (N !== (E.src == null ? null : E.src) || o.getAttribute("type") !== (E.type == null ? null : E.type) || o.getAttribute("crossorigin") !== (E.crossOrigin == null ? null : E.crossOrigin)) && N && o.hasAttribute("async") && !o.hasAttribute("itemprop")) break; return o; default: return o } } else if (u === "input" && o.type === "hidden") { var N = E.name == null ? null : "" + E.name; if (E.type === "hidden" && o.getAttribute("name") === N) return o } else return o; if (o = La(o.nextSibling), o === null) break } return null } function yB(o, u, p) { if (u === "") return null; for (; o.nodeType !== 3;)if ((o.nodeType !== 1 || o.nodeName !== "INPUT" || o.type !== "hidden") && !p || (o = La(o.nextSibling), o === null)) return null; return o } function D2(o, u) { for (; o.nodeType !== 8;)if ((o.nodeType !== 1 || o.nodeName !== "INPUT" || o.type !== "hidden") && !u || (o = La(o.nextSibling), o === null)) return null; return o } function wy(o) { return o.data === "$?" || o.data === "$~" } function _y(o) { return o.data === "$!" || o.data === "$?" && o.ownerDocument.readyState !== "loading" } function bB(o, u) { var p = o.ownerDocument; if (o.data === "$~") o._reactRetry = u; else if (o.data !== "$?" || p.readyState !== "loading") u(); else { var x = function () { u(), p.removeEventListener("DOMContentLoaded", x) }; p.addEventListener("DOMContentLoaded", x), o._reactRetry = x } } function La(o) { for (; o != null; o = o.nextSibling) { var u = o.nodeType; if (u === 1 || u === 3) break; if (u === 8) { if (u = o.data, u === "$" || u === "$!" || u === "$?" || u === "$~" || u === "&" || u === "F!" || u === "F") break; if (u === "/$" || u === "/&") return null } } return o } var Sy = null; function M2(o) { o = o.nextSibling; for (var u = 0; o;) { if (o.nodeType === 8) { var p = o.data; if (p === "/$" || p === "/&") { if (u === 0) return La(o.nextSibling); u-- } else p !== "$" && p !== "$!" && p !== "$?" && p !== "$~" && p !== "&" || u++ } o = o.nextSibling } return null } function L2(o) { o = o.previousSibling; for (var u = 0; o;) { if (o.nodeType === 8) { var p = o.data; if (p === "$" || p === "$!" || p === "$?" || p === "$~" || p === "&") { if (u === 0) return o; u-- } else p !== "/$" && p !== "/&" || u++ } o = o.previousSibling } return null } function F2(o, u, p) { switch (u = Mh(p), o) { case "html": if (o = u.documentElement, !o) throw Error(n(452)); return o; case "head": if (o = u.head, !o) throw Error(n(453)); return o; case "body": if (o = u.body, !o) throw Error(n(454)); return o; default: throw Error(n(451)) } } function Bd(o) { for (var u = o.attributes; u.length;)o.removeAttributeNode(u[0]); Oe(o) } var Fa = new Map, U2 = new Set; function Lh(o) { return typeof o.getRootNode == "function" ? o.getRootNode() : o.nodeType === 9 ? o : o.ownerDocument } var xs = z.d; z.d = { f: wB, r: _B, D: SB, C: EB, L: kB, m: TB, X: AB, S: NB, M: CB }; function wB() { var o = xs.f(), u = Ah(); return o || u } function _B(o) { var u = Be(o); u !== null && u.tag === 5 && u.type === "form" ? rN(u) : xs.r(o) } var Vc = typeof document > "u" ? null : document; function B2(o, u, p) { var x = Vc; if (x && typeof u == "string" && u) { var E = ja(u); E = 'link[rel="' + o + '"][href="' + E + '"]', typeof p == "string" && (E += '[crossorigin="' + p + '"]'), U2.has(E) || (U2.add(E), o = { rel: o, crossOrigin: p, href: u }, x.querySelector(E) === null && (u = x.createElement("link"), xn(u, "link", o), Ke(u), x.head.appendChild(u))) } } function SB(o) { xs.D(o), B2("dns-prefetch", o, null) } function EB(o, u) { xs.C(o, u), B2("preconnect", o, u) } function kB(o, u, p) { xs.L(o, u, p); var x = Vc; if (x && o && u) { var E = 'link[rel="preload"][as="' + ja(u) + '"]'; u === "image" && p && p.imageSrcSet ? (E += '[imagesrcset="' + ja(p.imageSrcSet) + '"]', typeof p.imageSizes == "string" && (E += '[imagesizes="' + ja(p.imageSizes) + '"]')) : E += '[href="' + ja(o) + '"]'; var N = E; switch (u) { case "style": N = qc(o); break; case "script": N = Wc(o) }Fa.has(N) || (o = m({ rel: "preload", href: u === "image" && p && p.imageSrcSet ? void 0 : o, as: u }, p), Fa.set(N, o), x.querySelector(E) !== null || u === "style" && x.querySelector($d(N)) || u === "script" && x.querySelector(zd(N)) || (u = x.createElement("link"), xn(u, "link", o), Ke(u), x.head.appendChild(u))) } } function TB(o, u) { xs.m(o, u); var p = Vc; if (p && o) { var x = u && typeof u.as == "string" ? u.as : "script", E = 'link[rel="modulepreload"][as="' + ja(x) + '"][href="' + ja(o) + '"]', N = E; switch (x) { case "audioworklet": case "paintworklet": case "serviceworker": case "sharedworker": case "worker": case "script": N = Wc(o) }if (!Fa.has(N) && (o = m({ rel: "modulepreload", href: o }, u), Fa.set(N, o), p.querySelector(E) === null)) { switch (x) { case "audioworklet": case "paintworklet": case "serviceworker": case "sharedworker": case "worker": case "script": if (p.querySelector(zd(N))) return }x = p.createElement("link"), xn(x, "link", o), Ke(x), p.head.appendChild(x) } } } function NB(o, u, p) { xs.S(o, u, p); var x = Vc; if (x && o) { var E = Ue(x).hoistableStyles, N = qc(o); u = u || "default"; var L = E.get(N); if (!L) { var K = { loading: 0, preload: null }; if (L = x.querySelector($d(N))) K.loading = 5; else { o = m({ rel: "stylesheet", href: o, "data-precedence": u }, p), (p = Fa.get(N)) && Ey(o, p); var ue = L = x.createElement("link"); Ke(ue), xn(ue, "link", o), ue._p = new Promise(function (be, Ne) { ue.onload = be, ue.onerror = Ne }), ue.addEventListener("load", function () { K.loading |= 1 }), ue.addEventListener("error", function () { K.loading |= 2 }), K.loading |= 4, Fh(L, u, x) } L = { type: "stylesheet", instance: L, count: 1, state: K }, E.set(N, L) } } } function AB(o, u) { xs.X(o, u); var p = Vc; if (p && o) { var x = Ue(p).hoistableScripts, E = Wc(o), N = x.get(E); N || (N = p.querySelector(zd(E)), N || (o = m({ src: o, async: !0 }, u), (u = Fa.get(E)) && ky(o, u), N = p.createElement("script"), Ke(N), xn(N, "link", o), p.head.appendChild(N)), N = { type: "script", instance: N, count: 1, state: null }, x.set(E, N)) } } function CB(o, u) { xs.M(o, u); var p = Vc; if (p && o) { var x = Ue(p).hoistableScripts, E = Wc(o), N = x.get(E); N || (N = p.querySelector(zd(E)), N || (o = m({ src: o, async: !0, type: "module" }, u), (u = Fa.get(E)) && ky(o, u), N = p.createElement("script"), Ke(N), xn(N, "link", o), p.head.appendChild(N)), N = { type: "script", instance: N, count: 1, state: null }, x.set(E, N)) } } function $2(o, u, p, x) { var E = (E = ce.current) ? Lh(E) : null; if (!E) throw Error(n(446)); switch (o) { case "meta": case "title": return null; case "style": return typeof p.precedence == "string" && typeof p.href == "string" ? (u = qc(p.href), p = Ue(E).hoistableStyles, x = p.get(u), x || (x = { type: "style", instance: null, count: 0, state: null }, p.set(u, x)), x) : { type: "void", instance: null, count: 0, state: null }; case "link": if (p.rel === "stylesheet" && typeof p.href == "string" && typeof p.precedence == "string") { o = qc(p.href); var N = Ue(E).hoistableStyles, L = N.get(o); if (L || (E = E.ownerDocument || E, L = { type: "stylesheet", instance: null, count: 0, state: { loading: 0, preload: null } }, N.set(o, L), (N = E.querySelector($d(o))) && !N._p && (L.instance = N, L.state.loading = 5), Fa.has(o) || (p = { rel: "preload", as: "style", href: p.href, crossOrigin: p.crossOrigin, integrity: p.integrity, media: p.media, hrefLang: p.hrefLang, referrerPolicy: p.referrerPolicy }, Fa.set(o, p), N || jB(E, o, p, L.state))), u && x === null) throw Error(n(528, "")); return L } if (u && x !== null) throw Error(n(529, "")); return null; case "script": return u = p.async, p = p.src, typeof p == "string" && u && typeof u != "function" && typeof u != "symbol" ? (u = Wc(p), p = Ue(E).hoistableScripts, x = p.get(u), x || (x = { type: "script", instance: null, count: 0, state: null }, p.set(u, x)), x) : { type: "void", instance: null, count: 0, state: null }; default: throw Error(n(444, o)) } } function qc(o) { return 'href="' + ja(o) + '"' } function $d(o) { return 'link[rel="stylesheet"][' + o + "]" } function z2(o) { return m({}, o, { "data-precedence": o.precedence, precedence: null }) } function jB(o, u, p, x) { o.querySelector('link[rel="preload"][as="style"][' + u + "]") ? x.loading = 1 : (u = o.createElement("link"), x.preload = u, u.addEventListener("load", function () { return x.loading |= 1 }), u.addEventListener("error", function () { return x.loading |= 2 }), xn(u, "link", p), Ke(u), o.head.appendChild(u)) } function Wc(o) { return '[src="' + ja(o) + '"]' } function zd(o) { return "script[async]" + o } function H2(o, u, p) { if (u.count++, u.instance === null) switch (u.type) { case "style": var x = o.querySelector('style[data-href~="' + ja(p.href) + '"]'); if (x) return u.instance = x, Ke(x), x; var E = m({}, p, { "data-href": p.href, "data-precedence": p.precedence, href: null, precedence: null }); return x = (o.ownerDocument || o).createElement("style"), Ke(x), xn(x, "style", E), Fh(x, p.precedence, o), u.instance = x; case "stylesheet": E = qc(p.href); var N = o.querySelector($d(E)); if (N) return u.state.loading |= 4, u.instance = N, Ke(N), N; x = z2(p), (E = Fa.get(E)) && Ey(x, E), N = (o.ownerDocument || o).createElement("link"), Ke(N); var L = N; return L._p = new Promise(function (K, ue) { L.onload = K, L.onerror = ue }), xn(N, "link", x), u.state.loading |= 4, Fh(N, p.precedence, o), u.instance = N; case "script": return N = Wc(p.src), (E = o.querySelector(zd(N))) ? (u.instance = E, Ke(E), E) : (x = p, (E = Fa.get(N)) && (x = m({}, p), ky(x, E)), o = o.ownerDocument || o, E = o.createElement("script"), Ke(E), xn(E, "link", x), o.head.appendChild(E), u.instance = E); case "void": return null; default: throw Error(n(443, u.type)) } else u.type === "stylesheet" && (u.state.loading & 4) === 0 && (x = u.instance, u.state.loading |= 4, Fh(x, p.precedence, o)); return u.instance } function Fh(o, u, p) { for (var x = p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'), E = x.length ? x[x.length - 1] : null, N = E, L = 0; L < x.length; L++) { var K = x[L]; if (K.dataset.precedence === u) N = K; else if (N !== E) break } N ? N.parentNode.insertBefore(o, N.nextSibling) : (u = p.nodeType === 9 ? p.head : p, u.insertBefore(o, u.firstChild)) } function Ey(o, u) { o.crossOrigin == null && (o.crossOrigin = u.crossOrigin), o.referrerPolicy == null && (o.referrerPolicy = u.referrerPolicy), o.title == null && (o.title = u.title) } function ky(o, u) { o.crossOrigin == null && (o.crossOrigin = u.crossOrigin), o.referrerPolicy == null && (o.referrerPolicy = u.referrerPolicy), o.integrity == null && (o.integrity = u.integrity) } var Uh = null; function G2(o, u, p) { if (Uh === null) { var x = new Map, E = Uh = new Map; E.set(p, x) } else E = Uh, x = E.get(p), x || (x = new Map, E.set(p, x)); if (x.has(o)) return x; for (x.set(o, null), p = p.getElementsByTagName(o), E = 0; E < p.length; E++) { var N = p[E]; if (!(N[ke] || N[Q] || o === "link" && N.getAttribute("rel") === "stylesheet") && N.namespaceURI !== "http://www.w3.org/2000/svg") { var L = N.getAttribute(u) || ""; L = o + L; var K = x.get(L); K ? K.push(N) : x.set(L, [N]) } } return x } function V2(o, u, p) { o = o.ownerDocument || o, o.head.insertBefore(p, u === "title" ? o.querySelector("head > title") : null) } function IB(o, u, p) { if (p === 1 || u.itemProp != null) return !1; switch (o) { case "meta": case "title": return !0; case "style": if (typeof u.precedence != "string" || typeof u.href != "string" || u.href === "") break; return !0; case "link": if (typeof u.rel != "string" || typeof u.href != "string" || u.href === "" || u.onLoad || u.onError) break; switch (u.rel) { case "stylesheet": return o = u.disabled, typeof u.precedence == "string" && o == null; default: return !0 }case "script": if (u.async && typeof u.async != "function" && typeof u.async != "symbol" && !u.onLoad && !u.onError && u.src && typeof u.src == "string") return !0 }return !1 } function q2(o) { return !(o.type === "stylesheet" && (o.state.loading & 3) === 0) } function OB(o, u, p, x) { if (p.type === "stylesheet" && (typeof x.media != "string" || matchMedia(x.media).matches !== !1) && (p.state.loading & 4) === 0) { if (p.instance === null) { var E = qc(x.href), N = u.querySelector($d(E)); if (N) { u = N._p, u !== null && typeof u == "object" && typeof u.then == "function" && (o.count++, o = Bh.bind(o), u.then(o, o)), p.state.loading |= 4, p.instance = N, Ke(N); return } N = u.ownerDocument || u, x = z2(x), (E = Fa.get(E)) && Ey(x, E), N = N.createElement("link"), Ke(N); var L = N; L._p = new Promise(function (K, ue) { L.onload = K, L.onerror = ue }), xn(N, "link", x), p.instance = N } o.stylesheets === null && (o.stylesheets = new Map), o.stylesheets.set(p, u), (u = p.state.preload) && (p.state.loading & 3) === 0 && (o.count++, p = Bh.bind(o), u.addEventListener("load", p), u.addEventListener("error", p)) } } var Ty = 0; function RB(o, u) { return o.stylesheets && o.count === 0 && zh(o, o.stylesheets), 0 < o.count || 0 < o.imgCount ? function (p) { var x = setTimeout(function () { if (o.stylesheets && zh(o, o.stylesheets), o.unsuspend) { var N = o.unsuspend; o.unsuspend = null, N() } }, 6e4 + u); 0 < o.imgBytes && Ty === 0 && (Ty = 62500 * hB()); var E = setTimeout(function () { if (o.waitingForImages = !1, o.count === 0 && (o.stylesheets && zh(o, o.stylesheets), o.unsuspend)) { var N = o.unsuspend; o.unsuspend = null, N() } }, (o.imgBytes > Ty ? 50 : 800) + u); return o.unsuspend = p, function () { o.unsuspend = null, clearTimeout(x), clearTimeout(E) } } : null } function Bh() { if (this.count--, this.count === 0 && (this.imgCount === 0 || !this.waitingForImages)) { if (this.stylesheets) zh(this, this.stylesheets); else if (this.unsuspend) { var o = this.unsuspend; this.unsuspend = null, o() } } } var $h = null; function zh(o, u) { o.stylesheets = null, o.unsuspend !== null && (o.count++, $h = new Map, u.forEach(PB, o), $h = null, Bh.call(o)) } function PB(o, u) { if (!(u.state.loading & 4)) { var p = $h.get(o); if (p) var x = p.get(null); else { p = new Map, $h.set(o, p); for (var E = o.querySelectorAll("link[data-precedence],style[data-precedence]"), N = 0; N < E.length; N++) { var L = E[N]; (L.nodeName === "LINK" || L.getAttribute("media") !== "not all") && (p.set(L.dataset.precedence, L), x = L) } x && p.set(null, x) } E = u.instance, L = E.getAttribute("data-precedence"), N = p.get(L) || x, N === x && p.set(null, E), p.set(L, E), this.count++, x = Bh.bind(this), E.addEventListener("load", x), E.addEventListener("error", x), N ? N.parentNode.insertBefore(E, N.nextSibling) : (o = o.nodeType === 9 ? o.head : o, o.insertBefore(E, o.firstChild)), u.state.loading |= 4 } } var Hd = { $$typeof: T, Provider: null, Consumer: null, _currentValue: ie, _currentValue2: ie, _threadCount: 0 }; function DB(o, u, p, x, E, N, L, K, ue) { this.tag = 1, this.containerInfo = o, this.pingCache = this.current = this.pendingChildren = null, this.timeoutHandle = -1, this.callbackNode = this.next = this.pendingContext = this.context = this.cancelPendingCommit = null, this.callbackPriority = 0, this.expirationTimes = hn(-1), this.entangledLanes = this.shellSuspendCounter = this.errorRecoveryDisabledLanes = this.expiredLanes = this.warmLanes = this.pingedLanes = this.suspendedLanes = this.pendingLanes = 0, this.entanglements = hn(0), this.hiddenUpdates = hn(null), this.identifierPrefix = x, this.onUncaughtError = E, this.onCaughtError = N, this.onRecoverableError = L, this.pooledCache = null, this.pooledCacheLanes = 0, this.formState = ue, this.incompleteTransitions = new Map } function W2(o, u, p, x, E, N, L, K, ue, be, Ne, je) { return o = new DB(o, u, p, L, ue, be, Ne, je, K), u = 1, N === !0 && (u |= 24), N = pa(3, null, null, u), o.current = N, N.stateNode = o, u = iv(), u.refCount++, o.pooledCache = u, u.refCount++, N.memoizedState = { element: x, isDehydrated: p, cache: u }, cv(N), o } function K2(o) { return o ? (o = Ec, o) : Ec } function Y2(o, u, p, x, E, N) { E = K2(E), x.context === null ? x.context = E : x.pendingContext = E, x = ro(u), x.payload = { element: p }, N = N === void 0 ? null : N, N !== null && (x.callback = N), p = no(o, x, u), p !== null && (oa(p, o, u), wd(p, o, u)) } function X2(o, u) { if (o = o.memoizedState, o !== null && o.dehydrated !== null) { var p = o.retryLane; o.retryLane = p !== 0 && p < u ? p : u } } function Ny(o, u) { X2(o, u), (o = o.alternate) && X2(o, u) } function J2(o) { if (o.tag === 13 || o.tag === 31) { var u = nl(o, 67108864); u !== null && oa(u, o, 67108864), Ny(o, 67108864) } } function Z2(o) { if (o.tag === 13 || o.tag === 31) { var u = ya(); u = Zo(u); var p = nl(o, u); p !== null && oa(p, o, u), Ny(o, u) } } var Hh = !0; function MB(o, u, p, x) { var E = D.T; D.T = null; var N = z.p; try { z.p = 2, Ay(o, u, p, x) } finally { z.p = N, D.T = E } } function LB(o, u, p, x) { var E = D.T; D.T = null; var N = z.p; try { z.p = 8, Ay(o, u, p, x) } finally { z.p = N, D.T = E } } function Ay(o, u, p, x) { if (Hh) { var E = Cy(x); if (E === null) py(o, u, x, Gh, p), eA(o, x); else if (UB(E, o, u, p, x)) x.stopPropagation(); else if (eA(o, x), u & 4 && -1 < FB.indexOf(o)) { for (; E !== null;) { var N = Be(E); if (N !== null) switch (N.tag) { case 3: if (N = N.stateNode, N.current.memoizedState.isDehydrated) { var L = mr(N.pendingLanes); if (L !== 0) { var K = N; for (K.pendingLanes |= 2, K.entangledLanes |= 2; L;) { var ue = 1 << 31 - ve(L); K.entanglements[1] |= ue, L &= ~ue } Oi(N), (Dt & 6) === 0 && (Th = Mt() + 500, Ld(0)) } } break; case 31: case 13: K = nl(N, 2), K !== null && oa(K, N, 2), Ah(), Ny(N, 2) }if (N = Cy(x), N === null && py(o, u, x, Gh, p), N === E) break; E = N } E !== null && x.stopPropagation() } else py(o, u, x, null, p) } } function Cy(o) { return o = Ix(o), jy(o) } var Gh = null; function jy(o) { if (Gh = null, o = De(o), o !== null) { var u = i(o); if (u === null) o = null; else { var p = u.tag; if (p === 13) { if (o = s(u), o !== null) return o; o = null } else if (p === 31) { if (o = l(u), o !== null) return o; o = null } else if (p === 3) { if (u.stateNode.current.memoizedState.isDehydrated) return u.tag === 3 ? u.stateNode.containerInfo : null; o = null } else u !== o && (o = null) } } return Gh = o, null } function Q2(o) { switch (o) { case "beforetoggle": case "cancel": case "click": case "close": case "contextmenu": case "copy": case "cut": case "auxclick": case "dblclick": case "dragend": case "dragstart": case "drop": case "focusin": case "focusout": case "input": case "invalid": case "keydown": case "keypress": case "keyup": case "mousedown": case "mouseup": case "paste": case "pause": case "play": case "pointercancel": case "pointerdown": case "pointerup": case "ratechange": case "reset": case "resize": case "seeked": case "submit": case "toggle": case "touchcancel": case "touchend": case "touchstart": case "volumechange": case "change": case "selectionchange": case "textInput": case "compositionstart": case "compositionend": case "compositionupdate": case "beforeblur": case "afterblur": case "beforeinput": case "blur": case "fullscreenchange": case "focus": case "hashchange": case "popstate": case "select": case "selectstart": return 2; case "drag": case "dragenter": case "dragexit": case "dragleave": case "dragover": case "mousemove": case "mouseout": case "mouseover": case "pointermove": case "pointerout": case "pointerover": case "scroll": case "touchmove": case "wheel": case "mouseenter": case "mouseleave": case "pointerenter": case "pointerleave": return 8; case "message": switch (Tn()) { case Ht: return 2; case ei: return 8; case Fe: case $n: return 32; case ut: return 268435456; default: return 32 }default: return 32 } } var Iy = !1, mo = null, go = null, xo = null, Gd = new Map, Vd = new Map, vo = [], FB = "mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" "); function eA(o, u) { switch (o) { case "focusin": case "focusout": mo = null; break; case "dragenter": case "dragleave": go = null; break; case "mouseover": case "mouseout": xo = null; break; case "pointerover": case "pointerout": Gd.delete(u.pointerId); break; case "gotpointercapture": case "lostpointercapture": Vd.delete(u.pointerId) } } function qd(o, u, p, x, E, N) { return o === null || o.nativeEvent !== N ? (o = { blockedOn: u, domEventName: p, eventSystemFlags: x, nativeEvent: N, targetContainers: [E] }, u !== null && (u = Be(u), u !== null && J2(u)), o) : (o.eventSystemFlags |= x, u = o.targetContainers, E !== null && u.indexOf(E) === -1 && u.push(E), o) } function UB(o, u, p, x, E) { switch (u) { case "focusin": return mo = qd(mo, o, u, p, x, E), !0; case "dragenter": return go = qd(go, o, u, p, x, E), !0; case "mouseover": return xo = qd(xo, o, u, p, x, E), !0; case "pointerover": var N = E.pointerId; return Gd.set(N, qd(Gd.get(N) || null, o, u, p, x, E)), !0; case "gotpointercapture": return N = E.pointerId, Vd.set(N, qd(Vd.get(N) || null, o, u, p, x, E)), !0 }return !1 } function tA(o) { var u = De(o.target); if (u !== null) { var p = i(u); if (p !== null) { if (u = p.tag, u === 13) { if (u = s(p), u !== null) { o.blockedOn = u, ae(o.priority, function () { Z2(p) }); return } } else if (u === 31) { if (u = l(p), u !== null) { o.blockedOn = u, ae(o.priority, function () { Z2(p) }); return } } else if (u === 3 && p.stateNode.current.memoizedState.isDehydrated) { o.blockedOn = p.tag === 3 ? p.stateNode.containerInfo : null; return } } } o.blockedOn = null } function Vh(o) { if (o.blockedOn !== null) return !1; for (var u = o.targetContainers; 0 < u.length;) { var p = Cy(o.nativeEvent); if (p === null) { p = o.nativeEvent; var x = new p.constructor(p.type, p); jx = x, p.target.dispatchEvent(x), jx = null } else return u = Be(p), u !== null && J2(u), o.blockedOn = p, !1; u.shift() } return !0 } function rA(o, u, p) { Vh(o) && p.delete(u) } function BB() { Iy = !1, mo !== null && Vh(mo) && (mo = null), go !== null && Vh(go) && (go = null), xo !== null && Vh(xo) && (xo = null), Gd.forEach(rA), Vd.forEach(rA) } function qh(o, u) { o.blockedOn === u && (o.blockedOn = null, Iy || (Iy = !0, e.unstable_scheduleCallback(e.unstable_NormalPriority, BB))) } var Wh = null; function nA(o) { Wh !== o && (Wh = o, e.unstable_scheduleCallback(e.unstable_NormalPriority, function () { Wh === o && (Wh = null); for (var u = 0; u < o.length; u += 3) { var p = o[u], x = o[u + 1], E = o[u + 2]; if (typeof x != "function") { if (jy(x || p) === null) continue; break } var N = Be(p); N !== null && (o.splice(u, 3), u -= 3, Cv(N, { pending: !0, data: E, method: p.method, action: x }, x, E)) } })) } function Kc(o) { function u(ue) { return qh(ue, o) } mo !== null && qh(mo, o), go !== null && qh(go, o), xo !== null && qh(xo, o), Gd.forEach(u), Vd.forEach(u); for (var p = 0; p < vo.length; p++) { var x = vo[p]; x.blockedOn === o && (x.blockedOn = null) } for (; 0 < vo.length && (p = vo[0], p.blockedOn === null);)tA(p), p.blockedOn === null && vo.shift(); if (p = (o.ownerDocument || o).$$reactFormReplay, p != null) for (x = 0; x < p.length; x += 3) { var E = p[x], N = p[x + 1], L = E[ne] || null; if (typeof N == "function") L || nA(p); else if (L) { var K = null; if (N && N.hasAttribute("formAction")) { if (E = N, L = N[ne] || null) K = L.formAction; else if (jy(E) !== null) continue } else K = L.action; typeof K == "function" ? p[x + 1] = K : (p.splice(x, 3), x -= 3), nA(p) } } } function aA() { function o(N) { N.canIntercept && N.info === "react-transition" && N.intercept({ handler: function () { return new Promise(function (L) { return E = L }) }, focusReset: "manual", scroll: "manual" }) } function u() { E !== null && (E(), E = null), x || setTimeout(p, 20) } function p() { if (!x && !navigation.transition) { var N = navigation.currentEntry; N && N.url != null && navigation.navigate(N.url, { state: N.getState(), info: "react-transition", history: "replace" }) } } if (typeof navigation == "object") { var x = !1, E = null; return navigation.addEventListener("navigate", o), navigation.addEventListener("navigatesuccess", u), navigation.addEventListener("navigateerror", u), setTimeout(p, 100), function () { x = !0, navigation.removeEventListener("navigate", o), navigation.removeEventListener("navigatesuccess", u), navigation.removeEventListener("navigateerror", u), E !== null && (E(), E = null) } } } function Oy(o) { this._internalRoot = o } Kh.prototype.render = Oy.prototype.render = function (o) { var u = this._internalRoot; if (u === null) throw Error(n(409)); var p = u.current, x = ya(); Y2(p, x, o, u, null, null) }, Kh.prototype.unmount = Oy.prototype.unmount = function () { var o = this._internalRoot; if (o !== null) { this._internalRoot = null; var u = o.containerInfo; Y2(o.current, 2, null, o, null, null), Ah(), u[se] = null } }; function Kh(o) { this._internalRoot = o } Kh.prototype.unstable_scheduleHydration = function (o) { if (o) { var u = q(); o = { blockedOn: null, target: o, priority: u }; for (var p = 0; p < vo.length && u !== 0 && u < vo[p].priority; p++); vo.splice(p, 0, o), p === 0 && tA(o) } }; var iA = t.version; if (iA !== "19.2.4") throw Error(n(527, iA, "19.2.4")); z.findDOMNode = function (o) { var u = o._reactInternals; if (u === void 0) throw typeof o.render == "function" ? Error(n(188)) : (o = Object.keys(o).join(","), Error(n(268, o))); return o = d(u), o = o !== null ? h(o) : null, o = o === null ? null : o.stateNode, o }; var $B = { bundleType: 0, version: "19.2.4", rendererPackageName: "react-dom", currentDispatcherRef: D, reconcilerVersion: "19.2.4" }; if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ < "u") { var Yh = __REACT_DEVTOOLS_GLOBAL_HOOK__; if (!Yh.isDisabled && Yh.supportsFiber) try { Pt = Yh.inject($B), hr = Yh } catch { } } return Kd.createRoot = function (o, u) { if (!a(o)) throw Error(n(299)); var p = !1, x = "", E = fN, N = hN, L = pN; return u != null && (u.unstable_strictMode === !0 && (p = !0), u.identifierPrefix !== void 0 && (x = u.identifierPrefix), u.onUncaughtError !== void 0 && (E = u.onUncaughtError), u.onCaughtError !== void 0 && (N = u.onCaughtError), u.onRecoverableError !== void 0 && (L = u.onRecoverableError)), u = W2(o, 1, !1, null, null, p, x, null, E, N, L, aA), o[se] = u.current, hy(o), new Oy(u) }, Kd.hydrateRoot = function (o, u, p) { if (!a(o)) throw Error(n(299)); var x = !1, E = "", N = fN, L = hN, K = pN, ue = null; return p != null && (p.unstable_strictMode === !0 && (x = !0), p.identifierPrefix !== void 0 && (E = p.identifierPrefix), p.onUncaughtError !== void 0 && (N = p.onUncaughtError), p.onCaughtError !== void 0 && (L = p.onCaughtError), p.onRecoverableError !== void 0 && (K = p.onRecoverableError), p.formState !== void 0 && (ue = p.formState)), u = W2(o, 1, !0, u, p ?? null, x, E, ue, N, L, K, aA), u.context = K2(null), p = u.current, x = ya(), x = Zo(x), E = ro(x), E.callback = null, no(p, E, x), p = x, u.current.lanes = p, Ni(u, p), Oi(u), o[se] = u.current, hy(o), new Kh(u) }, Kd.version = "19.2.4", Kd
} var mA; function e$() { if (mA) return My.exports; mA = 1; function e() { if (!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ > "u" || typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE != "function")) try { __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e) } catch (t) { console.error(t) } } return e(), My.exports = QB(), My.exports } var t$ = e$(); const r$ = _i(t$); var it = (e => (e.OWNER = "OWNER", e.MANAGER = "MANAGER", e.DOCTOR = "DOCTOR", e.MA = "MA", e.FRONT_DESK = "FRONT_DESK", e))(it || {}); const Xh = [{ role: "OWNER", permissions: ["inventory.view", "inventory.edit", "inventory.audit", "orders.view", "orders.create", "orders.receive", "orders.delete", "reports.view", "reports.create", "prices.view", "prices.manage", "forms.manage", "forms.generate", "billing.view", "codes.view", "codes.manage", "finance.view", "finance.manage", "admin.access"] }, { role: "MANAGER", permissions: ["inventory.view", "inventory.edit", "inventory.audit", "orders.view", "orders.create", "orders.receive", "orders.delete", "reports.view", "reports.create", "prices.view", "prices.manage", "forms.manage", "forms.generate", "billing.view", "codes.view", "codes.manage", "finance.view", "finance.manage", "admin.access"] }, { role: "DOCTOR", permissions: ["inventory.view", "inventory.edit", "orders.view", "orders.create", "reports.view", "reports.create", "prices.view", "forms.generate", "billing.view", "codes.view"] }, { role: "MA", permissions: ["inventory.view", "inventory.audit", "orders.view", "forms.generate", "codes.view"] }, { role: "FRONT_DESK", permissions: ["prices.view", "prices.manage", "inventory.view", "forms.generate", "reports.view", "reports.create", "billing.view", "codes.view", "finance.view", "finance.manage"] }]; var mt = (e => (e.LOGIN = "LOGIN", e.DASHBOARD = "DASHBOARD", e.INVENTORY = "INVENTORY", e.ORDERS = "ORDERS", e.PRICELIST = "PRICELIST", e.REPORTS = "REPORTS", e.DAILY_HISTORY = "DAILY_HISTORY", e.DAILY_CLOSE = "DAILY_CLOSE", e.SCANNER = "SCANNER", e.SETTINGS = "SETTINGS", e.ADMIN = "ADMIN", e.FORMS = "FORMS", e.BILLING_WIZARD = "BILLING_WIZARD", e.MEDICAL_CODES = "MEDICAL_CODES", e.PETTY_CASH = "PETTY_CASH", e.VOICE_MEMOS = "VOICE_MEMOS", e))(mt || {}); function pg(e, t) { var r = {}; for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && t.indexOf(n) < 0 && (r[n] = e[n]); if (e != null && typeof Object.getOwnPropertySymbols == "function") for (var a = 0, n = Object.getOwnPropertySymbols(e); a < n.length; a++)t.indexOf(n[a]) < 0 && Object.prototype.propertyIsEnumerable.call(e, n[a]) && (r[n[a]] = e[n[a]]); return r } function n$(e, t, r, n) { function a(i) { return i instanceof r ? i : new r(function (s) { s(i) }) } return new (r || (r = Promise))(function (i, s) { function l(h) { try { d(n.next(h)) } catch (m) { s(m) } } function f(h) { try { d(n.throw(h)) } catch (m) { s(m) } } function d(h) { h.done ? i(h.value) : a(h.value).then(l, f) } d((n = n.apply(e, t || [])).next()) }) } const a$ = e => e ? (...t) => e(...t) : (...t) => fetch(...t); class O_ extends Error { constructor(t, r = "FunctionsError", n) { super(t), this.name = r, this.context = n } } class i$ extends O_ { constructor(t) { super("Failed to send a request to the Edge Function", "FunctionsFetchError", t) } } class gA extends O_ { constructor(t) { super("Relay Error invoking the Edge Function", "FunctionsRelayError", t) } } class xA extends O_ { constructor(t) { super("Edge Function returned a non-2xx status code", "FunctionsHttpError", t) } } var W1; (function (e) { e.Any = "any", e.ApNortheast1 = "ap-northeast-1", e.ApNortheast2 = "ap-northeast-2", e.ApSouth1 = "ap-south-1", e.ApSoutheast1 = "ap-southeast-1", e.ApSoutheast2 = "ap-southeast-2", e.CaCentral1 = "ca-central-1", e.EuCentral1 = "eu-central-1", e.EuWest1 = "eu-west-1", e.EuWest2 = "eu-west-2", e.EuWest3 = "eu-west-3", e.SaEast1 = "sa-east-1", e.UsEast1 = "us-east-1", e.UsWest1 = "us-west-1", e.UsWest2 = "us-west-2" })(W1 || (W1 = {})); class s$ { constructor(t, { headers: r = {}, customFetch: n, region: a = W1.Any } = {}) { this.url = t, this.headers = r, this.region = a, this.fetch = a$(n) } setAuth(t) { this.headers.Authorization = `Bearer ${t}` } invoke(t) { return n$(this, arguments, void 0, function* (r, n = {}) { var a; let i, s; try { const { headers: l, method: f, body: d, signal: h, timeout: m } = n; let g = {}, { region: v } = n; v || (v = this.region); const y = new URL(`${this.url}/${r}`); v && v !== "any" && (g["x-region"] = v, y.searchParams.set("forceFunctionRegion", v)); let b; d && (l && !Object.prototype.hasOwnProperty.call(l, "Content-Type") || !l) ? typeof Blob < "u" && d instanceof Blob || d instanceof ArrayBuffer ? (g["Content-Type"] = "application/octet-stream", b = d) : typeof d == "string" ? (g["Content-Type"] = "text/plain", b = d) : typeof FormData < "u" && d instanceof FormData ? b = d : (g["Content-Type"] = "application/json", b = JSON.stringify(d)) : d && typeof d != "string" && !(typeof Blob < "u" && d instanceof Blob) && !(d instanceof ArrayBuffer) && !(typeof FormData < "u" && d instanceof FormData) ? b = JSON.stringify(d) : b = d; let _ = h; m && (s = new AbortController, i = setTimeout(() => s.abort(), m), h ? (_ = s.signal, h.addEventListener("abort", () => s.abort())) : _ = s.signal); const k = yield this.fetch(y.toString(), { method: f || "POST", headers: Object.assign(Object.assign(Object.assign({}, g), this.headers), l), body: b, signal: _ }).catch(R => { throw new i$(R) }), C = k.headers.get("x-relay-error"); if (C && C === "true") throw new gA(k); if (!k.ok) throw new xA(k); let T = ((a = k.headers.get("Content-Type")) !== null && a !== void 0 ? a : "text/plain").split(";")[0].trim(), j; return T === "application/json" ? j = yield k.json() : T === "application/octet-stream" || T === "application/pdf" ? j = yield k.blob() : T === "text/event-stream" ? j = k : T === "multipart/form-data" ? j = yield k.formData() : j = yield k.text(), { data: j, error: null, response: k } } catch (l) { return { data: null, error: l, response: l instanceof xA || l instanceof gA ? l.context : void 0 } } finally { i && clearTimeout(i) } }) } } var o$ = class extends Error { constructor(e) { super(e.message), this.name = "PostgrestError", this.details = e.details, this.hint = e.hint, this.code = e.code } }, l$ = class {
  constructor(e) { var t, r; this.shouldThrowOnError = !1, this.method = e.method, this.url = e.url, this.headers = new Headers(e.headers), this.schema = e.schema, this.body = e.body, this.shouldThrowOnError = (t = e.shouldThrowOnError) !== null && t !== void 0 ? t : !1, this.signal = e.signal, this.isMaybeSingle = (r = e.isMaybeSingle) !== null && r !== void 0 ? r : !1, e.fetch ? this.fetch = e.fetch : this.fetch = fetch } throwOnError() { return this.shouldThrowOnError = !0, this } setHeader(e, t) { return this.headers = new Headers(this.headers), this.headers.set(e, t), this } then(e, t) {
    var r = this; this.schema === void 0 || (["GET", "HEAD"].includes(this.method) ? this.headers.set("Accept-Profile", this.schema) : this.headers.set("Content-Profile", this.schema)), this.method !== "GET" && this.method !== "HEAD" && this.headers.set("Content-Type", "application/json"); const n = this.fetch; let a = n(this.url.toString(), { method: this.method, headers: this.headers, body: JSON.stringify(this.body), signal: this.signal }).then(async i => { let s = null, l = null, f = null, d = i.status, h = i.statusText; if (i.ok) { var m, g; if (r.method !== "HEAD") { var v; const k = await i.text(); k === "" || (r.headers.get("Accept") === "text/csv" || r.headers.get("Accept") && (!((v = r.headers.get("Accept")) === null || v === void 0) && v.includes("application/vnd.pgrst.plan+text")) ? l = k : l = JSON.parse(k)) } const b = (m = r.headers.get("Prefer")) === null || m === void 0 ? void 0 : m.match(/count=(exact|planned|estimated)/), _ = (g = i.headers.get("content-range")) === null || g === void 0 ? void 0 : g.split("/"); b && _ && _.length > 1 && (f = parseInt(_[1])), r.isMaybeSingle && r.method === "GET" && Array.isArray(l) && (l.length > 1 ? (s = { code: "PGRST116", details: `Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`, hint: null, message: "JSON object requested, multiple (or no) rows returned" }, l = null, f = null, d = 406, h = "Not Acceptable") : l.length === 1 ? l = l[0] : l = null) } else { var y; const b = await i.text(); try { s = JSON.parse(b), Array.isArray(s) && i.status === 404 && (l = [], s = null, d = 200, h = "OK") } catch { i.status === 404 && b === "" ? (d = 204, h = "No Content") : s = { message: b } } if (s && r.isMaybeSingle && (!(s == null || (y = s.details) === null || y === void 0) && y.includes("0 rows")) && (s = null, d = 200, h = "OK"), s && r.shouldThrowOnError) throw new o$(s) } return { error: s, data: l, count: f, status: d, statusText: h } }); return this.shouldThrowOnError || (a = a.catch(i => {
      var s; let l = ""; const f = i == null ? void 0 : i.cause; if (f) {
        var d, h, m, g; const y = (d = f == null ? void 0 : f.message) !== null && d !== void 0 ? d : "", b = (h = f == null ? void 0 : f.code) !== null && h !== void 0 ? h : ""; l = `${(m = i == null ? void 0 : i.name) !== null && m !== void 0 ? m : "FetchError"}: ${i == null ? void 0 : i.message}`, l += `

Caused by: ${(g = f == null ? void 0 : f.name) !== null && g !== void 0 ? g : "Error"}: ${y}`, b && (l += ` (${b})`), f != null && f.stack && (l += `
${f.stack}`)
      } else { var v; l = (v = i == null ? void 0 : i.stack) !== null && v !== void 0 ? v : "" } return { error: { message: `${(s = i == null ? void 0 : i.name) !== null && s !== void 0 ? s : "FetchError"}: ${i == null ? void 0 : i.message}`, details: l, hint: "", code: "" }, data: null, count: null, status: 0, statusText: "" }
    })), a.then(e, t)
  } returns() { return this } overrideTypes() { return this }
}, c$ = class extends l$ { select(e) { let t = !1; const r = (e ?? "*").split("").map(n => /\s/.test(n) && !t ? "" : (n === '"' && (t = !t), n)).join(""); return this.url.searchParams.set("select", r), this.headers.append("Prefer", "return=representation"), this } order(e, { ascending: t = !0, nullsFirst: r, foreignTable: n, referencedTable: a = n } = {}) { const i = a ? `${a}.order` : "order", s = this.url.searchParams.get(i); return this.url.searchParams.set(i, `${s ? `${s},` : ""}${e}.${t ? "asc" : "desc"}${r === void 0 ? "" : r ? ".nullsfirst" : ".nullslast"}`), this } limit(e, { foreignTable: t, referencedTable: r = t } = {}) { const n = typeof r > "u" ? "limit" : `${r}.limit`; return this.url.searchParams.set(n, `${e}`), this } range(e, t, { foreignTable: r, referencedTable: n = r } = {}) { const a = typeof n > "u" ? "offset" : `${n}.offset`, i = typeof n > "u" ? "limit" : `${n}.limit`; return this.url.searchParams.set(a, `${e}`), this.url.searchParams.set(i, `${t - e + 1}`), this } abortSignal(e) { return this.signal = e, this } single() { return this.headers.set("Accept", "application/vnd.pgrst.object+json"), this } maybeSingle() { return this.method === "GET" ? this.headers.set("Accept", "application/json") : this.headers.set("Accept", "application/vnd.pgrst.object+json"), this.isMaybeSingle = !0, this } csv() { return this.headers.set("Accept", "text/csv"), this } geojson() { return this.headers.set("Accept", "application/geo+json"), this } explain({ analyze: e = !1, verbose: t = !1, settings: r = !1, buffers: n = !1, wal: a = !1, format: i = "text" } = {}) { var s; const l = [e ? "analyze" : null, t ? "verbose" : null, r ? "settings" : null, n ? "buffers" : null, a ? "wal" : null].filter(Boolean).join("|"), f = (s = this.headers.get("Accept")) !== null && s !== void 0 ? s : "application/json"; return this.headers.set("Accept", `application/vnd.pgrst.plan+${i}; for="${f}"; options=${l};`), i === "json" ? this : this } rollback() { return this.headers.append("Prefer", "tx=rollback"), this } returns() { return this } maxAffected(e) { return this.headers.append("Prefer", "handling=strict"), this.headers.append("Prefer", `max-affected=${e}`), this } }; const vA = new RegExp("[,()]"); var cu = class extends c$ { eq(e, t) { return this.url.searchParams.append(e, `eq.${t}`), this } neq(e, t) { return this.url.searchParams.append(e, `neq.${t}`), this } gt(e, t) { return this.url.searchParams.append(e, `gt.${t}`), this } gte(e, t) { return this.url.searchParams.append(e, `gte.${t}`), this } lt(e, t) { return this.url.searchParams.append(e, `lt.${t}`), this } lte(e, t) { return this.url.searchParams.append(e, `lte.${t}`), this } like(e, t) { return this.url.searchParams.append(e, `like.${t}`), this } likeAllOf(e, t) { return this.url.searchParams.append(e, `like(all).{${t.join(",")}}`), this } likeAnyOf(e, t) { return this.url.searchParams.append(e, `like(any).{${t.join(",")}}`), this } ilike(e, t) { return this.url.searchParams.append(e, `ilike.${t}`), this } ilikeAllOf(e, t) { return this.url.searchParams.append(e, `ilike(all).{${t.join(",")}}`), this } ilikeAnyOf(e, t) { return this.url.searchParams.append(e, `ilike(any).{${t.join(",")}}`), this } regexMatch(e, t) { return this.url.searchParams.append(e, `match.${t}`), this } regexIMatch(e, t) { return this.url.searchParams.append(e, `imatch.${t}`), this } is(e, t) { return this.url.searchParams.append(e, `is.${t}`), this } isDistinct(e, t) { return this.url.searchParams.append(e, `isdistinct.${t}`), this } in(e, t) { const r = Array.from(new Set(t)).map(n => typeof n == "string" && vA.test(n) ? `"${n}"` : `${n}`).join(","); return this.url.searchParams.append(e, `in.(${r})`), this } notIn(e, t) { const r = Array.from(new Set(t)).map(n => typeof n == "string" && vA.test(n) ? `"${n}"` : `${n}`).join(","); return this.url.searchParams.append(e, `not.in.(${r})`), this } contains(e, t) { return typeof t == "string" ? this.url.searchParams.append(e, `cs.${t}`) : Array.isArray(t) ? this.url.searchParams.append(e, `cs.{${t.join(",")}}`) : this.url.searchParams.append(e, `cs.${JSON.stringify(t)}`), this } containedBy(e, t) { return typeof t == "string" ? this.url.searchParams.append(e, `cd.${t}`) : Array.isArray(t) ? this.url.searchParams.append(e, `cd.{${t.join(",")}}`) : this.url.searchParams.append(e, `cd.${JSON.stringify(t)}`), this } rangeGt(e, t) { return this.url.searchParams.append(e, `sr.${t}`), this } rangeGte(e, t) { return this.url.searchParams.append(e, `nxl.${t}`), this } rangeLt(e, t) { return this.url.searchParams.append(e, `sl.${t}`), this } rangeLte(e, t) { return this.url.searchParams.append(e, `nxr.${t}`), this } rangeAdjacent(e, t) { return this.url.searchParams.append(e, `adj.${t}`), this } overlaps(e, t) { return typeof t == "string" ? this.url.searchParams.append(e, `ov.${t}`) : this.url.searchParams.append(e, `ov.{${t.join(",")}}`), this } textSearch(e, t, { config: r, type: n } = {}) { let a = ""; n === "plain" ? a = "pl" : n === "phrase" ? a = "ph" : n === "websearch" && (a = "w"); const i = r === void 0 ? "" : `(${r})`; return this.url.searchParams.append(e, `${a}fts${i}.${t}`), this } match(e) { return Object.entries(e).forEach(([t, r]) => { this.url.searchParams.append(t, `eq.${r}`) }), this } not(e, t, r) { return this.url.searchParams.append(e, `not.${t}.${r}`), this } or(e, { foreignTable: t, referencedTable: r = t } = {}) { const n = r ? `${r}.or` : "or"; return this.url.searchParams.append(n, `(${e})`), this } filter(e, t, r) { return this.url.searchParams.append(e, `${t}.${r}`), this } }, u$ = class { constructor(e, { headers: t = {}, schema: r, fetch: n }) { this.url = e, this.headers = new Headers(t), this.schema = r, this.fetch = n } cloneRequestState() { return { url: new URL(this.url.toString()), headers: new Headers(this.headers) } } select(e, t) { const { head: r = !1, count: n } = t ?? {}, a = r ? "HEAD" : "GET"; let i = !1; const s = (e ?? "*").split("").map(d => /\s/.test(d) && !i ? "" : (d === '"' && (i = !i), d)).join(""), { url: l, headers: f } = this.cloneRequestState(); return l.searchParams.set("select", s), n && f.append("Prefer", `count=${n}`), new cu({ method: a, url: l, headers: f, schema: this.schema, fetch: this.fetch }) } insert(e, { count: t, defaultToNull: r = !0 } = {}) { var n; const a = "POST", { url: i, headers: s } = this.cloneRequestState(); if (t && s.append("Prefer", `count=${t}`), r || s.append("Prefer", "missing=default"), Array.isArray(e)) { const l = e.reduce((f, d) => f.concat(Object.keys(d)), []); if (l.length > 0) { const f = [...new Set(l)].map(d => `"${d}"`); i.searchParams.set("columns", f.join(",")) } } return new cu({ method: a, url: i, headers: s, schema: this.schema, body: e, fetch: (n = this.fetch) !== null && n !== void 0 ? n : fetch }) } upsert(e, { onConflict: t, ignoreDuplicates: r = !1, count: n, defaultToNull: a = !0 } = {}) { var i; const s = "POST", { url: l, headers: f } = this.cloneRequestState(); if (f.append("Prefer", `resolution=${r ? "ignore" : "merge"}-duplicates`), t !== void 0 && l.searchParams.set("on_conflict", t), n && f.append("Prefer", `count=${n}`), a || f.append("Prefer", "missing=default"), Array.isArray(e)) { const d = e.reduce((h, m) => h.concat(Object.keys(m)), []); if (d.length > 0) { const h = [...new Set(d)].map(m => `"${m}"`); l.searchParams.set("columns", h.join(",")) } } return new cu({ method: s, url: l, headers: f, schema: this.schema, body: e, fetch: (i = this.fetch) !== null && i !== void 0 ? i : fetch }) } update(e, { count: t } = {}) { var r; const n = "PATCH", { url: a, headers: i } = this.cloneRequestState(); return t && i.append("Prefer", `count=${t}`), new cu({ method: n, url: a, headers: i, schema: this.schema, body: e, fetch: (r = this.fetch) !== null && r !== void 0 ? r : fetch }) } delete({ count: e } = {}) { var t; const r = "DELETE", { url: n, headers: a } = this.cloneRequestState(); return e && a.append("Prefer", `count=${e}`), new cu({ method: r, url: n, headers: a, schema: this.schema, fetch: (t = this.fetch) !== null && t !== void 0 ? t : fetch }) } }, d$ = class C4 { constructor(t, { headers: r = {}, schema: n, fetch: a } = {}) { this.url = t, this.headers = new Headers(r), this.schemaName = n, this.fetch = a } from(t) { if (!t || typeof t != "string" || t.trim() === "") throw new Error("Invalid relation name: relation must be a non-empty string."); return new u$(new URL(`${this.url}/${t}`), { headers: new Headers(this.headers), schema: this.schemaName, fetch: this.fetch }) } schema(t) { return new C4(this.url, { headers: this.headers, schema: t, fetch: this.fetch }) } rpc(t, r = {}, { head: n = !1, get: a = !1, count: i } = {}) { var s; let l; const f = new URL(`${this.url}/rpc/${t}`); let d; const h = v => v !== null && typeof v == "object" && (!Array.isArray(v) || v.some(h)), m = n && Object.values(r).some(h); m ? (l = "POST", d = r) : n || a ? (l = n ? "HEAD" : "GET", Object.entries(r).filter(([v, y]) => y !== void 0).map(([v, y]) => [v, Array.isArray(y) ? `{${y.join(",")}}` : `${y}`]).forEach(([v, y]) => { f.searchParams.append(v, y) })) : (l = "POST", d = r); const g = new Headers(this.headers); return m ? g.set("Prefer", i ? `count=${i},return=minimal` : "return=minimal") : i && g.set("Prefer", `count=${i}`), new cu({ method: l, url: f, headers: g, schema: this.schemaName, body: d, fetch: (s = this.fetch) !== null && s !== void 0 ? s : fetch }) } }; class f$ {
  constructor() { } static detectEnvironment() {
    var t; if (typeof WebSocket < "u") return { type: "native", constructor: WebSocket }; if (typeof globalThis < "u" && typeof globalThis.WebSocket < "u") return { type: "native", constructor: globalThis.WebSocket }; if (typeof global < "u" && typeof global.WebSocket < "u") return { type: "native", constructor: global.WebSocket }; if (typeof globalThis < "u" && typeof globalThis.WebSocketPair < "u" && typeof globalThis.WebSocket > "u") return { type: "cloudflare", error: "Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.", workaround: "Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime." }; if (typeof globalThis < "u" && globalThis.EdgeRuntime || typeof navigator < "u" && (!((t = navigator.userAgent) === null || t === void 0) && t.includes("Vercel-Edge"))) return { type: "unsupported", error: "Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.", workaround: "Use serverless functions or a different deployment target for WebSocket functionality." }; const r = globalThis.process; if (r) {
      const n = r.versions; if (n && n.node) {
        const a = n.node, i = parseInt(a.replace(/^v/, "").split(".")[0]); return i >= 22 ? typeof globalThis.WebSocket < "u" ? { type: "native", constructor: globalThis.WebSocket } : { type: "unsupported", error: `Node.js ${i} detected but native WebSocket not found.`, workaround: "Provide a WebSocket implementation via the transport option." } : {
          type: "unsupported", error: `Node.js ${i} detected without native WebSocket support.`, workaround: `For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}
      }
    } return { type: "unsupported", error: "Unknown JavaScript runtime without WebSocket support.", workaround: "Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation." }
  } static getWebSocketConstructor() {
    const t = this.detectEnvironment(); if (t.constructor) return t.constructor; let r = t.error || "WebSocket not supported in this environment."; throw t.workaround && (r += `

Suggested solution: ${t.workaround}`), new Error(r)
  } static createWebSocket(t, r) { const n = this.getWebSocketConstructor(); return new n(t, r) } static isWebSocketSupported() { try { const t = this.detectEnvironment(); return t.type === "native" || t.type === "ws" } catch { return !1 } }
} const h$ = "2.93.1", p$ = `realtime-js/${h$}`, m$ = "1.0.0", j4 = "2.0.0", yA = j4, K1 = 1e4, g$ = 1e3, x$ = 100; var _o; (function (e) { e[e.connecting = 0] = "connecting", e[e.open = 1] = "open", e[e.closing = 2] = "closing", e[e.closed = 3] = "closed" })(_o || (_o = {})); var zr; (function (e) { e.closed = "closed", e.errored = "errored", e.joined = "joined", e.joining = "joining", e.leaving = "leaving" })(zr || (zr = {})); var ci; (function (e) { e.close = "phx_close", e.error = "phx_error", e.join = "phx_join", e.reply = "phx_reply", e.leave = "phx_leave", e.access_token = "access_token" })(ci || (ci = {})); var Y1; (function (e) { e.websocket = "websocket" })(Y1 || (Y1 = {})); var kl; (function (e) { e.Connecting = "connecting", e.Open = "open", e.Closing = "closing", e.Closed = "closed" })(kl || (kl = {})); class v$ { constructor(t) { this.HEADER_LENGTH = 1, this.USER_BROADCAST_PUSH_META_LENGTH = 6, this.KINDS = { userBroadcastPush: 3, userBroadcast: 4 }, this.BINARY_ENCODING = 0, this.JSON_ENCODING = 1, this.BROADCAST_EVENT = "broadcast", this.allowedMetadataKeys = [], this.allowedMetadataKeys = t ?? [] } encode(t, r) { if (t.event === this.BROADCAST_EVENT && !(t.payload instanceof ArrayBuffer) && typeof t.payload.event == "string") return r(this._binaryEncodeUserBroadcastPush(t)); let n = [t.join_ref, t.ref, t.topic, t.event, t.payload]; return r(JSON.stringify(n)) } _binaryEncodeUserBroadcastPush(t) { var r; return this._isArrayBuffer((r = t.payload) === null || r === void 0 ? void 0 : r.payload) ? this._encodeBinaryUserBroadcastPush(t) : this._encodeJsonUserBroadcastPush(t) } _encodeBinaryUserBroadcastPush(t) { var r, n; const a = (n = (r = t.payload) === null || r === void 0 ? void 0 : r.payload) !== null && n !== void 0 ? n : new ArrayBuffer(0); return this._encodeUserBroadcastPush(t, this.BINARY_ENCODING, a) } _encodeJsonUserBroadcastPush(t) { var r, n; const a = (n = (r = t.payload) === null || r === void 0 ? void 0 : r.payload) !== null && n !== void 0 ? n : {}, s = new TextEncoder().encode(JSON.stringify(a)).buffer; return this._encodeUserBroadcastPush(t, this.JSON_ENCODING, s) } _encodeUserBroadcastPush(t, r, n) { var a, i; const s = t.topic, l = (a = t.ref) !== null && a !== void 0 ? a : "", f = (i = t.join_ref) !== null && i !== void 0 ? i : "", d = t.payload.event, h = this.allowedMetadataKeys ? this._pick(t.payload, this.allowedMetadataKeys) : {}, m = Object.keys(h).length === 0 ? "" : JSON.stringify(h); if (f.length > 255) throw new Error(`joinRef length ${f.length} exceeds maximum of 255`); if (l.length > 255) throw new Error(`ref length ${l.length} exceeds maximum of 255`); if (s.length > 255) throw new Error(`topic length ${s.length} exceeds maximum of 255`); if (d.length > 255) throw new Error(`userEvent length ${d.length} exceeds maximum of 255`); if (m.length > 255) throw new Error(`metadata length ${m.length} exceeds maximum of 255`); const g = this.USER_BROADCAST_PUSH_META_LENGTH + f.length + l.length + s.length + d.length + m.length, v = new ArrayBuffer(this.HEADER_LENGTH + g); let y = new DataView(v), b = 0; y.setUint8(b++, this.KINDS.userBroadcastPush), y.setUint8(b++, f.length), y.setUint8(b++, l.length), y.setUint8(b++, s.length), y.setUint8(b++, d.length), y.setUint8(b++, m.length), y.setUint8(b++, r), Array.from(f, k => y.setUint8(b++, k.charCodeAt(0))), Array.from(l, k => y.setUint8(b++, k.charCodeAt(0))), Array.from(s, k => y.setUint8(b++, k.charCodeAt(0))), Array.from(d, k => y.setUint8(b++, k.charCodeAt(0))), Array.from(m, k => y.setUint8(b++, k.charCodeAt(0))); var _ = new Uint8Array(v.byteLength + n.byteLength); return _.set(new Uint8Array(v), 0), _.set(new Uint8Array(n), v.byteLength), _.buffer } decode(t, r) { if (this._isArrayBuffer(t)) { let n = this._binaryDecode(t); return r(n) } if (typeof t == "string") { const n = JSON.parse(t), [a, i, s, l, f] = n; return r({ join_ref: a, ref: i, topic: s, event: l, payload: f }) } return r({}) } _binaryDecode(t) { const r = new DataView(t), n = r.getUint8(0), a = new TextDecoder; switch (n) { case this.KINDS.userBroadcast: return this._decodeUserBroadcast(t, r, a) } } _decodeUserBroadcast(t, r, n) { const a = r.getUint8(1), i = r.getUint8(2), s = r.getUint8(3), l = r.getUint8(4); let f = this.HEADER_LENGTH + 4; const d = n.decode(t.slice(f, f + a)); f = f + a; const h = n.decode(t.slice(f, f + i)); f = f + i; const m = n.decode(t.slice(f, f + s)); f = f + s; const g = t.slice(f, t.byteLength), v = l === this.JSON_ENCODING ? JSON.parse(n.decode(g)) : g, y = { type: this.BROADCAST_EVENT, event: h, payload: v }; return s > 0 && (y.meta = JSON.parse(m)), { join_ref: null, ref: null, topic: d, event: this.BROADCAST_EVENT, payload: y } } _isArrayBuffer(t) { var r; return t instanceof ArrayBuffer || ((r = t == null ? void 0 : t.constructor) === null || r === void 0 ? void 0 : r.name) === "ArrayBuffer" } _pick(t, r) { return !t || typeof t != "object" ? {} : Object.fromEntries(Object.entries(t).filter(([n]) => r.includes(n))) } } class I4 { constructor(t, r) { this.callback = t, this.timerCalc = r, this.timer = void 0, this.tries = 0, this.callback = t, this.timerCalc = r } reset() { this.tries = 0, clearTimeout(this.timer), this.timer = void 0 } scheduleTimeout() { clearTimeout(this.timer), this.timer = setTimeout(() => { this.tries = this.tries + 1, this.callback() }, this.timerCalc(this.tries + 1)) } } var Qt; (function (e) { e.abstime = "abstime", e.bool = "bool", e.date = "date", e.daterange = "daterange", e.float4 = "float4", e.float8 = "float8", e.int2 = "int2", e.int4 = "int4", e.int4range = "int4range", e.int8 = "int8", e.int8range = "int8range", e.json = "json", e.jsonb = "jsonb", e.money = "money", e.numeric = "numeric", e.oid = "oid", e.reltime = "reltime", e.text = "text", e.time = "time", e.timestamp = "timestamp", e.timestamptz = "timestamptz", e.timetz = "timetz", e.tsrange = "tsrange", e.tstzrange = "tstzrange" })(Qt || (Qt = {})); const bA = (e, t, r = {}) => { var n; const a = (n = r.skipTypes) !== null && n !== void 0 ? n : []; return t ? Object.keys(t).reduce((i, s) => (i[s] = y$(s, e, t, a), i), {}) : {} }, y$ = (e, t, r, n) => { const a = t.find(l => l.name === e), i = a == null ? void 0 : a.type, s = r[e]; return i && !n.includes(i) ? O4(i, s) : X1(s) }, O4 = (e, t) => { if (e.charAt(0) === "_") { const r = e.slice(1, e.length); return S$(t, r) } switch (e) { case Qt.bool: return b$(t); case Qt.float4: case Qt.float8: case Qt.int2: case Qt.int4: case Qt.int8: case Qt.numeric: case Qt.oid: return w$(t); case Qt.json: case Qt.jsonb: return _$(t); case Qt.timestamp: return E$(t); case Qt.abstime: case Qt.date: case Qt.daterange: case Qt.int4range: case Qt.int8range: case Qt.money: case Qt.reltime: case Qt.text: case Qt.time: case Qt.timestamptz: case Qt.timetz: case Qt.tsrange: case Qt.tstzrange: return X1(t); default: return X1(t) } }, X1 = e => e, b$ = e => { switch (e) { case "t": return !0; case "f": return !1; default: return e } }, w$ = e => { if (typeof e == "string") { const t = parseFloat(e); if (!Number.isNaN(t)) return t } return e }, _$ = e => { if (typeof e == "string") try { return JSON.parse(e) } catch { return e } return e }, S$ = (e, t) => { if (typeof e != "string") return e; const r = e.length - 1, n = e[r]; if (e[0] === "{" && n === "}") { let i; const s = e.slice(1, r); try { i = JSON.parse("[" + s + "]") } catch { i = s ? s.split(",") : [] } return i.map(l => O4(t, l)) } return e }, E$ = e => typeof e == "string" ? e.replace(" ", "T") : e, R4 = e => { const t = new URL(e); return t.protocol = t.protocol.replace(/^ws/i, "http"), t.pathname = t.pathname.replace(/\/+$/, "").replace(/\/socket\/websocket$/i, "").replace(/\/socket$/i, "").replace(/\/websocket$/i, ""), t.pathname === "" || t.pathname === "/" ? t.pathname = "/api/broadcast" : t.pathname = t.pathname + "/api/broadcast", t.href }; class By { constructor(t, r, n = {}, a = K1) { this.channel = t, this.event = r, this.payload = n, this.timeout = a, this.sent = !1, this.timeoutTimer = void 0, this.ref = "", this.receivedResp = null, this.recHooks = [], this.refEvent = null } resend(t) { this.timeout = t, this._cancelRefEvent(), this.ref = "", this.refEvent = null, this.receivedResp = null, this.sent = !1, this.send() } send() { this._hasReceived("timeout") || (this.startTimeout(), this.sent = !0, this.channel.socket.push({ topic: this.channel.topic, event: this.event, payload: this.payload, ref: this.ref, join_ref: this.channel._joinRef() })) } updatePayload(t) { this.payload = Object.assign(Object.assign({}, this.payload), t) } receive(t, r) { var n; return this._hasReceived(t) && r((n = this.receivedResp) === null || n === void 0 ? void 0 : n.response), this.recHooks.push({ status: t, callback: r }), this } startTimeout() { if (this.timeoutTimer) return; this.ref = this.channel.socket._makeRef(), this.refEvent = this.channel._replyEventName(this.ref); const t = r => { this._cancelRefEvent(), this._cancelTimeout(), this.receivedResp = r, this._matchReceive(r) }; this.channel._on(this.refEvent, {}, t), this.timeoutTimer = setTimeout(() => { this.trigger("timeout", {}) }, this.timeout) } trigger(t, r) { this.refEvent && this.channel._trigger(this.refEvent, { status: t, response: r }) } destroy() { this._cancelRefEvent(), this._cancelTimeout() } _cancelRefEvent() { this.refEvent && this.channel._off(this.refEvent, {}) } _cancelTimeout() { clearTimeout(this.timeoutTimer), this.timeoutTimer = void 0 } _matchReceive({ status: t, response: r }) { this.recHooks.filter(n => n.status === t).forEach(n => n.callback(r)) } _hasReceived(t) { return this.receivedResp && this.receivedResp.status === t } } var wA; (function (e) { e.SYNC = "sync", e.JOIN = "join", e.LEAVE = "leave" })(wA || (wA = {})); class yf { constructor(t, r) { this.channel = t, this.state = {}, this.pendingDiffs = [], this.joinRef = null, this.enabled = !1, this.caller = { onJoin: () => { }, onLeave: () => { }, onSync: () => { } }; const n = (r == null ? void 0 : r.events) || { state: "presence_state", diff: "presence_diff" }; this.channel._on(n.state, {}, a => { const { onJoin: i, onLeave: s, onSync: l } = this.caller; this.joinRef = this.channel._joinRef(), this.state = yf.syncState(this.state, a, i, s), this.pendingDiffs.forEach(f => { this.state = yf.syncDiff(this.state, f, i, s) }), this.pendingDiffs = [], l() }), this.channel._on(n.diff, {}, a => { const { onJoin: i, onLeave: s, onSync: l } = this.caller; this.inPendingSyncState() ? this.pendingDiffs.push(a) : (this.state = yf.syncDiff(this.state, a, i, s), l()) }), this.onJoin((a, i, s) => { this.channel._trigger("presence", { event: "join", key: a, currentPresences: i, newPresences: s }) }), this.onLeave((a, i, s) => { this.channel._trigger("presence", { event: "leave", key: a, currentPresences: i, leftPresences: s }) }), this.onSync(() => { this.channel._trigger("presence", { event: "sync" }) }) } static syncState(t, r, n, a) { const i = this.cloneDeep(t), s = this.transformState(r), l = {}, f = {}; return this.map(i, (d, h) => { s[d] || (f[d] = h) }), this.map(s, (d, h) => { const m = i[d]; if (m) { const g = h.map(_ => _.presence_ref), v = m.map(_ => _.presence_ref), y = h.filter(_ => v.indexOf(_.presence_ref) < 0), b = m.filter(_ => g.indexOf(_.presence_ref) < 0); y.length > 0 && (l[d] = y), b.length > 0 && (f[d] = b) } else l[d] = h }), this.syncDiff(i, { joins: l, leaves: f }, n, a) } static syncDiff(t, r, n, a) { const { joins: i, leaves: s } = { joins: this.transformState(r.joins), leaves: this.transformState(r.leaves) }; return n || (n = () => { }), a || (a = () => { }), this.map(i, (l, f) => { var d; const h = (d = t[l]) !== null && d !== void 0 ? d : []; if (t[l] = this.cloneDeep(f), h.length > 0) { const m = t[l].map(v => v.presence_ref), g = h.filter(v => m.indexOf(v.presence_ref) < 0); t[l].unshift(...g) } n(l, h, f) }), this.map(s, (l, f) => { let d = t[l]; if (!d) return; const h = f.map(m => m.presence_ref); d = d.filter(m => h.indexOf(m.presence_ref) < 0), t[l] = d, a(l, d, f), d.length === 0 && delete t[l] }), t } static map(t, r) { return Object.getOwnPropertyNames(t).map(n => r(n, t[n])) } static transformState(t) { return t = this.cloneDeep(t), Object.getOwnPropertyNames(t).reduce((r, n) => { const a = t[n]; return "metas" in a ? r[n] = a.metas.map(i => (i.presence_ref = i.phx_ref, delete i.phx_ref, delete i.phx_ref_prev, i)) : r[n] = a, r }, {}) } static cloneDeep(t) { return JSON.parse(JSON.stringify(t)) } onJoin(t) { this.caller.onJoin = t } onLeave(t) { this.caller.onLeave = t } onSync(t) { this.caller.onSync = t } inPendingSyncState() { return !this.joinRef || this.joinRef !== this.channel._joinRef() } } var _A; (function (e) { e.ALL = "*", e.INSERT = "INSERT", e.UPDATE = "UPDATE", e.DELETE = "DELETE" })(_A || (_A = {})); var bf; (function (e) { e.BROADCAST = "broadcast", e.PRESENCE = "presence", e.POSTGRES_CHANGES = "postgres_changes", e.SYSTEM = "system" })(bf || (bf = {})); var vs; (function (e) { e.SUBSCRIBED = "SUBSCRIBED", e.TIMED_OUT = "TIMED_OUT", e.CLOSED = "CLOSED", e.CHANNEL_ERROR = "CHANNEL_ERROR" })(vs || (vs = {})); class mu { constructor(t, r = { config: {} }, n) { var a, i; if (this.topic = t, this.params = r, this.socket = n, this.bindings = {}, this.state = zr.closed, this.joinedOnce = !1, this.pushBuffer = [], this.subTopic = t.replace(/^realtime:/i, ""), this.params.config = Object.assign({ broadcast: { ack: !1, self: !1 }, presence: { key: "", enabled: !1 }, private: !1 }, r.config), this.timeout = this.socket.timeout, this.joinPush = new By(this, ci.join, this.params, this.timeout), this.rejoinTimer = new I4(() => this._rejoinUntilConnected(), this.socket.reconnectAfterMs), this.joinPush.receive("ok", () => { this.state = zr.joined, this.rejoinTimer.reset(), this.pushBuffer.forEach(s => s.send()), this.pushBuffer = [] }), this._onClose(() => { this.rejoinTimer.reset(), this.socket.log("channel", `close ${this.topic} ${this._joinRef()}`), this.state = zr.closed, this.socket._remove(this) }), this._onError(s => { this._isLeaving() || this._isClosed() || (this.socket.log("channel", `error ${this.topic}`, s), this.state = zr.errored, this.rejoinTimer.scheduleTimeout()) }), this.joinPush.receive("timeout", () => { this._isJoining() && (this.socket.log("channel", `timeout ${this.topic}`, this.joinPush.timeout), this.state = zr.errored, this.rejoinTimer.scheduleTimeout()) }), this.joinPush.receive("error", s => { this._isLeaving() || this._isClosed() || (this.socket.log("channel", `error ${this.topic}`, s), this.state = zr.errored, this.rejoinTimer.scheduleTimeout()) }), this._on(ci.reply, {}, (s, l) => { this._trigger(this._replyEventName(l), s) }), this.presence = new yf(this), this.broadcastEndpointURL = R4(this.socket.endPoint), this.private = this.params.config.private || !1, !this.private && (!((i = (a = this.params.config) === null || a === void 0 ? void 0 : a.broadcast) === null || i === void 0) && i.replay)) throw `tried to use replay on public channel '${this.topic}'. It must be a private channel.` } subscribe(t, r = this.timeout) { var n, a, i; if (this.socket.isConnected() || this.socket.connect(), this.state == zr.closed) { const { config: { broadcast: s, presence: l, private: f } } = this.params, d = (a = (n = this.bindings.postgres_changes) === null || n === void 0 ? void 0 : n.map(v => v.filter)) !== null && a !== void 0 ? a : [], h = !!this.bindings[bf.PRESENCE] && this.bindings[bf.PRESENCE].length > 0 || ((i = this.params.config.presence) === null || i === void 0 ? void 0 : i.enabled) === !0, m = {}, g = { broadcast: s, presence: Object.assign(Object.assign({}, l), { enabled: h }), postgres_changes: d, private: f }; this.socket.accessTokenValue && (m.access_token = this.socket.accessTokenValue), this._onError(v => t == null ? void 0 : t(vs.CHANNEL_ERROR, v)), this._onClose(() => t == null ? void 0 : t(vs.CLOSED)), this.updateJoinPayload(Object.assign({ config: g }, m)), this.joinedOnce = !0, this._rejoin(r), this.joinPush.receive("ok", async ({ postgres_changes: v }) => { var y; if (this.socket._isManualToken() || this.socket.setAuth(), v === void 0) { t == null || t(vs.SUBSCRIBED); return } else { const b = this.bindings.postgres_changes, _ = (y = b == null ? void 0 : b.length) !== null && y !== void 0 ? y : 0, k = []; for (let C = 0; C < _; C++) { const T = b[C], { filter: { event: j, schema: R, table: O, filter: I } } = T, H = v && v[C]; if (H && H.event === j && mu.isFilterValueEqual(H.schema, R) && mu.isFilterValueEqual(H.table, O) && mu.isFilterValueEqual(H.filter, I)) k.push(Object.assign(Object.assign({}, T), { id: H.id })); else { this.unsubscribe(), this.state = zr.errored, t == null || t(vs.CHANNEL_ERROR, new Error("mismatch between server and client bindings for postgres changes")); return } } this.bindings.postgres_changes = k, t && t(vs.SUBSCRIBED); return } }).receive("error", v => { this.state = zr.errored, t == null || t(vs.CHANNEL_ERROR, new Error(JSON.stringify(Object.values(v).join(", ") || "error"))) }).receive("timeout", () => { t == null || t(vs.TIMED_OUT) }) } return this } presenceState() { return this.presence.state } async track(t, r = {}) { return await this.send({ type: "presence", event: "track", payload: t }, r.timeout || this.timeout) } async untrack(t = {}) { return await this.send({ type: "presence", event: "untrack" }, t) } on(t, r, n) { return this.state === zr.joined && t === bf.PRESENCE && (this.socket.log("channel", `resubscribe to ${this.topic} due to change in presence callbacks on joined channel`), this.unsubscribe().then(async () => await this.subscribe())), this._on(t, r, n) } async httpSend(t, r, n = {}) { var a; if (r == null) return Promise.reject("Payload is required for httpSend()"); const i = { apikey: this.socket.apiKey ? this.socket.apiKey : "", "Content-Type": "application/json" }; this.socket.accessTokenValue && (i.Authorization = `Bearer ${this.socket.accessTokenValue}`); const s = { method: "POST", headers: i, body: JSON.stringify({ messages: [{ topic: this.subTopic, event: t, payload: r, private: this.private }] }) }, l = await this._fetchWithTimeout(this.broadcastEndpointURL, s, (a = n.timeout) !== null && a !== void 0 ? a : this.timeout); if (l.status === 202) return { success: !0 }; let f = l.statusText; try { const d = await l.json(); f = d.error || d.message || f } catch { } return Promise.reject(new Error(f)) } async send(t, r = {}) { var n, a; if (!this._canPush() && t.type === "broadcast") { console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery."); const { event: i, payload: s } = t, l = { apikey: this.socket.apiKey ? this.socket.apiKey : "", "Content-Type": "application/json" }; this.socket.accessTokenValue && (l.Authorization = `Bearer ${this.socket.accessTokenValue}`); const f = { method: "POST", headers: l, body: JSON.stringify({ messages: [{ topic: this.subTopic, event: i, payload: s, private: this.private }] }) }; try { const d = await this._fetchWithTimeout(this.broadcastEndpointURL, f, (n = r.timeout) !== null && n !== void 0 ? n : this.timeout); return await ((a = d.body) === null || a === void 0 ? void 0 : a.cancel()), d.ok ? "ok" : "error" } catch (d) { return d.name === "AbortError" ? "timed out" : "error" } } else return new Promise(i => { var s, l, f; const d = this._push(t.type, t, r.timeout || this.timeout); t.type === "broadcast" && !(!((f = (l = (s = this.params) === null || s === void 0 ? void 0 : s.config) === null || l === void 0 ? void 0 : l.broadcast) === null || f === void 0) && f.ack) && i("ok"), d.receive("ok", () => i("ok")), d.receive("error", () => i("error")), d.receive("timeout", () => i("timed out")) }) } updateJoinPayload(t) { this.joinPush.updatePayload(t) } unsubscribe(t = this.timeout) { this.state = zr.leaving; const r = () => { this.socket.log("channel", `leave ${this.topic}`), this._trigger(ci.close, "leave", this._joinRef()) }; this.joinPush.destroy(); let n = null; return new Promise(a => { n = new By(this, ci.leave, {}, t), n.receive("ok", () => { r(), a("ok") }).receive("timeout", () => { r(), a("timed out") }).receive("error", () => { a("error") }), n.send(), this._canPush() || n.trigger("ok", {}) }).finally(() => { n == null || n.destroy() }) } teardown() { this.pushBuffer.forEach(t => t.destroy()), this.pushBuffer = [], this.rejoinTimer.reset(), this.joinPush.destroy(), this.state = zr.closed, this.bindings = {} } async _fetchWithTimeout(t, r, n) { const a = new AbortController, i = setTimeout(() => a.abort(), n), s = await this.socket.fetch(t, Object.assign(Object.assign({}, r), { signal: a.signal })); return clearTimeout(i), s } _push(t, r, n = this.timeout) { if (!this.joinedOnce) throw `tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`; let a = new By(this, t, r, n); return this._canPush() ? a.send() : this._addToPushBuffer(a), a } _addToPushBuffer(t) { if (t.startTimeout(), this.pushBuffer.push(t), this.pushBuffer.length > x$) { const r = this.pushBuffer.shift(); r && (r.destroy(), this.socket.log("channel", `discarded push due to buffer overflow: ${r.event}`, r.payload)) } } _onMessage(t, r, n) { return r } _isMember(t) { return this.topic === t } _joinRef() { return this.joinPush.ref } _trigger(t, r, n) { var a, i; const s = t.toLocaleLowerCase(), { close: l, error: f, leave: d, join: h } = ci; if (n && [l, f, d, h].indexOf(s) >= 0 && n !== this._joinRef()) return; let g = this._onMessage(s, r, n); if (r && !g) throw "channel onMessage callbacks must return the payload, modified or unmodified";["insert", "update", "delete"].includes(s) ? (a = this.bindings.postgres_changes) === null || a === void 0 || a.filter(v => { var y, b, _; return ((y = v.filter) === null || y === void 0 ? void 0 : y.event) === "*" || ((_ = (b = v.filter) === null || b === void 0 ? void 0 : b.event) === null || _ === void 0 ? void 0 : _.toLocaleLowerCase()) === s }).map(v => v.callback(g, n)) : (i = this.bindings[s]) === null || i === void 0 || i.filter(v => { var y, b, _, k, C, T; if (["broadcast", "presence", "postgres_changes"].includes(s)) if ("id" in v) { const j = v.id, R = (y = v.filter) === null || y === void 0 ? void 0 : y.event; return j && ((b = r.ids) === null || b === void 0 ? void 0 : b.includes(j)) && (R === "*" || (R == null ? void 0 : R.toLocaleLowerCase()) === ((_ = r.data) === null || _ === void 0 ? void 0 : _.type.toLocaleLowerCase())) } else { const j = (C = (k = v == null ? void 0 : v.filter) === null || k === void 0 ? void 0 : k.event) === null || C === void 0 ? void 0 : C.toLocaleLowerCase(); return j === "*" || j === ((T = r == null ? void 0 : r.event) === null || T === void 0 ? void 0 : T.toLocaleLowerCase()) } else return v.type.toLocaleLowerCase() === s }).map(v => { if (typeof g == "object" && "ids" in g) { const y = g.data, { schema: b, table: _, commit_timestamp: k, type: C, errors: T } = y; g = Object.assign(Object.assign({}, { schema: b, table: _, commit_timestamp: k, eventType: C, new: {}, old: {}, errors: T }), this._getPayloadRecords(y)) } v.callback(g, n) }) } _isClosed() { return this.state === zr.closed } _isJoined() { return this.state === zr.joined } _isJoining() { return this.state === zr.joining } _isLeaving() { return this.state === zr.leaving } _replyEventName(t) { return `chan_reply_${t}` } _on(t, r, n) { const a = t.toLocaleLowerCase(), i = { type: a, filter: r, callback: n }; return this.bindings[a] ? this.bindings[a].push(i) : this.bindings[a] = [i], this } _off(t, r) { const n = t.toLocaleLowerCase(); return this.bindings[n] && (this.bindings[n] = this.bindings[n].filter(a => { var i; return !(((i = a.type) === null || i === void 0 ? void 0 : i.toLocaleLowerCase()) === n && mu.isEqual(a.filter, r)) })), this } static isEqual(t, r) { if (Object.keys(t).length !== Object.keys(r).length) return !1; for (const n in t) if (t[n] !== r[n]) return !1; return !0 } static isFilterValueEqual(t, r) { return (t ?? void 0) === (r ?? void 0) } _rejoinUntilConnected() { this.rejoinTimer.scheduleTimeout(), this.socket.isConnected() && this._rejoin() } _onClose(t) { this._on(ci.close, {}, t) } _onError(t) { this._on(ci.error, {}, r => t(r)) } _canPush() { return this.socket.isConnected() && this._isJoined() } _rejoin(t = this.timeout) { this._isLeaving() || (this.socket._leaveOpenTopic(this.topic), this.state = zr.joining, this.joinPush.resend(t)) } _getPayloadRecords(t) { const r = { new: {}, old: {} }; return (t.type === "INSERT" || t.type === "UPDATE") && (r.new = bA(t.columns, t.record)), (t.type === "UPDATE" || t.type === "DELETE") && (r.old = bA(t.columns, t.old_record)), r } } const $y = () => { }, Jh = { HEARTBEAT_INTERVAL: 25e3, RECONNECT_DELAY: 10, HEARTBEAT_TIMEOUT_FALLBACK: 100 }, k$ = [1e3, 2e3, 5e3, 1e4], T$ = 1e4, N$ = `
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`; class A$ {
  constructor(t, r) { var n; if (this.accessTokenValue = null, this.apiKey = null, this._manuallySetToken = !1, this.channels = new Array, this.endPoint = "", this.httpEndpoint = "", this.headers = {}, this.params = {}, this.timeout = K1, this.transport = null, this.heartbeatIntervalMs = Jh.HEARTBEAT_INTERVAL, this.heartbeatTimer = void 0, this.pendingHeartbeatRef = null, this.heartbeatCallback = $y, this.ref = 0, this.reconnectTimer = null, this.vsn = yA, this.logger = $y, this.conn = null, this.sendBuffer = [], this.serializer = new v$, this.stateChangeCallbacks = { open: [], close: [], error: [], message: [] }, this.accessToken = null, this._connectionState = "disconnected", this._wasManualDisconnect = !1, this._authPromise = null, this._heartbeatSentAt = null, this._resolveFetch = a => a ? (...i) => a(...i) : (...i) => fetch(...i), !(!((n = r == null ? void 0 : r.params) === null || n === void 0) && n.apikey)) throw new Error("API key is required to connect to Realtime"); this.apiKey = r.params.apikey, this.endPoint = `${t}/${Y1.websocket}`, this.httpEndpoint = R4(t), this._initializeOptions(r), this._setupReconnectionTimer(), this.fetch = this._resolveFetch(r == null ? void 0 : r.fetch) } connect() {
    if (!(this.isConnecting() || this.isDisconnecting() || this.conn !== null && this.isConnected())) {
      if (this._setConnectionState("connecting"), this.accessToken && !this._authPromise && this._setAuthSafely("connect"), this.transport) this.conn = new this.transport(this.endpointURL()); else try { this.conn = f$.createWebSocket(this.endpointURL()) } catch (t) {
        this._setConnectionState("disconnected"); const r = t.message; throw r.includes("Node.js") ? new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`) : new Error(`WebSocket not available: ${r}`)
      } this._setupConnectionHandlers()
    }
  } endpointURL() { return this._appendParams(this.endPoint, Object.assign({}, this.params, { vsn: this.vsn })) } disconnect(t, r) { if (!this.isDisconnecting()) if (this._setConnectionState("disconnecting", !0), this.conn) { const n = setTimeout(() => { this._setConnectionState("disconnected") }, 100); this.conn.onclose = () => { clearTimeout(n), this._setConnectionState("disconnected") }, typeof this.conn.close == "function" && (t ? this.conn.close(t, r ?? "") : this.conn.close()), this._teardownConnection() } else this._setConnectionState("disconnected") } getChannels() { return this.channels } async removeChannel(t) { const r = await t.unsubscribe(); return this.channels.length === 0 && this.disconnect(), r } async removeAllChannels() { const t = await Promise.all(this.channels.map(r => r.unsubscribe())); return this.channels = [], this.disconnect(), t } log(t, r, n) { this.logger(t, r, n) } connectionState() { switch (this.conn && this.conn.readyState) { case _o.connecting: return kl.Connecting; case _o.open: return kl.Open; case _o.closing: return kl.Closing; default: return kl.Closed } } isConnected() { return this.connectionState() === kl.Open } isConnecting() { return this._connectionState === "connecting" } isDisconnecting() { return this._connectionState === "disconnecting" } channel(t, r = { config: {} }) { const n = `realtime:${t}`, a = this.getChannels().find(i => i.topic === n); if (a) return a; { const i = new mu(`realtime:${t}`, r, this); return this.channels.push(i), i } } push(t) { const { topic: r, event: n, payload: a, ref: i } = t, s = () => { this.encode(t, l => { var f; (f = this.conn) === null || f === void 0 || f.send(l) }) }; this.log("push", `${r} ${n} (${i})`, a), this.isConnected() ? s() : this.sendBuffer.push(s) } async setAuth(t = null) { this._authPromise = this._performAuth(t); try { await this._authPromise } finally { this._authPromise = null } } _isManualToken() { return this._manuallySetToken } async sendHeartbeat() { var t; if (!this.isConnected()) { try { this.heartbeatCallback("disconnected") } catch (r) { this.log("error", "error in heartbeat callback", r) } return } if (this.pendingHeartbeatRef) { this.pendingHeartbeatRef = null, this._heartbeatSentAt = null, this.log("transport", "heartbeat timeout. Attempting to re-establish connection"); try { this.heartbeatCallback("timeout") } catch (r) { this.log("error", "error in heartbeat callback", r) } this._wasManualDisconnect = !1, (t = this.conn) === null || t === void 0 || t.close(g$, "heartbeat timeout"), setTimeout(() => { var r; this.isConnected() || (r = this.reconnectTimer) === null || r === void 0 || r.scheduleTimeout() }, Jh.HEARTBEAT_TIMEOUT_FALLBACK); return } this._heartbeatSentAt = Date.now(), this.pendingHeartbeatRef = this._makeRef(), this.push({ topic: "phoenix", event: "heartbeat", payload: {}, ref: this.pendingHeartbeatRef }); try { this.heartbeatCallback("sent") } catch (r) { this.log("error", "error in heartbeat callback", r) } this._setAuthSafely("heartbeat") } onHeartbeat(t) { this.heartbeatCallback = t } flushSendBuffer() { this.isConnected() && this.sendBuffer.length > 0 && (this.sendBuffer.forEach(t => t()), this.sendBuffer = []) } _makeRef() { let t = this.ref + 1; return t === this.ref ? this.ref = 0 : this.ref = t, this.ref.toString() } _leaveOpenTopic(t) { let r = this.channels.find(n => n.topic === t && (n._isJoined() || n._isJoining())); r && (this.log("transport", `leaving duplicate topic "${t}"`), r.unsubscribe()) } _remove(t) { this.channels = this.channels.filter(r => r.topic !== t.topic) } _onConnMessage(t) { this.decode(t.data, r => { if (r.topic === "phoenix" && r.event === "phx_reply" && r.ref && r.ref === this.pendingHeartbeatRef) { const d = this._heartbeatSentAt ? Date.now() - this._heartbeatSentAt : void 0; try { this.heartbeatCallback(r.payload.status === "ok" ? "ok" : "error", d) } catch (h) { this.log("error", "error in heartbeat callback", h) } this._heartbeatSentAt = null, this.pendingHeartbeatRef = null } const { topic: n, event: a, payload: i, ref: s } = r, l = s ? `(${s})` : "", f = i.status || ""; this.log("receive", `${f} ${n} ${a} ${l}`.trim(), i), this.channels.filter(d => d._isMember(n)).forEach(d => d._trigger(a, i, s)), this._triggerStateCallbacks("message", r) }) } _clearTimer(t) { var r; t === "heartbeat" && this.heartbeatTimer ? (clearInterval(this.heartbeatTimer), this.heartbeatTimer = void 0) : t === "reconnect" && ((r = this.reconnectTimer) === null || r === void 0 || r.reset()) } _clearAllTimers() { this._clearTimer("heartbeat"), this._clearTimer("reconnect") } _setupConnectionHandlers() { this.conn && ("binaryType" in this.conn && (this.conn.binaryType = "arraybuffer"), this.conn.onopen = () => this._onConnOpen(), this.conn.onerror = t => this._onConnError(t), this.conn.onmessage = t => this._onConnMessage(t), this.conn.onclose = t => this._onConnClose(t), this.conn.readyState === _o.open && this._onConnOpen()) } _teardownConnection() { if (this.conn) { if (this.conn.readyState === _o.open || this.conn.readyState === _o.connecting) try { this.conn.close() } catch (t) { this.log("error", "Error closing connection", t) } this.conn.onopen = null, this.conn.onerror = null, this.conn.onmessage = null, this.conn.onclose = null, this.conn = null } this._clearAllTimers(), this._terminateWorker(), this.channels.forEach(t => t.teardown()) } _onConnOpen() { this._setConnectionState("connected"), this.log("transport", `connected to ${this.endpointURL()}`), (this._authPromise || (this.accessToken && !this.accessTokenValue ? this.setAuth() : Promise.resolve())).then(() => { this.flushSendBuffer() }).catch(r => { this.log("error", "error waiting for auth on connect", r), this.flushSendBuffer() }), this._clearTimer("reconnect"), this.worker ? this.workerRef || this._startWorkerHeartbeat() : this._startHeartbeat(), this._triggerStateCallbacks("open") } _startHeartbeat() { this.heartbeatTimer && clearInterval(this.heartbeatTimer), this.heartbeatTimer = setInterval(() => this.sendHeartbeat(), this.heartbeatIntervalMs) } _startWorkerHeartbeat() { this.workerUrl ? this.log("worker", `starting worker for from ${this.workerUrl}`) : this.log("worker", "starting default worker"); const t = this._workerObjectUrl(this.workerUrl); this.workerRef = new Worker(t), this.workerRef.onerror = r => { this.log("worker", "worker error", r.message), this._terminateWorker() }, this.workerRef.onmessage = r => { r.data.event === "keepAlive" && this.sendHeartbeat() }, this.workerRef.postMessage({ event: "start", interval: this.heartbeatIntervalMs }) } _terminateWorker() { this.workerRef && (this.log("worker", "terminating worker"), this.workerRef.terminate(), this.workerRef = void 0) } _onConnClose(t) { var r; this._setConnectionState("disconnected"), this.log("transport", "close", t), this._triggerChanError(), this._clearTimer("heartbeat"), this._wasManualDisconnect || (r = this.reconnectTimer) === null || r === void 0 || r.scheduleTimeout(), this._triggerStateCallbacks("close", t) } _onConnError(t) { this._setConnectionState("disconnected"), this.log("transport", `${t}`), this._triggerChanError(), this._triggerStateCallbacks("error", t); try { this.heartbeatCallback("error") } catch (r) { this.log("error", "error in heartbeat callback", r) } } _triggerChanError() { this.channels.forEach(t => t._trigger(ci.error)) } _appendParams(t, r) { if (Object.keys(r).length === 0) return t; const n = t.match(/\?/) ? "&" : "?", a = new URLSearchParams(r); return `${t}${n}${a}` } _workerObjectUrl(t) { let r; if (t) r = t; else { const n = new Blob([N$], { type: "application/javascript" }); r = URL.createObjectURL(n) } return r } _setConnectionState(t, r = !1) { this._connectionState = t, t === "connecting" ? this._wasManualDisconnect = !1 : t === "disconnecting" && (this._wasManualDisconnect = r) } async _performAuth(t = null) { let r, n = !1; if (t) r = t, n = !0; else if (this.accessToken) try { r = await this.accessToken() } catch (a) { this.log("error", "Error fetching access token from callback", a), r = this.accessTokenValue } else r = this.accessTokenValue; n ? this._manuallySetToken = !0 : this.accessToken && (this._manuallySetToken = !1), this.accessTokenValue != r && (this.accessTokenValue = r, this.channels.forEach(a => { const i = { access_token: r, version: p$ }; r && a.updateJoinPayload(i), a.joinedOnce && a._isJoined() && a._push(ci.access_token, { access_token: r }) })) } async _waitForAuthIfNeeded() { this._authPromise && await this._authPromise } _setAuthSafely(t = "general") { this._isManualToken() || this.setAuth().catch(r => { this.log("error", `Error setting auth in ${t}`, r) }) } _triggerStateCallbacks(t, r) { try { this.stateChangeCallbacks[t].forEach(n => { try { n(r) } catch (a) { this.log("error", `error in ${t} callback`, a) } }) } catch (n) { this.log("error", `error triggering ${t} callbacks`, n) } } _setupReconnectionTimer() { this.reconnectTimer = new I4(async () => { setTimeout(async () => { await this._waitForAuthIfNeeded(), this.isConnected() || this.connect() }, Jh.RECONNECT_DELAY) }, this.reconnectAfterMs) } _initializeOptions(t) { var r, n, a, i, s, l, f, d, h, m, g, v; switch (this.transport = (r = t == null ? void 0 : t.transport) !== null && r !== void 0 ? r : null, this.timeout = (n = t == null ? void 0 : t.timeout) !== null && n !== void 0 ? n : K1, this.heartbeatIntervalMs = (a = t == null ? void 0 : t.heartbeatIntervalMs) !== null && a !== void 0 ? a : Jh.HEARTBEAT_INTERVAL, this.worker = (i = t == null ? void 0 : t.worker) !== null && i !== void 0 ? i : !1, this.accessToken = (s = t == null ? void 0 : t.accessToken) !== null && s !== void 0 ? s : null, this.heartbeatCallback = (l = t == null ? void 0 : t.heartbeatCallback) !== null && l !== void 0 ? l : $y, this.vsn = (f = t == null ? void 0 : t.vsn) !== null && f !== void 0 ? f : yA, t != null && t.params && (this.params = t.params), t != null && t.logger && (this.logger = t.logger), (t != null && t.logLevel || t != null && t.log_level) && (this.logLevel = t.logLevel || t.log_level, this.params = Object.assign(Object.assign({}, this.params), { log_level: this.logLevel })), this.reconnectAfterMs = (d = t == null ? void 0 : t.reconnectAfterMs) !== null && d !== void 0 ? d : (y => k$[y - 1] || T$), this.vsn) { case m$: this.encode = (h = t == null ? void 0 : t.encode) !== null && h !== void 0 ? h : ((y, b) => b(JSON.stringify(y))), this.decode = (m = t == null ? void 0 : t.decode) !== null && m !== void 0 ? m : ((y, b) => b(JSON.parse(y))); break; case j4: this.encode = (g = t == null ? void 0 : t.encode) !== null && g !== void 0 ? g : this.serializer.encode.bind(this.serializer), this.decode = (v = t == null ? void 0 : t.decode) !== null && v !== void 0 ? v : this.serializer.decode.bind(this.serializer); break; default: throw new Error(`Unsupported serializer version: ${this.vsn}`) }if (this.worker) { if (typeof window < "u" && !window.Worker) throw new Error("Web Worker is not supported"); this.workerUrl = t == null ? void 0 : t.workerUrl } }
} var Of = class extends Error { constructor(e, t) { var r; super(e), this.name = "IcebergError", this.status = t.status, this.icebergType = t.icebergType, this.icebergCode = t.icebergCode, this.details = t.details, this.isCommitStateUnknown = t.icebergType === "CommitStateUnknownException" || [500, 502, 504].includes(t.status) && ((r = t.icebergType) == null ? void 0 : r.includes("CommitState")) === !0 } isNotFound() { return this.status === 404 } isConflict() { return this.status === 409 } isAuthenticationTimeout() { return this.status === 419 } }; function C$(e, t, r) { const n = new URL(t, e); if (r) for (const [a, i] of Object.entries(r)) i !== void 0 && n.searchParams.set(a, i); return n.toString() } async function j$(e) { return !e || e.type === "none" ? {} : e.type === "bearer" ? { Authorization: `Bearer ${e.token}` } : e.type === "header" ? { [e.name]: e.value } : e.type === "custom" ? await e.getHeaders() : {} } function I$(e) { const t = e.fetchImpl ?? globalThis.fetch; return { async request({ method: r, path: n, query: a, body: i, headers: s }) { const l = C$(e.baseUrl, n, a), f = await j$(e.auth), d = await t(l, { method: r, headers: { ...i ? { "Content-Type": "application/json" } : {}, ...f, ...s }, body: i ? JSON.stringify(i) : void 0 }), h = await d.text(), m = (d.headers.get("content-type") || "").includes("application/json"), g = m && h ? JSON.parse(h) : h; if (!d.ok) { const v = m ? g : void 0, y = v == null ? void 0 : v.error; throw new Of((y == null ? void 0 : y.message) ?? `Request failed with status ${d.status}`, { status: d.status, icebergType: y == null ? void 0 : y.type, icebergCode: y == null ? void 0 : y.code, details: v }) } return { status: d.status, headers: d.headers, data: g } } } } function Zh(e) { return e.join("") } var O$ = class { constructor(e, t = "") { this.client = e, this.prefix = t } async listNamespaces(e) { const t = e ? { parent: Zh(e.namespace) } : void 0; return (await this.client.request({ method: "GET", path: `${this.prefix}/namespaces`, query: t })).data.namespaces.map(n => ({ namespace: n })) } async createNamespace(e, t) { const r = { namespace: e.namespace, properties: t == null ? void 0 : t.properties }; return (await this.client.request({ method: "POST", path: `${this.prefix}/namespaces`, body: r })).data } async dropNamespace(e) { await this.client.request({ method: "DELETE", path: `${this.prefix}/namespaces/${Zh(e.namespace)}` }) } async loadNamespaceMetadata(e) { return { properties: (await this.client.request({ method: "GET", path: `${this.prefix}/namespaces/${Zh(e.namespace)}` })).data.properties } } async namespaceExists(e) { try { return await this.client.request({ method: "HEAD", path: `${this.prefix}/namespaces/${Zh(e.namespace)}` }), !0 } catch (t) { if (t instanceof Of && t.status === 404) return !1; throw t } } async createNamespaceIfNotExists(e, t) { try { return await this.createNamespace(e, t) } catch (r) { if (r instanceof Of && r.status === 409) return; throw r } } }; function Yc(e) { return e.join("") } var R$ = class { constructor(e, t = "", r) { this.client = e, this.prefix = t, this.accessDelegation = r } async listTables(e) { return (await this.client.request({ method: "GET", path: `${this.prefix}/namespaces/${Yc(e.namespace)}/tables` })).data.identifiers } async createTable(e, t) { const r = {}; return this.accessDelegation && (r["X-Iceberg-Access-Delegation"] = this.accessDelegation), (await this.client.request({ method: "POST", path: `${this.prefix}/namespaces/${Yc(e.namespace)}/tables`, body: t, headers: r })).data.metadata } async updateTable(e, t) { const r = await this.client.request({ method: "POST", path: `${this.prefix}/namespaces/${Yc(e.namespace)}/tables/${e.name}`, body: t }); return { "metadata-location": r.data["metadata-location"], metadata: r.data.metadata } } async dropTable(e, t) { await this.client.request({ method: "DELETE", path: `${this.prefix}/namespaces/${Yc(e.namespace)}/tables/${e.name}`, query: { purgeRequested: String((t == null ? void 0 : t.purge) ?? !1) } }) } async loadTable(e) { const t = {}; return this.accessDelegation && (t["X-Iceberg-Access-Delegation"] = this.accessDelegation), (await this.client.request({ method: "GET", path: `${this.prefix}/namespaces/${Yc(e.namespace)}/tables/${e.name}`, headers: t })).data.metadata } async tableExists(e) { const t = {}; this.accessDelegation && (t["X-Iceberg-Access-Delegation"] = this.accessDelegation); try { return await this.client.request({ method: "HEAD", path: `${this.prefix}/namespaces/${Yc(e.namespace)}/tables/${e.name}`, headers: t }), !0 } catch (r) { if (r instanceof Of && r.status === 404) return !1; throw r } } async createTableIfNotExists(e, t) { try { return await this.createTable(e, t) } catch (r) { if (r instanceof Of && r.status === 409) return await this.loadTable({ namespace: e.namespace, name: t.name }); throw r } } }, P$ = class { constructor(e) { var n; let t = "v1"; e.catalogName && (t += `/${e.catalogName}`); const r = e.baseUrl.endsWith("/") ? e.baseUrl : `${e.baseUrl}/`; this.client = I$({ baseUrl: r, auth: e.auth, fetchImpl: e.fetch }), this.accessDelegation = (n = e.accessDelegation) == null ? void 0 : n.join(","), this.namespaceOps = new O$(this.client, t), this.tableOps = new R$(this.client, t, this.accessDelegation) } async listNamespaces(e) { return this.namespaceOps.listNamespaces(e) } async createNamespace(e, t) { return this.namespaceOps.createNamespace(e, t) } async dropNamespace(e) { await this.namespaceOps.dropNamespace(e) } async loadNamespaceMetadata(e) { return this.namespaceOps.loadNamespaceMetadata(e) } async listTables(e) { return this.tableOps.listTables(e) } async createTable(e, t) { return this.tableOps.createTable(e, t) } async updateTable(e, t) { return this.tableOps.updateTable(e, t) } async dropTable(e, t) { await this.tableOps.dropTable(e, t) } async loadTable(e) { return this.tableOps.loadTable(e) } async namespaceExists(e) { return this.namespaceOps.namespaceExists(e) } async tableExists(e) { return this.tableOps.tableExists(e) } async createNamespaceIfNotExists(e, t) { return this.namespaceOps.createNamespaceIfNotExists(e, t) } async createTableIfNotExists(e, t) { return this.tableOps.createTableIfNotExists(e, t) } }, mg = class extends Error { constructor(e, t = "storage", r, n) { super(e), this.__isStorageError = !0, this.namespace = t, this.name = t === "vectors" ? "StorageVectorsError" : "StorageError", this.status = r, this.statusCode = n } }; function gg(e) { return typeof e == "object" && e !== null && "__isStorageError" in e } var Qh = class extends mg { constructor(e, t, r, n = "storage") { super(e, n, t, r), this.name = n === "vectors" ? "StorageVectorsApiError" : "StorageApiError", this.status = t, this.statusCode = r } toJSON() { return { name: this.name, message: this.message, status: this.status, statusCode: this.statusCode } } }, P4 = class extends mg { constructor(e, t, r = "storage") { super(e, r), this.name = r === "vectors" ? "StorageVectorsUnknownError" : "StorageUnknownError", this.originalError = t } }; const D$ = e => e ? (...t) => e(...t) : (...t) => fetch(...t), M$ = e => { if (typeof e != "object" || e === null) return !1; const t = Object.getPrototypeOf(e); return (t === null || t === Object.prototype || Object.getPrototypeOf(t) === null) && !(Symbol.toStringTag in e) && !(Symbol.iterator in e) }, J1 = e => { if (Array.isArray(e)) return e.map(r => J1(r)); if (typeof e == "function" || e !== Object(e)) return e; const t = {}; return Object.entries(e).forEach(([r, n]) => { const a = r.replace(/([-_][a-z])/gi, i => i.toUpperCase().replace(/[-_]/g, "")); t[a] = J1(n) }), t }, L$ = e => !e || typeof e != "string" || e.length === 0 || e.length > 100 || e.trim() !== e || e.includes("/") || e.includes("\\") ? !1 : /^[\w!.\*'() &$@=;:+,?-]+$/.test(e); function Rf(e) { "@babel/helpers - typeof"; return Rf = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (t) { return typeof t } : function (t) { return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t }, Rf(e) } function F$(e, t) { if (Rf(e) != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (Rf(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } function U$(e) { var t = F$(e, "string"); return Rf(t) == "symbol" ? t : t + "" } function B$(e, t, r) { return (t = U$(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function SA(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function nt(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? SA(Object(r), !0).forEach(function (n) { B$(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : SA(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } const EA = e => { var t; return e.msg || e.message || e.error_description || (typeof e.error == "string" ? e.error : (t = e.error) === null || t === void 0 ? void 0 : t.message) || JSON.stringify(e) }, $$ = async (e, t, r, n) => { if (e && typeof e == "object" && "status" in e && "ok" in e && typeof e.status == "number" && !(r != null && r.noResolveJson)) { const a = e, i = a.status || 500; if (typeof a.json == "function") a.json().then(s => { const l = (s == null ? void 0 : s.statusCode) || (s == null ? void 0 : s.code) || i + ""; t(new Qh(EA(s), i, l, n)) }).catch(() => { if (n === "vectors") { const s = i + ""; t(new Qh(a.statusText || `HTTP ${i} error`, i, s, n)) } else { const s = i + ""; t(new Qh(a.statusText || `HTTP ${i} error`, i, s, n)) } }); else { const s = i + ""; t(new Qh(a.statusText || `HTTP ${i} error`, i, s, n)) } } else t(new P4(EA(e), e, n)) }, z$ = (e, t, r, n) => { const a = { method: e, headers: (t == null ? void 0 : t.headers) || {} }; return e === "GET" || e === "HEAD" || !n ? nt(nt({}, a), r) : (M$(n) ? (a.headers = nt({ "Content-Type": "application/json" }, t == null ? void 0 : t.headers), a.body = JSON.stringify(n)) : a.body = n, t != null && t.duplex && (a.duplex = t.duplex), nt(nt({}, a), r)) }; async function Yd(e, t, r, n, a, i, s) { return new Promise((l, f) => { e(r, z$(t, n, a, i)).then(d => { if (!d.ok) throw d; if (n != null && n.noResolveJson) return d; if (s === "vectors") { const h = d.headers.get("content-type"); if (!h || !h.includes("application/json")) return {} } return d.json() }).then(d => l(d)).catch(d => $$(d, f, n, s)) }) } function H$(e = "storage") { return { get: async (t, r, n, a) => Yd(t, "GET", r, n, a, void 0, e), post: async (t, r, n, a, i) => Yd(t, "POST", r, a, i, n, e), put: async (t, r, n, a, i) => Yd(t, "PUT", r, a, i, n, e), head: async (t, r, n, a) => Yd(t, "HEAD", r, nt(nt({}, n), {}, { noResolveJson: !0 }), a, void 0, e), remove: async (t, r, n, a, i) => Yd(t, "DELETE", r, a, i, n, e) } } const G$ = H$("storage"), { get: Pf, post: cr, put: Z1, head: V$, remove: R_ } = G$; var Bu = class { constructor(e, t = {}, r, n = "storage") { this.shouldThrowOnError = !1, this.url = e, this.headers = t, this.fetch = D$(r), this.namespace = n } throwOnError() { return this.shouldThrowOnError = !0, this } async handleOperation(e) { var t = this; try { return { data: await e(), error: null } } catch (r) { if (t.shouldThrowOnError) throw r; if (gg(r)) return { data: null, error: r }; throw r } } }, q$ = class { constructor(e, t) { this.downloadFn = e, this.shouldThrowOnError = t } then(e, t) { return this.execute().then(e, t) } async execute() { var e = this; try { return { data: (await e.downloadFn()).body, error: null } } catch (t) { if (e.shouldThrowOnError) throw t; if (gg(t)) return { data: null, error: t }; throw t } } }; let D4; D4 = Symbol.toStringTag; var W$ = class { constructor(e, t) { this.downloadFn = e, this.shouldThrowOnError = t, this[D4] = "BlobDownloadBuilder", this.promise = null } asStream() { return new q$(this.downloadFn, this.shouldThrowOnError) } then(e, t) { return this.getPromise().then(e, t) } catch(e) { return this.getPromise().catch(e) } finally(e) { return this.getPromise().finally(e) } getPromise() { return this.promise || (this.promise = this.execute()), this.promise } async execute() { var e = this; try { return { data: await (await e.downloadFn()).blob(), error: null } } catch (t) { if (e.shouldThrowOnError) throw t; if (gg(t)) return { data: null, error: t }; throw t } } }; const K$ = { limit: 100, offset: 0, sortBy: { column: "name", order: "asc" } }, kA = { cacheControl: "3600", contentType: "text/plain;charset=UTF-8", upsert: !1 }; var Y$ = class extends Bu { constructor(e, t = {}, r, n) { super(e, t, n, "storage"), this.bucketId = r } async uploadOrUpdate(e, t, r, n) { var a = this; return a.handleOperation(async () => { let i; const s = nt(nt({}, kA), n); let l = nt(nt({}, a.headers), e === "POST" && { "x-upsert": String(s.upsert) }); const f = s.metadata; typeof Blob < "u" && r instanceof Blob ? (i = new FormData, i.append("cacheControl", s.cacheControl), f && i.append("metadata", a.encodeMetadata(f)), i.append("", r)) : typeof FormData < "u" && r instanceof FormData ? (i = r, i.has("cacheControl") || i.append("cacheControl", s.cacheControl), f && !i.has("metadata") && i.append("metadata", a.encodeMetadata(f))) : (i = r, l["cache-control"] = `max-age=${s.cacheControl}`, l["content-type"] = s.contentType, f && (l["x-metadata"] = a.toBase64(a.encodeMetadata(f))), (typeof ReadableStream < "u" && i instanceof ReadableStream || i && typeof i == "object" && "pipe" in i && typeof i.pipe == "function") && !s.duplex && (s.duplex = "half")), n != null && n.headers && (l = nt(nt({}, l), n.headers)); const d = a._removeEmptyFolders(t), h = a._getFinalPath(d), m = await (e == "PUT" ? Z1 : cr)(a.fetch, `${a.url}/object/${h}`, i, nt({ headers: l }, s != null && s.duplex ? { duplex: s.duplex } : {})); return { path: d, id: m.Id, fullPath: m.Key } }) } async upload(e, t, r) { return this.uploadOrUpdate("POST", e, t, r) } async uploadToSignedUrl(e, t, r, n) { var a = this; const i = a._removeEmptyFolders(e), s = a._getFinalPath(i), l = new URL(a.url + `/object/upload/sign/${s}`); return l.searchParams.set("token", t), a.handleOperation(async () => { let f; const d = nt({ upsert: kA.upsert }, n), h = nt(nt({}, a.headers), { "x-upsert": String(d.upsert) }); return typeof Blob < "u" && r instanceof Blob ? (f = new FormData, f.append("cacheControl", d.cacheControl), f.append("", r)) : typeof FormData < "u" && r instanceof FormData ? (f = r, f.append("cacheControl", d.cacheControl)) : (f = r, h["cache-control"] = `max-age=${d.cacheControl}`, h["content-type"] = d.contentType), { path: i, fullPath: (await Z1(a.fetch, l.toString(), f, { headers: h })).Key } }) } async createSignedUploadUrl(e, t) { var r = this; return r.handleOperation(async () => { let n = r._getFinalPath(e); const a = nt({}, r.headers); t != null && t.upsert && (a["x-upsert"] = "true"); const i = await cr(r.fetch, `${r.url}/object/upload/sign/${n}`, {}, { headers: a }), s = new URL(r.url + i.url), l = s.searchParams.get("token"); if (!l) throw new mg("No token returned by API"); return { signedUrl: s.toString(), path: e, token: l } }) } async update(e, t, r) { return this.uploadOrUpdate("PUT", e, t, r) } async move(e, t, r) { var n = this; return n.handleOperation(async () => await cr(n.fetch, `${n.url}/object/move`, { bucketId: n.bucketId, sourceKey: e, destinationKey: t, destinationBucket: r == null ? void 0 : r.destinationBucket }, { headers: n.headers })) } async copy(e, t, r) { var n = this; return n.handleOperation(async () => ({ path: (await cr(n.fetch, `${n.url}/object/copy`, { bucketId: n.bucketId, sourceKey: e, destinationKey: t, destinationBucket: r == null ? void 0 : r.destinationBucket }, { headers: n.headers })).Key })) } async createSignedUrl(e, t, r) { var n = this; return n.handleOperation(async () => { let a = n._getFinalPath(e), i = await cr(n.fetch, `${n.url}/object/sign/${a}`, nt({ expiresIn: t }, r != null && r.transform ? { transform: r.transform } : {}), { headers: n.headers }); const s = r != null && r.download ? `&download=${r.download === !0 ? "" : r.download}` : ""; return { signedUrl: encodeURI(`${n.url}${i.signedURL}${s}`) } }) } async createSignedUrls(e, t, r) { var n = this; return n.handleOperation(async () => { const a = await cr(n.fetch, `${n.url}/object/sign/${n.bucketId}`, { expiresIn: t, paths: e }, { headers: n.headers }), i = r != null && r.download ? `&download=${r.download === !0 ? "" : r.download}` : ""; return a.map(s => nt(nt({}, s), {}, { signedUrl: s.signedURL ? encodeURI(`${n.url}${s.signedURL}${i}`) : null })) }) } download(e, t) { const r = typeof (t == null ? void 0 : t.transform) < "u" ? "render/image/authenticated" : "object", n = this.transformOptsToQueryString((t == null ? void 0 : t.transform) || {}), a = n ? `?${n}` : "", i = this._getFinalPath(e), s = () => Pf(this.fetch, `${this.url}/${r}/${i}${a}`, { headers: this.headers, noResolveJson: !0 }); return new W$(s, this.shouldThrowOnError) } async info(e) { var t = this; const r = t._getFinalPath(e); return t.handleOperation(async () => J1(await Pf(t.fetch, `${t.url}/object/info/${r}`, { headers: t.headers }))) } async exists(e) { var t = this; const r = t._getFinalPath(e); try { return await V$(t.fetch, `${t.url}/object/${r}`, { headers: t.headers }), { data: !0, error: null } } catch (n) { if (t.shouldThrowOnError) throw n; if (gg(n) && n instanceof P4) { const a = n.originalError; if ([400, 404].includes(a == null ? void 0 : a.status)) return { data: !1, error: n } } throw n } } getPublicUrl(e, t) { const r = this._getFinalPath(e), n = [], a = t != null && t.download ? `download=${t.download === !0 ? "" : t.download}` : ""; a !== "" && n.push(a); const i = typeof (t == null ? void 0 : t.transform) < "u" ? "render/image" : "object", s = this.transformOptsToQueryString((t == null ? void 0 : t.transform) || {}); s !== "" && n.push(s); let l = n.join("&"); return l !== "" && (l = `?${l}`), { data: { publicUrl: encodeURI(`${this.url}/${i}/public/${r}${l}`) } } } async remove(e) { var t = this; return t.handleOperation(async () => await R_(t.fetch, `${t.url}/object/${t.bucketId}`, { prefixes: e }, { headers: t.headers })) } async list(e, t, r) { var n = this; return n.handleOperation(async () => { const a = nt(nt(nt({}, K$), t), {}, { prefix: e || "" }); return await cr(n.fetch, `${n.url}/object/list/${n.bucketId}`, a, { headers: n.headers }, r) }) } async listV2(e, t) { var r = this; return r.handleOperation(async () => { const n = nt({}, e); return await cr(r.fetch, `${r.url}/object/list-v2/${r.bucketId}`, n, { headers: r.headers }, t) }) } encodeMetadata(e) { return JSON.stringify(e) } toBase64(e) { return typeof Buffer < "u" ? Buffer.from(e).toString("base64") : btoa(e) } _getFinalPath(e) { return `${this.bucketId}/${e.replace(/^\/+/, "")}` } _removeEmptyFolders(e) { return e.replace(/^\/|\/$/g, "").replace(/\/+/g, "/") } transformOptsToQueryString(e) { const t = []; return e.width && t.push(`width=${e.width}`), e.height && t.push(`height=${e.height}`), e.resize && t.push(`resize=${e.resize}`), e.format && t.push(`format=${e.format}`), e.quality && t.push(`quality=${e.quality}`), t.join("&") } }; const X$ = "2.93.1", u0 = { "X-Client-Info": `storage-js/${X$}` }; var J$ = class extends Bu { constructor(e, t = {}, r, n) { const a = new URL(e); n != null && n.useNewHostname && /supabase\.(co|in|red)$/.test(a.hostname) && !a.hostname.includes("storage.supabase.") && (a.hostname = a.hostname.replace("supabase.", "storage.supabase.")); const i = a.href.replace(/\/$/, ""), s = nt(nt({}, u0), t); super(i, s, r, "storage") } async listBuckets(e) { var t = this; return t.handleOperation(async () => { const r = t.listBucketOptionsToQueryString(e); return await Pf(t.fetch, `${t.url}/bucket${r}`, { headers: t.headers }) }) } async getBucket(e) { var t = this; return t.handleOperation(async () => await Pf(t.fetch, `${t.url}/bucket/${e}`, { headers: t.headers })) } async createBucket(e, t = { public: !1 }) { var r = this; return r.handleOperation(async () => await cr(r.fetch, `${r.url}/bucket`, { id: e, name: e, type: t.type, public: t.public, file_size_limit: t.fileSizeLimit, allowed_mime_types: t.allowedMimeTypes }, { headers: r.headers })) } async updateBucket(e, t) { var r = this; return r.handleOperation(async () => await Z1(r.fetch, `${r.url}/bucket/${e}`, { id: e, name: e, public: t.public, file_size_limit: t.fileSizeLimit, allowed_mime_types: t.allowedMimeTypes }, { headers: r.headers })) } async emptyBucket(e) { var t = this; return t.handleOperation(async () => await cr(t.fetch, `${t.url}/bucket/${e}/empty`, {}, { headers: t.headers })) } async deleteBucket(e) { var t = this; return t.handleOperation(async () => await R_(t.fetch, `${t.url}/bucket/${e}`, {}, { headers: t.headers })) } listBucketOptionsToQueryString(e) { const t = {}; return e && ("limit" in e && (t.limit = String(e.limit)), "offset" in e && (t.offset = String(e.offset)), e.search && (t.search = e.search), e.sortColumn && (t.sortColumn = e.sortColumn), e.sortOrder && (t.sortOrder = e.sortOrder)), Object.keys(t).length > 0 ? "?" + new URLSearchParams(t).toString() : "" } }, Z$ = class extends Bu { constructor(e, t = {}, r) { const n = e.replace(/\/$/, ""), a = nt(nt({}, u0), t); super(n, a, r, "storage") } async createBucket(e) { var t = this; return t.handleOperation(async () => await cr(t.fetch, `${t.url}/bucket`, { name: e }, { headers: t.headers })) } async listBuckets(e) { var t = this; return t.handleOperation(async () => { const r = new URLSearchParams; (e == null ? void 0 : e.limit) !== void 0 && r.set("limit", e.limit.toString()), (e == null ? void 0 : e.offset) !== void 0 && r.set("offset", e.offset.toString()), e != null && e.sortColumn && r.set("sortColumn", e.sortColumn), e != null && e.sortOrder && r.set("sortOrder", e.sortOrder), e != null && e.search && r.set("search", e.search); const n = r.toString(), a = n ? `${t.url}/bucket?${n}` : `${t.url}/bucket`; return await Pf(t.fetch, a, { headers: t.headers }) }) } async deleteBucket(e) { var t = this; return t.handleOperation(async () => await R_(t.fetch, `${t.url}/bucket/${e}`, {}, { headers: t.headers })) } from(e) { var t = this; if (!L$(e)) throw new mg("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters."); const r = new P$({ baseUrl: this.url, catalogName: e, auth: { type: "custom", getHeaders: async () => t.headers }, fetch: this.fetch }), n = this.shouldThrowOnError; return new Proxy(r, { get(a, i) { const s = a[i]; return typeof s != "function" ? s : async (...l) => { try { return { data: await s.apply(a, l), error: null } } catch (f) { if (n) throw f; return { data: null, error: f } } } } }) } }, Q$ = class extends Bu { constructor(e, t = {}, r) { const n = e.replace(/\/$/, ""), a = nt(nt({}, u0), {}, { "Content-Type": "application/json" }, t); super(n, a, r, "vectors") } async createIndex(e) { var t = this; return t.handleOperation(async () => await cr(t.fetch, `${t.url}/CreateIndex`, e, { headers: t.headers }) || {}) } async getIndex(e, t) { var r = this; return r.handleOperation(async () => await cr(r.fetch, `${r.url}/GetIndex`, { vectorBucketName: e, indexName: t }, { headers: r.headers })) } async listIndexes(e) { var t = this; return t.handleOperation(async () => await cr(t.fetch, `${t.url}/ListIndexes`, e, { headers: t.headers })) } async deleteIndex(e, t) { var r = this; return r.handleOperation(async () => await cr(r.fetch, `${r.url}/DeleteIndex`, { vectorBucketName: e, indexName: t }, { headers: r.headers }) || {}) } }, e7 = class extends Bu { constructor(e, t = {}, r) { const n = e.replace(/\/$/, ""), a = nt(nt({}, u0), {}, { "Content-Type": "application/json" }, t); super(n, a, r, "vectors") } async putVectors(e) { var t = this; if (e.vectors.length < 1 || e.vectors.length > 500) throw new Error("Vector batch size must be between 1 and 500 items"); return t.handleOperation(async () => await cr(t.fetch, `${t.url}/PutVectors`, e, { headers: t.headers }) || {}) } async getVectors(e) { var t = this; return t.handleOperation(async () => await cr(t.fetch, `${t.url}/GetVectors`, e, { headers: t.headers })) } async listVectors(e) { var t = this; if (e.segmentCount !== void 0) { if (e.segmentCount < 1 || e.segmentCount > 16) throw new Error("segmentCount must be between 1 and 16"); if (e.segmentIndex !== void 0 && (e.segmentIndex < 0 || e.segmentIndex >= e.segmentCount)) throw new Error(`segmentIndex must be between 0 and ${e.segmentCount - 1}`) } return t.handleOperation(async () => await cr(t.fetch, `${t.url}/ListVectors`, e, { headers: t.headers })) } async queryVectors(e) { var t = this; return t.handleOperation(async () => await cr(t.fetch, `${t.url}/QueryVectors`, e, { headers: t.headers })) } async deleteVectors(e) { var t = this; if (e.keys.length < 1 || e.keys.length > 500) throw new Error("Keys batch size must be between 1 and 500 items"); return t.handleOperation(async () => await cr(t.fetch, `${t.url}/DeleteVectors`, e, { headers: t.headers }) || {}) } }, t7 = class extends Bu { constructor(e, t = {}, r) { const n = e.replace(/\/$/, ""), a = nt(nt({}, u0), {}, { "Content-Type": "application/json" }, t); super(n, a, r, "vectors") } async createBucket(e) { var t = this; return t.handleOperation(async () => await cr(t.fetch, `${t.url}/CreateVectorBucket`, { vectorBucketName: e }, { headers: t.headers }) || {}) } async getBucket(e) { var t = this; return t.handleOperation(async () => await cr(t.fetch, `${t.url}/GetVectorBucket`, { vectorBucketName: e }, { headers: t.headers })) } async listBuckets(e = {}) { var t = this; return t.handleOperation(async () => await cr(t.fetch, `${t.url}/ListVectorBuckets`, e, { headers: t.headers })) } async deleteBucket(e) { var t = this; return t.handleOperation(async () => await cr(t.fetch, `${t.url}/DeleteVectorBucket`, { vectorBucketName: e }, { headers: t.headers }) || {}) } }, r7 = class extends t7 { constructor(e, t = {}) { super(e, t.headers || {}, t.fetch) } from(e) { return new n7(this.url, this.headers, e, this.fetch) } async createBucket(e) { var t = () => super.createBucket, r = this; return t().call(r, e) } async getBucket(e) { var t = () => super.getBucket, r = this; return t().call(r, e) } async listBuckets(e = {}) { var t = () => super.listBuckets, r = this; return t().call(r, e) } async deleteBucket(e) { var t = () => super.deleteBucket, r = this; return t().call(r, e) } }, n7 = class extends Q$ { constructor(e, t, r, n) { super(e, t, n), this.vectorBucketName = r } async createIndex(e) { var t = () => super.createIndex, r = this; return t().call(r, nt(nt({}, e), {}, { vectorBucketName: r.vectorBucketName })) } async listIndexes(e = {}) { var t = () => super.listIndexes, r = this; return t().call(r, nt(nt({}, e), {}, { vectorBucketName: r.vectorBucketName })) } async getIndex(e) { var t = () => super.getIndex, r = this; return t().call(r, r.vectorBucketName, e) } async deleteIndex(e) { var t = () => super.deleteIndex, r = this; return t().call(r, r.vectorBucketName, e) } index(e) { return new a7(this.url, this.headers, this.vectorBucketName, e, this.fetch) } }, a7 = class extends e7 { constructor(e, t, r, n, a) { super(e, t, a), this.vectorBucketName = r, this.indexName = n } async putVectors(e) { var t = () => super.putVectors, r = this; return t().call(r, nt(nt({}, e), {}, { vectorBucketName: r.vectorBucketName, indexName: r.indexName })) } async getVectors(e) { var t = () => super.getVectors, r = this; return t().call(r, nt(nt({}, e), {}, { vectorBucketName: r.vectorBucketName, indexName: r.indexName })) } async listVectors(e = {}) { var t = () => super.listVectors, r = this; return t().call(r, nt(nt({}, e), {}, { vectorBucketName: r.vectorBucketName, indexName: r.indexName })) } async queryVectors(e) { var t = () => super.queryVectors, r = this; return t().call(r, nt(nt({}, e), {}, { vectorBucketName: r.vectorBucketName, indexName: r.indexName })) } async deleteVectors(e) { var t = () => super.deleteVectors, r = this; return t().call(r, nt(nt({}, e), {}, { vectorBucketName: r.vectorBucketName, indexName: r.indexName })) } }, i7 = class extends J$ { constructor(e, t = {}, r, n) { super(e, t, r, n) } from(e) { return new Y$(this.url, this.headers, e, this.fetch) } get vectors() { return new r7(this.url + "/vector", { headers: this.headers, fetch: this.fetch }) } get analytics() { return new Z$(this.url + "/iceberg", this.headers, this.fetch) } }; const M4 = "2.93.1", uu = 30 * 1e3, Q1 = 3, zy = Q1 * uu, s7 = "http://localhost:9999", o7 = "supabase.auth.token", l7 = { "X-Client-Info": `gotrue-js/${M4}` }, ew = "X-Supabase-Api-Version", L4 = { "2024-01-01": { timestamp: Date.parse("2024-01-01T00:00:00.0Z"), name: "2024-01-01" } }, c7 = /^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i, u7 = 600 * 1e3; class Df extends Error { constructor(t, r, n) { super(t), this.__isAuthError = !0, this.name = "AuthError", this.status = r, this.code = n } } function Xe(e) { return typeof e == "object" && e !== null && "__isAuthError" in e } class d7 extends Df { constructor(t, r, n) { super(t, r, n), this.name = "AuthApiError", this.status = r, this.code = n } } function f7(e) { return Xe(e) && e.name === "AuthApiError" } class Tl extends Df { constructor(t, r) { super(t), this.name = "AuthUnknownError", this.originalError = r } } class Ls extends Df { constructor(t, r, n, a) { super(t, n, a), this.name = r, this.status = n } } class ba extends Ls { constructor() { super("Auth session missing!", "AuthSessionMissingError", 400, void 0) } } function Hy(e) { return Xe(e) && e.name === "AuthSessionMissingError" } class Xc extends Ls { constructor() { super("Auth session or user missing", "AuthInvalidTokenResponseError", 500, void 0) } } class ep extends Ls { constructor(t) { super(t, "AuthInvalidCredentialsError", 400, void 0) } } class tp extends Ls { constructor(t, r = null) { super(t, "AuthImplicitGrantRedirectError", 500, void 0), this.details = null, this.details = r } toJSON() { return { name: this.name, message: this.message, status: this.status, details: this.details } } } function h7(e) { return Xe(e) && e.name === "AuthImplicitGrantRedirectError" } class TA extends Ls { constructor(t, r = null) { super(t, "AuthPKCEGrantCodeExchangeError", 500, void 0), this.details = null, this.details = r } toJSON() { return { name: this.name, message: this.message, status: this.status, details: this.details } } } class p7 extends Ls { constructor() { super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.", "AuthPKCECodeVerifierMissingError", 400, "pkce_code_verifier_not_found") } } class tw extends Ls { constructor(t, r) { super(t, "AuthRetryableFetchError", r, void 0) } } function Gy(e) { return Xe(e) && e.name === "AuthRetryableFetchError" } class NA extends Ls { constructor(t, r, n) { super(t, "AuthWeakPasswordError", r, "weak_password"), this.reasons = n } } class rw extends Ls { constructor(t) { super(t, "AuthInvalidJwtError", 400, "invalid_jwt") } } const Kp = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""), AA = ` 	
\r=`.split(""), m7 = (() => { const e = new Array(128); for (let t = 0; t < e.length; t += 1)e[t] = -1; for (let t = 0; t < AA.length; t += 1)e[AA[t].charCodeAt(0)] = -2; for (let t = 0; t < Kp.length; t += 1)e[Kp[t].charCodeAt(0)] = t; return e })(); function CA(e, t, r) { if (e !== null) for (t.queue = t.queue << 8 | e, t.queuedBits += 8; t.queuedBits >= 6;) { const n = t.queue >> t.queuedBits - 6 & 63; r(Kp[n]), t.queuedBits -= 6 } else if (t.queuedBits > 0) for (t.queue = t.queue << 6 - t.queuedBits, t.queuedBits = 6; t.queuedBits >= 6;) { const n = t.queue >> t.queuedBits - 6 & 63; r(Kp[n]), t.queuedBits -= 6 } } function F4(e, t, r) { const n = m7[e]; if (n > -1) for (t.queue = t.queue << 6 | n, t.queuedBits += 6; t.queuedBits >= 8;)r(t.queue >> t.queuedBits - 8 & 255), t.queuedBits -= 8; else { if (n === -2) return; throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`) } } function jA(e) { const t = [], r = s => { t.push(String.fromCodePoint(s)) }, n = { utf8seq: 0, codepoint: 0 }, a = { queue: 0, queuedBits: 0 }, i = s => { v7(s, n, r) }; for (let s = 0; s < e.length; s += 1)F4(e.charCodeAt(s), a, i); return t.join("") } function g7(e, t) { if (e <= 127) { t(e); return } else if (e <= 2047) { t(192 | e >> 6), t(128 | e & 63); return } else if (e <= 65535) { t(224 | e >> 12), t(128 | e >> 6 & 63), t(128 | e & 63); return } else if (e <= 1114111) { t(240 | e >> 18), t(128 | e >> 12 & 63), t(128 | e >> 6 & 63), t(128 | e & 63); return } throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`) } function x7(e, t) { for (let r = 0; r < e.length; r += 1) { let n = e.charCodeAt(r); if (n > 55295 && n <= 56319) { const a = (n - 55296) * 1024 & 65535; n = (e.charCodeAt(r + 1) - 56320 & 65535 | a) + 65536, r += 1 } g7(n, t) } } function v7(e, t, r) { if (t.utf8seq === 0) { if (e <= 127) { r(e); return } for (let n = 1; n < 6; n += 1)if ((e >> 7 - n & 1) === 0) { t.utf8seq = n; break } if (t.utf8seq === 2) t.codepoint = e & 31; else if (t.utf8seq === 3) t.codepoint = e & 15; else if (t.utf8seq === 4) t.codepoint = e & 7; else throw new Error("Invalid UTF-8 sequence"); t.utf8seq -= 1 } else if (t.utf8seq > 0) { if (e <= 127) throw new Error("Invalid UTF-8 sequence"); t.codepoint = t.codepoint << 6 | e & 63, t.utf8seq -= 1, t.utf8seq === 0 && r(t.codepoint) } } function _u(e) { const t = [], r = { queue: 0, queuedBits: 0 }, n = a => { t.push(a) }; for (let a = 0; a < e.length; a += 1)F4(e.charCodeAt(a), r, n); return new Uint8Array(t) } function y7(e) { const t = []; return x7(e, r => t.push(r)), new Uint8Array(t) } function jl(e) { const t = [], r = { queue: 0, queuedBits: 0 }, n = a => { t.push(a) }; return e.forEach(a => CA(a, r, n)), CA(null, r, n), t.join("") } function b7(e) { return Math.round(Date.now() / 1e3) + e } function w7() { return Symbol("auth-callback") } const yn = () => typeof window < "u" && typeof document < "u", gl = { tested: !1, writable: !1 }, U4 = () => { if (!yn()) return !1; try { if (typeof globalThis.localStorage != "object") return !1 } catch { return !1 } if (gl.tested) return gl.writable; const e = `lswt-${Math.random()}${Math.random()}`; try { globalThis.localStorage.setItem(e, e), globalThis.localStorage.removeItem(e), gl.tested = !0, gl.writable = !0 } catch { gl.tested = !0, gl.writable = !1 } return gl.writable }; function _7(e) { const t = {}, r = new URL(e); if (r.hash && r.hash[0] === "#") try { new URLSearchParams(r.hash.substring(1)).forEach((a, i) => { t[i] = a }) } catch { } return r.searchParams.forEach((n, a) => { t[a] = n }), t } const B4 = e => e ? (...t) => e(...t) : (...t) => fetch(...t), S7 = e => typeof e == "object" && e !== null && "status" in e && "ok" in e && "json" in e && typeof e.json == "function", du = async (e, t, r) => { await e.setItem(t, JSON.stringify(r)) }, xl = async (e, t) => { const r = await e.getItem(t); if (!r) return null; try { return JSON.parse(r) } catch { return r } }, vn = async (e, t) => { await e.removeItem(t) }; class xg { constructor() { this.promise = new xg.promiseConstructor((t, r) => { this.resolve = t, this.reject = r }) } } xg.promiseConstructor = Promise; function rp(e) { const t = e.split("."); if (t.length !== 3) throw new rw("Invalid JWT structure"); for (let n = 0; n < t.length; n++)if (!c7.test(t[n])) throw new rw("JWT not in base64url format"); return { header: JSON.parse(jA(t[0])), payload: JSON.parse(jA(t[1])), signature: _u(t[2]), raw: { header: t[0], payload: t[1] } } } async function E7(e) { return await new Promise(t => { setTimeout(() => t(null), e) }) } function k7(e, t) { return new Promise((n, a) => { (async () => { for (let i = 0; i < 1 / 0; i++)try { const s = await e(i); if (!t(i, null, s)) { n(s); return } } catch (s) { if (!t(i, s)) { a(s); return } } })() }) } function T7(e) { return ("0" + e.toString(16)).substr(-2) } function N7() { const t = new Uint32Array(56); if (typeof crypto > "u") { const r = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~", n = r.length; let a = ""; for (let i = 0; i < 56; i++)a += r.charAt(Math.floor(Math.random() * n)); return a } return crypto.getRandomValues(t), Array.from(t, T7).join("") } async function A7(e) { const r = new TextEncoder().encode(e), n = await crypto.subtle.digest("SHA-256", r), a = new Uint8Array(n); return Array.from(a).map(i => String.fromCharCode(i)).join("") } async function C7(e) { if (!(typeof crypto < "u" && typeof crypto.subtle < "u" && typeof TextEncoder < "u")) return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."), e; const r = await A7(e); return btoa(r).replace(/\+/g, "-").replace(/\//g, "_").replace(/=+$/, "") } async function Jc(e, t, r = !1) { const n = N7(); let a = n; r && (a += "/PASSWORD_RECOVERY"), await du(e, `${t}-code-verifier`, a); const i = await C7(n); return [i, n === i ? "plain" : "s256"] } const j7 = /^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i; function I7(e) { const t = e.headers.get(ew); if (!t || !t.match(j7)) return null; try { return new Date(`${t}T00:00:00.0Z`) } catch { return null } } function O7(e) { if (!e) throw new Error("Missing exp claim"); const t = Math.floor(Date.now() / 1e3); if (e <= t) throw new Error("JWT has expired") } function R7(e) { switch (e) { case "RS256": return { name: "RSASSA-PKCS1-v1_5", hash: { name: "SHA-256" } }; case "ES256": return { name: "ECDSA", namedCurve: "P-256", hash: { name: "SHA-256" } }; default: throw new Error("Invalid alg claim") } } const P7 = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/; function Zc(e) { if (!P7.test(e)) throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not") } function Vy() { const e = {}; return new Proxy(e, { get: (t, r) => { if (r === "__isUserNotAvailableProxy") return !0; if (typeof r == "symbol") { const n = r.toString(); if (n === "Symbol(Symbol.toPrimitive)" || n === "Symbol(Symbol.toStringTag)" || n === "Symbol(util.inspect.custom)") return } throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`) }, set: (t, r) => { throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`) }, deleteProperty: (t, r) => { throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`) } }) } function D7(e, t) { return new Proxy(e, { get: (r, n, a) => { if (n === "__isInsecureUserWarningProxy") return !0; if (typeof n == "symbol") { const i = n.toString(); if (i === "Symbol(Symbol.toPrimitive)" || i === "Symbol(Symbol.toStringTag)" || i === "Symbol(util.inspect.custom)" || i === "Symbol(nodejs.util.inspect.custom)") return Reflect.get(r, n, a) } return !t.value && typeof n == "string" && (console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."), t.value = !0), Reflect.get(r, n, a) } }) } function IA(e) { return JSON.parse(JSON.stringify(e)) } const bl = e => e.msg || e.message || e.error_description || e.error || JSON.stringify(e), M7 = [502, 503, 504]; async function OA(e) { var t; if (!S7(e)) throw new tw(bl(e), 0); if (M7.includes(e.status)) throw new tw(bl(e), e.status); let r; try { r = await e.json() } catch (i) { throw new Tl(bl(i), i) } let n; const a = I7(e); if (a && a.getTime() >= L4["2024-01-01"].timestamp && typeof r == "object" && r && typeof r.code == "string" ? n = r.code : typeof r == "object" && r && typeof r.error_code == "string" && (n = r.error_code), n) { if (n === "weak_password") throw new NA(bl(r), e.status, ((t = r.weak_password) === null || t === void 0 ? void 0 : t.reasons) || []); if (n === "session_not_found") throw new ba } else if (typeof r == "object" && r && typeof r.weak_password == "object" && r.weak_password && Array.isArray(r.weak_password.reasons) && r.weak_password.reasons.length && r.weak_password.reasons.reduce((i, s) => i && typeof s == "string", !0)) throw new NA(bl(r), e.status, r.weak_password.reasons); throw new d7(bl(r), e.status || 500, n) } const L7 = (e, t, r, n) => { const a = { method: e, headers: (t == null ? void 0 : t.headers) || {} }; return e === "GET" ? a : (a.headers = Object.assign({ "Content-Type": "application/json;charset=UTF-8" }, t == null ? void 0 : t.headers), a.body = JSON.stringify(n), Object.assign(Object.assign({}, a), r)) }; async function rt(e, t, r, n) { var a; const i = Object.assign({}, n == null ? void 0 : n.headers); i[ew] || (i[ew] = L4["2024-01-01"].name), n != null && n.jwt && (i.Authorization = `Bearer ${n.jwt}`); const s = (a = n == null ? void 0 : n.query) !== null && a !== void 0 ? a : {}; n != null && n.redirectTo && (s.redirect_to = n.redirectTo); const l = Object.keys(s).length ? "?" + new URLSearchParams(s).toString() : "", f = await F7(e, t, r + l, { headers: i, noResolveJson: n == null ? void 0 : n.noResolveJson }, {}, n == null ? void 0 : n.body); return n != null && n.xform ? n == null ? void 0 : n.xform(f) : { data: Object.assign({}, f), error: null } } async function F7(e, t, r, n, a, i) { const s = L7(t, n, a, i); let l; try { l = await e(r, Object.assign({}, s)) } catch (f) { throw console.error(f), new tw(bl(f), 0) } if (l.ok || await OA(l), n != null && n.noResolveJson) return l; try { return await l.json() } catch (f) { await OA(f) } } function oi(e) { var t; let r = null; $7(e) && (r = Object.assign({}, e), e.expires_at || (r.expires_at = b7(e.expires_in))); const n = (t = e.user) !== null && t !== void 0 ? t : e; return { data: { session: r, user: n }, error: null } } function RA(e) { const t = oi(e); return !t.error && e.weak_password && typeof e.weak_password == "object" && Array.isArray(e.weak_password.reasons) && e.weak_password.reasons.length && e.weak_password.message && typeof e.weak_password.message == "string" && e.weak_password.reasons.reduce((r, n) => r && typeof n == "string", !0) && (t.data.weak_password = e.weak_password), t } function To(e) { var t; return { data: { user: (t = e.user) !== null && t !== void 0 ? t : e }, error: null } } function U7(e) { return { data: e, error: null } } function B7(e) { const { action_link: t, email_otp: r, hashed_token: n, redirect_to: a, verification_type: i } = e, s = pg(e, ["action_link", "email_otp", "hashed_token", "redirect_to", "verification_type"]), l = { action_link: t, email_otp: r, hashed_token: n, redirect_to: a, verification_type: i }, f = Object.assign({}, s); return { data: { properties: l, user: f }, error: null } } function PA(e) { return e } function $7(e) { return e.access_token && e.refresh_token && e.expires_in } const qy = ["global", "local", "others"]; class z7 { constructor({ url: t = "", headers: r = {}, fetch: n }) { this.url = t, this.headers = r, this.fetch = B4(n), this.mfa = { listFactors: this._listFactors.bind(this), deleteFactor: this._deleteFactor.bind(this) }, this.oauth = { listClients: this._listOAuthClients.bind(this), createClient: this._createOAuthClient.bind(this), getClient: this._getOAuthClient.bind(this), updateClient: this._updateOAuthClient.bind(this), deleteClient: this._deleteOAuthClient.bind(this), regenerateClientSecret: this._regenerateOAuthClientSecret.bind(this) } } async signOut(t, r = qy[0]) { if (qy.indexOf(r) < 0) throw new Error(`@supabase/auth-js: Parameter scope must be one of ${qy.join(", ")}`); try { return await rt(this.fetch, "POST", `${this.url}/logout?scope=${r}`, { headers: this.headers, jwt: t, noResolveJson: !0 }), { data: null, error: null } } catch (n) { if (Xe(n)) return { data: null, error: n }; throw n } } async inviteUserByEmail(t, r = {}) { try { return await rt(this.fetch, "POST", `${this.url}/invite`, { body: { email: t, data: r.data }, headers: this.headers, redirectTo: r.redirectTo, xform: To }) } catch (n) { if (Xe(n)) return { data: { user: null }, error: n }; throw n } } async generateLink(t) { try { const { options: r } = t, n = pg(t, ["options"]), a = Object.assign(Object.assign({}, n), r); return "newEmail" in n && (a.new_email = n == null ? void 0 : n.newEmail, delete a.newEmail), await rt(this.fetch, "POST", `${this.url}/admin/generate_link`, { body: a, headers: this.headers, xform: B7, redirectTo: r == null ? void 0 : r.redirectTo }) } catch (r) { if (Xe(r)) return { data: { properties: null, user: null }, error: r }; throw r } } async createUser(t) { try { return await rt(this.fetch, "POST", `${this.url}/admin/users`, { body: t, headers: this.headers, xform: To }) } catch (r) { if (Xe(r)) return { data: { user: null }, error: r }; throw r } } async listUsers(t) { var r, n, a, i, s, l, f; try { const d = { nextPage: null, lastPage: 0, total: 0 }, h = await rt(this.fetch, "GET", `${this.url}/admin/users`, { headers: this.headers, noResolveJson: !0, query: { page: (n = (r = t == null ? void 0 : t.page) === null || r === void 0 ? void 0 : r.toString()) !== null && n !== void 0 ? n : "", per_page: (i = (a = t == null ? void 0 : t.perPage) === null || a === void 0 ? void 0 : a.toString()) !== null && i !== void 0 ? i : "" }, xform: PA }); if (h.error) throw h.error; const m = await h.json(), g = (s = h.headers.get("x-total-count")) !== null && s !== void 0 ? s : 0, v = (f = (l = h.headers.get("link")) === null || l === void 0 ? void 0 : l.split(",")) !== null && f !== void 0 ? f : []; return v.length > 0 && (v.forEach(y => { const b = parseInt(y.split(";")[0].split("=")[1].substring(0, 1)), _ = JSON.parse(y.split(";")[1].split("=")[1]); d[`${_}Page`] = b }), d.total = parseInt(g)), { data: Object.assign(Object.assign({}, m), d), error: null } } catch (d) { if (Xe(d)) return { data: { users: [] }, error: d }; throw d } } async getUserById(t) { Zc(t); try { return await rt(this.fetch, "GET", `${this.url}/admin/users/${t}`, { headers: this.headers, xform: To }) } catch (r) { if (Xe(r)) return { data: { user: null }, error: r }; throw r } } async updateUserById(t, r) { Zc(t); try { return await rt(this.fetch, "PUT", `${this.url}/admin/users/${t}`, { body: r, headers: this.headers, xform: To }) } catch (n) { if (Xe(n)) return { data: { user: null }, error: n }; throw n } } async deleteUser(t, r = !1) { Zc(t); try { return await rt(this.fetch, "DELETE", `${this.url}/admin/users/${t}`, { headers: this.headers, body: { should_soft_delete: r }, xform: To }) } catch (n) { if (Xe(n)) return { data: { user: null }, error: n }; throw n } } async _listFactors(t) { Zc(t.userId); try { const { data: r, error: n } = await rt(this.fetch, "GET", `${this.url}/admin/users/${t.userId}/factors`, { headers: this.headers, xform: a => ({ data: { factors: a }, error: null }) }); return { data: r, error: n } } catch (r) { if (Xe(r)) return { data: null, error: r }; throw r } } async _deleteFactor(t) { Zc(t.userId), Zc(t.id); try { return { data: await rt(this.fetch, "DELETE", `${this.url}/admin/users/${t.userId}/factors/${t.id}`, { headers: this.headers }), error: null } } catch (r) { if (Xe(r)) return { data: null, error: r }; throw r } } async _listOAuthClients(t) { var r, n, a, i, s, l, f; try { const d = { nextPage: null, lastPage: 0, total: 0 }, h = await rt(this.fetch, "GET", `${this.url}/admin/oauth/clients`, { headers: this.headers, noResolveJson: !0, query: { page: (n = (r = t == null ? void 0 : t.page) === null || r === void 0 ? void 0 : r.toString()) !== null && n !== void 0 ? n : "", per_page: (i = (a = t == null ? void 0 : t.perPage) === null || a === void 0 ? void 0 : a.toString()) !== null && i !== void 0 ? i : "" }, xform: PA }); if (h.error) throw h.error; const m = await h.json(), g = (s = h.headers.get("x-total-count")) !== null && s !== void 0 ? s : 0, v = (f = (l = h.headers.get("link")) === null || l === void 0 ? void 0 : l.split(",")) !== null && f !== void 0 ? f : []; return v.length > 0 && (v.forEach(y => { const b = parseInt(y.split(";")[0].split("=")[1].substring(0, 1)), _ = JSON.parse(y.split(";")[1].split("=")[1]); d[`${_}Page`] = b }), d.total = parseInt(g)), { data: Object.assign(Object.assign({}, m), d), error: null } } catch (d) { if (Xe(d)) return { data: { clients: [] }, error: d }; throw d } } async _createOAuthClient(t) { try { return await rt(this.fetch, "POST", `${this.url}/admin/oauth/clients`, { body: t, headers: this.headers, xform: r => ({ data: r, error: null }) }) } catch (r) { if (Xe(r)) return { data: null, error: r }; throw r } } async _getOAuthClient(t) { try { return await rt(this.fetch, "GET", `${this.url}/admin/oauth/clients/${t}`, { headers: this.headers, xform: r => ({ data: r, error: null }) }) } catch (r) { if (Xe(r)) return { data: null, error: r }; throw r } } async _updateOAuthClient(t, r) { try { return await rt(this.fetch, "PUT", `${this.url}/admin/oauth/clients/${t}`, { body: r, headers: this.headers, xform: n => ({ data: n, error: null }) }) } catch (n) { if (Xe(n)) return { data: null, error: n }; throw n } } async _deleteOAuthClient(t) { try { return await rt(this.fetch, "DELETE", `${this.url}/admin/oauth/clients/${t}`, { headers: this.headers, noResolveJson: !0 }), { data: null, error: null } } catch (r) { if (Xe(r)) return { data: null, error: r }; throw r } } async _regenerateOAuthClientSecret(t) { try { return await rt(this.fetch, "POST", `${this.url}/admin/oauth/clients/${t}/regenerate_secret`, { headers: this.headers, xform: r => ({ data: r, error: null }) }) } catch (r) { if (Xe(r)) return { data: null, error: r }; throw r } } } function DA(e = {}) { return { getItem: t => e[t] || null, setItem: (t, r) => { e[t] = r }, removeItem: t => { delete e[t] } } } const Qc = { debug: !!(globalThis && U4() && globalThis.localStorage && globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug") === "true") }; class $4 extends Error { constructor(t) { super(t), this.isAcquireTimeout = !0 } } class H7 extends $4 { } async function G7(e, t, r) { Qc.debug && console.log("@supabase/gotrue-js: navigatorLock: acquire lock", e, t); const n = new globalThis.AbortController; return t > 0 && setTimeout(() => { n.abort(), Qc.debug && console.log("@supabase/gotrue-js: navigatorLock acquire timed out", e) }, t), await Promise.resolve().then(() => globalThis.navigator.locks.request(e, t === 0 ? { mode: "exclusive", ifAvailable: !0 } : { mode: "exclusive", signal: n.signal }, async a => { if (a) { Qc.debug && console.log("@supabase/gotrue-js: navigatorLock: acquired", e, a.name); try { return await r() } finally { Qc.debug && console.log("@supabase/gotrue-js: navigatorLock: released", e, a.name) } } else { if (t === 0) throw Qc.debug && console.log("@supabase/gotrue-js: navigatorLock: not immediately available", e), new H7(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`); if (Qc.debug) try { const i = await globalThis.navigator.locks.query(); console.log("@supabase/gotrue-js: Navigator LockManager state", JSON.stringify(i, null, "  ")) } catch (i) { console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state", i) } return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"), await r() } })) } function V7() { if (typeof globalThis != "object") try { Object.defineProperty(Object.prototype, "__magic__", { get: function () { return this }, configurable: !0 }), __magic__.globalThis = __magic__, delete Object.prototype.__magic__ } catch { typeof self < "u" && (self.globalThis = self) } } function z4(e) { if (!/^0x[a-fA-F0-9]{40}$/.test(e)) throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`); return e.toLowerCase() } function q7(e) { return parseInt(e, 16) } function W7(e) { const t = new TextEncoder().encode(e); return "0x" + Array.from(t, n => n.toString(16).padStart(2, "0")).join("") } function K7(e) {
  var t; const { chainId: r, domain: n, expirationTime: a, issuedAt: i = new Date, nonce: s, notBefore: l, requestId: f, resources: d, scheme: h, uri: m, version: g } = e; {
    if (!Number.isInteger(r)) throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`); if (!n) throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.'); if (s && s.length < 8) throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`); if (!m) throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.'); if (g !== "1") throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`); if (!((t = e.statement) === null || t === void 0) && t.includes(`
`)) throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)
  } const v = z4(e.address), y = h ? `${h}://${n}` : n, b = e.statement ? `${e.statement}
`: "", _ = `${y} wants you to sign in with your Ethereum account:
${v}

${b}`; let k = `URI: ${m}
Version: ${g}
Chain ID: ${r}${s ? `
Nonce: ${s}` : ""}
Issued At: ${i.toISOString()}`; if (a && (k += `
Expiration Time: ${a.toISOString()}`), l && (k += `
Not Before: ${l.toISOString()}`), f && (k += `
Request ID: ${f}`), d) {
    let C = `
Resources:`; for (const T of d) {
      if (!T || typeof T != "string") throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`); C += `
- ${T}`
    } k += C
  } return `${_}
${k}`
} class Fr extends Error { constructor({ message: t, code: r, cause: n, name: a }) { var i; super(t, { cause: n }), this.__isWebAuthnError = !0, this.name = (i = a ?? (n instanceof Error ? n.name : void 0)) !== null && i !== void 0 ? i : "Unknown Error", this.code = r } } class Yp extends Fr { constructor(t, r) { super({ code: "ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY", cause: r, message: t }), this.name = "WebAuthnUnknownError", this.originalError = r } } function Y7({ error: e, options: t }) { var r, n, a; const { publicKey: i } = t; if (!i) throw Error("options was missing required publicKey property"); if (e.name === "AbortError") { if (t.signal instanceof AbortSignal) return new Fr({ message: "Registration ceremony was sent an abort signal", code: "ERROR_CEREMONY_ABORTED", cause: e }) } else if (e.name === "ConstraintError") { if (((r = i.authenticatorSelection) === null || r === void 0 ? void 0 : r.requireResidentKey) === !0) return new Fr({ message: "Discoverable credentials were required but no available authenticator supported it", code: "ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT", cause: e }); if (t.mediation === "conditional" && ((n = i.authenticatorSelection) === null || n === void 0 ? void 0 : n.userVerification) === "required") return new Fr({ message: "User verification was required during automatic registration but it could not be performed", code: "ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE", cause: e }); if (((a = i.authenticatorSelection) === null || a === void 0 ? void 0 : a.userVerification) === "required") return new Fr({ message: "User verification was required but no available authenticator supported it", code: "ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT", cause: e }) } else { if (e.name === "InvalidStateError") return new Fr({ message: "The authenticator was previously registered", code: "ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED", cause: e }); if (e.name === "NotAllowedError") return new Fr({ message: e.message, code: "ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY", cause: e }); if (e.name === "NotSupportedError") return i.pubKeyCredParams.filter(l => l.type === "public-key").length === 0 ? new Fr({ message: 'No entry in pubKeyCredParams was of type "public-key"', code: "ERROR_MALFORMED_PUBKEYCREDPARAMS", cause: e }) : new Fr({ message: "No available authenticator supported any of the specified pubKeyCredParams algorithms", code: "ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG", cause: e }); if (e.name === "SecurityError") { const s = window.location.hostname; if (H4(s)) { if (i.rp.id !== s) return new Fr({ message: `The RP ID "${i.rp.id}" is invalid for this domain`, code: "ERROR_INVALID_RP_ID", cause: e }) } else return new Fr({ message: `${window.location.hostname} is an invalid domain`, code: "ERROR_INVALID_DOMAIN", cause: e }) } else if (e.name === "TypeError") { if (i.user.id.byteLength < 1 || i.user.id.byteLength > 64) return new Fr({ message: "User ID was not between 1 and 64 characters", code: "ERROR_INVALID_USER_ID_LENGTH", cause: e }) } else if (e.name === "UnknownError") return new Fr({ message: "The authenticator was unable to process the specified options, or could not create a new credential", code: "ERROR_AUTHENTICATOR_GENERAL_ERROR", cause: e }) } return new Fr({ message: "a Non-Webauthn related error has occurred", code: "ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY", cause: e }) } function X7({ error: e, options: t }) { const { publicKey: r } = t; if (!r) throw Error("options was missing required publicKey property"); if (e.name === "AbortError") { if (t.signal instanceof AbortSignal) return new Fr({ message: "Authentication ceremony was sent an abort signal", code: "ERROR_CEREMONY_ABORTED", cause: e }) } else { if (e.name === "NotAllowedError") return new Fr({ message: e.message, code: "ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY", cause: e }); if (e.name === "SecurityError") { const n = window.location.hostname; if (H4(n)) { if (r.rpId !== n) return new Fr({ message: `The RP ID "${r.rpId}" is invalid for this domain`, code: "ERROR_INVALID_RP_ID", cause: e }) } else return new Fr({ message: `${window.location.hostname} is an invalid domain`, code: "ERROR_INVALID_DOMAIN", cause: e }) } else if (e.name === "UnknownError") return new Fr({ message: "The authenticator was unable to process the specified options, or could not create a new assertion signature", code: "ERROR_AUTHENTICATOR_GENERAL_ERROR", cause: e }) } return new Fr({ message: "a Non-Webauthn related error has occurred", code: "ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY", cause: e }) } class J7 { createNewAbortSignal() { if (this.controller) { const r = new Error("Cancelling existing WebAuthn API call for new one"); r.name = "AbortError", this.controller.abort(r) } const t = new AbortController; return this.controller = t, t.signal } cancelCeremony() { if (this.controller) { const t = new Error("Manually cancelling existing WebAuthn API call"); t.name = "AbortError", this.controller.abort(t), this.controller = void 0 } } } const Z7 = new J7; function Q7(e) { if (!e) throw new Error("Credential creation options are required"); if (typeof PublicKeyCredential < "u" && "parseCreationOptionsFromJSON" in PublicKeyCredential && typeof PublicKeyCredential.parseCreationOptionsFromJSON == "function") return PublicKeyCredential.parseCreationOptionsFromJSON(e); const { challenge: t, user: r, excludeCredentials: n } = e, a = pg(e, ["challenge", "user", "excludeCredentials"]), i = _u(t).buffer, s = Object.assign(Object.assign({}, r), { id: _u(r.id).buffer }), l = Object.assign(Object.assign({}, a), { challenge: i, user: s }); if (n && n.length > 0) { l.excludeCredentials = new Array(n.length); for (let f = 0; f < n.length; f++) { const d = n[f]; l.excludeCredentials[f] = Object.assign(Object.assign({}, d), { id: _u(d.id).buffer, type: d.type || "public-key", transports: d.transports }) } } return l } function ez(e) { if (!e) throw new Error("Credential request options are required"); if (typeof PublicKeyCredential < "u" && "parseRequestOptionsFromJSON" in PublicKeyCredential && typeof PublicKeyCredential.parseRequestOptionsFromJSON == "function") return PublicKeyCredential.parseRequestOptionsFromJSON(e); const { challenge: t, allowCredentials: r } = e, n = pg(e, ["challenge", "allowCredentials"]), a = _u(t).buffer, i = Object.assign(Object.assign({}, n), { challenge: a }); if (r && r.length > 0) { i.allowCredentials = new Array(r.length); for (let s = 0; s < r.length; s++) { const l = r[s]; i.allowCredentials[s] = Object.assign(Object.assign({}, l), { id: _u(l.id).buffer, type: l.type || "public-key", transports: l.transports }) } } return i } function tz(e) { var t; if ("toJSON" in e && typeof e.toJSON == "function") return e.toJSON(); const r = e; return { id: e.id, rawId: e.id, response: { attestationObject: jl(new Uint8Array(e.response.attestationObject)), clientDataJSON: jl(new Uint8Array(e.response.clientDataJSON)) }, type: "public-key", clientExtensionResults: e.getClientExtensionResults(), authenticatorAttachment: (t = r.authenticatorAttachment) !== null && t !== void 0 ? t : void 0 } } function rz(e) { var t; if ("toJSON" in e && typeof e.toJSON == "function") return e.toJSON(); const r = e, n = e.getClientExtensionResults(), a = e.response; return { id: e.id, rawId: e.id, response: { authenticatorData: jl(new Uint8Array(a.authenticatorData)), clientDataJSON: jl(new Uint8Array(a.clientDataJSON)), signature: jl(new Uint8Array(a.signature)), userHandle: a.userHandle ? jl(new Uint8Array(a.userHandle)) : void 0 }, type: "public-key", clientExtensionResults: n, authenticatorAttachment: (t = r.authenticatorAttachment) !== null && t !== void 0 ? t : void 0 } } function H4(e) { return e === "localhost" || /^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e) } function MA() { var e, t; return !!(yn() && "PublicKeyCredential" in window && window.PublicKeyCredential && "credentials" in navigator && typeof ((e = navigator == null ? void 0 : navigator.credentials) === null || e === void 0 ? void 0 : e.create) == "function" && typeof ((t = navigator == null ? void 0 : navigator.credentials) === null || t === void 0 ? void 0 : t.get) == "function") } async function nz(e) { try { const t = await navigator.credentials.create(e); return t ? t instanceof PublicKeyCredential ? { data: t, error: null } : { data: null, error: new Yp("Browser returned unexpected credential type", t) } : { data: null, error: new Yp("Empty credential response", t) } } catch (t) { return { data: null, error: Y7({ error: t, options: e }) } } } async function az(e) { try { const t = await navigator.credentials.get(e); return t ? t instanceof PublicKeyCredential ? { data: t, error: null } : { data: null, error: new Yp("Browser returned unexpected credential type", t) } : { data: null, error: new Yp("Empty credential response", t) } } catch (t) { return { data: null, error: X7({ error: t, options: e }) } } } const iz = { hints: ["security-key"], authenticatorSelection: { authenticatorAttachment: "cross-platform", requireResidentKey: !1, userVerification: "preferred", residentKey: "discouraged" }, attestation: "direct" }, sz = { userVerification: "preferred", hints: ["security-key"], attestation: "direct" }; function Xp(...e) { const t = a => a !== null && typeof a == "object" && !Array.isArray(a), r = a => a instanceof ArrayBuffer || ArrayBuffer.isView(a), n = {}; for (const a of e) if (a) for (const i in a) { const s = a[i]; if (s !== void 0) if (Array.isArray(s)) n[i] = s; else if (r(s)) n[i] = s; else if (t(s)) { const l = n[i]; t(l) ? n[i] = Xp(l, s) : n[i] = Xp(s) } else n[i] = s } return n } function oz(e, t) { return Xp(iz, e, t || {}) } function lz(e, t) { return Xp(sz, e, t || {}) } class cz { constructor(t) { this.client = t, this.enroll = this._enroll.bind(this), this.challenge = this._challenge.bind(this), this.verify = this._verify.bind(this), this.authenticate = this._authenticate.bind(this), this.register = this._register.bind(this) } async _enroll(t) { return this.client.mfa.enroll(Object.assign(Object.assign({}, t), { factorType: "webauthn" })) } async _challenge({ factorId: t, webauthn: r, friendlyName: n, signal: a }, i) { try { const { data: s, error: l } = await this.client.mfa.challenge({ factorId: t, webauthn: r }); if (!s) return { data: null, error: l }; const f = a ?? Z7.createNewAbortSignal(); if (s.webauthn.type === "create") { const { user: d } = s.webauthn.credential_options.publicKey; d.name || (d.name = `${d.id}:${n}`), d.displayName || (d.displayName = d.name) } switch (s.webauthn.type) { case "create": { const d = oz(s.webauthn.credential_options.publicKey, i == null ? void 0 : i.create), { data: h, error: m } = await nz({ publicKey: d, signal: f }); return h ? { data: { factorId: t, challengeId: s.id, webauthn: { type: s.webauthn.type, credential_response: h } }, error: null } : { data: null, error: m } } case "request": { const d = lz(s.webauthn.credential_options.publicKey, i == null ? void 0 : i.request), { data: h, error: m } = await az(Object.assign(Object.assign({}, s.webauthn.credential_options), { publicKey: d, signal: f })); return h ? { data: { factorId: t, challengeId: s.id, webauthn: { type: s.webauthn.type, credential_response: h } }, error: null } : { data: null, error: m } } } } catch (s) { return Xe(s) ? { data: null, error: s } : { data: null, error: new Tl("Unexpected error in challenge", s) } } } async _verify({ challengeId: t, factorId: r, webauthn: n }) { return this.client.mfa.verify({ factorId: r, challengeId: t, webauthn: n }) } async _authenticate({ factorId: t, webauthn: { rpId: r = typeof window < "u" ? window.location.hostname : void 0, rpOrigins: n = typeof window < "u" ? [window.location.origin] : void 0, signal: a } = {} }, i) { if (!r) return { data: null, error: new Df("rpId is required for WebAuthn authentication") }; try { if (!MA()) return { data: null, error: new Tl("Browser does not support WebAuthn", null) }; const { data: s, error: l } = await this.challenge({ factorId: t, webauthn: { rpId: r, rpOrigins: n }, signal: a }, { request: i }); if (!s) return { data: null, error: l }; const { webauthn: f } = s; return this._verify({ factorId: t, challengeId: s.challengeId, webauthn: { type: f.type, rpId: r, rpOrigins: n, credential_response: f.credential_response } }) } catch (s) { return Xe(s) ? { data: null, error: s } : { data: null, error: new Tl("Unexpected error in authenticate", s) } } } async _register({ friendlyName: t, webauthn: { rpId: r = typeof window < "u" ? window.location.hostname : void 0, rpOrigins: n = typeof window < "u" ? [window.location.origin] : void 0, signal: a } = {} }, i) { if (!r) return { data: null, error: new Df("rpId is required for WebAuthn registration") }; try { if (!MA()) return { data: null, error: new Tl("Browser does not support WebAuthn", null) }; const { data: s, error: l } = await this._enroll({ friendlyName: t }); if (!s) return await this.client.mfa.listFactors().then(h => { var m; return (m = h.data) === null || m === void 0 ? void 0 : m.all.find(g => g.factor_type === "webauthn" && g.friendly_name === t && g.status !== "unverified") }).then(h => h ? this.client.mfa.unenroll({ factorId: h == null ? void 0 : h.id }) : void 0), { data: null, error: l }; const { data: f, error: d } = await this._challenge({ factorId: s.id, friendlyName: s.friendly_name, webauthn: { rpId: r, rpOrigins: n }, signal: a }, { create: i }); return f ? this._verify({ factorId: s.id, challengeId: f.challengeId, webauthn: { rpId: r, rpOrigins: n, type: f.webauthn.type, credential_response: f.webauthn.credential_response } }) : { data: null, error: d } } catch (s) { return Xe(s) ? { data: null, error: s } : { data: null, error: new Tl("Unexpected error in register", s) } } } } V7(); const uz = { url: s7, storageKey: o7, autoRefreshToken: !0, persistSession: !0, detectSessionInUrl: !0, headers: l7, flowType: "implicit", debug: !1, hasCustomAuthorizationHeader: !1, throwOnError: !1, lockAcquireTimeout: 1e4 }; async function LA(e, t, r) { return await r() } const eu = {}; class Mf {
  get jwks() { var t, r; return (r = (t = eu[this.storageKey]) === null || t === void 0 ? void 0 : t.jwks) !== null && r !== void 0 ? r : { keys: [] } } set jwks(t) { eu[this.storageKey] = Object.assign(Object.assign({}, eu[this.storageKey]), { jwks: t }) } get jwks_cached_at() { var t, r; return (r = (t = eu[this.storageKey]) === null || t === void 0 ? void 0 : t.cachedAt) !== null && r !== void 0 ? r : Number.MIN_SAFE_INTEGER } set jwks_cached_at(t) { eu[this.storageKey] = Object.assign(Object.assign({}, eu[this.storageKey]), { cachedAt: t }) } constructor(t) { var r, n, a; this.userStorage = null, this.memoryStorage = null, this.stateChangeEmitters = new Map, this.autoRefreshTicker = null, this.autoRefreshTickTimeout = null, this.visibilityChangedCallback = null, this.refreshingDeferred = null, this.initializePromise = null, this.detectSessionInUrl = !0, this.hasCustomAuthorizationHeader = !1, this.suppressGetSessionWarning = !1, this.lockAcquired = !1, this.pendingInLock = [], this.broadcastChannel = null, this.logger = console.log; const i = Object.assign(Object.assign({}, uz), t); if (this.storageKey = i.storageKey, this.instanceID = (r = Mf.nextInstanceID[this.storageKey]) !== null && r !== void 0 ? r : 0, Mf.nextInstanceID[this.storageKey] = this.instanceID + 1, this.logDebugMessages = !!i.debug, typeof i.debug == "function" && (this.logger = i.debug), this.instanceID > 0 && yn()) { const s = `${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`; console.warn(s), this.logDebugMessages && console.trace(s) } if (this.persistSession = i.persistSession, this.autoRefreshToken = i.autoRefreshToken, this.admin = new z7({ url: i.url, headers: i.headers, fetch: i.fetch }), this.url = i.url, this.headers = i.headers, this.fetch = B4(i.fetch), this.lock = i.lock || LA, this.detectSessionInUrl = i.detectSessionInUrl, this.flowType = i.flowType, this.hasCustomAuthorizationHeader = i.hasCustomAuthorizationHeader, this.throwOnError = i.throwOnError, this.lockAcquireTimeout = i.lockAcquireTimeout, i.lock ? this.lock = i.lock : this.persistSession && yn() && (!((n = globalThis == null ? void 0 : globalThis.navigator) === null || n === void 0) && n.locks) ? this.lock = G7 : this.lock = LA, this.jwks || (this.jwks = { keys: [] }, this.jwks_cached_at = Number.MIN_SAFE_INTEGER), this.mfa = { verify: this._verify.bind(this), enroll: this._enroll.bind(this), unenroll: this._unenroll.bind(this), challenge: this._challenge.bind(this), listFactors: this._listFactors.bind(this), challengeAndVerify: this._challengeAndVerify.bind(this), getAuthenticatorAssuranceLevel: this._getAuthenticatorAssuranceLevel.bind(this), webauthn: new cz(this) }, this.oauth = { getAuthorizationDetails: this._getAuthorizationDetails.bind(this), approveAuthorization: this._approveAuthorization.bind(this), denyAuthorization: this._denyAuthorization.bind(this), listGrants: this._listOAuthGrants.bind(this), revokeGrant: this._revokeOAuthGrant.bind(this) }, this.persistSession ? (i.storage ? this.storage = i.storage : U4() ? this.storage = globalThis.localStorage : (this.memoryStorage = {}, this.storage = DA(this.memoryStorage)), i.userStorage && (this.userStorage = i.userStorage)) : (this.memoryStorage = {}, this.storage = DA(this.memoryStorage)), yn() && globalThis.BroadcastChannel && this.persistSession && this.storageKey) { try { this.broadcastChannel = new globalThis.BroadcastChannel(this.storageKey) } catch (s) { console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available", s) } (a = this.broadcastChannel) === null || a === void 0 || a.addEventListener("message", async s => { this._debug("received broadcast notification from other tab or client", s); try { await this._notifyAllSubscribers(s.data.event, s.data.session, !1) } catch (l) { this._debug("#broadcastChannel", "error", l) } }) } this.initialize().catch(s => { this._debug("#initialize()", "error", s) }) } isThrowOnErrorEnabled() { return this.throwOnError } _returnResult(t) { if (this.throwOnError && t && t.error) throw t.error; return t } _logPrefix() { return `GoTrueClient@${this.storageKey}:${this.instanceID} (${M4}) ${new Date().toISOString()}` } _debug(...t) { return this.logDebugMessages && this.logger(this._logPrefix(), ...t), this } async initialize() { return this.initializePromise ? await this.initializePromise : (this.initializePromise = (async () => await this._acquireLock(this.lockAcquireTimeout, async () => await this._initialize()))(), await this.initializePromise) } async _initialize() { var t; try { let r = {}, n = "none"; if (yn() && (r = _7(window.location.href), this._isImplicitGrantCallback(r) ? n = "implicit" : await this._isPKCECallback(r) && (n = "pkce")), yn() && this.detectSessionInUrl && n !== "none") { const { data: a, error: i } = await this._getSessionFromURL(r, n); if (i) { if (this._debug("#_initialize()", "error detecting session from URL", i), h7(i)) { const f = (t = i.details) === null || t === void 0 ? void 0 : t.code; if (f === "identity_already_exists" || f === "identity_not_found" || f === "single_identity_not_deletable") return { error: i } } return { error: i } } const { session: s, redirectType: l } = a; return this._debug("#_initialize()", "detected session in URL", s, "redirect type", l), await this._saveSession(s), setTimeout(async () => { l === "recovery" ? await this._notifyAllSubscribers("PASSWORD_RECOVERY", s) : await this._notifyAllSubscribers("SIGNED_IN", s) }, 0), { error: null } } return await this._recoverAndRefresh(), { error: null } } catch (r) { return Xe(r) ? this._returnResult({ error: r }) : this._returnResult({ error: new Tl("Unexpected error during initialization", r) }) } finally { await this._handleVisibilityChange(), this._debug("#_initialize()", "end") } } async signInAnonymously(t) { var r, n, a; try { const i = await rt(this.fetch, "POST", `${this.url}/signup`, { headers: this.headers, body: { data: (n = (r = t == null ? void 0 : t.options) === null || r === void 0 ? void 0 : r.data) !== null && n !== void 0 ? n : {}, gotrue_meta_security: { captcha_token: (a = t == null ? void 0 : t.options) === null || a === void 0 ? void 0 : a.captchaToken } }, xform: oi }), { data: s, error: l } = i; if (l || !s) return this._returnResult({ data: { user: null, session: null }, error: l }); const f = s.session, d = s.user; return s.session && (await this._saveSession(s.session), await this._notifyAllSubscribers("SIGNED_IN", f)), this._returnResult({ data: { user: d, session: f }, error: null }) } catch (i) { if (Xe(i)) return this._returnResult({ data: { user: null, session: null }, error: i }); throw i } } async signUp(t) { var r, n, a; try { let i; if ("email" in t) { const { email: h, password: m, options: g } = t; let v = null, y = null; this.flowType === "pkce" && ([v, y] = await Jc(this.storage, this.storageKey)), i = await rt(this.fetch, "POST", `${this.url}/signup`, { headers: this.headers, redirectTo: g == null ? void 0 : g.emailRedirectTo, body: { email: h, password: m, data: (r = g == null ? void 0 : g.data) !== null && r !== void 0 ? r : {}, gotrue_meta_security: { captcha_token: g == null ? void 0 : g.captchaToken }, code_challenge: v, code_challenge_method: y }, xform: oi }) } else if ("phone" in t) { const { phone: h, password: m, options: g } = t; i = await rt(this.fetch, "POST", `${this.url}/signup`, { headers: this.headers, body: { phone: h, password: m, data: (n = g == null ? void 0 : g.data) !== null && n !== void 0 ? n : {}, channel: (a = g == null ? void 0 : g.channel) !== null && a !== void 0 ? a : "sms", gotrue_meta_security: { captcha_token: g == null ? void 0 : g.captchaToken } }, xform: oi }) } else throw new ep("You must provide either an email or phone number and a password"); const { data: s, error: l } = i; if (l || !s) return await vn(this.storage, `${this.storageKey}-code-verifier`), this._returnResult({ data: { user: null, session: null }, error: l }); const f = s.session, d = s.user; return s.session && (await this._saveSession(s.session), await this._notifyAllSubscribers("SIGNED_IN", f)), this._returnResult({ data: { user: d, session: f }, error: null }) } catch (i) { if (await vn(this.storage, `${this.storageKey}-code-verifier`), Xe(i)) return this._returnResult({ data: { user: null, session: null }, error: i }); throw i } } async signInWithPassword(t) { try { let r; if ("email" in t) { const { email: i, password: s, options: l } = t; r = await rt(this.fetch, "POST", `${this.url}/token?grant_type=password`, { headers: this.headers, body: { email: i, password: s, gotrue_meta_security: { captcha_token: l == null ? void 0 : l.captchaToken } }, xform: RA }) } else if ("phone" in t) { const { phone: i, password: s, options: l } = t; r = await rt(this.fetch, "POST", `${this.url}/token?grant_type=password`, { headers: this.headers, body: { phone: i, password: s, gotrue_meta_security: { captcha_token: l == null ? void 0 : l.captchaToken } }, xform: RA }) } else throw new ep("You must provide either an email or phone number and a password"); const { data: n, error: a } = r; if (a) return this._returnResult({ data: { user: null, session: null }, error: a }); if (!n || !n.session || !n.user) { const i = new Xc; return this._returnResult({ data: { user: null, session: null }, error: i }) } return n.session && (await this._saveSession(n.session), await this._notifyAllSubscribers("SIGNED_IN", n.session)), this._returnResult({ data: Object.assign({ user: n.user, session: n.session }, n.weak_password ? { weakPassword: n.weak_password } : null), error: a }) } catch (r) { if (Xe(r)) return this._returnResult({ data: { user: null, session: null }, error: r }); throw r } } async signInWithOAuth(t) { var r, n, a, i; return await this._handleProviderSignIn(t.provider, { redirectTo: (r = t.options) === null || r === void 0 ? void 0 : r.redirectTo, scopes: (n = t.options) === null || n === void 0 ? void 0 : n.scopes, queryParams: (a = t.options) === null || a === void 0 ? void 0 : a.queryParams, skipBrowserRedirect: (i = t.options) === null || i === void 0 ? void 0 : i.skipBrowserRedirect }) } async exchangeCodeForSession(t) { return await this.initializePromise, this._acquireLock(this.lockAcquireTimeout, async () => this._exchangeCodeForSession(t)) } async signInWithWeb3(t) { const { chain: r } = t; switch (r) { case "ethereum": return await this.signInWithEthereum(t); case "solana": return await this.signInWithSolana(t); default: throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`) } } async signInWithEthereum(t) { var r, n, a, i, s, l, f, d, h, m, g; let v, y; if ("message" in t) v = t.message, y = t.signature; else { const { chain: b, wallet: _, statement: k, options: C } = t; let T; if (yn()) if (typeof _ == "object") T = _; else { const F = window; if ("ethereum" in F && typeof F.ethereum == "object" && "request" in F.ethereum && typeof F.ethereum.request == "function") T = F.ethereum; else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.") } else { if (typeof _ != "object" || !(C != null && C.url)) throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments."); T = _ } const j = new URL((r = C == null ? void 0 : C.url) !== null && r !== void 0 ? r : window.location.href), R = await T.request({ method: "eth_requestAccounts" }).then(F => F).catch(() => { throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid") }); if (!R || R.length === 0) throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected."); const O = z4(R[0]); let I = (n = C == null ? void 0 : C.signInWithEthereum) === null || n === void 0 ? void 0 : n.chainId; if (!I) { const F = await T.request({ method: "eth_chainId" }); I = q7(F) } const H = { domain: j.host, address: O, statement: k, uri: j.href, version: "1", chainId: I, nonce: (a = C == null ? void 0 : C.signInWithEthereum) === null || a === void 0 ? void 0 : a.nonce, issuedAt: (s = (i = C == null ? void 0 : C.signInWithEthereum) === null || i === void 0 ? void 0 : i.issuedAt) !== null && s !== void 0 ? s : new Date, expirationTime: (l = C == null ? void 0 : C.signInWithEthereum) === null || l === void 0 ? void 0 : l.expirationTime, notBefore: (f = C == null ? void 0 : C.signInWithEthereum) === null || f === void 0 ? void 0 : f.notBefore, requestId: (d = C == null ? void 0 : C.signInWithEthereum) === null || d === void 0 ? void 0 : d.requestId, resources: (h = C == null ? void 0 : C.signInWithEthereum) === null || h === void 0 ? void 0 : h.resources }; v = K7(H), y = await T.request({ method: "personal_sign", params: [W7(v), O] }) } try { const { data: b, error: _ } = await rt(this.fetch, "POST", `${this.url}/token?grant_type=web3`, { headers: this.headers, body: Object.assign({ chain: "ethereum", message: v, signature: y }, !((m = t.options) === null || m === void 0) && m.captchaToken ? { gotrue_meta_security: { captcha_token: (g = t.options) === null || g === void 0 ? void 0 : g.captchaToken } } : null), xform: oi }); if (_) throw _; if (!b || !b.session || !b.user) { const k = new Xc; return this._returnResult({ data: { user: null, session: null }, error: k }) } return b.session && (await this._saveSession(b.session), await this._notifyAllSubscribers("SIGNED_IN", b.session)), this._returnResult({ data: Object.assign({}, b), error: _ }) } catch (b) { if (Xe(b)) return this._returnResult({ data: { user: null, session: null }, error: b }); throw b } } async signInWithSolana(t) {
    var r, n, a, i, s, l, f, d, h, m, g, v; let y, b; if ("message" in t) y = t.message, b = t.signature; else {
      const { chain: _, wallet: k, statement: C, options: T } = t; let j; if (yn()) if (typeof k == "object") j = k; else { const O = window; if ("solana" in O && typeof O.solana == "object" && ("signIn" in O.solana && typeof O.solana.signIn == "function" || "signMessage" in O.solana && typeof O.solana.signMessage == "function")) j = O.solana; else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.") } else { if (typeof k != "object" || !(T != null && T.url)) throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments."); j = k } const R = new URL((r = T == null ? void 0 : T.url) !== null && r !== void 0 ? r : window.location.href); if ("signIn" in j && j.signIn) { const O = await j.signIn(Object.assign(Object.assign(Object.assign({ issuedAt: new Date().toISOString() }, T == null ? void 0 : T.signInWithSolana), { version: "1", domain: R.host, uri: R.href }), C ? { statement: C } : null)); let I; if (Array.isArray(O) && O[0] && typeof O[0] == "object") I = O[0]; else if (O && typeof O == "object" && "signedMessage" in O && "signature" in O) I = O; else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value"); if ("signedMessage" in I && "signature" in I && (typeof I.signedMessage == "string" || I.signedMessage instanceof Uint8Array) && I.signature instanceof Uint8Array) y = typeof I.signedMessage == "string" ? I.signedMessage : new TextDecoder().decode(I.signedMessage), b = I.signature; else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields") } else {
        if (!("signMessage" in j) || typeof j.signMessage != "function" || !("publicKey" in j) || typeof j != "object" || !j.publicKey || !("toBase58" in j.publicKey) || typeof j.publicKey.toBase58 != "function") throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API"); y = [`${R.host} wants you to sign in with your Solana account:`, j.publicKey.toBase58(), ...C ? ["", C, ""] : [""], "Version: 1", `URI: ${R.href}`, `Issued At: ${(a = (n = T == null ? void 0 : T.signInWithSolana) === null || n === void 0 ? void 0 : n.issuedAt) !== null && a !== void 0 ? a : new Date().toISOString()}`, ...!((i = T == null ? void 0 : T.signInWithSolana) === null || i === void 0) && i.notBefore ? [`Not Before: ${T.signInWithSolana.notBefore}`] : [], ...!((s = T == null ? void 0 : T.signInWithSolana) === null || s === void 0) && s.expirationTime ? [`Expiration Time: ${T.signInWithSolana.expirationTime}`] : [], ...!((l = T == null ? void 0 : T.signInWithSolana) === null || l === void 0) && l.chainId ? [`Chain ID: ${T.signInWithSolana.chainId}`] : [], ...!((f = T == null ? void 0 : T.signInWithSolana) === null || f === void 0) && f.nonce ? [`Nonce: ${T.signInWithSolana.nonce}`] : [], ...!((d = T == null ? void 0 : T.signInWithSolana) === null || d === void 0) && d.requestId ? [`Request ID: ${T.signInWithSolana.requestId}`] : [], ...!((m = (h = T == null ? void 0 : T.signInWithSolana) === null || h === void 0 ? void 0 : h.resources) === null || m === void 0) && m.length ? ["Resources", ...T.signInWithSolana.resources.map(I => `- ${I}`)] : []].join(`
`); const O = await j.signMessage(new TextEncoder().encode(y), "utf8"); if (!O || !(O instanceof Uint8Array)) throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value"); b = O
      }
    } try { const { data: _, error: k } = await rt(this.fetch, "POST", `${this.url}/token?grant_type=web3`, { headers: this.headers, body: Object.assign({ chain: "solana", message: y, signature: jl(b) }, !((g = t.options) === null || g === void 0) && g.captchaToken ? { gotrue_meta_security: { captcha_token: (v = t.options) === null || v === void 0 ? void 0 : v.captchaToken } } : null), xform: oi }); if (k) throw k; if (!_ || !_.session || !_.user) { const C = new Xc; return this._returnResult({ data: { user: null, session: null }, error: C }) } return _.session && (await this._saveSession(_.session), await this._notifyAllSubscribers("SIGNED_IN", _.session)), this._returnResult({ data: Object.assign({}, _), error: k }) } catch (_) { if (Xe(_)) return this._returnResult({ data: { user: null, session: null }, error: _ }); throw _ }
  } async _exchangeCodeForSession(t) { const r = await xl(this.storage, `${this.storageKey}-code-verifier`), [n, a] = (r ?? "").split("/"); try { if (!n && this.flowType === "pkce") throw new p7; const { data: i, error: s } = await rt(this.fetch, "POST", `${this.url}/token?grant_type=pkce`, { headers: this.headers, body: { auth_code: t, code_verifier: n }, xform: oi }); if (await vn(this.storage, `${this.storageKey}-code-verifier`), s) throw s; if (!i || !i.session || !i.user) { const l = new Xc; return this._returnResult({ data: { user: null, session: null, redirectType: null }, error: l }) } return i.session && (await this._saveSession(i.session), await this._notifyAllSubscribers("SIGNED_IN", i.session)), this._returnResult({ data: Object.assign(Object.assign({}, i), { redirectType: a ?? null }), error: s }) } catch (i) { if (await vn(this.storage, `${this.storageKey}-code-verifier`), Xe(i)) return this._returnResult({ data: { user: null, session: null, redirectType: null }, error: i }); throw i } } async signInWithIdToken(t) { try { const { options: r, provider: n, token: a, access_token: i, nonce: s } = t, l = await rt(this.fetch, "POST", `${this.url}/token?grant_type=id_token`, { headers: this.headers, body: { provider: n, id_token: a, access_token: i, nonce: s, gotrue_meta_security: { captcha_token: r == null ? void 0 : r.captchaToken } }, xform: oi }), { data: f, error: d } = l; if (d) return this._returnResult({ data: { user: null, session: null }, error: d }); if (!f || !f.session || !f.user) { const h = new Xc; return this._returnResult({ data: { user: null, session: null }, error: h }) } return f.session && (await this._saveSession(f.session), await this._notifyAllSubscribers("SIGNED_IN", f.session)), this._returnResult({ data: f, error: d }) } catch (r) { if (Xe(r)) return this._returnResult({ data: { user: null, session: null }, error: r }); throw r } } async signInWithOtp(t) { var r, n, a, i, s; try { if ("email" in t) { const { email: l, options: f } = t; let d = null, h = null; this.flowType === "pkce" && ([d, h] = await Jc(this.storage, this.storageKey)); const { error: m } = await rt(this.fetch, "POST", `${this.url}/otp`, { headers: this.headers, body: { email: l, data: (r = f == null ? void 0 : f.data) !== null && r !== void 0 ? r : {}, create_user: (n = f == null ? void 0 : f.shouldCreateUser) !== null && n !== void 0 ? n : !0, gotrue_meta_security: { captcha_token: f == null ? void 0 : f.captchaToken }, code_challenge: d, code_challenge_method: h }, redirectTo: f == null ? void 0 : f.emailRedirectTo }); return this._returnResult({ data: { user: null, session: null }, error: m }) } if ("phone" in t) { const { phone: l, options: f } = t, { data: d, error: h } = await rt(this.fetch, "POST", `${this.url}/otp`, { headers: this.headers, body: { phone: l, data: (a = f == null ? void 0 : f.data) !== null && a !== void 0 ? a : {}, create_user: (i = f == null ? void 0 : f.shouldCreateUser) !== null && i !== void 0 ? i : !0, gotrue_meta_security: { captcha_token: f == null ? void 0 : f.captchaToken }, channel: (s = f == null ? void 0 : f.channel) !== null && s !== void 0 ? s : "sms" } }); return this._returnResult({ data: { user: null, session: null, messageId: d == null ? void 0 : d.message_id }, error: h }) } throw new ep("You must provide either an email or phone number.") } catch (l) { if (await vn(this.storage, `${this.storageKey}-code-verifier`), Xe(l)) return this._returnResult({ data: { user: null, session: null }, error: l }); throw l } } async verifyOtp(t) { var r, n; try { let a, i; "options" in t && (a = (r = t.options) === null || r === void 0 ? void 0 : r.redirectTo, i = (n = t.options) === null || n === void 0 ? void 0 : n.captchaToken); const { data: s, error: l } = await rt(this.fetch, "POST", `${this.url}/verify`, { headers: this.headers, body: Object.assign(Object.assign({}, t), { gotrue_meta_security: { captcha_token: i } }), redirectTo: a, xform: oi }); if (l) throw l; if (!s) throw new Error("An error occurred on token verification."); const f = s.session, d = s.user; return f != null && f.access_token && (await this._saveSession(f), await this._notifyAllSubscribers(t.type == "recovery" ? "PASSWORD_RECOVERY" : "SIGNED_IN", f)), this._returnResult({ data: { user: d, session: f }, error: null }) } catch (a) { if (Xe(a)) return this._returnResult({ data: { user: null, session: null }, error: a }); throw a } } async signInWithSSO(t) { var r, n, a, i, s; try { let l = null, f = null; this.flowType === "pkce" && ([l, f] = await Jc(this.storage, this.storageKey)); const d = await rt(this.fetch, "POST", `${this.url}/sso`, { body: Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, "providerId" in t ? { provider_id: t.providerId } : null), "domain" in t ? { domain: t.domain } : null), { redirect_to: (n = (r = t.options) === null || r === void 0 ? void 0 : r.redirectTo) !== null && n !== void 0 ? n : void 0 }), !((a = t == null ? void 0 : t.options) === null || a === void 0) && a.captchaToken ? { gotrue_meta_security: { captcha_token: t.options.captchaToken } } : null), { skip_http_redirect: !0, code_challenge: l, code_challenge_method: f }), headers: this.headers, xform: U7 }); return !((i = d.data) === null || i === void 0) && i.url && yn() && !(!((s = t.options) === null || s === void 0) && s.skipBrowserRedirect) && window.location.assign(d.data.url), this._returnResult(d) } catch (l) { if (await vn(this.storage, `${this.storageKey}-code-verifier`), Xe(l)) return this._returnResult({ data: null, error: l }); throw l } } async reauthenticate() { return await this.initializePromise, await this._acquireLock(this.lockAcquireTimeout, async () => await this._reauthenticate()) } async _reauthenticate() { try { return await this._useSession(async t => { const { data: { session: r }, error: n } = t; if (n) throw n; if (!r) throw new ba; const { error: a } = await rt(this.fetch, "GET", `${this.url}/reauthenticate`, { headers: this.headers, jwt: r.access_token }); return this._returnResult({ data: { user: null, session: null }, error: a }) }) } catch (t) { if (Xe(t)) return this._returnResult({ data: { user: null, session: null }, error: t }); throw t } } async resend(t) { try { const r = `${this.url}/resend`; if ("email" in t) { const { email: n, type: a, options: i } = t, { error: s } = await rt(this.fetch, "POST", r, { headers: this.headers, body: { email: n, type: a, gotrue_meta_security: { captcha_token: i == null ? void 0 : i.captchaToken } }, redirectTo: i == null ? void 0 : i.emailRedirectTo }); return this._returnResult({ data: { user: null, session: null }, error: s }) } else if ("phone" in t) { const { phone: n, type: a, options: i } = t, { data: s, error: l } = await rt(this.fetch, "POST", r, { headers: this.headers, body: { phone: n, type: a, gotrue_meta_security: { captcha_token: i == null ? void 0 : i.captchaToken } } }); return this._returnResult({ data: { user: null, session: null, messageId: s == null ? void 0 : s.message_id }, error: l }) } throw new ep("You must provide either an email or phone number and a type") } catch (r) { if (Xe(r)) return this._returnResult({ data: { user: null, session: null }, error: r }); throw r } } async getSession() { return await this.initializePromise, await this._acquireLock(this.lockAcquireTimeout, async () => this._useSession(async r => r)) } async _acquireLock(t, r) { this._debug("#_acquireLock", "begin", t); try { if (this.lockAcquired) { const n = this.pendingInLock.length ? this.pendingInLock[this.pendingInLock.length - 1] : Promise.resolve(), a = (async () => (await n, await r()))(); return this.pendingInLock.push((async () => { try { await a } catch { } })()), a } return await this.lock(`lock:${this.storageKey}`, t, async () => { this._debug("#_acquireLock", "lock acquired for storage key", this.storageKey); try { this.lockAcquired = !0; const n = r(); for (this.pendingInLock.push((async () => { try { await n } catch { } })()), await n; this.pendingInLock.length;) { const a = [...this.pendingInLock]; await Promise.all(a), this.pendingInLock.splice(0, a.length) } return await n } finally { this._debug("#_acquireLock", "lock released for storage key", this.storageKey), this.lockAcquired = !1 } }) } finally { this._debug("#_acquireLock", "end") } } async _useSession(t) { this._debug("#_useSession", "begin"); try { const r = await this.__loadSession(); return await t(r) } finally { this._debug("#_useSession", "end") } } async __loadSession() { this._debug("#__loadSession()", "begin"), this.lockAcquired || this._debug("#__loadSession()", "used outside of an acquired lock!", new Error().stack); try { let t = null; const r = await xl(this.storage, this.storageKey); if (this._debug("#getSession()", "session from storage", r), r !== null && (this._isValidSession(r) ? t = r : (this._debug("#getSession()", "session from storage is not valid"), await this._removeSession())), !t) return { data: { session: null }, error: null }; const n = t.expires_at ? t.expires_at * 1e3 - Date.now() < zy : !1; if (this._debug("#__loadSession()", `session has${n ? "" : " not"} expired`, "expires_at", t.expires_at), !n) { if (this.userStorage) { const s = await xl(this.userStorage, this.storageKey + "-user"); s != null && s.user ? t.user = s.user : t.user = Vy() } if (this.storage.isServer && t.user && !t.user.__isUserNotAvailableProxy) { const s = { value: this.suppressGetSessionWarning }; t.user = D7(t.user, s), s.value && (this.suppressGetSessionWarning = !0) } return { data: { session: t }, error: null } } const { data: a, error: i } = await this._callRefreshToken(t.refresh_token); return i ? this._returnResult({ data: { session: null }, error: i }) : this._returnResult({ data: { session: a }, error: null }) } finally { this._debug("#__loadSession()", "end") } } async getUser(t) { if (t) return await this._getUser(t); await this.initializePromise; const r = await this._acquireLock(this.lockAcquireTimeout, async () => await this._getUser()); return r.data.user && (this.suppressGetSessionWarning = !0), r } async _getUser(t) { try { return t ? await rt(this.fetch, "GET", `${this.url}/user`, { headers: this.headers, jwt: t, xform: To }) : await this._useSession(async r => { var n, a, i; const { data: s, error: l } = r; if (l) throw l; return !(!((n = s.session) === null || n === void 0) && n.access_token) && !this.hasCustomAuthorizationHeader ? { data: { user: null }, error: new ba } : await rt(this.fetch, "GET", `${this.url}/user`, { headers: this.headers, jwt: (i = (a = s.session) === null || a === void 0 ? void 0 : a.access_token) !== null && i !== void 0 ? i : void 0, xform: To }) }) } catch (r) { if (Xe(r)) return Hy(r) && (await this._removeSession(), await vn(this.storage, `${this.storageKey}-code-verifier`)), this._returnResult({ data: { user: null }, error: r }); throw r } } async updateUser(t, r = {}) { return await this.initializePromise, await this._acquireLock(this.lockAcquireTimeout, async () => await this._updateUser(t, r)) } async _updateUser(t, r = {}) { try { return await this._useSession(async n => { const { data: a, error: i } = n; if (i) throw i; if (!a.session) throw new ba; const s = a.session; let l = null, f = null; this.flowType === "pkce" && t.email != null && ([l, f] = await Jc(this.storage, this.storageKey)); const { data: d, error: h } = await rt(this.fetch, "PUT", `${this.url}/user`, { headers: this.headers, redirectTo: r == null ? void 0 : r.emailRedirectTo, body: Object.assign(Object.assign({}, t), { code_challenge: l, code_challenge_method: f }), jwt: s.access_token, xform: To }); if (h) throw h; return s.user = d.user, await this._saveSession(s), await this._notifyAllSubscribers("USER_UPDATED", s), this._returnResult({ data: { user: s.user }, error: null }) }) } catch (n) { if (await vn(this.storage, `${this.storageKey}-code-verifier`), Xe(n)) return this._returnResult({ data: { user: null }, error: n }); throw n } } async setSession(t) { return await this.initializePromise, await this._acquireLock(this.lockAcquireTimeout, async () => await this._setSession(t)) } async _setSession(t) { try { if (!t.access_token || !t.refresh_token) throw new ba; const r = Date.now() / 1e3; let n = r, a = !0, i = null; const { payload: s } = rp(t.access_token); if (s.exp && (n = s.exp, a = n <= r), a) { const { data: l, error: f } = await this._callRefreshToken(t.refresh_token); if (f) return this._returnResult({ data: { user: null, session: null }, error: f }); if (!l) return { data: { user: null, session: null }, error: null }; i = l } else { const { data: l, error: f } = await this._getUser(t.access_token); if (f) return this._returnResult({ data: { user: null, session: null }, error: f }); i = { access_token: t.access_token, refresh_token: t.refresh_token, user: l.user, token_type: "bearer", expires_in: n - r, expires_at: n }, await this._saveSession(i), await this._notifyAllSubscribers("SIGNED_IN", i) } return this._returnResult({ data: { user: i.user, session: i }, error: null }) } catch (r) { if (Xe(r)) return this._returnResult({ data: { session: null, user: null }, error: r }); throw r } } async refreshSession(t) { return await this.initializePromise, await this._acquireLock(this.lockAcquireTimeout, async () => await this._refreshSession(t)) } async _refreshSession(t) { try { return await this._useSession(async r => { var n; if (!t) { const { data: s, error: l } = r; if (l) throw l; t = (n = s.session) !== null && n !== void 0 ? n : void 0 } if (!(t != null && t.refresh_token)) throw new ba; const { data: a, error: i } = await this._callRefreshToken(t.refresh_token); return i ? this._returnResult({ data: { user: null, session: null }, error: i }) : a ? this._returnResult({ data: { user: a.user, session: a }, error: null }) : this._returnResult({ data: { user: null, session: null }, error: null }) }) } catch (r) { if (Xe(r)) return this._returnResult({ data: { user: null, session: null }, error: r }); throw r } } async _getSessionFromURL(t, r) { try { if (!yn()) throw new tp("No browser detected."); if (t.error || t.error_description || t.error_code) throw new tp(t.error_description || "Error in URL with unspecified error_description", { error: t.error || "unspecified_error", code: t.error_code || "unspecified_code" }); switch (r) { case "implicit": if (this.flowType === "pkce") throw new TA("Not a valid PKCE flow url."); break; case "pkce": if (this.flowType === "implicit") throw new tp("Not a valid implicit grant flow url."); break; default: }if (r === "pkce") { if (this._debug("#_initialize()", "begin", "is PKCE flow", !0), !t.code) throw new TA("No code detected."); const { data: C, error: T } = await this._exchangeCodeForSession(t.code); if (T) throw T; const j = new URL(window.location.href); return j.searchParams.delete("code"), window.history.replaceState(window.history.state, "", j.toString()), { data: { session: C.session, redirectType: null }, error: null } } const { provider_token: n, provider_refresh_token: a, access_token: i, refresh_token: s, expires_in: l, expires_at: f, token_type: d } = t; if (!i || !l || !s || !d) throw new tp("No session defined in URL"); const h = Math.round(Date.now() / 1e3), m = parseInt(l); let g = h + m; f && (g = parseInt(f)); const v = g - h; v * 1e3 <= uu && console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${m}s`); const y = g - m; h - y >= 120 ? console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale", y, g, h) : h - y < 0 && console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew", y, g, h); const { data: b, error: _ } = await this._getUser(i); if (_) throw _; const k = { provider_token: n, provider_refresh_token: a, access_token: i, expires_in: m, expires_at: g, refresh_token: s, token_type: d, user: b.user }; return window.location.hash = "", this._debug("#_getSessionFromURL()", "clearing window.location.hash"), this._returnResult({ data: { session: k, redirectType: t.type }, error: null }) } catch (n) { if (Xe(n)) return this._returnResult({ data: { session: null, redirectType: null }, error: n }); throw n } } _isImplicitGrantCallback(t) { return typeof this.detectSessionInUrl == "function" ? this.detectSessionInUrl(new URL(window.location.href), t) : !!(t.access_token || t.error_description) } async _isPKCECallback(t) { const r = await xl(this.storage, `${this.storageKey}-code-verifier`); return !!(t.code && r) } async signOut(t = { scope: "global" }) { return await this.initializePromise, await this._acquireLock(this.lockAcquireTimeout, async () => await this._signOut(t)) } async _signOut({ scope: t } = { scope: "global" }) { return await this._useSession(async r => { var n; const { data: a, error: i } = r; if (i && !Hy(i)) return this._returnResult({ error: i }); const s = (n = a.session) === null || n === void 0 ? void 0 : n.access_token; if (s) { const { error: l } = await this.admin.signOut(s, t); if (l && !(f7(l) && (l.status === 404 || l.status === 401 || l.status === 403) || Hy(l))) return this._returnResult({ error: l }) } return t !== "others" && (await this._removeSession(), await vn(this.storage, `${this.storageKey}-code-verifier`)), this._returnResult({ error: null }) }) } onAuthStateChange(t) { const r = w7(), n = { id: r, callback: t, unsubscribe: () => { this._debug("#unsubscribe()", "state change callback with id removed", r), this.stateChangeEmitters.delete(r) } }; return this._debug("#onAuthStateChange()", "registered callback with id", r), this.stateChangeEmitters.set(r, n), (async () => (await this.initializePromise, await this._acquireLock(this.lockAcquireTimeout, async () => { this._emitInitialSession(r) })))(), { data: { subscription: n } } } async _emitInitialSession(t) { return await this._useSession(async r => { var n, a; try { const { data: { session: i }, error: s } = r; if (s) throw s; await ((n = this.stateChangeEmitters.get(t)) === null || n === void 0 ? void 0 : n.callback("INITIAL_SESSION", i)), this._debug("INITIAL_SESSION", "callback id", t, "session", i) } catch (i) { await ((a = this.stateChangeEmitters.get(t)) === null || a === void 0 ? void 0 : a.callback("INITIAL_SESSION", null)), this._debug("INITIAL_SESSION", "callback id", t, "error", i), console.error(i) } }) } async resetPasswordForEmail(t, r = {}) { let n = null, a = null; this.flowType === "pkce" && ([n, a] = await Jc(this.storage, this.storageKey, !0)); try { return await rt(this.fetch, "POST", `${this.url}/recover`, { body: { email: t, code_challenge: n, code_challenge_method: a, gotrue_meta_security: { captcha_token: r.captchaToken } }, headers: this.headers, redirectTo: r.redirectTo }) } catch (i) { if (await vn(this.storage, `${this.storageKey}-code-verifier`), Xe(i)) return this._returnResult({ data: null, error: i }); throw i } } async getUserIdentities() { var t; try { const { data: r, error: n } = await this.getUser(); if (n) throw n; return this._returnResult({ data: { identities: (t = r.user.identities) !== null && t !== void 0 ? t : [] }, error: null }) } catch (r) { if (Xe(r)) return this._returnResult({ data: null, error: r }); throw r } } async linkIdentity(t) { return "token" in t ? this.linkIdentityIdToken(t) : this.linkIdentityOAuth(t) } async linkIdentityOAuth(t) { var r; try { const { data: n, error: a } = await this._useSession(async i => { var s, l, f, d, h; const { data: m, error: g } = i; if (g) throw g; const v = await this._getUrlForProvider(`${this.url}/user/identities/authorize`, t.provider, { redirectTo: (s = t.options) === null || s === void 0 ? void 0 : s.redirectTo, scopes: (l = t.options) === null || l === void 0 ? void 0 : l.scopes, queryParams: (f = t.options) === null || f === void 0 ? void 0 : f.queryParams, skipBrowserRedirect: !0 }); return await rt(this.fetch, "GET", v, { headers: this.headers, jwt: (h = (d = m.session) === null || d === void 0 ? void 0 : d.access_token) !== null && h !== void 0 ? h : void 0 }) }); if (a) throw a; return yn() && !(!((r = t.options) === null || r === void 0) && r.skipBrowserRedirect) && window.location.assign(n == null ? void 0 : n.url), this._returnResult({ data: { provider: t.provider, url: n == null ? void 0 : n.url }, error: null }) } catch (n) { if (Xe(n)) return this._returnResult({ data: { provider: t.provider, url: null }, error: n }); throw n } } async linkIdentityIdToken(t) { return await this._useSession(async r => { var n; try { const { error: a, data: { session: i } } = r; if (a) throw a; const { options: s, provider: l, token: f, access_token: d, nonce: h } = t, m = await rt(this.fetch, "POST", `${this.url}/token?grant_type=id_token`, { headers: this.headers, jwt: (n = i == null ? void 0 : i.access_token) !== null && n !== void 0 ? n : void 0, body: { provider: l, id_token: f, access_token: d, nonce: h, link_identity: !0, gotrue_meta_security: { captcha_token: s == null ? void 0 : s.captchaToken } }, xform: oi }), { data: g, error: v } = m; return v ? this._returnResult({ data: { user: null, session: null }, error: v }) : !g || !g.session || !g.user ? this._returnResult({ data: { user: null, session: null }, error: new Xc }) : (g.session && (await this._saveSession(g.session), await this._notifyAllSubscribers("USER_UPDATED", g.session)), this._returnResult({ data: g, error: v })) } catch (a) { if (await vn(this.storage, `${this.storageKey}-code-verifier`), Xe(a)) return this._returnResult({ data: { user: null, session: null }, error: a }); throw a } }) } async unlinkIdentity(t) { try { return await this._useSession(async r => { var n, a; const { data: i, error: s } = r; if (s) throw s; return await rt(this.fetch, "DELETE", `${this.url}/user/identities/${t.identity_id}`, { headers: this.headers, jwt: (a = (n = i.session) === null || n === void 0 ? void 0 : n.access_token) !== null && a !== void 0 ? a : void 0 }) }) } catch (r) { if (Xe(r)) return this._returnResult({ data: null, error: r }); throw r } } async _refreshAccessToken(t) { const r = `#_refreshAccessToken(${t.substring(0, 5)}...)`; this._debug(r, "begin"); try { const n = Date.now(); return await k7(async a => (a > 0 && await E7(200 * Math.pow(2, a - 1)), this._debug(r, "refreshing attempt", a), await rt(this.fetch, "POST", `${this.url}/token?grant_type=refresh_token`, { body: { refresh_token: t }, headers: this.headers, xform: oi })), (a, i) => { const s = 200 * Math.pow(2, a); return i && Gy(i) && Date.now() + s - n < uu }) } catch (n) { if (this._debug(r, "error", n), Xe(n)) return this._returnResult({ data: { session: null, user: null }, error: n }); throw n } finally { this._debug(r, "end") } } _isValidSession(t) { return typeof t == "object" && t !== null && "access_token" in t && "refresh_token" in t && "expires_at" in t } async _handleProviderSignIn(t, r) { const n = await this._getUrlForProvider(`${this.url}/authorize`, t, { redirectTo: r.redirectTo, scopes: r.scopes, queryParams: r.queryParams }); return this._debug("#_handleProviderSignIn()", "provider", t, "options", r, "url", n), yn() && !r.skipBrowserRedirect && window.location.assign(n), { data: { provider: t, url: n }, error: null } } async _recoverAndRefresh() { var t, r; const n = "#_recoverAndRefresh()"; this._debug(n, "begin"); try { const a = await xl(this.storage, this.storageKey); if (a && this.userStorage) { let s = await xl(this.userStorage, this.storageKey + "-user"); !this.storage.isServer && Object.is(this.storage, this.userStorage) && !s && (s = { user: a.user }, await du(this.userStorage, this.storageKey + "-user", s)), a.user = (t = s == null ? void 0 : s.user) !== null && t !== void 0 ? t : Vy() } else if (a && !a.user && !a.user) { const s = await xl(this.storage, this.storageKey + "-user"); s && (s != null && s.user) ? (a.user = s.user, await vn(this.storage, this.storageKey + "-user"), await du(this.storage, this.storageKey, a)) : a.user = Vy() } if (this._debug(n, "session from storage", a), !this._isValidSession(a)) { this._debug(n, "session is not valid"), a !== null && await this._removeSession(); return } const i = ((r = a.expires_at) !== null && r !== void 0 ? r : 1 / 0) * 1e3 - Date.now() < zy; if (this._debug(n, `session has${i ? "" : " not"} expired with margin of ${zy}s`), i) { if (this.autoRefreshToken && a.refresh_token) { const { error: s } = await this._callRefreshToken(a.refresh_token); s && (console.error(s), Gy(s) || (this._debug(n, "refresh failed with a non-retryable error, removing the session", s), await this._removeSession())) } } else if (a.user && a.user.__isUserNotAvailableProxy === !0) try { const { data: s, error: l } = await this._getUser(a.access_token); !l && (s != null && s.user) ? (a.user = s.user, await this._saveSession(a), await this._notifyAllSubscribers("SIGNED_IN", a)) : this._debug(n, "could not get user data, skipping SIGNED_IN notification") } catch (s) { console.error("Error getting user data:", s), this._debug(n, "error getting user data, skipping SIGNED_IN notification", s) } else await this._notifyAllSubscribers("SIGNED_IN", a) } catch (a) { this._debug(n, "error", a), console.error(a); return } finally { this._debug(n, "end") } } async _callRefreshToken(t) { var r, n; if (!t) throw new ba; if (this.refreshingDeferred) return this.refreshingDeferred.promise; const a = `#_callRefreshToken(${t.substring(0, 5)}...)`; this._debug(a, "begin"); try { this.refreshingDeferred = new xg; const { data: i, error: s } = await this._refreshAccessToken(t); if (s) throw s; if (!i.session) throw new ba; await this._saveSession(i.session), await this._notifyAllSubscribers("TOKEN_REFRESHED", i.session); const l = { data: i.session, error: null }; return this.refreshingDeferred.resolve(l), l } catch (i) { if (this._debug(a, "error", i), Xe(i)) { const s = { data: null, error: i }; return Gy(i) || await this._removeSession(), (r = this.refreshingDeferred) === null || r === void 0 || r.resolve(s), s } throw (n = this.refreshingDeferred) === null || n === void 0 || n.reject(i), i } finally { this.refreshingDeferred = null, this._debug(a, "end") } } async _notifyAllSubscribers(t, r, n = !0) { const a = `#_notifyAllSubscribers(${t})`; this._debug(a, "begin", r, `broadcast = ${n}`); try { this.broadcastChannel && n && this.broadcastChannel.postMessage({ event: t, session: r }); const i = [], s = Array.from(this.stateChangeEmitters.values()).map(async l => { try { await l.callback(t, r) } catch (f) { i.push(f) } }); if (await Promise.all(s), i.length > 0) { for (let l = 0; l < i.length; l += 1)console.error(i[l]); throw i[0] } } finally { this._debug(a, "end") } } async _saveSession(t) { this._debug("#_saveSession()", t), this.suppressGetSessionWarning = !0, await vn(this.storage, `${this.storageKey}-code-verifier`); const r = Object.assign({}, t), n = r.user && r.user.__isUserNotAvailableProxy === !0; if (this.userStorage) { !n && r.user && await du(this.userStorage, this.storageKey + "-user", { user: r.user }); const a = Object.assign({}, r); delete a.user; const i = IA(a); await du(this.storage, this.storageKey, i) } else { const a = IA(r); await du(this.storage, this.storageKey, a) } } async _removeSession() { this._debug("#_removeSession()"), this.suppressGetSessionWarning = !1, await vn(this.storage, this.storageKey), await vn(this.storage, this.storageKey + "-code-verifier"), await vn(this.storage, this.storageKey + "-user"), this.userStorage && await vn(this.userStorage, this.storageKey + "-user"), await this._notifyAllSubscribers("SIGNED_OUT", null) } _removeVisibilityChangedCallback() { this._debug("#_removeVisibilityChangedCallback()"); const t = this.visibilityChangedCallback; this.visibilityChangedCallback = null; try { t && yn() && (window != null && window.removeEventListener) && window.removeEventListener("visibilitychange", t) } catch (r) { console.error("removing visibilitychange callback failed", r) } } async _startAutoRefresh() { await this._stopAutoRefresh(), this._debug("#_startAutoRefresh()"); const t = setInterval(() => this._autoRefreshTokenTick(), uu); this.autoRefreshTicker = t, t && typeof t == "object" && typeof t.unref == "function" ? t.unref() : typeof Deno < "u" && typeof Deno.unrefTimer == "function" && Deno.unrefTimer(t); const r = setTimeout(async () => { await this.initializePromise, await this._autoRefreshTokenTick() }, 0); this.autoRefreshTickTimeout = r, r && typeof r == "object" && typeof r.unref == "function" ? r.unref() : typeof Deno < "u" && typeof Deno.unrefTimer == "function" && Deno.unrefTimer(r) } async _stopAutoRefresh() { this._debug("#_stopAutoRefresh()"); const t = this.autoRefreshTicker; this.autoRefreshTicker = null, t && clearInterval(t); const r = this.autoRefreshTickTimeout; this.autoRefreshTickTimeout = null, r && clearTimeout(r) } async startAutoRefresh() { this._removeVisibilityChangedCallback(), await this._startAutoRefresh() } async stopAutoRefresh() { this._removeVisibilityChangedCallback(), await this._stopAutoRefresh() } async _autoRefreshTokenTick() { this._debug("#_autoRefreshTokenTick()", "begin"); try { await this._acquireLock(0, async () => { try { const t = Date.now(); try { return await this._useSession(async r => { const { data: { session: n } } = r; if (!n || !n.refresh_token || !n.expires_at) { this._debug("#_autoRefreshTokenTick()", "no session"); return } const a = Math.floor((n.expires_at * 1e3 - t) / uu); this._debug("#_autoRefreshTokenTick()", `access token expires in ${a} ticks, a tick lasts ${uu}ms, refresh threshold is ${Q1} ticks`), a <= Q1 && await this._callRefreshToken(n.refresh_token) }) } catch (r) { console.error("Auto refresh tick failed with error. This is likely a transient error.", r) } } finally { this._debug("#_autoRefreshTokenTick()", "end") } }) } catch (t) { if (t.isAcquireTimeout || t instanceof $4) this._debug("auto refresh token tick lock not available"); else throw t } } async _handleVisibilityChange() { if (this._debug("#_handleVisibilityChange()"), !yn() || !(window != null && window.addEventListener)) return this.autoRefreshToken && this.startAutoRefresh(), !1; try { this.visibilityChangedCallback = async () => { try { await this._onVisibilityChanged(!1) } catch (t) { this._debug("#visibilityChangedCallback", "error", t) } }, window == null || window.addEventListener("visibilitychange", this.visibilityChangedCallback), await this._onVisibilityChanged(!0) } catch (t) { console.error("_handleVisibilityChange", t) } } async _onVisibilityChanged(t) { const r = `#_onVisibilityChanged(${t})`; this._debug(r, "visibilityState", document.visibilityState), document.visibilityState === "visible" ? (this.autoRefreshToken && this._startAutoRefresh(), t || (await this.initializePromise, await this._acquireLock(this.lockAcquireTimeout, async () => { if (document.visibilityState !== "visible") { this._debug(r, "acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting"); return } await this._recoverAndRefresh() }))) : document.visibilityState === "hidden" && this.autoRefreshToken && this._stopAutoRefresh() } async _getUrlForProvider(t, r, n) { const a = [`provider=${encodeURIComponent(r)}`]; if (n != null && n.redirectTo && a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`), n != null && n.scopes && a.push(`scopes=${encodeURIComponent(n.scopes)}`), this.flowType === "pkce") { const [i, s] = await Jc(this.storage, this.storageKey), l = new URLSearchParams({ code_challenge: `${encodeURIComponent(i)}`, code_challenge_method: `${encodeURIComponent(s)}` }); a.push(l.toString()) } if (n != null && n.queryParams) { const i = new URLSearchParams(n.queryParams); a.push(i.toString()) } return n != null && n.skipBrowserRedirect && a.push(`skip_http_redirect=${n.skipBrowserRedirect}`), `${t}?${a.join("&")}` } async _unenroll(t) { try { return await this._useSession(async r => { var n; const { data: a, error: i } = r; return i ? this._returnResult({ data: null, error: i }) : await rt(this.fetch, "DELETE", `${this.url}/factors/${t.factorId}`, { headers: this.headers, jwt: (n = a == null ? void 0 : a.session) === null || n === void 0 ? void 0 : n.access_token }) }) } catch (r) { if (Xe(r)) return this._returnResult({ data: null, error: r }); throw r } } async _enroll(t) { try { return await this._useSession(async r => { var n, a; const { data: i, error: s } = r; if (s) return this._returnResult({ data: null, error: s }); const l = Object.assign({ friendly_name: t.friendlyName, factor_type: t.factorType }, t.factorType === "phone" ? { phone: t.phone } : t.factorType === "totp" ? { issuer: t.issuer } : {}), { data: f, error: d } = await rt(this.fetch, "POST", `${this.url}/factors`, { body: l, headers: this.headers, jwt: (n = i == null ? void 0 : i.session) === null || n === void 0 ? void 0 : n.access_token }); return d ? this._returnResult({ data: null, error: d }) : (t.factorType === "totp" && f.type === "totp" && (!((a = f == null ? void 0 : f.totp) === null || a === void 0) && a.qr_code) && (f.totp.qr_code = `data:image/svg+xml;utf-8,${f.totp.qr_code}`), this._returnResult({ data: f, error: null })) }) } catch (r) { if (Xe(r)) return this._returnResult({ data: null, error: r }); throw r } } async _verify(t) { return this._acquireLock(this.lockAcquireTimeout, async () => { try { return await this._useSession(async r => { var n; const { data: a, error: i } = r; if (i) return this._returnResult({ data: null, error: i }); const s = Object.assign({ challenge_id: t.challengeId }, "webauthn" in t ? { webauthn: Object.assign(Object.assign({}, t.webauthn), { credential_response: t.webauthn.type === "create" ? tz(t.webauthn.credential_response) : rz(t.webauthn.credential_response) }) } : { code: t.code }), { data: l, error: f } = await rt(this.fetch, "POST", `${this.url}/factors/${t.factorId}/verify`, { body: s, headers: this.headers, jwt: (n = a == null ? void 0 : a.session) === null || n === void 0 ? void 0 : n.access_token }); return f ? this._returnResult({ data: null, error: f }) : (await this._saveSession(Object.assign({ expires_at: Math.round(Date.now() / 1e3) + l.expires_in }, l)), await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED", l), this._returnResult({ data: l, error: f })) }) } catch (r) { if (Xe(r)) return this._returnResult({ data: null, error: r }); throw r } }) } async _challenge(t) { return this._acquireLock(this.lockAcquireTimeout, async () => { try { return await this._useSession(async r => { var n; const { data: a, error: i } = r; if (i) return this._returnResult({ data: null, error: i }); const s = await rt(this.fetch, "POST", `${this.url}/factors/${t.factorId}/challenge`, { body: t, headers: this.headers, jwt: (n = a == null ? void 0 : a.session) === null || n === void 0 ? void 0 : n.access_token }); if (s.error) return s; const { data: l } = s; if (l.type !== "webauthn") return { data: l, error: null }; switch (l.webauthn.type) { case "create": return { data: Object.assign(Object.assign({}, l), { webauthn: Object.assign(Object.assign({}, l.webauthn), { credential_options: Object.assign(Object.assign({}, l.webauthn.credential_options), { publicKey: Q7(l.webauthn.credential_options.publicKey) }) }) }), error: null }; case "request": return { data: Object.assign(Object.assign({}, l), { webauthn: Object.assign(Object.assign({}, l.webauthn), { credential_options: Object.assign(Object.assign({}, l.webauthn.credential_options), { publicKey: ez(l.webauthn.credential_options.publicKey) }) }) }), error: null } } }) } catch (r) { if (Xe(r)) return this._returnResult({ data: null, error: r }); throw r } }) } async _challengeAndVerify(t) { const { data: r, error: n } = await this._challenge({ factorId: t.factorId }); return n ? this._returnResult({ data: null, error: n }) : await this._verify({ factorId: t.factorId, challengeId: r.id, code: t.code }) } async _listFactors() { var t; const { data: { user: r }, error: n } = await this.getUser(); if (n) return { data: null, error: n }; const a = { all: [], phone: [], totp: [], webauthn: [] }; for (const i of (t = r == null ? void 0 : r.factors) !== null && t !== void 0 ? t : []) a.all.push(i), i.status === "verified" && a[i.factor_type].push(i); return { data: a, error: null } } async _getAuthenticatorAssuranceLevel(t) { var r, n, a, i; if (t) try { const { payload: v } = rp(t); let y = null; v.aal && (y = v.aal); let b = y; const { data: { user: _ }, error: k } = await this.getUser(t); if (k) return this._returnResult({ data: null, error: k }); ((n = (r = _ == null ? void 0 : _.factors) === null || r === void 0 ? void 0 : r.filter(j => j.status === "verified")) !== null && n !== void 0 ? n : []).length > 0 && (b = "aal2"); const T = v.amr || []; return { data: { currentLevel: y, nextLevel: b, currentAuthenticationMethods: T }, error: null } } catch (v) { if (Xe(v)) return this._returnResult({ data: null, error: v }); throw v } const { data: { session: s }, error: l } = await this.getSession(); if (l) return this._returnResult({ data: null, error: l }); if (!s) return { data: { currentLevel: null, nextLevel: null, currentAuthenticationMethods: [] }, error: null }; const { payload: f } = rp(s.access_token); let d = null; f.aal && (d = f.aal); let h = d; ((i = (a = s.user.factors) === null || a === void 0 ? void 0 : a.filter(v => v.status === "verified")) !== null && i !== void 0 ? i : []).length > 0 && (h = "aal2"); const g = f.amr || []; return { data: { currentLevel: d, nextLevel: h, currentAuthenticationMethods: g }, error: null } } async _getAuthorizationDetails(t) { try { return await this._useSession(async r => { const { data: { session: n }, error: a } = r; return a ? this._returnResult({ data: null, error: a }) : n ? await rt(this.fetch, "GET", `${this.url}/oauth/authorizations/${t}`, { headers: this.headers, jwt: n.access_token, xform: i => ({ data: i, error: null }) }) : this._returnResult({ data: null, error: new ba }) }) } catch (r) { if (Xe(r)) return this._returnResult({ data: null, error: r }); throw r } } async _approveAuthorization(t, r) { try { return await this._useSession(async n => { const { data: { session: a }, error: i } = n; if (i) return this._returnResult({ data: null, error: i }); if (!a) return this._returnResult({ data: null, error: new ba }); const s = await rt(this.fetch, "POST", `${this.url}/oauth/authorizations/${t}/consent`, { headers: this.headers, jwt: a.access_token, body: { action: "approve" }, xform: l => ({ data: l, error: null }) }); return s.data && s.data.redirect_url && yn() && !(r != null && r.skipBrowserRedirect) && window.location.assign(s.data.redirect_url), s }) } catch (n) { if (Xe(n)) return this._returnResult({ data: null, error: n }); throw n } } async _denyAuthorization(t, r) { try { return await this._useSession(async n => { const { data: { session: a }, error: i } = n; if (i) return this._returnResult({ data: null, error: i }); if (!a) return this._returnResult({ data: null, error: new ba }); const s = await rt(this.fetch, "POST", `${this.url}/oauth/authorizations/${t}/consent`, { headers: this.headers, jwt: a.access_token, body: { action: "deny" }, xform: l => ({ data: l, error: null }) }); return s.data && s.data.redirect_url && yn() && !(r != null && r.skipBrowserRedirect) && window.location.assign(s.data.redirect_url), s }) } catch (n) { if (Xe(n)) return this._returnResult({ data: null, error: n }); throw n } } async _listOAuthGrants() { try { return await this._useSession(async t => { const { data: { session: r }, error: n } = t; return n ? this._returnResult({ data: null, error: n }) : r ? await rt(this.fetch, "GET", `${this.url}/user/oauth/grants`, { headers: this.headers, jwt: r.access_token, xform: a => ({ data: a, error: null }) }) : this._returnResult({ data: null, error: new ba }) }) } catch (t) { if (Xe(t)) return this._returnResult({ data: null, error: t }); throw t } } async _revokeOAuthGrant(t) { try { return await this._useSession(async r => { const { data: { session: n }, error: a } = r; return a ? this._returnResult({ data: null, error: a }) : n ? (await rt(this.fetch, "DELETE", `${this.url}/user/oauth/grants`, { headers: this.headers, jwt: n.access_token, query: { client_id: t.clientId }, noResolveJson: !0 }), { data: {}, error: null }) : this._returnResult({ data: null, error: new ba }) }) } catch (r) { if (Xe(r)) return this._returnResult({ data: null, error: r }); throw r } } async fetchJwk(t, r = { keys: [] }) { let n = r.keys.find(l => l.kid === t); if (n) return n; const a = Date.now(); if (n = this.jwks.keys.find(l => l.kid === t), n && this.jwks_cached_at + u7 > a) return n; const { data: i, error: s } = await rt(this.fetch, "GET", `${this.url}/.well-known/jwks.json`, { headers: this.headers }); if (s) throw s; return !i.keys || i.keys.length === 0 || (this.jwks = i, this.jwks_cached_at = a, n = i.keys.find(l => l.kid === t), !n) ? null : n } async getClaims(t, r = {}) { try { let n = t; if (!n) { const { data: v, error: y } = await this.getSession(); if (y || !v.session) return this._returnResult({ data: null, error: y }); n = v.session.access_token } const { header: a, payload: i, signature: s, raw: { header: l, payload: f } } = rp(n); r != null && r.allowExpired || O7(i.exp); const d = !a.alg || a.alg.startsWith("HS") || !a.kid || !("crypto" in globalThis && "subtle" in globalThis.crypto) ? null : await this.fetchJwk(a.kid, r != null && r.keys ? { keys: r.keys } : r == null ? void 0 : r.jwks); if (!d) { const { error: v } = await this.getUser(n); if (v) throw v; return { data: { claims: i, header: a, signature: s }, error: null } } const h = R7(a.alg), m = await crypto.subtle.importKey("jwk", d, h, !0, ["verify"]); if (!await crypto.subtle.verify(h, m, s, y7(`${l}.${f}`))) throw new rw("Invalid JWT signature"); return { data: { claims: i, header: a, signature: s }, error: null } } catch (n) { if (Xe(n)) return this._returnResult({ data: null, error: n }); throw n } }
} Mf.nextInstanceID = {}; const dz = Mf, fz = "2.93.1"; let uf = ""; typeof Deno < "u" ? uf = "deno" : typeof document < "u" ? uf = "web" : typeof navigator < "u" && navigator.product === "ReactNative" ? uf = "react-native" : uf = "node"; function hz() { const e = globalThis.process; if (e && e.platform) { const t = e.platform; if (t === "darwin") return "macOS"; if (t === "win32") return "Windows"; if (t === "linux") return "Linux"; if (t === "android") return "Android" } if (typeof navigator < "u" && navigator.userAgentData && navigator.userAgentData.platform) { const t = navigator.userAgentData.platform; if (t === "macOS") return "macOS"; if (t === "Windows") return "Windows"; if (t === "Linux") return "Linux"; if (t === "Android") return "Android"; if (t === "iOS") return "iOS" } return null } function pz() { const e = globalThis.process; if (e) { const t = e.versions; if (t && t.node && typeof window > "u") try { const r = globalThis.require; if (r) return r("os").release() } catch { return null } } if (typeof Deno < "u" && Deno.osRelease) try { return Deno.osRelease() } catch { return null } return typeof navigator < "u" && navigator.userAgentData && navigator.userAgentData.platformVersion ? navigator.userAgentData.platformVersion : null } function mz() { if (typeof Deno < "u") return "deno"; if (typeof Bun < "u") return "bun"; const e = globalThis.process; if (e) { const t = e.versions; if (t && t.node) return "node" } return null } function gz() { if (typeof Deno < "u" && Deno.version) return Deno.version.deno; if (typeof Bun < "u" && Bun.version) return Bun.version; const e = globalThis.process; if (e) { const t = e.versions; if (t && t.node) return t.node } return null } function xz() { const e = { "X-Client-Info": `supabase-js-${uf}/${fz}` }, t = hz(); t && (e["X-Supabase-Client-Platform"] = t); const r = pz(); r && (e["X-Supabase-Client-Platform-Version"] = r); const n = mz(); n && (e["X-Supabase-Client-Runtime"] = n); const a = gz(); return a && (e["X-Supabase-Client-Runtime-Version"] = a), e } const vz = xz(), yz = { headers: vz }, bz = { schema: "public" }, wz = { autoRefreshToken: !0, persistSession: !0, detectSessionInUrl: !0, flowType: "implicit" }, _z = {}; function Lf(e) { "@babel/helpers - typeof"; return Lf = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (t) { return typeof t } : function (t) { return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t }, Lf(e) } function Sz(e, t) { if (Lf(e) != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (Lf(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } function Ez(e) { var t = Sz(e, "string"); return Lf(t) == "symbol" ? t : t + "" } function kz(e, t, r) { return (t = Ez(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function FA(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function vr(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? FA(Object(r), !0).forEach(function (n) { kz(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : FA(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } const Tz = e => e ? (...t) => e(...t) : (...t) => fetch(...t), Nz = () => Headers, Az = (e, t, r) => { const n = Tz(r), a = Nz(); return async (i, s) => { var l; const f = (l = await t()) !== null && l !== void 0 ? l : e; let d = new a(s == null ? void 0 : s.headers); return d.has("apikey") || d.set("apikey", e), d.has("Authorization") || d.set("Authorization", `Bearer ${f}`), n(i, vr(vr({}, s), {}, { headers: d })) } }; function Cz(e) { return e.endsWith("/") ? e : e + "/" } function jz(e, t) { var r, n; const { db: a, auth: i, realtime: s, global: l } = e, { db: f, auth: d, realtime: h, global: m } = t, g = { db: vr(vr({}, f), a), auth: vr(vr({}, d), i), realtime: vr(vr({}, h), s), storage: {}, global: vr(vr(vr({}, m), l), {}, { headers: vr(vr({}, (r = m == null ? void 0 : m.headers) !== null && r !== void 0 ? r : {}), (n = l == null ? void 0 : l.headers) !== null && n !== void 0 ? n : {}) }), accessToken: async () => "" }; return e.accessToken ? g.accessToken = e.accessToken : delete g.accessToken, g } function Iz(e) { const t = e == null ? void 0 : e.trim(); if (!t) throw new Error("supabaseUrl is required."); if (!t.match(/^https?:\/\//i)) throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL."); try { return new URL(Cz(t)) } catch { throw Error("Invalid supabaseUrl: Provided URL is malformed.") } } var Oz = class extends dz { constructor(e) { super(e) } }, Rz = class { constructor(e, t, r) { var n, a; this.supabaseUrl = e, this.supabaseKey = t; const i = Iz(e); if (!t) throw new Error("supabaseKey is required."); this.realtimeUrl = new URL("realtime/v1", i), this.realtimeUrl.protocol = this.realtimeUrl.protocol.replace("http", "ws"), this.authUrl = new URL("auth/v1", i), this.storageUrl = new URL("storage/v1", i), this.functionsUrl = new URL("functions/v1", i); const s = `sb-${i.hostname.split(".")[0]}-auth-token`, l = { db: bz, realtime: _z, auth: vr(vr({}, wz), {}, { storageKey: s }), global: yz }, f = jz(r ?? {}, l); if (this.storageKey = (n = f.auth.storageKey) !== null && n !== void 0 ? n : "", this.headers = (a = f.global.headers) !== null && a !== void 0 ? a : {}, f.accessToken) this.accessToken = f.accessToken, this.auth = new Proxy({}, { get: (h, m) => { throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`) } }); else { var d; this.auth = this._initSupabaseAuthClient((d = f.auth) !== null && d !== void 0 ? d : {}, this.headers, f.global.fetch) } this.fetch = Az(t, this._getAccessToken.bind(this), f.global.fetch), this.realtime = this._initRealtimeClient(vr({ headers: this.headers, accessToken: this._getAccessToken.bind(this) }, f.realtime)), this.accessToken && Promise.resolve(this.accessToken()).then(h => this.realtime.setAuth(h)).catch(h => console.warn("Failed to set initial Realtime auth token:", h)), this.rest = new d$(new URL("rest/v1", i).href, { headers: this.headers, schema: f.db.schema, fetch: this.fetch }), this.storage = new i7(this.storageUrl.href, this.headers, this.fetch, r == null ? void 0 : r.storage), f.accessToken || this._listenForAuthEvents() } get functions() { return new s$(this.functionsUrl.href, { headers: this.headers, customFetch: this.fetch }) } from(e) { return this.rest.from(e) } schema(e) { return this.rest.schema(e) } rpc(e, t = {}, r = { head: !1, get: !1, count: void 0 }) { return this.rest.rpc(e, t, r) } channel(e, t = { config: {} }) { return this.realtime.channel(e, t) } getChannels() { return this.realtime.getChannels() } removeChannel(e) { return this.realtime.removeChannel(e) } removeAllChannels() { return this.realtime.removeAllChannels() } async _getAccessToken() { var e = this, t, r; if (e.accessToken) return await e.accessToken(); const { data: n } = await e.auth.getSession(); return (t = (r = n.session) === null || r === void 0 ? void 0 : r.access_token) !== null && t !== void 0 ? t : e.supabaseKey } _initSupabaseAuthClient({ autoRefreshToken: e, persistSession: t, detectSessionInUrl: r, storage: n, userStorage: a, storageKey: i, flowType: s, lock: l, debug: f, throwOnError: d }, h, m) { const g = { Authorization: `Bearer ${this.supabaseKey}`, apikey: `${this.supabaseKey}` }; return new Oz({ url: this.authUrl.href, headers: vr(vr({}, g), h), storageKey: i, autoRefreshToken: e, persistSession: t, detectSessionInUrl: r, storage: n, userStorage: a, flowType: s, lock: l, debug: f, throwOnError: d, fetch: m, hasCustomAuthorizationHeader: Object.keys(this.headers).some(v => v.toLowerCase() === "authorization") }) } _initRealtimeClient(e) { return new A$(this.realtimeUrl.href, vr(vr({}, e), {}, { params: vr(vr({}, { apikey: this.supabaseKey }), e == null ? void 0 : e.params) })) } _listenForAuthEvents() { return this.auth.onAuthStateChange((e, t) => { this._handleTokenChanged(e, "CLIENT", t == null ? void 0 : t.access_token) }) } _handleTokenChanged(e, t, r) { (e === "TOKEN_REFRESHED" || e === "SIGNED_IN") && this.changedAccessToken !== r ? (this.changedAccessToken = r, this.realtime.setAuth(r)) : e === "SIGNED_OUT" && (this.realtime.setAuth(), t == "STORAGE" && this.auth.signOut(), this.changedAccessToken = void 0) } }; const Pz = (e, t, r) => new Rz(e, t, r); function Dz() { if (typeof window < "u") return !1; const e = globalThis.process; if (!e) return !1; const t = e.version; if (t == null) return !1; const r = t.match(/^v(\d+)\./); return r ? parseInt(r[1], 10) <= 18 : !1 } Dz() && console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217"); const Mz = "https://tnwahbelwnhqevbgykxo.supabase.co", Lz = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRud2FoYmVsd25ocWV2Ymd5a3hvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk0NDg2NzIsImV4cCI6MjA4NTAyNDY3Mn0.hACaGp9Uit9mq5bXNoAng4U1HXLe8Giy4io1_HoBPvw", Le = Pz(Mz, Lz), G4 = A.createContext(void 0), vl = { USER: "ha_user", ROLES: "ha_roles" }, Fz = ({ children: e }) => { const [t, r] = A.useState(() => { const y = localStorage.getItem(vl.USER); return y ? JSON.parse(y) : null }), [n, a] = A.useState(() => { try { const y = localStorage.getItem(vl.ROLES); return y ? JSON.parse(y) : [] } catch { return [] } }), [i, s] = A.useState(() => !!localStorage.getItem(vl.ROLES)), [l, f] = A.useState(!0); A.useEffect(() => { const y = async () => { console.log("[AuthContext] loadRoles() started"); try { console.log("[AuthContext] Fetching role_permissions from DB..."); const b = new Promise((C, T) => setTimeout(() => T(new Error("Request timed out")), 5e3)), { data: _, error: k } = await Promise.race([Le.from("role_permissions").select("role_id, permission_id"), b]); if (console.log("[AuthContext] DB query result:", { dbPerms: _, error: k }), k) throw k; if (_ && _.length > 0) { const C = {}; _.forEach(j => { C[j.role_id] || (C[j.role_id] = []), C[j.role_id].push(j.permission_id) }); const T = Object.keys(C).map(j => ({ role: j, permissions: C[j] })); console.log("[AuthContext] Loaded role configs from DB:", T), a(T), s(!0) } else { console.log("Seeding initial role permissions..."); const C = []; for (const j of Xh) for (const R of j.permissions) C.push({ role_id: j.role, permission_id: R }); const { error: T } = await Le.from("role_permissions").insert(C); T ? (console.error("Error seeding roles, using local fallback:", T), a(Xh), s(!0)) : (console.log("[AuthContext] Seeded initial role configs"), a(Xh), s(!0)) } } catch (b) { console.error("Auth load error or timeout, using fallback:", b), a(Xh), s(!0) } finally { console.log("[AuthContext] loadRoles() completed") } }; n.length > 0 && console.log("[AuthContext] Loaded role configs from LocalStorage Cache (Instant Start)"), y() }, []), A.useEffect(() => { n.length > 0 && localStorage.setItem(vl.ROLES, JSON.stringify(n)) }, [n]), A.useEffect(() => { console.log("[AuthContext] Loading state check - user:", !!t, "roleConfigsLoaded:", i), i && (f(!1), console.log("[AuthContext] Both user and roleConfigs ready, setting isLoading = false")) }, [t, i]), A.useEffect(() => { t ? localStorage.setItem(vl.USER, JSON.stringify(t)) : localStorage.removeItem(vl.USER) }, [t]), A.useEffect(() => { if (!(t != null && t.id)) return; const y = Le.channel(`profile_changes_${t.id}`).on("postgres_changes", { event: "UPDATE", schema: "public", table: "profiles", filter: `id=eq.${t.id}` }, async b => { var _, k; console.log("[AuthContext] Permission change detected, refreshing profile...", b); try { const { data: C, error: T } = await Le.from("profiles").select("id, full_name, user_roles(role_id), permissions").eq("id", t.id).single(); if (C && !T) { const j = (k = (_ = C.user_roles) == null ? void 0 : _[0]) == null ? void 0 : k.role_id, R = C.permissions, O = C.full_name; r(I => ({ ...I, role: j || I.role, permissions: R || [], username: O || I.username })), console.log("[AuthContext] Profile updated with fresh DB permissions:", R || []) } } catch (C) { console.error("[AuthContext] Error refreshing profile after permission change:", C) } }).subscribe(); return () => { Le.removeChannel(y) } }, [t == null ? void 0 : t.id]), A.useEffect(() => { const y = async k => { var C, T, j, R; if (k) try { const { data: O, error: I } = await Le.from("profiles").select("id, full_name, user_roles(role_id), permissions").eq("id", k.id).single(); if (O) { const H = (T = (C = O.user_roles) == null ? void 0 : C[0]) == null ? void 0 : T.role_id, F = O.permissions, X = O.full_name; r({ id: k.id, email: k.email, username: X || ((j = k.email) == null ? void 0 : j.split("@")[0]) || "User", role: H || it.FRONT_DESK, permissions: F || [] }) } else console.warn("[AuthContext] No profile found in DB for user, using session fallback"), r({ id: k.id, email: k.email, username: ((R = k.email) == null ? void 0 : R.split("@")[0]) || "New User", role: it.FRONT_DESK, permissions: [] }) } catch (O) { console.error("[AuthContext] Error fetching profile:", O), r({ id: k.id, email: k.email, username: "User (Offline)", role: it.FRONT_DESK, permissions: [] }) } finally { console.log("[AuthContext] fetchProfile complete. roleConfigsLoaded:", i) } }; (async () => { console.log("[AuthContext] Initializing session..."); const { data: { session: k } } = await Le.auth.getSession(); k != null && k.user ? (console.log("[AuthContext] Session found, fetching profile..."), await y(k.user)) : (console.log("[AuthContext] No session found"), i && f(!1)) })(); const { data: { subscription: _ } } = Le.auth.onAuthStateChange(async (k, C) => { (k === "SIGNED_IN" || k === "TOKEN_REFRESHED") && C != null && C.user && await y(C.user), k === "SIGNED_OUT" && (r(null), localStorage.removeItem(vl.USER)) }); return () => _.unsubscribe() }, []); const d = y => { var T; if (!t) return console.log("[hasPermission] No user, returning false"), !1; const b = (T = t.role) == null ? void 0 : T.toUpperCase(); if (b === "OWNER" || b === "MANAGER") return !0; if (t.permissions && t.permissions.length > 0) { const j = t.permissions.includes(y); return console.log(`[hasPermission] User-specific check for ${y}: ${j}`, t.permissions), j } if (!i) return console.warn(`[hasPermission] RoleConfigs not loaded yet, denying ${y}`), !1; const k = n.find(j => j.role.toUpperCase() === b), C = k ? k.permissions.includes(y) : !1; return console.log(`[hasPermission] Role-based check for ${y} (${b}): ${C}`, k == null ? void 0 : k.permissions), C }, h = async (y, b) => { a(_ => { const k = _.findIndex(j => j.role === y); if (k === -1) return Le.from("role_permissions").insert({ role_id: y, permission_id: b }).then(({ error: j }) => { j && console.error("Error adding permission:", j) }), [..._, { role: y, permissions: [b] }]; const C = [..._], T = C[k].permissions; return T.includes(b) ? (C[k].permissions = T.filter(j => j !== b), Le.from("role_permissions").delete().match({ role_id: y, permission_id: b }).then(({ error: j }) => { j && console.error("Error removing permission:", j) })) : (C[k].permissions = [...T, b], Le.from("role_permissions").insert({ role_id: y, permission_id: b }).then(({ error: j }) => { j && console.error("Error adding permission:", j) })), C }) }, m = async () => { console.log("[AuthContext] Starting sign out (Fire-and-Forget mode)..."); try { localStorage.clear(), r(null), a([]), Le.removeAllChannels().catch(y => console.warn("Channel cleanup warning:", y)), Le.auth.signOut({ scope: "local" }).catch(y => console.warn("SignOut warning:", y)), console.log("[AuthContext] Local state cleared, forcing reload now."), window.location.href = "/" } catch (y) { console.error("[AuthContext] Logout critical error:", y), localStorage.clear(), window.location.href = "/" } }, g = async y => { }, v = { user: t, isLoading: l, isAdmin: d("admin.access"), hasPermission: d, roleConfigs: n, updateRoleConfig: h, signIn: g, signOut: m, updateUser: y => r(y) }; return c.jsx(G4.Provider, { value: v, children: e }) }, V4 = () => { const e = A.useContext(G4); if (e === void 0) throw new Error("useAuth must be used within an AuthProvider"); return e }; class q4 { static async fetchAll() { const { data: t, error: r } = await Le.from("items").select("*").order("name", { ascending: !0 }); if (r) throw r; return t ? t.map(n => ({ id: n.id, name: n.name, category: n.category || "General", stock: Number(n.stock || 0), unit: n.unit, averageCost: Number(n.average_cost || 0), minStock: Number(n.min_stock || 0), maxStock: Number(n.max_stock || 0), expiryDate: n.expiry_date || "", batchNumber: n.batch_number || "", location: n.location || "Unassigned", lastChecked: n.last_checked, lastCheckedBy: n.last_checked_by, sku: n.sku || "" })) : [] } static async createItem(t) { const r = { name: t.name, category: t.category, unit: t.unit || "unit_each", stock: isNaN(Number(t.stock)) ? 0 : Number(t.stock), average_cost: isNaN(Number(t.averageCost)) ? 0 : Number(t.averageCost), min_stock: isNaN(Number(t.minStock)) ? 10 : Number(t.minStock), max_stock: isNaN(Number(t.maxStock)) ? 100 : Number(t.maxStock), expiry_date: t.expiryDate && t.expiryDate.trim() !== "" ? t.expiryDate : null, batch_number: t.batchNumber || "", location: t.location || "Unassigned", sku: t.sku || null, is_active: !0 }, { data: n, error: a } = await Le.from("items").upsert(r, { onConflict: "name,batch_number", ignoreDuplicates: !1 }).select().single(); if (a) throw a; return n ? { id: n.id, name: n.name, category: n.category || "General", stock: Number(n.stock || 0), unit: n.unit, averageCost: Number(n.average_cost || 0), minStock: Number(n.min_stock || 0), maxStock: Number(n.max_stock || 0), expiryDate: n.expiry_date || "", batchNumber: n.batch_number || "", location: n.location || "Unassigned", lastChecked: n.last_checked, lastCheckedBy: n.last_checked_by, sku: n.sku || "" } : null } static async importItems(t) { if (!t.length) return 0; const r = t.map(s => ({ name: (s.name || "").trim(), category: (s.category || "General").trim(), unit: s.unit || "unit_each", stock: isNaN(Number(s.stock)) ? 0 : Number(s.stock), average_cost: isNaN(Number(s.averageCost)) ? 0 : Number(s.averageCost), min_stock: isNaN(Number(s.minStock)) ? 10 : Number(s.minStock), max_stock: isNaN(Number(s.maxStock)) ? 100 : Number(s.maxStock), expiry_date: s.expiryDate && s.expiryDate.trim() !== "" ? s.expiryDate : null, batch_number: (s.batchNumber || "").trim(), location: (s.location || "Unassigned").trim(), sku: s.sku || null, is_active: !0 })), n = Array.from(r.reduce((s, l) => { const f = `${l.name.toLowerCase()}|${l.batch_number.toLowerCase()}`; return s.has(f) || s.set(f, l), s }, new Map).values()), { data: a, error: i } = await Le.from("items").upsert(n, { onConflict: "name,batch_number", ignoreDuplicates: !1 }).select("id"); if (i) throw i; return a ? a.length : 0 } } class Pp { static async fetchAll() { const { data: t, error: r } = await Le.from("orders").select("*").order("created_at", { ascending: !1 }); if (r) throw r; if (!t || t.length === 0) return []; const n = t.map(s => s.id), { data: a, error: i } = await Le.from("order_items").select("*").in("order_id", n); if (i) throw i; return t.map(s => { const f = ((a == null ? void 0 : a.filter(d => d.order_id === s.id)) || []).map(d => ({ id: d.id, inventoryItemId: d.item_id || void 0, name: d.item_name, quantity: d.quantity, unitCost: d.unit_cost, unitType: d.unit_type, total: d.line_total })); return { id: s.id, poNumber: s.po_number, vendor: s.vendor, orderDate: s.order_date, expectedDate: s.expected_arrival_date || "", status: s.status, items: f, subtotal: s.subtotal, shippingCost: s.shipping_cost, totalTax: s.tax_total, grandTotal: s.grand_total, notes: s.notes || void 0, attachmentUrl: s.attachment_url || void 0, createdBy: s.created_by } }) } static async createOrder(t, r) { const n = { po_number: t.poNumber, vendor: t.vendor, order_date: t.orderDate, expected_arrival_date: t.expectedDate || null, status: t.status, subtotal: t.subtotal, tax_total: t.totalTax, shipping_cost: t.shippingCost, grand_total: t.grandTotal, notes: t.notes || null, attachment_url: t.attachmentUrl || null, created_by: r }, { data: a, error: i } = await Le.from("orders").insert([n]).select().single(); if (i) throw i; if (!a) throw new Error("Failed to create order record"); const s = t.items.map(d => ({ order_id: a.id, item_id: d.inventoryItemId || null, item_name: d.name, quantity: d.quantity, unit_cost: d.unitCost, unit_type: d.unitType, line_total: d.total })), { data: l, error: f } = await Le.from("order_items").insert(s).select(); if (f) throw await Le.from("orders").delete().eq("id", a.id), f; return { ...t, id: a.id, items: l.map(d => ({ id: d.id, inventoryItemId: d.item_id || void 0, name: d.item_name, quantity: d.quantity, unitCost: d.unit_cost, unitType: d.unit_type, total: d.line_total })) } } static async updateStatus(t, r) { const { error: n } = await Le.from("orders").update({ status: r }).eq("id", t); if (n) throw n } static async deleteOrder(t) { const { error: r } = await Le.from("orders").delete().eq("id", t); if (r) throw r } } class jo { static async fetchAll() { const { data: t, error: r } = await Le.from("prices").select("*").order("service_name", { ascending: !0 }); if (r) throw r; return t ? t.map(jo.mapFromDb) : [] } static async createPrice(t) { const r = { service_name: t.serviceName, price: t.price, category: t.category, code: t.code || null }, { data: n, error: a } = await Le.from("prices").insert([r]).select().single(); if (a) throw a; if (!n) throw new Error("Failed to create price item: No data returned from database"); return jo.mapFromDb(n) } static async updatePrice(t) { const r = { service_name: t.serviceName, price: t.price, category: t.category, code: t.code || null }, { error: n } = await Le.from("prices").update(r).eq("id", t.id); if (n) throw n } static async deletePrice(t) { const { error: r } = await Le.from("prices").delete().eq("id", t); if (r) throw r } static mapFromDb(t) { return { id: t.id, serviceName: t.service_name, price: t.price, category: t.category, code: t.code || void 0 } } } const So = { fromDBCode(e) { return { id: e.id, name: e.name, cptCode: e.cpt_code, labCode: e.lab_code, adminCode: e.admin_code } }, toDBCode(e) { return { name: e.name, cpt_code: e.cptCode, lab_code: e.labCode, admin_code: e.adminCode } }, fromDBGroup(e) { return { id: e.id, name: e.name, description: e.description, codeIds: e.code_ids || [] } }, toDBGroup(e) { return { name: e.name, description: e.description, code_ids: e.codeIds } }, async fetchCodes() { const { data: e, error: t } = await Le.from("medical_codes").select("*").order("name", { ascending: !0 }); if (t) throw t; return (e || []).map(this.fromDBCode) }, async createCode(e) { const t = this.toDBCode(e), { data: r, error: n } = await Le.from("medical_codes").insert([t]).select().single(); if (n) throw n; return r ? this.fromDBCode(r) : null }, async updateCode(e) { const t = this.toDBCode(e), { data: r, error: n } = await Le.from("medical_codes").update(t).eq("id", e.id).select().single(); if (n) throw n; return r ? this.fromDBCode(r) : null }, async deleteCode(e) { const { error: t } = await Le.from("medical_codes").delete().eq("id", e); if (t) throw t }, async fetchGroups() { const { data: e, error: t } = await Le.from("code_groups").select("*").order("name", { ascending: !0 }); if (t) throw t; return (e || []).map(this.fromDBGroup) }, async createGroup(e) { const t = this.toDBGroup(e), { data: r, error: n } = await Le.from("code_groups").insert([t]).select().single(); if (n) throw n; return r ? this.fromDBGroup(r) : null }, async updateGroup(e) { const t = this.toDBGroup(e), { data: r, error: n } = await Le.from("code_groups").update(t).eq("id", e.id).select().single(); if (n) throw n; return r ? this.fromDBGroup(r) : null }, async deleteGroup(e) { const { error: t } = await Le.from("code_groups").delete().eq("id", e); if (t) throw t } }, W4 = A.createContext(void 0), Uz = ({ children: e }) => { const [t, r] = A.useState([]), [n, a] = A.useState([]), [i, s] = A.useState([]), [l, f] = A.useState([]), [d, h] = A.useState([]), [m, g] = A.useState(!1), [v, y] = A.useState(!1), [b, _] = A.useState(!1), [k, C] = A.useState(!1), [T, j] = A.useState(!1), R = A.useRef(!1), O = A.useRef(!1), I = A.useCallback(async () => { if (!R.current && T) { R.current = !0, g(!0), y(!0), _(!0), C(!0); try { const F = await q4.fetchAll(); r(F), g(!1), (await Promise.allSettled([Pp.fetchAll(), jo.fetchAll(), So.fetchCodes(), So.fetchGroups()])).forEach((V, U) => { V.status === "fulfilled" && (U === 0 && a(V.value), U === 1 && s(V.value), U === 2 && f(V.value), U === 3 && h(V.value)) }), O.current = !0 } catch (F) { console.error("[InventoryContext] Error during data load:", F) } finally { g(!1), y(!1), _(!1), C(!1), R.current = !1 } } }, [T]); A.useEffect(() => { let F = !0; Le.auth.getSession().then(({ data: { session: V } }) => { F && j(!!V) }); const { data: { subscription: X } } = Le.auth.onAuthStateChange((V, U) => { if (!F) return; const ee = !!U; j(re => re !== ee ? (ee || (O.current = !1), ee) : re) }); return () => { F = !1, X.unsubscribe() } }, []), A.useEffect(() => { T && !O.current && !R.current && I() }, [T, I]); const H = { inventory: t, orders: n, prices: i, codes: l, codeGroups: d, isLoadingInventory: m, isLoadingOrders: v, isLoadingPrices: b, isLoadingCodes: k, refreshInventory: I, setInventory: r, setOrders: a, setPrices: s, setCodes: f, setCodeGroups: h, setIsLoadingInventory: g, setIsLoadingOrders: y, setIsLoadingPrices: _, setIsLoadingCodes: C }; return c.jsx(W4.Provider, { value: H, children: e }) }, Bz = () => { const e = A.useContext(W4); if (!e) throw new Error("useInventory must be used within InventoryProvider"); return e }; let Jp = null; const Xd = "https://tnwahbelwnhqevbgykxo.supabase.co", $z = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRud2FoYmVsd25ocWV2Ymd5a3hvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk0NDg2NzIsImV4cCI6MjA4NTAyNDY3Mn0.hACaGp9Uit9mq5bXNoAng4U1HXLe8Giy4io1_HoBPvw"; function Jd() { if (!Jp) throw console.error("[DailyReportService]  No cached token! setAccessToken() was never called."), new Error("No access token available  call setAccessToken() first"); return { apikey: $z, Authorization: `Bearer ${Jp}`, "Content-Type": "application/json", Accept: "application/json" } } const Il = { setAccessToken(e) { Jp = e, console.log("[DailyReportService]  Access token cached") }, clearAccessToken() { Jp = null }, async createReport(e, t) { var r, n; console.log("[DailyReportService] Creating report...", { id: e.id, userId: t }); try { const a = { id: e.id, user_id: t, timestamp: e.timestamp, author: e.author, data: e, revenue: e.totals.revenue, patient_count: e.totals.patients, cash: e.financials.methods.cash, card: e.financials.methods.credit, is_balanced: e.isBalanced, notes: e.notes, patients: e.totals.patients }, i = `${Xd}/rest/v1/daily_reports`, s = new AbortController, l = setTimeout(() => s.abort(), 15e3), f = await fetch(i, { method: "POST", headers: { ...Jd(), Prefer: "return=representation" }, body: JSON.stringify(a), signal: s.signal }); if (clearTimeout(l), !f.ok) { const h = await f.text(); throw console.error("[DailyReportService]  POST error:", f.status, h), new Error(`PostgREST error ${f.status}: ${h}`) } const d = await f.json(); return console.log("[DailyReportService]  Report created:", ((r = d == null ? void 0 : d[0]) == null ? void 0 : r.id) || e.id), { ...e, id: ((n = d == null ? void 0 : d[0]) == null ? void 0 : n.id) || e.id } } catch (a) { throw a.name === "AbortError" ? console.error("[DailyReportService]  Create aborted after 15s timeout") : console.error("[DailyReportService]  Error creating report:", a), a } }, async getReports() { console.log("[DailyReportService] Fetching reports..."); try { const e = `${Xd}/rest/v1/daily_reports?select=*&order=timestamp.desc`, t = new AbortController, r = setTimeout(() => t.abort(), 15e3), n = await fetch(e, { method: "GET", headers: Jd(), signal: t.signal }); if (clearTimeout(r), !n.ok) { const i = await n.text(); throw console.error("[DailyReportService]  GET error:", n.status, i), new Error(`PostgREST error ${n.status}: ${i}`) } const a = await n.json(); return console.log(`[DailyReportService]  Fetched ${a == null ? void 0 : a.length} reports`), (a || []).map(i => (i.data || console.warn("[DailyReportService] Report row missing data column:", i.id), { ...i.data, id: i.id, timestamp: i.timestamp })) } catch (e) { return e.name === "AbortError" ? console.error("[DailyReportService]  Fetch aborted after 15s timeout") : console.error("[DailyReportService]  Error fetching reports:", e), [] } }, async deleteReport(e) { console.log("[DailyReportService] Deleting report...", e); try { const t = `${Xd}/rest/v1/daily_reports?id=eq.${encodeURIComponent(e)}`, r = new AbortController, n = setTimeout(() => r.abort(), 15e3), a = await fetch(t, { method: "DELETE", headers: Jd(), signal: r.signal }); if (clearTimeout(n), !a.ok) { const i = await a.text(); return console.error("[DailyReportService]  DELETE error:", a.status, i), !1 } return console.log("[DailyReportService]  Report deleted:", e), !0 } catch (t) { return t.name === "AbortError" ? console.error("[DailyReportService]  Delete aborted after 15s timeout") : console.error("[DailyReportService]  Error deleting report:", t), !1 } }, async restoreLocalReports(e) { var t, r, n, a, i, s; try { const l = localStorage.getItem("ha_daily_reports"); if (!l) return 0; const f = JSON.parse(l); if (!Array.isArray(f) || f.length === 0) return 0; let d = 0; for (const h of f) { const m = `${Xd}/rest/v1/daily_reports?id=eq.${encodeURIComponent(h.id)}&select=id`, v = await (await fetch(m, { method: "GET", headers: Jd() })).json(); if (!v || v.length === 0) { const y = `${Xd}/rest/v1/daily_reports`; (await fetch(y, { method: "POST", headers: Jd(), body: JSON.stringify({ id: h.id, user_id: e || null, timestamp: h.timestamp, revenue: ((t = h.totals) == null ? void 0 : t.revenue) || 0, cash: ((n = (r = h.financials) == null ? void 0 : r.methods) == null ? void 0 : n.cash) || 0, card: ((i = (a = h.financials) == null ? void 0 : a.methods) == null ? void 0 : i.credit) || 0, patients: ((s = h.totals) == null ? void 0 : s.patients) || 0, notes: h.notes || "", is_balanced: h.isBalanced || !1, author: h.author || "", data: h }) })).ok && d++ } } return d } catch (l) { return console.error("Restoration failed", l), 0 } } }, Dp = { async getTemplates() { const { data: e, error: t } = await Le.from("form_templates").select("*").order("updated_at", { ascending: !1 }); return t ? (console.error("Error fetching templates:", t), []) : e.map(r => ({ id: r.id, title: r.title, slug: r.slug, version: r.version, language: r.language, status: r.status, useLetterhead: r.use_letterhead, content: r.content, variables: r.variables, updatedAt: r.updated_at })) }, async createTemplate(e) { console.log("[TemplateService] createTemplate START", e.id, e.title); const t = { id: e.id, title: e.title, slug: e.slug, version: e.version, language: e.language, status: e.status, use_letterhead: e.useLetterhead, content: e.content, variables: e.variables, updated_at: new Date().toISOString() }; console.log("[TemplateService] Supabase INSERT payload:", JSON.stringify(t).substring(0, 200)); try { console.log("[TemplateService] Calling supabase.from('form_templates').insert()..."); const { data: r, error: n } = await Le.from("form_templates").insert(t).select(); if (console.log("[TemplateService] Supabase response received. error:", n, "data length:", r == null ? void 0 : r.length), n) throw console.error("[TemplateService] INSERT error:", n.message, n.code, n.details), n; return !r || r.length === 0 ? (console.warn("[TemplateService] INSERT succeeded but no data returned (RLS blocking view?)"), e) : (console.log("[TemplateService] createTemplate SUCCESS. ID:", r[0].id), { ...e, updatedAt: r[0].updated_at }) } catch (r) { throw console.error("[TemplateService] createTemplate CAUGHT ERROR:", r.message || r), r } }, async updateTemplate(e) { const { data: t, error: r } = await Le.from("form_templates").update({ title: e.title, slug: e.slug, version: e.version, language: e.language, status: e.status, use_letterhead: e.useLetterhead, content: e.content, variables: e.variables, updated_at: new Date().toISOString() }).eq("id", e.id).select(); if (r) throw console.error("Error updating template:", r), r; return !t || t.length === 0 ? (console.error("Template updated but no data returned (RLS blocking or ID not found)"), null) : { ...e, updatedAt: t[0].updated_at } }, async deleteTemplate(e) { const { error: t, count: r } = await Le.from("form_templates").delete({ count: "exact" }).eq("id", e); return t ? (console.error("Error deleting template:", t), !1) : (r === 0 && console.warn(`Delete op success but 0 rows deleted for ID ${e}. RLS blocking or ID not found.`), !0) } }, zz = [{ id: "br_1", insurers: ["Medicare", "Medicaid", "UHC", "BCBS", "Aetna", "Cigna", "Meridian"], testName: "Strep Test", cpt: "87880", billToClient: !0 }, { id: "br_2", insurers: ["Medicare", "Medicaid", "UHC", "BCBS", "Aetna", "Cigna", "Meridian"], testName: "Influenza", cpt: "87804", billToClient: !0 }, { id: "br_3", insurers: ["Medicare", "Medicaid", "UHC", "BCBS", "Aetna", "Cigna", "Meridian"], testName: "Urinalysis (UA)", cpt: "81003", billToClient: !0 }, { id: "br_4", insurers: ["Medicare", "Medicaid", "UHC", "BCBS", "Aetna", "Cigna", "Meridian"], testName: "HbA1c", cpt: "83036", billToClient: !0 }, { id: "br_5", insurers: ["Medicare", "Medicaid", "UHC", "BCBS", "Aetna", "Cigna", "Meridian"], testName: "Pregnancy", cpt: "81025", billToClient: !0 }, { id: "br_6", insurers: ["Medicare", "Medicaid", "UHC", "BCBS", "Aetna", "Cigna", "Meridian"], testName: "Mono Spot", cpt: "86308", billToClient: !0 }, { id: "br_7", insurers: ["BCBS", "Aetna", "Cigna", "Meridian"], testName: "CBC", cpt: "85025", billToClient: !0 }, { id: "br_8", insurers: ["BCBS", "Aetna", "Cigna"], testName: "CMP (Comprehensive)", cpt: "80053", billToClient: !0 }, { id: "br_9", insurers: ["Meridian"], testName: "CMP (Comprehensive) QW", cpt: "80053-QW", billToClient: !0 }, { id: "br_10", insurers: ["BCBS", "Aetna", "Cigna"], testName: "Lipid Panel", cpt: "80061", billToClient: !0 }, { id: "br_11", insurers: ["Meridian"], testName: "Lipid Panel QW", cpt: "80061-QW", billToClient: !0 }, { id: "br_12", insurers: ["BCBS", "Aetna", "Cigna", "Meridian"], testName: "General Health Panel", cpt: "80050", billToClient: !0 }, { id: "br_13", insurers: ["BCBS", "Aetna", "Cigna"], testName: "TSH", cpt: "84443", billToClient: !0 }, { id: "br_14", insurers: ["Meridian"], testName: "TSH QW", cpt: "84443-QW", billToClient: !0 }, { id: "br_15", insurers: ["BCBS", "Aetna", "Cigna", "Meridian"], testName: "T3 Total", cpt: "84481", billToClient: !0 }, { id: "br_16", insurers: ["BCBS", "Aetna", "Cigna", "Meridian"], testName: "T4 Free", cpt: "84439", billToClient: !0 }, { id: "br_17", insurers: ["BCBS", "Aetna", "Cigna", "Meridian"], testName: "FSH", cpt: "83001", billToClient: !0 }, { id: "br_18", insurers: ["BCBS", "Aetna", "Cigna", "Meridian"], testName: "PSA Total", cpt: "84153", billToClient: !0 }, { id: "br_19", insurers: ["BCBS", "Aetna", "Cigna", "Meridian"], testName: "GGT", cpt: "82977", billToClient: !0 }, { id: "br_20", insurers: ["BCBS", "Aetna", "Cigna", "Meridian"], testName: "Vitamin B12", cpt: "82607", billToClient: !0 }, { id: "br_21", insurers: ["BCBS", "Aetna", "Cigna", "Meridian"], testName: "Folate", cpt: "82746", billToClient: !0 }, { id: "br_22", insurers: ["BCBS", "Aetna", "Cigna", "Meridian"], testName: "Urine Culture", cpt: "87086", billToClient: !0 }, { id: "br_23", insurers: ["Meridian"], testName: "Sedimentation Rate", cpt: "85652", billToClient: !0 }, { id: "br_24", insurers: ["Meridian"], testName: "Vitamin D, 25-Hydroxy", cpt: "82306", billToClient: !0 }], tu = { BILLING_RULES: "ha_billing_rules", PETTY_CASH: "ha_petty_cash", LOGS: "ha_logs" }; function Wy(e, t) { try { const r = localStorage.getItem(e); return r ? JSON.parse(r) : t } catch (r) { return console.warn(`Failed to load ${e}`, r), t } } const K4 = A.createContext(void 0), Hz = ({ children: e }) => { const [t, r] = A.useState([]), [n, a] = A.useState([]), [i, s] = A.useState(() => Wy(tu.BILLING_RULES, zz)), [l, f] = A.useState(() => Wy(tu.PETTY_CASH, [])), [d, h] = A.useState(() => Wy(tu.LOGS, []).map(C => ({ ...C, timestamp: new Date(C.timestamp) }))), m = A.useRef(!1), g = A.useRef(!1), v = A.useRef(!0), y = A.useCallback(async () => { if (m.current || g.current) { console.log("[AppDataContext] Skipping fetch (fetching:", m.current, "loaded:", g.current, ")"); return } m.current = !0, console.log("[AppDataContext] === Starting data fetch ==="); try { try { const k = await Il.getReports(); v.current && (console.log("[AppDataContext]  Reports fetched successfully:", k.length), a(k)) } catch (k) { console.error("[AppDataContext]  Reports fetch failed:", k) } try { const k = await Dp.getTemplates(); v.current && k.length > 0 && (console.log("[AppDataContext]  Templates fetched:", k.length), r(k)) } catch (k) { console.error("[AppDataContext]  Templates fetch failed:", k) } g.current = !0, console.log("[AppDataContext] === Data fetch complete ===") } finally { m.current = !1 } }, []); A.useEffect(() => { v.current = !0, (async () => { console.log("[AppDataContext] Checking for existing session..."); const { data: { session: T } } = await Le.auth.getSession(); T && v.current ? (console.log("[AppDataContext]  Session found on init, caching token..."), Il.setAccessToken(T.access_token), await y()) : console.log("[AppDataContext] No session found on init") })(); const { data: { subscription: C } } = Le.auth.onAuthStateChange(async (T, j) => { console.log("[AppDataContext] Auth event:", T, "| hasSession:", !!j), T === "SIGNED_IN" && j && !g.current && (console.log("[AppDataContext] SIGNED_IN detected, caching token..."), Il.setAccessToken(j.access_token), v.current && await y()), T === "SIGNED_OUT" && (console.log("[AppDataContext] SIGNED_OUT  clearing data & token"), Il.clearAccessToken(), g.current = !1, m.current = !1, v.current && (a([]), r([]))) }); return () => { v.current = !1, C.unsubscribe() } }, [y]), A.useEffect(() => localStorage.setItem(tu.BILLING_RULES, JSON.stringify(i)), [i]), A.useEffect(() => localStorage.setItem(tu.PETTY_CASH, JSON.stringify(l)), [l]), A.useEffect(() => localStorage.setItem(tu.LOGS, JSON.stringify(d)), [d]); const _ = { templates: t, setTemplates: r, dailyReports: n, setDailyReports: a, billingRules: i, setBillingRules: s, pettyCashHistory: l, setPettyCashHistory: f, logs: d, setLogs: h, addLog: (k, C) => { const T = { id: Date.now().toString(), timestamp: new Date, action: k, details: C, user: "System" }; h(j => [T, ...j]) } }; return c.jsx(K4.Provider, { value: _, children: e }) }, Gz = () => { const e = A.useContext(K4); if (!e) throw new Error("useAppData must be used within AppDataProvider"); return e }, Mp = ({ className: e = "w-12 h-12", classNameText: t = "text-xl", showText: r = !0 }) => c.jsxs("div", { className: "flex items-center gap-3 select-none group cursor-default", children: [c.jsxs("div", { className: `relative ${e} transition-transform duration-500 ease-out group-hover:scale-110 group-hover:rotate-2 flex items-center justify-center`, children: [c.jsx("img", { src: "/logo.png", alt: "HealthAxis Logo", className: "w-full h-full object-contain filter drop-shadow-xl" }), c.jsx("div", { className: "absolute inset-x-0 bottom-0 top-0 bg-medical-500 blur-2xl opacity-20 rounded-full -z-10 group-hover:opacity-40 transition-opacity duration-500" })] }), r && c.jsx("div", { className: "flex flex-col justify-center", children: c.jsxs("span", { className: `font-black tracking-tighter leading-none text-slate-900 dark:text-white ${t}`, children: ["HEALTH", c.jsx("span", { className: "text-transparent bg-clip-text bg-gradient-to-r from-medical-500 to-blue-600", children: "AXIS" })] }) })] }), Vz = ({ children: e, currentRoute: t, onNavigate: r, isDarkMode: n, toggleTheme: a, t: i }) => {
  var k; const { user: s, hasPermission: l, signOut: f } = V4(), [d, h] = A.useState(!0), [m, g] = A.useState(!1); if (!s) return c.jsx(c.Fragment, { children: e }); const v = async () => { await f() }, y = C => { r(C), g(!1) }, b = [{ route: mt.DASHBOARD, icon: "fa-chart-pie", label: i("nav_dashboard"), perm: "dashboard.view" }, { route: mt.INVENTORY, icon: "fa-boxes-stacked", label: i("nav_inventory"), perm: "inventory.view" }, { route: mt.ORDERS, icon: "fa-cart-shopping", label: i("nav_orders"), perm: "orders.view" }, { route: mt.PRICELIST, icon: "fa-tags", label: i("nav_prices"), perm: "prices.view" }, { header: "Clinical" }, { route: mt.BILLING_WIZARD, icon: "fa-file-invoice-dollar", label: i("nav_billing"), perm: "billing.view" }, { route: mt.MEDICAL_CODES, icon: "fa-list-ol", label: "Medical Codes", perm: "codes.view" }, { route: mt.FORMS, icon: "fa-file-signature", label: "Forms", perm: "forms.generate" }, { route: mt.VOICE_MEMOS, icon: "fa-microphone-lines", label: i("nav_voice"), perm: "voice.dictate" }, { header: "Admin" }, { route: mt.ADMIN, icon: "fa-shield-halved", label: i("nav_admin"), perm: "admin.access" }, { route: mt.REPORTS, icon: "fa-clipboard-list", label: i("nav_reports"), perm: "reports.view" }, { route: mt.DAILY_HISTORY, icon: "fa-calendar-check", label: i("nav_daily"), perm: "reports.create" }, { route: mt.PETTY_CASH, icon: "fa-vault", label: "Petty Cash", perm: "finance.view" }, { route: mt.SETTINGS, icon: "fa-gear", label: i("nav_settings") }], _ = () => c.jsx("nav", {
    className: "flex-1 px-4 space-y-1.5 mt-2 custom-scrollbar overflow-y-auto pb-safe", children: b.map((C, T) => {
      if (C.header) return c.jsx("div", { className: "text-[10px] font-black text-slate-400 uppercase tracking-widest px-6 py-2 mt-4 mb-1 opacity-70", children: C.header }, T); if (C.perm && !l(C.perm)) return null; const j = t === C.route; return c.jsxs("button", {
        onClick: () => y(C.route), className: `group relative flex items-center gap-4 px-5 py-3.5 w-full rounded-2xl transition-all duration-300 active:scale-95 outline-none
                          ${j ? "bg-gradient-to-r from-medical-600/10 to-medical-500/5 text-medical-600 dark:text-medical-400 font-bold" : "text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-slate-200"}`, children: [c.jsx("div", { className: `w-10 h-10 rounded-xl flex items-center justify-center transition-all duration-300 ${j ? "bg-medical-500 text-white shadow-lg shadow-medical-500/30 scale-110" : "bg-transparent group-hover:bg-slate-200 dark:group-hover:bg-slate-700"}`, children: c.jsx("i", { className: `fa-solid ${C.icon} text-lg` }) }), c.jsx("span", { className: "text-sm font-bold tracking-wide", children: C.label }), j && c.jsx("div", { className: "absolute right-0 h-8 w-1 bg-medical-500 rounded-l-full shadow-[0_0_10px_rgba(20,184,166,0.5)]" })]
      }, T)
    })
  }); return c.jsxs("div", { className: "min-h-screen flex transition-colors duration-500 font-sans selection:bg-medical-500/20 selection:text-medical-600 overflow-hidden relative bg-medical-50 dark:bg-[#0a0f18]", children: [c.jsxs("div", { className: `fixed inset-0 z-50 md:hidden transition-opacity duration-300 ${m ? "opacity-100 pointer-events-auto" : "opacity-0 pointer-events-none"}`, children: [c.jsx("div", { className: "absolute inset-0 bg-slate-900/60 backdrop-blur-sm", onClick: () => g(!1) }), c.jsxs("div", { className: `absolute top-0 bottom-0 left-0 w-[85%] max-w-[320px] bg-white/90 dark:bg-slate-900/95 backdrop-blur-2xl shadow-2xl border-r border-white/20 dark:border-slate-800 transition-transform duration-300 ease-out flex flex-col pt-safe pb-safe ${m ? "translate-x-0" : "-translate-x-full"}`, children: [c.jsxs("div", { className: "p-6 pb-2 flex justify-between items-center", children: [c.jsx(Mp, { className: "w-8 h-8", classNameText: "text-xl" }), c.jsx("button", { onClick: () => g(!1), className: "w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-800 text-slate-500 flex items-center justify-center", children: c.jsx("i", { className: "fa-solid fa-chevron-left" }) })] }), c.jsxs("div", { className: "mx-6 my-4 p-4 rounded-2xl bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-800 dark:to-slate-800/50 flex items-center gap-3 shadow-inner", children: [c.jsx("div", { className: "w-10 h-10 rounded-full bg-medical-500 text-white flex items-center justify-center font-bold text-sm shadow-md", children: s.username.charAt(0).toUpperCase() }), c.jsxs("div", { className: "flex-1 overflow-hidden", children: [c.jsx("p", { className: "font-bold text-slate-900 dark:text-white truncate", children: s.username }), c.jsx("p", { className: "text-[10px] uppercase font-bold text-slate-500", children: (k = s.role) == null ? void 0 : k.replace("_", " ") })] }), c.jsx("button", { onClick: v, className: "text-red-500 hover:bg-red-100 p-2 rounded-lg transition-colors", children: c.jsx("i", { className: "fa-solid fa-right-from-bracket" }) })] }), c.jsx("div", { className: "h-px bg-slate-200 dark:bg-slate-800 mx-6 mb-2" }), c.jsx(_, {})] })] }), c.jsx("aside", { className: `hidden md:flex flex-col w-80 h-screen sticky top-0 z-40 transition-all duration-500 ${d ? "" : "-ml-80 opacity-0"}`, children: c.jsxs("div", { className: "h-[96%] m-4 rounded-[2.5rem] bg-white/70 dark:bg-slate-900/70 backdrop-blur-2xl border border-white/40 dark:border-slate-800/60 shadow-glass flex flex-col relative overflow-hidden ring-1 ring-white/50 dark:ring-white/5", children: [c.jsx("div", { className: "p-8 pb-4 flex items-center gap-3 z-10", children: c.jsx(Mp, { className: "w-10 h-10", classNameText: "text-2xl" }) }), c.jsx(_, {}), c.jsx("div", { className: "p-4 z-10", children: c.jsxs("div", { className: "p-4 rounded-[1.5rem] bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-800/50 border border-slate-200 dark:border-slate-700/50 shadow-sm relative overflow-hidden group", children: [c.jsxs("div", { className: "flex items-center gap-3 mb-3 relative z-10", children: [c.jsx("div", { className: "w-10 h-10 rounded-full bg-gradient-to-tr from-medical-500 to-teal-400 flex items-center justify-center text-white shadow-lg font-bold text-sm", children: s.username.charAt(0).toUpperCase() }), c.jsxs("div", { className: "overflow-hidden", children: [c.jsx("p", { className: "text-sm font-bold text-slate-800 dark:text-white truncate", children: s.username }), c.jsx("p", { className: "text-[10px] uppercase tracking-wider text-slate-500 font-bold", children: s.role })] })] }), c.jsxs("button", { onClick: v, className: "w-full flex items-center justify-center gap-2 py-2.5 text-xs font-bold text-red-500 hover:text-white hover:bg-red-500 rounded-xl transition-all relative z-10 active:scale-[0.99]", children: [c.jsx("i", { className: "fa-solid fa-right-from-bracket" }), " ", i("nav_signout")] })] }) })] }) }), c.jsxs("main", { className: "flex-1 flex flex-col h-screen overflow-hidden relative z-10", children: [c.jsxs("header", { className: "h-20 md:h-24 flex items-center justify-between px-6 md:px-12 sticky top-0 z-30 transition-all duration-300", children: [c.jsxs("div", { className: "flex items-center gap-4", children: [c.jsx("button", { onClick: () => g(!0), className: "md:hidden w-10 h-10 flex items-center justify-center text-slate-600 dark:text-slate-300 bg-white/50 dark:bg-slate-800/50 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 active:scale-90 transition-transform backdrop-blur-md", children: c.jsx("i", { className: "fa-solid fa-bars text-lg" }) }), c.jsx("button", { onClick: () => h(!d), className: "hidden md:flex w-10 h-10 items-center justify-center text-slate-500 hover:text-slate-900 dark:hover:text-white hover:bg-white/50 dark:hover:bg-slate-800/50 rounded-xl transition-all shadow-sm", children: c.jsx("i", { className: "fa-solid fa-bars-staggered text-lg" }) }), c.jsx("div", { className: "md:hidden", children: c.jsx(Mp, { className: "w-8 h-8", classNameText: "text-lg", showText: !0 }) })] }), c.jsxs("div", { className: "flex items-center gap-3 md:gap-6", children: [c.jsxs("div", { className: "hidden md:flex items-center gap-3 px-4 py-2 bg-white/40 dark:bg-slate-800/40 backdrop-blur-md rounded-full border border-white/40 dark:border-slate-700 shadow-sm hover:shadow-md transition-shadow cursor-default", children: [c.jsxs("span", { className: "relative flex h-2.5 w-2.5", children: [c.jsx("span", { className: "animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75" }), c.jsx("span", { className: "relative inline-flex rounded-full h-2.5 w-2.5 bg-emerald-500" })] }), c.jsx("span", { className: "text-xs font-bold text-slate-600 dark:text-slate-300 tracking-wide uppercase", children: i("system_online") })] }), c.jsx("button", { onClick: a, className: "w-10 h-10 md:w-12 md:h-12 rounded-full flex items-center justify-center text-slate-500 dark:text-slate-400 bg-white/40 dark:bg-slate-800/40 hover:bg-white dark:hover:bg-slate-700 backdrop-blur-md transition-all border border-white/40 dark:border-slate-700 shadow-sm hover:shadow-lg active:scale-90", children: c.jsx("i", { className: `fa-solid ${n ? "fa-sun text-amber-400" : "fa-moon"} text-lg` }) })] })] }), c.jsx("div", { className: "flex-1 overflow-y-auto px-4 md:px-8 lg:px-12 pb-28 md:pb-12 relative z-0 custom-scrollbar scroll-smooth pt-4", children: c.jsx("div", { className: "max-w-[1600px] mx-auto print:max-w-none animate-fade-in-up", children: e }, t) })] })] })
}; function Y4(e) { var t, r, n = ""; if (typeof e == "string" || typeof e == "number") n += e; else if (typeof e == "object") if (Array.isArray(e)) { var a = e.length; for (t = 0; t < a; t++)e[t] && (r = Y4(e[t])) && (n && (n += " "), n += r) } else for (r in e) e[r] && (n && (n += " "), n += r); return n } function At() { for (var e, t, r = 0, n = "", a = arguments.length; r < a; r++)(e = arguments[r]) && (t = Y4(e)) && (n && (n += " "), n += t); return n } var qz = ["dangerouslySetInnerHTML", "onCopy", "onCopyCapture", "onCut", "onCutCapture", "onPaste", "onPasteCapture", "onCompositionEnd", "onCompositionEndCapture", "onCompositionStart", "onCompositionStartCapture", "onCompositionUpdate", "onCompositionUpdateCapture", "onFocus", "onFocusCapture", "onBlur", "onBlurCapture", "onChange", "onChangeCapture", "onBeforeInput", "onBeforeInputCapture", "onInput", "onInputCapture", "onReset", "onResetCapture", "onSubmit", "onSubmitCapture", "onInvalid", "onInvalidCapture", "onLoad", "onLoadCapture", "onError", "onErrorCapture", "onKeyDown", "onKeyDownCapture", "onKeyPress", "onKeyPressCapture", "onKeyUp", "onKeyUpCapture", "onAbort", "onAbortCapture", "onCanPlay", "onCanPlayCapture", "onCanPlayThrough", "onCanPlayThroughCapture", "onDurationChange", "onDurationChangeCapture", "onEmptied", "onEmptiedCapture", "onEncrypted", "onEncryptedCapture", "onEnded", "onEndedCapture", "onLoadedData", "onLoadedDataCapture", "onLoadedMetadata", "onLoadedMetadataCapture", "onLoadStart", "onLoadStartCapture", "onPause", "onPauseCapture", "onPlay", "onPlayCapture", "onPlaying", "onPlayingCapture", "onProgress", "onProgressCapture", "onRateChange", "onRateChangeCapture", "onSeeked", "onSeekedCapture", "onSeeking", "onSeekingCapture", "onStalled", "onStalledCapture", "onSuspend", "onSuspendCapture", "onTimeUpdate", "onTimeUpdateCapture", "onVolumeChange", "onVolumeChangeCapture", "onWaiting", "onWaitingCapture", "onAuxClick", "onAuxClickCapture", "onClick", "onClickCapture", "onContextMenu", "onContextMenuCapture", "onDoubleClick", "onDoubleClickCapture", "onDrag", "onDragCapture", "onDragEnd", "onDragEndCapture", "onDragEnter", "onDragEnterCapture", "onDragExit", "onDragExitCapture", "onDragLeave", "onDragLeaveCapture", "onDragOver", "onDragOverCapture", "onDragStart", "onDragStartCapture", "onDrop", "onDropCapture", "onMouseDown", "onMouseDownCapture", "onMouseEnter", "onMouseLeave", "onMouseMove", "onMouseMoveCapture", "onMouseOut", "onMouseOutCapture", "onMouseOver", "onMouseOverCapture", "onMouseUp", "onMouseUpCapture", "onSelect", "onSelectCapture", "onTouchCancel", "onTouchCancelCapture", "onTouchEnd", "onTouchEndCapture", "onTouchMove", "onTouchMoveCapture", "onTouchStart", "onTouchStartCapture", "onPointerDown", "onPointerDownCapture", "onPointerMove", "onPointerMoveCapture", "onPointerUp", "onPointerUpCapture", "onPointerCancel", "onPointerCancelCapture", "onPointerEnter", "onPointerEnterCapture", "onPointerLeave", "onPointerLeaveCapture", "onPointerOver", "onPointerOverCapture", "onPointerOut", "onPointerOutCapture", "onGotPointerCapture", "onGotPointerCaptureCapture", "onLostPointerCapture", "onLostPointerCaptureCapture", "onScroll", "onScrollCapture", "onWheel", "onWheelCapture", "onAnimationStart", "onAnimationStartCapture", "onAnimationEnd", "onAnimationEndCapture", "onAnimationIteration", "onAnimationIterationCapture", "onTransitionEnd", "onTransitionEndCapture"]; function P_(e) { if (typeof e != "string") return !1; var t = qz; return t.includes(e) } var Wz = ["aria-activedescendant", "aria-atomic", "aria-autocomplete", "aria-busy", "aria-checked", "aria-colcount", "aria-colindex", "aria-colspan", "aria-controls", "aria-current", "aria-describedby", "aria-details", "aria-disabled", "aria-errormessage", "aria-expanded", "aria-flowto", "aria-haspopup", "aria-hidden", "aria-invalid", "aria-keyshortcuts", "aria-label", "aria-labelledby", "aria-level", "aria-live", "aria-modal", "aria-multiline", "aria-multiselectable", "aria-orientation", "aria-owns", "aria-placeholder", "aria-posinset", "aria-pressed", "aria-readonly", "aria-relevant", "aria-required", "aria-roledescription", "aria-rowcount", "aria-rowindex", "aria-rowspan", "aria-selected", "aria-setsize", "aria-sort", "aria-valuemax", "aria-valuemin", "aria-valuenow", "aria-valuetext", "className", "color", "height", "id", "lang", "max", "media", "method", "min", "name", "style", "target", "width", "role", "tabIndex", "accentHeight", "accumulate", "additive", "alignmentBaseline", "allowReorder", "alphabetic", "amplitude", "arabicForm", "ascent", "attributeName", "attributeType", "autoReverse", "azimuth", "baseFrequency", "baselineShift", "baseProfile", "bbox", "begin", "bias", "by", "calcMode", "capHeight", "clip", "clipPath", "clipPathUnits", "clipRule", "colorInterpolation", "colorInterpolationFilters", "colorProfile", "colorRendering", "contentScriptType", "contentStyleType", "cursor", "cx", "cy", "d", "decelerate", "descent", "diffuseConstant", "direction", "display", "divisor", "dominantBaseline", "dur", "dx", "dy", "edgeMode", "elevation", "enableBackground", "end", "exponent", "externalResourcesRequired", "fill", "fillOpacity", "fillRule", "filter", "filterRes", "filterUnits", "floodColor", "floodOpacity", "focusable", "fontFamily", "fontSize", "fontSizeAdjust", "fontStretch", "fontStyle", "fontVariant", "fontWeight", "format", "from", "fx", "fy", "g1", "g2", "glyphName", "glyphOrientationHorizontal", "glyphOrientationVertical", "glyphRef", "gradientTransform", "gradientUnits", "hanging", "horizAdvX", "horizOriginX", "href", "ideographic", "imageRendering", "in2", "in", "intercept", "k1", "k2", "k3", "k4", "k", "kernelMatrix", "kernelUnitLength", "kerning", "keyPoints", "keySplines", "keyTimes", "lengthAdjust", "letterSpacing", "lightingColor", "limitingConeAngle", "local", "markerEnd", "markerHeight", "markerMid", "markerStart", "markerUnits", "markerWidth", "mask", "maskContentUnits", "maskUnits", "mathematical", "mode", "numOctaves", "offset", "opacity", "operator", "order", "orient", "orientation", "origin", "overflow", "overlinePosition", "overlineThickness", "paintOrder", "panose1", "pathLength", "patternContentUnits", "patternTransform", "patternUnits", "pointerEvents", "pointsAtX", "pointsAtY", "pointsAtZ", "preserveAlpha", "preserveAspectRatio", "primitiveUnits", "r", "radius", "refX", "refY", "renderingIntent", "repeatCount", "repeatDur", "requiredExtensions", "requiredFeatures", "restart", "result", "rotate", "rx", "ry", "seed", "shapeRendering", "slope", "spacing", "specularConstant", "specularExponent", "speed", "spreadMethod", "startOffset", "stdDeviation", "stemh", "stemv", "stitchTiles", "stopColor", "stopOpacity", "strikethroughPosition", "strikethroughThickness", "string", "stroke", "strokeDasharray", "strokeDashoffset", "strokeLinecap", "strokeLinejoin", "strokeMiterlimit", "strokeOpacity", "strokeWidth", "surfaceScale", "systemLanguage", "tableValues", "targetX", "targetY", "textAnchor", "textDecoration", "textLength", "textRendering", "to", "transform", "u1", "u2", "underlinePosition", "underlineThickness", "unicode", "unicodeBidi", "unicodeRange", "unitsPerEm", "vAlphabetic", "values", "vectorEffect", "version", "vertAdvY", "vertOriginX", "vertOriginY", "vHanging", "vIdeographic", "viewTarget", "visibility", "vMathematical", "widths", "wordSpacing", "writingMode", "x1", "x2", "x", "xChannelSelector", "xHeight", "xlinkActuate", "xlinkArcrole", "xlinkHref", "xlinkRole", "xlinkShow", "xlinkTitle", "xlinkType", "xmlBase", "xmlLang", "xmlns", "xmlnsXlink", "xmlSpace", "y1", "y2", "y", "yChannelSelector", "z", "zoomAndPan", "ref", "key", "angle"], Kz = new Set(Wz); function X4(e) { return typeof e != "string" ? !1 : Kz.has(e) } function J4(e) { return typeof e == "string" && e.startsWith("data-") } function Xn(e) { if (typeof e != "object" || e === null) return {}; var t = {}; for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && (X4(r) || J4(r)) && (t[r] = e[r]); return t } function Vl(e) { if (e == null) return null; if (A.isValidElement(e) && typeof e.props == "object" && e.props !== null) { var t = e.props; return Xn(t) } return typeof e == "object" && !Array.isArray(e) ? Xn(e) : null } function Fn(e) { var t = {}; for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && (X4(r) || J4(r) || P_(r)) && (t[r] = e[r]); return t } function Yz(e) { return e == null ? null : A.isValidElement(e) ? Fn(e.props) : typeof e == "object" && !Array.isArray(e) ? Fn(e) : null } var Xz = ["children", "width", "height", "viewBox", "className", "style", "title", "desc"]; function nw() { return nw = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, nw.apply(null, arguments) } function Jz(e, t) { if (e == null) return {}; var r, n, a = Zz(e, t); if (Object.getOwnPropertySymbols) { var i = Object.getOwnPropertySymbols(e); for (n = 0; n < i.length; n++)r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (a[r] = e[r]) } return a } function Zz(e, t) { if (e == null) return {}; var r = {}; for (var n in e) if ({}.hasOwnProperty.call(e, n)) { if (t.indexOf(n) !== -1) continue; r[n] = e[n] } return r } var D_ = A.forwardRef((e, t) => { var { children: r, width: n, height: a, viewBox: i, className: s, style: l, title: f, desc: d } = e, h = Jz(e, Xz), m = i || { width: n, height: a, x: 0, y: 0 }, g = At("recharts-surface", s); return A.createElement("svg", nw({}, Fn(h), { className: g, width: n, height: a, style: l, viewBox: "".concat(m.x, " ").concat(m.y, " ").concat(m.width, " ").concat(m.height), ref: t }), A.createElement("title", null, f), A.createElement("desc", null, d), r) }), Qz = ["children", "className"]; function aw() { return aw = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, aw.apply(null, arguments) } function eH(e, t) { if (e == null) return {}; var r, n, a = tH(e, t); if (Object.getOwnPropertySymbols) { var i = Object.getOwnPropertySymbols(e); for (n = 0; n < i.length; n++)r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (a[r] = e[r]) } return a } function tH(e, t) { if (e == null) return {}; var r = {}; for (var n in e) if ({}.hasOwnProperty.call(e, n)) { if (t.indexOf(n) !== -1) continue; r[n] = e[n] } return r } var Sr = A.forwardRef((e, t) => { var { children: r, className: n } = e, a = eH(e, Qz), i = At("recharts-layer", n); return A.createElement("g", aw({ className: i }, Fn(a), { ref: t }), r) }), $u = A4(), Z4 = A.createContext(null), rH = () => A.useContext(Z4); function er(e) { return function () { return e } } const Q4 = Math.cos, Zp = Math.sin, Si = Math.sqrt, Qp = Math.PI, vg = 2 * Qp, iw = Math.PI, sw = 2 * iw, wl = 1e-6, nH = sw - wl; function eM(e) { this._ += e[0]; for (let t = 1, r = e.length; t < r; ++t)this._ += arguments[t] + e[t] } function aH(e) { let t = Math.floor(e); if (!(t >= 0)) throw new Error(`invalid digits: ${e}`); if (t > 15) return eM; const r = 10 ** t; return function (n) { this._ += n[0]; for (let a = 1, i = n.length; a < i; ++a)this._ += Math.round(arguments[a] * r) / r + n[a] } } class iH { constructor(t) { this._x0 = this._y0 = this._x1 = this._y1 = null, this._ = "", this._append = t == null ? eM : aH(t) } moveTo(t, r) { this._append`M${this._x0 = this._x1 = +t},${this._y0 = this._y1 = +r}` } closePath() { this._x1 !== null && (this._x1 = this._x0, this._y1 = this._y0, this._append`Z`) } lineTo(t, r) { this._append`L${this._x1 = +t},${this._y1 = +r}` } quadraticCurveTo(t, r, n, a) { this._append`Q${+t},${+r},${this._x1 = +n},${this._y1 = +a}` } bezierCurveTo(t, r, n, a, i, s) { this._append`C${+t},${+r},${+n},${+a},${this._x1 = +i},${this._y1 = +s}` } arcTo(t, r, n, a, i) { if (t = +t, r = +r, n = +n, a = +a, i = +i, i < 0) throw new Error(`negative radius: ${i}`); let s = this._x1, l = this._y1, f = n - t, d = a - r, h = s - t, m = l - r, g = h * h + m * m; if (this._x1 === null) this._append`M${this._x1 = t},${this._y1 = r}`; else if (g > wl) if (!(Math.abs(m * f - d * h) > wl) || !i) this._append`L${this._x1 = t},${this._y1 = r}`; else { let v = n - s, y = a - l, b = f * f + d * d, _ = v * v + y * y, k = Math.sqrt(b), C = Math.sqrt(g), T = i * Math.tan((iw - Math.acos((b + g - _) / (2 * k * C))) / 2), j = T / C, R = T / k; Math.abs(j - 1) > wl && this._append`L${t + j * h},${r + j * m}`, this._append`A${i},${i},0,0,${+(m * v > h * y)},${this._x1 = t + R * f},${this._y1 = r + R * d}` } } arc(t, r, n, a, i, s) { if (t = +t, r = +r, n = +n, s = !!s, n < 0) throw new Error(`negative radius: ${n}`); let l = n * Math.cos(a), f = n * Math.sin(a), d = t + l, h = r + f, m = 1 ^ s, g = s ? a - i : i - a; this._x1 === null ? this._append`M${d},${h}` : (Math.abs(this._x1 - d) > wl || Math.abs(this._y1 - h) > wl) && this._append`L${d},${h}`, n && (g < 0 && (g = g % sw + sw), g > nH ? this._append`A${n},${n},0,1,${m},${t - l},${r - f}A${n},${n},0,1,${m},${this._x1 = d},${this._y1 = h}` : g > wl && this._append`A${n},${n},0,${+(g >= iw)},${m},${this._x1 = t + n * Math.cos(i)},${this._y1 = r + n * Math.sin(i)}`) } rect(t, r, n, a) { this._append`M${this._x0 = this._x1 = +t},${this._y0 = this._y1 = +r}h${n = +n}v${+a}h${-n}Z` } toString() { return this._ } } function M_(e) { let t = 3; return e.digits = function (r) { if (!arguments.length) return t; if (r == null) t = null; else { const n = Math.floor(r); if (!(n >= 0)) throw new RangeError(`invalid digits: ${r}`); t = n } return e }, () => new iH(t) } function L_(e) { return typeof e == "object" && "length" in e ? e : Array.from(e) } function tM(e) { this._context = e } tM.prototype = { areaStart: function () { this._line = 0 }, areaEnd: function () { this._line = NaN }, lineStart: function () { this._point = 0 }, lineEnd: function () { (this._line || this._line !== 0 && this._point === 1) && this._context.closePath(), this._line = 1 - this._line }, point: function (e, t) { switch (e = +e, t = +t, this._point) { case 0: this._point = 1, this._line ? this._context.lineTo(e, t) : this._context.moveTo(e, t); break; case 1: this._point = 2; default: this._context.lineTo(e, t); break } } }; function yg(e) { return new tM(e) } function rM(e) { return e[0] } function nM(e) { return e[1] } function aM(e, t) { var r = er(!0), n = null, a = yg, i = null, s = M_(l); e = typeof e == "function" ? e : e === void 0 ? rM : er(e), t = typeof t == "function" ? t : t === void 0 ? nM : er(t); function l(f) { var d, h = (f = L_(f)).length, m, g = !1, v; for (n == null && (i = a(v = s())), d = 0; d <= h; ++d)!(d < h && r(m = f[d], d, f)) === g && ((g = !g) ? i.lineStart() : i.lineEnd()), g && i.point(+e(m, d, f), +t(m, d, f)); if (v) return i = null, v + "" || null } return l.x = function (f) { return arguments.length ? (e = typeof f == "function" ? f : er(+f), l) : e }, l.y = function (f) { return arguments.length ? (t = typeof f == "function" ? f : er(+f), l) : t }, l.defined = function (f) { return arguments.length ? (r = typeof f == "function" ? f : er(!!f), l) : r }, l.curve = function (f) { return arguments.length ? (a = f, n != null && (i = a(n)), l) : a }, l.context = function (f) { return arguments.length ? (f == null ? n = i = null : i = a(n = f), l) : n }, l } function np(e, t, r) { var n = null, a = er(!0), i = null, s = yg, l = null, f = M_(d); e = typeof e == "function" ? e : e === void 0 ? rM : er(+e), t = typeof t == "function" ? t : er(t === void 0 ? 0 : +t), r = typeof r == "function" ? r : r === void 0 ? nM : er(+r); function d(m) { var g, v, y, b = (m = L_(m)).length, _, k = !1, C, T = new Array(b), j = new Array(b); for (i == null && (l = s(C = f())), g = 0; g <= b; ++g) { if (!(g < b && a(_ = m[g], g, m)) === k) if (k = !k) v = g, l.areaStart(), l.lineStart(); else { for (l.lineEnd(), l.lineStart(), y = g - 1; y >= v; --y)l.point(T[y], j[y]); l.lineEnd(), l.areaEnd() } k && (T[g] = +e(_, g, m), j[g] = +t(_, g, m), l.point(n ? +n(_, g, m) : T[g], r ? +r(_, g, m) : j[g])) } if (C) return l = null, C + "" || null } function h() { return aM().defined(a).curve(s).context(i) } return d.x = function (m) { return arguments.length ? (e = typeof m == "function" ? m : er(+m), n = null, d) : e }, d.x0 = function (m) { return arguments.length ? (e = typeof m == "function" ? m : er(+m), d) : e }, d.x1 = function (m) { return arguments.length ? (n = m == null ? null : typeof m == "function" ? m : er(+m), d) : n }, d.y = function (m) { return arguments.length ? (t = typeof m == "function" ? m : er(+m), r = null, d) : t }, d.y0 = function (m) { return arguments.length ? (t = typeof m == "function" ? m : er(+m), d) : t }, d.y1 = function (m) { return arguments.length ? (r = m == null ? null : typeof m == "function" ? m : er(+m), d) : r }, d.lineX0 = d.lineY0 = function () { return h().x(e).y(t) }, d.lineY1 = function () { return h().x(e).y(r) }, d.lineX1 = function () { return h().x(n).y(t) }, d.defined = function (m) { return arguments.length ? (a = typeof m == "function" ? m : er(!!m), d) : a }, d.curve = function (m) { return arguments.length ? (s = m, i != null && (l = s(i)), d) : s }, d.context = function (m) { return arguments.length ? (m == null ? i = l = null : l = s(i = m), d) : i }, d } class iM { constructor(t, r) { this._context = t, this._x = r } areaStart() { this._line = 0 } areaEnd() { this._line = NaN } lineStart() { this._point = 0 } lineEnd() { (this._line || this._line !== 0 && this._point === 1) && this._context.closePath(), this._line = 1 - this._line } point(t, r) { switch (t = +t, r = +r, this._point) { case 0: { this._point = 1, this._line ? this._context.lineTo(t, r) : this._context.moveTo(t, r); break } case 1: this._point = 2; default: { this._x ? this._context.bezierCurveTo(this._x0 = (this._x0 + t) / 2, this._y0, this._x0, r, t, r) : this._context.bezierCurveTo(this._x0, this._y0 = (this._y0 + r) / 2, t, this._y0, t, r); break } }this._x0 = t, this._y0 = r } } function sH(e) { return new iM(e, !0) } function oH(e) { return new iM(e, !1) } const F_ = { draw(e, t) { const r = Si(t / Qp); e.moveTo(r, 0), e.arc(0, 0, r, 0, vg) } }, lH = { draw(e, t) { const r = Si(t / 5) / 2; e.moveTo(-3 * r, -r), e.lineTo(-r, -r), e.lineTo(-r, -3 * r), e.lineTo(r, -3 * r), e.lineTo(r, -r), e.lineTo(3 * r, -r), e.lineTo(3 * r, r), e.lineTo(r, r), e.lineTo(r, 3 * r), e.lineTo(-r, 3 * r), e.lineTo(-r, r), e.lineTo(-3 * r, r), e.closePath() } }, sM = Si(1 / 3), cH = sM * 2, uH = { draw(e, t) { const r = Si(t / cH), n = r * sM; e.moveTo(0, -r), e.lineTo(n, 0), e.lineTo(0, r), e.lineTo(-n, 0), e.closePath() } }, dH = { draw(e, t) { const r = Si(t), n = -r / 2; e.rect(n, n, r, r) } }, fH = .8908130915292852, oM = Zp(Qp / 10) / Zp(7 * Qp / 10), hH = Zp(vg / 10) * oM, pH = -Q4(vg / 10) * oM, mH = { draw(e, t) { const r = Si(t * fH), n = hH * r, a = pH * r; e.moveTo(0, -r), e.lineTo(n, a); for (let i = 1; i < 5; ++i) { const s = vg * i / 5, l = Q4(s), f = Zp(s); e.lineTo(f * r, -l * r), e.lineTo(l * n - f * a, f * n + l * a) } e.closePath() } }, Ky = Si(3), gH = { draw(e, t) { const r = -Si(t / (Ky * 3)); e.moveTo(0, r * 2), e.lineTo(-Ky * r, -r), e.lineTo(Ky * r, -r), e.closePath() } }, Ua = -.5, Ba = Si(3) / 2, ow = 1 / Si(12), xH = (ow / 2 + 1) * 3, vH = { draw(e, t) { const r = Si(t / xH), n = r / 2, a = r * ow, i = n, s = r * ow + r, l = -i, f = s; e.moveTo(n, a), e.lineTo(i, s), e.lineTo(l, f), e.lineTo(Ua * n - Ba * a, Ba * n + Ua * a), e.lineTo(Ua * i - Ba * s, Ba * i + Ua * s), e.lineTo(Ua * l - Ba * f, Ba * l + Ua * f), e.lineTo(Ua * n + Ba * a, Ua * a - Ba * n), e.lineTo(Ua * i + Ba * s, Ua * s - Ba * i), e.lineTo(Ua * l + Ba * f, Ua * f - Ba * l), e.closePath() } }; function yH(e, t) { let r = null, n = M_(a); e = typeof e == "function" ? e : er(e || F_), t = typeof t == "function" ? t : er(t === void 0 ? 64 : +t); function a() { let i; if (r || (r = i = n()), e.apply(this, arguments).draw(r, +t.apply(this, arguments)), i) return r = null, i + "" || null } return a.type = function (i) { return arguments.length ? (e = typeof i == "function" ? i : er(i), a) : e }, a.size = function (i) { return arguments.length ? (t = typeof i == "function" ? i : er(+i), a) : t }, a.context = function (i) { return arguments.length ? (r = i ?? null, a) : r }, a } function em() { } function tm(e, t, r) { e._context.bezierCurveTo((2 * e._x0 + e._x1) / 3, (2 * e._y0 + e._y1) / 3, (e._x0 + 2 * e._x1) / 3, (e._y0 + 2 * e._y1) / 3, (e._x0 + 4 * e._x1 + t) / 6, (e._y0 + 4 * e._y1 + r) / 6) } function lM(e) { this._context = e } lM.prototype = { areaStart: function () { this._line = 0 }, areaEnd: function () { this._line = NaN }, lineStart: function () { this._x0 = this._x1 = this._y0 = this._y1 = NaN, this._point = 0 }, lineEnd: function () { switch (this._point) { case 3: tm(this, this._x1, this._y1); case 2: this._context.lineTo(this._x1, this._y1); break }(this._line || this._line !== 0 && this._point === 1) && this._context.closePath(), this._line = 1 - this._line }, point: function (e, t) { switch (e = +e, t = +t, this._point) { case 0: this._point = 1, this._line ? this._context.lineTo(e, t) : this._context.moveTo(e, t); break; case 1: this._point = 2; break; case 2: this._point = 3, this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); default: tm(this, e, t); break }this._x0 = this._x1, this._x1 = e, this._y0 = this._y1, this._y1 = t } }; function bH(e) { return new lM(e) } function cM(e) { this._context = e } cM.prototype = { areaStart: em, areaEnd: em, lineStart: function () { this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN, this._point = 0 }, lineEnd: function () { switch (this._point) { case 1: { this._context.moveTo(this._x2, this._y2), this._context.closePath(); break } case 2: { this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3), this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3), this._context.closePath(); break } case 3: { this.point(this._x2, this._y2), this.point(this._x3, this._y3), this.point(this._x4, this._y4); break } } }, point: function (e, t) { switch (e = +e, t = +t, this._point) { case 0: this._point = 1, this._x2 = e, this._y2 = t; break; case 1: this._point = 2, this._x3 = e, this._y3 = t; break; case 2: this._point = 3, this._x4 = e, this._y4 = t, this._context.moveTo((this._x0 + 4 * this._x1 + e) / 6, (this._y0 + 4 * this._y1 + t) / 6); break; default: tm(this, e, t); break }this._x0 = this._x1, this._x1 = e, this._y0 = this._y1, this._y1 = t } }; function wH(e) { return new cM(e) } function uM(e) { this._context = e } uM.prototype = { areaStart: function () { this._line = 0 }, areaEnd: function () { this._line = NaN }, lineStart: function () { this._x0 = this._x1 = this._y0 = this._y1 = NaN, this._point = 0 }, lineEnd: function () { (this._line || this._line !== 0 && this._point === 3) && this._context.closePath(), this._line = 1 - this._line }, point: function (e, t) { switch (e = +e, t = +t, this._point) { case 0: this._point = 1; break; case 1: this._point = 2; break; case 2: this._point = 3; var r = (this._x0 + 4 * this._x1 + e) / 6, n = (this._y0 + 4 * this._y1 + t) / 6; this._line ? this._context.lineTo(r, n) : this._context.moveTo(r, n); break; case 3: this._point = 4; default: tm(this, e, t); break }this._x0 = this._x1, this._x1 = e, this._y0 = this._y1, this._y1 = t } }; function _H(e) { return new uM(e) } function dM(e) { this._context = e } dM.prototype = { areaStart: em, areaEnd: em, lineStart: function () { this._point = 0 }, lineEnd: function () { this._point && this._context.closePath() }, point: function (e, t) { e = +e, t = +t, this._point ? this._context.lineTo(e, t) : (this._point = 1, this._context.moveTo(e, t)) } }; function SH(e) { return new dM(e) } function UA(e) { return e < 0 ? -1 : 1 } function BA(e, t, r) { var n = e._x1 - e._x0, a = t - e._x1, i = (e._y1 - e._y0) / (n || a < 0 && -0), s = (r - e._y1) / (a || n < 0 && -0), l = (i * a + s * n) / (n + a); return (UA(i) + UA(s)) * Math.min(Math.abs(i), Math.abs(s), .5 * Math.abs(l)) || 0 } function $A(e, t) { var r = e._x1 - e._x0; return r ? (3 * (e._y1 - e._y0) / r - t) / 2 : t } function Yy(e, t, r) { var n = e._x0, a = e._y0, i = e._x1, s = e._y1, l = (i - n) / 3; e._context.bezierCurveTo(n + l, a + l * t, i - l, s - l * r, i, s) } function rm(e) { this._context = e } rm.prototype = { areaStart: function () { this._line = 0 }, areaEnd: function () { this._line = NaN }, lineStart: function () { this._x0 = this._x1 = this._y0 = this._y1 = this._t0 = NaN, this._point = 0 }, lineEnd: function () { switch (this._point) { case 2: this._context.lineTo(this._x1, this._y1); break; case 3: Yy(this, this._t0, $A(this, this._t0)); break }(this._line || this._line !== 0 && this._point === 1) && this._context.closePath(), this._line = 1 - this._line }, point: function (e, t) { var r = NaN; if (e = +e, t = +t, !(e === this._x1 && t === this._y1)) { switch (this._point) { case 0: this._point = 1, this._line ? this._context.lineTo(e, t) : this._context.moveTo(e, t); break; case 1: this._point = 2; break; case 2: this._point = 3, Yy(this, $A(this, r = BA(this, e, t)), r); break; default: Yy(this, this._t0, r = BA(this, e, t)); break }this._x0 = this._x1, this._x1 = e, this._y0 = this._y1, this._y1 = t, this._t0 = r } } }; function fM(e) { this._context = new hM(e) } (fM.prototype = Object.create(rm.prototype)).point = function (e, t) { rm.prototype.point.call(this, t, e) }; function hM(e) { this._context = e } hM.prototype = { moveTo: function (e, t) { this._context.moveTo(t, e) }, closePath: function () { this._context.closePath() }, lineTo: function (e, t) { this._context.lineTo(t, e) }, bezierCurveTo: function (e, t, r, n, a, i) { this._context.bezierCurveTo(t, e, n, r, i, a) } }; function EH(e) { return new rm(e) } function kH(e) { return new fM(e) } function pM(e) { this._context = e } pM.prototype = { areaStart: function () { this._line = 0 }, areaEnd: function () { this._line = NaN }, lineStart: function () { this._x = [], this._y = [] }, lineEnd: function () { var e = this._x, t = this._y, r = e.length; if (r) if (this._line ? this._context.lineTo(e[0], t[0]) : this._context.moveTo(e[0], t[0]), r === 2) this._context.lineTo(e[1], t[1]); else for (var n = zA(e), a = zA(t), i = 0, s = 1; s < r; ++i, ++s)this._context.bezierCurveTo(n[0][i], a[0][i], n[1][i], a[1][i], e[s], t[s]); (this._line || this._line !== 0 && r === 1) && this._context.closePath(), this._line = 1 - this._line, this._x = this._y = null }, point: function (e, t) { this._x.push(+e), this._y.push(+t) } }; function zA(e) { var t, r = e.length - 1, n, a = new Array(r), i = new Array(r), s = new Array(r); for (a[0] = 0, i[0] = 2, s[0] = e[0] + 2 * e[1], t = 1; t < r - 1; ++t)a[t] = 1, i[t] = 4, s[t] = 4 * e[t] + 2 * e[t + 1]; for (a[r - 1] = 2, i[r - 1] = 7, s[r - 1] = 8 * e[r - 1] + e[r], t = 1; t < r; ++t)n = a[t] / i[t - 1], i[t] -= n, s[t] -= n * s[t - 1]; for (a[r - 1] = s[r - 1] / i[r - 1], t = r - 2; t >= 0; --t)a[t] = (s[t] - a[t + 1]) / i[t]; for (i[r - 1] = (e[r] + a[r - 1]) / 2, t = 0; t < r - 1; ++t)i[t] = 2 * e[t + 1] - a[t + 1]; return [a, i] } function TH(e) { return new pM(e) } function bg(e, t) { this._context = e, this._t = t } bg.prototype = { areaStart: function () { this._line = 0 }, areaEnd: function () { this._line = NaN }, lineStart: function () { this._x = this._y = NaN, this._point = 0 }, lineEnd: function () { 0 < this._t && this._t < 1 && this._point === 2 && this._context.lineTo(this._x, this._y), (this._line || this._line !== 0 && this._point === 1) && this._context.closePath(), this._line >= 0 && (this._t = 1 - this._t, this._line = 1 - this._line) }, point: function (e, t) { switch (e = +e, t = +t, this._point) { case 0: this._point = 1, this._line ? this._context.lineTo(e, t) : this._context.moveTo(e, t); break; case 1: this._point = 2; default: { if (this._t <= 0) this._context.lineTo(this._x, t), this._context.lineTo(e, t); else { var r = this._x * (1 - this._t) + e * this._t; this._context.lineTo(r, this._y), this._context.lineTo(r, t) } break } }this._x = e, this._y = t } }; function NH(e) { return new bg(e, .5) } function AH(e) { return new bg(e, 0) } function CH(e) { return new bg(e, 1) } function ql(e, t) { if ((s = e.length) > 1) for (var r = 1, n, a, i = e[t[0]], s, l = i.length; r < s; ++r)for (a = i, i = e[t[r]], n = 0; n < l; ++n)i[n][1] += i[n][0] = isNaN(a[n][1]) ? a[n][0] : a[n][1] } function lw(e) { for (var t = e.length, r = new Array(t); --t >= 0;)r[t] = t; return r } function jH(e, t) { return e[t] } function IH(e) { const t = []; return t.key = e, t } function OH() { var e = er([]), t = lw, r = ql, n = jH; function a(i) { var s = Array.from(e.apply(this, arguments), IH), l, f = s.length, d = -1, h; for (const m of i) for (l = 0, ++d; l < f; ++l)(s[l][d] = [0, +n(m, s[l].key, d, i)]).data = m; for (l = 0, h = L_(t(s)); l < f; ++l)s[h[l]].index = l; return r(s, h), s } return a.keys = function (i) { return arguments.length ? (e = typeof i == "function" ? i : er(Array.from(i)), a) : e }, a.value = function (i) { return arguments.length ? (n = typeof i == "function" ? i : er(+i), a) : n }, a.order = function (i) { return arguments.length ? (t = i == null ? lw : typeof i == "function" ? i : er(Array.from(i)), a) : t }, a.offset = function (i) { return arguments.length ? (r = i ?? ql, a) : r }, a } function RH(e, t) { if ((n = e.length) > 0) { for (var r, n, a = 0, i = e[0].length, s; a < i; ++a) { for (s = r = 0; r < n; ++r)s += e[r][a][1] || 0; if (s) for (r = 0; r < n; ++r)e[r][a][1] /= s } ql(e, t) } } function PH(e, t) { if ((a = e.length) > 0) { for (var r = 0, n = e[t[0]], a, i = n.length; r < i; ++r) { for (var s = 0, l = 0; s < a; ++s)l += e[s][r][1] || 0; n[r][1] += n[r][0] = -l / 2 } ql(e, t) } } function DH(e, t) { if (!(!((s = e.length) > 0) || !((i = (a = e[t[0]]).length) > 0))) { for (var r = 0, n = 1, a, i, s; n < i; ++n) { for (var l = 0, f = 0, d = 0; l < s; ++l) { for (var h = e[t[l]], m = h[n][1] || 0, g = h[n - 1][1] || 0, v = (m - g) / 2, y = 0; y < l; ++y) { var b = e[t[y]], _ = b[n][1] || 0, k = b[n - 1][1] || 0; v += _ - k } f += m, d += v * m } a[n - 1][1] += a[n - 1][0] = r, f && (r -= d / f) } a[n - 1][1] += a[n - 1][0] = r, ql(e, t) } } var Xy = {}, Jy = {}, HA; function MH() { return HA || (HA = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); function t(r) { return r === "__proto__" } e.isUnsafeProperty = t })(Jy)), Jy } var Zy = {}, GA; function mM() { return GA || (GA = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); function t(r) { switch (typeof r) { case "number": case "symbol": return !1; case "string": return r.includes(".") || r.includes("[") || r.includes("]") } } e.isDeepKey = t })(Zy)), Zy } var Qy = {}, VA; function U_() { return VA || (VA = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); function t(r) { var n; return typeof r == "string" || typeof r == "symbol" ? r : Object.is((n = r == null ? void 0 : r.valueOf) == null ? void 0 : n.call(r), -0) ? "-0" : String(r) } e.toKey = t })(Qy)), Qy } var eb = {}, tb = {}, qA; function LH() { return qA || (qA = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); function t(r) { if (r == null) return ""; if (typeof r == "string") return r; if (Array.isArray(r)) return r.map(t).join(","); const n = String(r); return n === "0" && Object.is(Number(r), -0) ? "-0" : n } e.toString = t })(tb)), tb } var WA; function B_() { return WA || (WA = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); const t = LH(), r = U_(); function n(a) { if (Array.isArray(a)) return a.map(r.toKey); if (typeof a == "symbol") return [a]; a = t.toString(a); const i = [], s = a.length; if (s === 0) return i; let l = 0, f = "", d = "", h = !1; for (a.charCodeAt(0) === 46 && (i.push(""), l++); l < s;) { const m = a[l]; d ? m === "\\" && l + 1 < s ? (l++, f += a[l]) : m === d ? d = "" : f += m : h ? m === '"' || m === "'" ? d = m : m === "]" ? (h = !1, i.push(f), f = "") : f += m : m === "[" ? (h = !0, f && (i.push(f), f = "")) : m === "." ? f && (i.push(f), f = "") : f += m, l++ } return f && i.push(f), i } e.toPath = n })(eb)), eb } var KA; function $_() { return KA || (KA = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); const t = MH(), r = mM(), n = U_(), a = B_(); function i(l, f, d) { if (l == null) return d; switch (typeof f) { case "string": { if (t.isUnsafeProperty(f)) return d; const h = l[f]; return h === void 0 ? r.isDeepKey(f) ? i(l, a.toPath(f), d) : d : h } case "number": case "symbol": { typeof f == "number" && (f = n.toKey(f)); const h = l[f]; return h === void 0 ? d : h } default: { if (Array.isArray(f)) return s(l, f, d); if (Object.is(f == null ? void 0 : f.valueOf(), -0) ? f = "-0" : f = String(f), t.isUnsafeProperty(f)) return d; const h = l[f]; return h === void 0 ? d : h } } } function s(l, f, d) { if (f.length === 0) return d; let h = l; for (let m = 0; m < f.length; m++) { if (h == null || t.isUnsafeProperty(f[m])) return d; h = h[f[m]] } return h === void 0 ? d : h } e.get = i })(Xy)), Xy } var rb, YA; function FH() { return YA || (YA = 1, rb = $_().get), rb } var UH = FH(); const Wl = _i(UH); var BH = 4; function Io(e) { var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : BH, r = 10 ** t, n = Math.round(e * r) / r; return Object.is(n, -0) ? 0 : n } function br(e) { for (var t = arguments.length, r = new Array(t > 1 ? t - 1 : 0), n = 1; n < t; n++)r[n - 1] = arguments[n]; return e.reduce((a, i, s) => { var l = r[s - 1]; return typeof l == "string" ? a + l + i : l !== void 0 ? a + Io(l) + i : a + i }, "") } var an = e => e === 0 ? 0 : e > 0 ? 1 : -1, bi = e => typeof e == "number" && e != +e, Kl = e => typeof e == "string" && e.indexOf("%") === e.length - 1, ze = e => (typeof e == "number" || e instanceof Number) && !bi(e), Hi = e => ze(e) || typeof e == "string", $H = 0, Ff = e => { var t = ++$H; return "".concat(e || "").concat(t) }, Mn = function (t, r) { var n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0, a = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : !1; if (!ze(t) && typeof t != "string") return n; var i; if (Kl(t)) { if (r == null) return n; var s = t.indexOf("%"); i = r * parseFloat(t.slice(0, s)) / 100 } else i = +t; return bi(i) && (i = n), a && r != null && i > r && (i = r), i }, gM = e => { if (!Array.isArray(e)) return !1; for (var t = e.length, r = {}, n = 0; n < t; n++)if (!r[String(e[n])]) r[String(e[n])] = !0; else return !0; return !1 }; function Lt(e, t, r) { return ze(e) && ze(t) ? Io(e + r * (t - e)) : t } function xM(e, t, r) { if (!(!e || !e.length)) return e.find(n => n && (typeof t == "function" ? t(n) : Wl(n, t)) === r) } var fr = e => e === null || typeof e > "u", d0 = e => fr(e) ? e : "".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)); function ca(e) { return e != null } function Ho() { } var zH = ["type", "size", "sizeType"]; function cw() { return cw = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, cw.apply(null, arguments) } function XA(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function JA(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? XA(Object(r), !0).forEach(function (n) { HH(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : XA(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function HH(e, t, r) { return (t = GH(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function GH(e) { var t = VH(e, "string"); return typeof t == "symbol" ? t : t + "" } function VH(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } function qH(e, t) { if (e == null) return {}; var r, n, a = WH(e, t); if (Object.getOwnPropertySymbols) { var i = Object.getOwnPropertySymbols(e); for (n = 0; n < i.length; n++)r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (a[r] = e[r]) } return a } function WH(e, t) { if (e == null) return {}; var r = {}; for (var n in e) if ({}.hasOwnProperty.call(e, n)) { if (t.indexOf(n) !== -1) continue; r[n] = e[n] } return r } var vM = { symbolCircle: F_, symbolCross: lH, symbolDiamond: uH, symbolSquare: dH, symbolStar: mH, symbolTriangle: gH, symbolWye: vH }, KH = Math.PI / 180, YH = e => { var t = "symbol".concat(d0(e)); return vM[t] || F_ }, XH = (e, t, r) => { if (t === "area") return e; switch (r) { case "cross": return 5 * e * e / 9; case "diamond": return .5 * e * e / Math.sqrt(3); case "square": return e * e; case "star": { var n = 18 * KH; return 1.25 * e * e * (Math.tan(n) - Math.tan(n * 2) * Math.tan(n) ** 2) } case "triangle": return Math.sqrt(3) * e * e / 4; case "wye": return (21 - 10 * Math.sqrt(3)) * e * e / 8; default: return Math.PI * e * e / 4 } }, JH = (e, t) => { vM["symbol".concat(d0(e))] = t }, z_ = e => { var { type: t = "circle", size: r = 64, sizeType: n = "area" } = e, a = qH(e, zH), i = JA(JA({}, a), {}, { type: t, size: r, sizeType: n }), s = "circle"; typeof t == "string" && (s = t); var l = () => { var g = YH(s), v = yH().type(g).size(XH(r, n, s)), y = v(); if (y !== null) return y }, { className: f, cx: d, cy: h } = i, m = Fn(i); return ze(d) && ze(h) && ze(r) ? A.createElement("path", cw({}, m, { className: At("recharts-symbols", f), transform: "translate(".concat(d, ", ").concat(h, ")"), d: l() })) : null }; z_.registerSymbol = JH; var yM = e => "radius" in e && "startAngle" in e && "endAngle" in e, H_ = (e, t) => { if (!e || typeof e == "function" || typeof e == "boolean") return null; var r = e; if (A.isValidElement(e) && (r = e.props), typeof r != "object" && typeof r != "function") return null; var n = {}; return Object.keys(r).forEach(a => { P_(a) && (n[a] = (i => r[a](r, i))) }), n }, ZH = (e, t, r) => n => (e(t, r, n), null), f0 = (e, t, r) => { if (e === null || typeof e != "object" && typeof e != "function") return null; var n = null; return Object.keys(e).forEach(a => { var i = e[a]; P_(a) && typeof i == "function" && (n || (n = {}), n[a] = ZH(i, t, r)) }), n }; function ZA(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function QH(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? ZA(Object(r), !0).forEach(function (n) { eG(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : ZA(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function eG(e, t, r) { return (t = tG(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function tG(e) { var t = rG(e, "string"); return typeof t == "symbol" ? t : t + "" } function rG(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } function kr(e, t) { var r = QH({}, e), n = t, a = Object.keys(t), i = a.reduce((s, l) => (s[l] === void 0 && n[l] !== void 0 && (s[l] = n[l]), s), r); return i } function nm() { return nm = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, nm.apply(null, arguments) } function QA(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function nG(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? QA(Object(r), !0).forEach(function (n) { aG(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : QA(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function aG(e, t, r) { return (t = iG(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function iG(e) { var t = sG(e, "string"); return typeof t == "symbol" ? t : t + "" } function sG(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } var Ga = 32, oG = { align: "center", iconSize: 14, inactiveColor: "#ccc", layout: "horizontal", verticalAlign: "middle" }; function lG(e) {
  var { data: t, iconType: r, inactiveColor: n } = e, a = Ga / 2, i = Ga / 6, s = Ga / 3, l = t.inactive ? n : t.color, f = r ?? t.type; if (f === "none") return null; if (f === "plainline") { var d; return A.createElement("line", { strokeWidth: 4, fill: "none", stroke: l, strokeDasharray: (d = t.payload) === null || d === void 0 ? void 0 : d.strokeDasharray, x1: 0, y1: a, x2: Ga, y2: a, className: "recharts-legend-icon" }) } if (f === "line") return A.createElement("path", {
    strokeWidth: 4, fill: "none", stroke: l, d: "M0,".concat(a, "h").concat(s, `
            A`).concat(i, ",").concat(i, ",0,1,1,").concat(2 * s, ",").concat(a, `
            H`).concat(Ga, "M").concat(2 * s, ",").concat(a, `
            A`).concat(i, ",").concat(i, ",0,1,1,").concat(s, ",").concat(a), className: "recharts-legend-icon"
  }); if (f === "rect") return A.createElement("path", { stroke: "none", fill: l, d: "M0,".concat(Ga / 8, "h").concat(Ga, "v").concat(Ga * 3 / 4, "h").concat(-Ga, "z"), className: "recharts-legend-icon" }); if (A.isValidElement(t.legendIcon)) { var h = nG({}, t); return delete h.legendIcon, A.cloneElement(t.legendIcon, h) } return A.createElement(z_, { fill: l, cx: a, cy: a, size: Ga, sizeType: "diameter", type: f })
} function cG(e) { var { payload: t, iconSize: r, layout: n, formatter: a, inactiveColor: i, iconType: s } = e, l = { x: 0, y: 0, width: Ga, height: Ga }, f = { display: n === "horizontal" ? "inline-block" : "block", marginRight: 10 }, d = { display: "inline-block", verticalAlign: "middle", marginRight: 4 }; return t.map((h, m) => { var g = h.formatter || a, v = At({ "recharts-legend-item": !0, ["legend-item-".concat(m)]: !0, inactive: h.inactive }); if (h.type === "none") return null; var y = h.inactive ? i : h.color, b = g ? g(h.value, h, m) : h.value; return A.createElement("li", nm({ className: v, style: f, key: "legend-item-".concat(m) }, f0(e, h, m)), A.createElement(D_, { width: r, height: r, viewBox: l, style: d, "aria-label": "".concat(b, " legend icon") }, A.createElement(lG, { data: h, iconType: s, inactiveColor: i })), A.createElement("span", { className: "recharts-legend-item-text", style: { color: y } }, b)) }) } var uG = e => { var t = kr(e, oG), { payload: r, layout: n, align: a } = t; if (!r || !r.length) return null; var i = { padding: 0, margin: 0, textAlign: n === "horizontal" ? a : "left" }; return A.createElement("ul", { className: "recharts-default-legend", style: i }, A.createElement(cG, nm({}, t, { payload: r }))) }, nb = {}, ab = {}, eC; function dG() { return eC || (eC = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); function t(r, n) { const a = new Map; for (let i = 0; i < r.length; i++) { const s = r[i], l = n(s, i, r); a.has(l) || a.set(l, s) } return Array.from(a.values()) } e.uniqBy = t })(ab)), ab } var ib = {}, tC; function fG() { return tC || (tC = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); function t(r, n) { return function (...a) { return r.apply(this, a.slice(0, n)) } } e.ary = t })(ib)), ib } var sb = {}, rC; function bM() { return rC || (rC = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); function t(r) { return r } e.identity = t })(sb)), sb } var ob = {}, lb = {}, cb = {}, nC; function hG() { return nC || (nC = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); function t(r) { return Number.isSafeInteger(r) && r >= 0 } e.isLength = t })(cb)), cb } var aC; function G_() { return aC || (aC = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); const t = hG(); function r(n) { return n != null && typeof n != "function" && t.isLength(n.length) } e.isArrayLike = r })(lb)), lb } var ub = {}, iC; function pG() { return iC || (iC = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); function t(r) { return typeof r == "object" && r !== null } e.isObjectLike = t })(ub)), ub } var sC; function mG() { return sC || (sC = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); const t = G_(), r = pG(); function n(a) { return r.isObjectLike(a) && t.isArrayLike(a) } e.isArrayLikeObject = n })(ob)), ob } var db = {}, fb = {}, oC; function gG() { return oC || (oC = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); const t = $_(); function r(n) { return function (a) { return t.get(a, n) } } e.property = r })(fb)), fb } var hb = {}, pb = {}, mb = {}, gb = {}, lC; function wM() { return lC || (lC = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); function t(r) { return r !== null && (typeof r == "object" || typeof r == "function") } e.isObject = t })(gb)), gb } var xb = {}, cC; function _M() { return cC || (cC = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); function t(r) { return r == null || typeof r != "object" && typeof r != "function" } e.isPrimitive = t })(xb)), xb } var vb = {}, uC; function SM() { return uC || (uC = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); function t(r, n) { return r === n || Number.isNaN(r) && Number.isNaN(n) } e.isEqualsSameValueZero = t })(vb)), vb } var dC; function xG() { return dC || (dC = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); const t = wM(), r = _M(), n = SM(); function a(h, m, g) { return typeof g != "function" ? a(h, m, () => { }) : i(h, m, function v(y, b, _, k, C, T) { const j = g(y, b, _, k, C, T); return j !== void 0 ? !!j : i(y, b, v, T) }, new Map) } function i(h, m, g, v) { if (m === h) return !0; switch (typeof m) { case "object": return s(h, m, g, v); case "function": return Object.keys(m).length > 0 ? i(h, { ...m }, g, v) : n.isEqualsSameValueZero(h, m); default: return t.isObject(h) ? typeof m == "string" ? m === "" : !0 : n.isEqualsSameValueZero(h, m) } } function s(h, m, g, v) { if (m == null) return !0; if (Array.isArray(m)) return f(h, m, g, v); if (m instanceof Map) return l(h, m, g, v); if (m instanceof Set) return d(h, m, g, v); const y = Object.keys(m); if (h == null || r.isPrimitive(h)) return y.length === 0; if (y.length === 0) return !0; if (v != null && v.has(m)) return v.get(m) === h; v == null || v.set(m, h); try { for (let b = 0; b < y.length; b++) { const _ = y[b]; if (!r.isPrimitive(h) && !(_ in h) || m[_] === void 0 && h[_] !== void 0 || m[_] === null && h[_] !== null || !g(h[_], m[_], _, h, m, v)) return !1 } return !0 } finally { v == null || v.delete(m) } } function l(h, m, g, v) { if (m.size === 0) return !0; if (!(h instanceof Map)) return !1; for (const [y, b] of m.entries()) { const _ = h.get(y); if (g(_, b, y, h, m, v) === !1) return !1 } return !0 } function f(h, m, g, v) { if (m.length === 0) return !0; if (!Array.isArray(h)) return !1; const y = new Set; for (let b = 0; b < m.length; b++) { const _ = m[b]; let k = !1; for (let C = 0; C < h.length; C++) { if (y.has(C)) continue; const T = h[C]; let j = !1; if (g(T, _, b, h, m, v) && (j = !0), j) { y.add(C), k = !0; break } } if (!k) return !1 } return !0 } function d(h, m, g, v) { return m.size === 0 ? !0 : h instanceof Set ? f([...h], [...m], g, v) : !1 } e.isMatchWith = a, e.isSetMatch = d })(mb)), mb } var fC; function EM() { return fC || (fC = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); const t = xG(); function r(n, a) { return t.isMatchWith(n, a, () => { }) } e.isMatch = r })(pb)), pb } var yb = {}, bb = {}, wb = {}, hC; function vG() { return hC || (hC = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); function t(r) { return Object.getOwnPropertySymbols(r).filter(n => Object.prototype.propertyIsEnumerable.call(r, n)) } e.getSymbols = t })(wb)), wb } var _b = {}, pC; function V_() { return pC || (pC = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); function t(r) { return r == null ? r === void 0 ? "[object Undefined]" : "[object Null]" : Object.prototype.toString.call(r) } e.getTag = t })(_b)), _b } var Sb = {}, mC; function kM() { return mC || (mC = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); const t = "[object RegExp]", r = "[object String]", n = "[object Number]", a = "[object Boolean]", i = "[object Arguments]", s = "[object Symbol]", l = "[object Date]", f = "[object Map]", d = "[object Set]", h = "[object Array]", m = "[object Function]", g = "[object ArrayBuffer]", v = "[object Object]", y = "[object Error]", b = "[object DataView]", _ = "[object Uint8Array]", k = "[object Uint8ClampedArray]", C = "[object Uint16Array]", T = "[object Uint32Array]", j = "[object BigUint64Array]", R = "[object Int8Array]", O = "[object Int16Array]", I = "[object Int32Array]", H = "[object BigInt64Array]", F = "[object Float32Array]", X = "[object Float64Array]"; e.argumentsTag = i, e.arrayBufferTag = g, e.arrayTag = h, e.bigInt64ArrayTag = H, e.bigUint64ArrayTag = j, e.booleanTag = a, e.dataViewTag = b, e.dateTag = l, e.errorTag = y, e.float32ArrayTag = F, e.float64ArrayTag = X, e.functionTag = m, e.int16ArrayTag = O, e.int32ArrayTag = I, e.int8ArrayTag = R, e.mapTag = f, e.numberTag = n, e.objectTag = v, e.regexpTag = t, e.setTag = d, e.stringTag = r, e.symbolTag = s, e.uint16ArrayTag = C, e.uint32ArrayTag = T, e.uint8ArrayTag = _, e.uint8ClampedArrayTag = k })(Sb)), Sb } var Eb = {}, gC; function yG() { return gC || (gC = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); function t(r) { return ArrayBuffer.isView(r) && !(r instanceof DataView) } e.isTypedArray = t })(Eb)), Eb } var xC; function TM() { return xC || (xC = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); const t = vG(), r = V_(), n = kM(), a = _M(), i = yG(); function s(h, m) { return l(h, void 0, h, new Map, m) } function l(h, m, g, v = new Map, y = void 0) { const b = y == null ? void 0 : y(h, m, g, v); if (b !== void 0) return b; if (a.isPrimitive(h)) return h; if (v.has(h)) return v.get(h); if (Array.isArray(h)) { const _ = new Array(h.length); v.set(h, _); for (let k = 0; k < h.length; k++)_[k] = l(h[k], k, g, v, y); return Object.hasOwn(h, "index") && (_.index = h.index), Object.hasOwn(h, "input") && (_.input = h.input), _ } if (h instanceof Date) return new Date(h.getTime()); if (h instanceof RegExp) { const _ = new RegExp(h.source, h.flags); return _.lastIndex = h.lastIndex, _ } if (h instanceof Map) { const _ = new Map; v.set(h, _); for (const [k, C] of h) _.set(k, l(C, k, g, v, y)); return _ } if (h instanceof Set) { const _ = new Set; v.set(h, _); for (const k of h) _.add(l(k, void 0, g, v, y)); return _ } if (typeof Buffer < "u" && Buffer.isBuffer(h)) return h.subarray(); if (i.isTypedArray(h)) { const _ = new (Object.getPrototypeOf(h)).constructor(h.length); v.set(h, _); for (let k = 0; k < h.length; k++)_[k] = l(h[k], k, g, v, y); return _ } if (h instanceof ArrayBuffer || typeof SharedArrayBuffer < "u" && h instanceof SharedArrayBuffer) return h.slice(0); if (h instanceof DataView) { const _ = new DataView(h.buffer.slice(0), h.byteOffset, h.byteLength); return v.set(h, _), f(_, h, g, v, y), _ } if (typeof File < "u" && h instanceof File) { const _ = new File([h], h.name, { type: h.type }); return v.set(h, _), f(_, h, g, v, y), _ } if (typeof Blob < "u" && h instanceof Blob) { const _ = new Blob([h], { type: h.type }); return v.set(h, _), f(_, h, g, v, y), _ } if (h instanceof Error) { const _ = new h.constructor; return v.set(h, _), _.message = h.message, _.name = h.name, _.stack = h.stack, _.cause = h.cause, f(_, h, g, v, y), _ } if (h instanceof Boolean) { const _ = new Boolean(h.valueOf()); return v.set(h, _), f(_, h, g, v, y), _ } if (h instanceof Number) { const _ = new Number(h.valueOf()); return v.set(h, _), f(_, h, g, v, y), _ } if (h instanceof String) { const _ = new String(h.valueOf()); return v.set(h, _), f(_, h, g, v, y), _ } if (typeof h == "object" && d(h)) { const _ = Object.create(Object.getPrototypeOf(h)); return v.set(h, _), f(_, h, g, v, y), _ } return h } function f(h, m, g = h, v, y) { const b = [...Object.keys(m), ...t.getSymbols(m)]; for (let _ = 0; _ < b.length; _++) { const k = b[_], C = Object.getOwnPropertyDescriptor(h, k); (C == null || C.writable) && (h[k] = l(m[k], k, g, v, y)) } } function d(h) { switch (r.getTag(h)) { case n.argumentsTag: case n.arrayTag: case n.arrayBufferTag: case n.dataViewTag: case n.booleanTag: case n.dateTag: case n.float32ArrayTag: case n.float64ArrayTag: case n.int8ArrayTag: case n.int16ArrayTag: case n.int32ArrayTag: case n.mapTag: case n.numberTag: case n.objectTag: case n.regexpTag: case n.setTag: case n.stringTag: case n.symbolTag: case n.uint8ArrayTag: case n.uint8ClampedArrayTag: case n.uint16ArrayTag: case n.uint32ArrayTag: return !0; default: return !1 } } e.cloneDeepWith = s, e.cloneDeepWithImpl = l, e.copyProperties = f })(bb)), bb } var vC; function bG() { return vC || (vC = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); const t = TM(); function r(n) { return t.cloneDeepWithImpl(n, void 0, n, new Map, void 0) } e.cloneDeep = r })(yb)), yb } var yC; function wG() { return yC || (yC = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); const t = EM(), r = bG(); function n(a) { return a = r.cloneDeep(a), i => t.isMatch(i, a) } e.matches = n })(hb)), hb } var kb = {}, Tb = {}, Nb = {}, bC; function _G() { return bC || (bC = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); const t = TM(), r = V_(), n = kM(); function a(i, s) { return t.cloneDeepWith(i, (l, f, d, h) => { const m = s == null ? void 0 : s(l, f, d, h); if (m !== void 0) return m; if (typeof i == "object") { if (r.getTag(i) === n.objectTag && typeof i.constructor != "function") { const g = {}; return h.set(i, g), t.copyProperties(g, i, d, h), g } switch (Object.prototype.toString.call(i)) { case n.numberTag: case n.stringTag: case n.booleanTag: { const g = new i.constructor(i == null ? void 0 : i.valueOf()); return t.copyProperties(g, i), g } case n.argumentsTag: { const g = {}; return t.copyProperties(g, i), g.length = i.length, g[Symbol.iterator] = i[Symbol.iterator], g } default: return } } }) } e.cloneDeepWith = a })(Nb)), Nb } var wC; function SG() { return wC || (wC = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); const t = _G(); function r(n) { return t.cloneDeepWith(n) } e.cloneDeep = r })(Tb)), Tb } var Ab = {}, Cb = {}, _C; function NM() { return _C || (_C = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); const t = /^(?:0|[1-9]\d*)$/; function r(n, a = Number.MAX_SAFE_INTEGER) { switch (typeof n) { case "number": return Number.isInteger(n) && n >= 0 && n < a; case "symbol": return !1; case "string": return t.test(n) } } e.isIndex = r })(Cb)), Cb } var jb = {}, SC; function EG() { return SC || (SC = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); const t = V_(); function r(n) { return n !== null && typeof n == "object" && t.getTag(n) === "[object Arguments]" } e.isArguments = r })(jb)), jb } var EC; function kG() { return EC || (EC = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); const t = mM(), r = NM(), n = EG(), a = B_(); function i(s, l) { let f; if (Array.isArray(l) ? f = l : typeof l == "string" && t.isDeepKey(l) && (s == null ? void 0 : s[l]) == null ? f = a.toPath(l) : f = [l], f.length === 0) return !1; let d = s; for (let h = 0; h < f.length; h++) { const m = f[h]; if ((d == null || !Object.hasOwn(d, m)) && !((Array.isArray(d) || n.isArguments(d)) && r.isIndex(m) && m < d.length)) return !1; d = d[m] } return !0 } e.has = i })(Ab)), Ab } var kC; function TG() { return kC || (kC = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); const t = EM(), r = U_(), n = SG(), a = $_(), i = kG(); function s(l, f) { switch (typeof l) { case "object": { Object.is(l == null ? void 0 : l.valueOf(), -0) && (l = "-0"); break } case "number": { l = r.toKey(l); break } }return f = n.cloneDeep(f), function (d) { const h = a.get(d, l); return h === void 0 ? i.has(d, l) : f === void 0 ? h === void 0 : t.isMatch(h, f) } } e.matchesProperty = s })(kb)), kb } var TC; function NG() { return TC || (TC = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); const t = bM(), r = gG(), n = wG(), a = TG(); function i(s) { if (s == null) return t.identity; switch (typeof s) { case "function": return s; case "object": return Array.isArray(s) && s.length === 2 ? a.matchesProperty(s[0], s[1]) : n.matches(s); case "string": case "symbol": case "number": return r.property(s) } } e.iteratee = i })(db)), db } var NC; function AG() { return NC || (NC = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); const t = dG(), r = fG(), n = bM(), a = mG(), i = NG(); function s(l, f = n.identity) { return a.isArrayLikeObject(l) ? t.uniqBy(Array.from(l), r.ary(i.iteratee(f), 1)) : [] } e.uniqBy = s })(nb)), nb } var Ib, AC; function CG() { return AC || (AC = 1, Ib = AG().uniqBy), Ib } var jG = CG(); const CC = _i(jG); function AM(e, t, r) { return t === !0 ? CC(e, r) : typeof t == "function" ? CC(e, t) : e } var Ob = { exports: {} }, Rb = {}, Pb = { exports: {} }, Db = {};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jC; function IG() { if (jC) return Db; jC = 1; var e = nc(); function t(m, g) { return m === g && (m !== 0 || 1 / m === 1 / g) || m !== m && g !== g } var r = typeof Object.is == "function" ? Object.is : t, n = e.useState, a = e.useEffect, i = e.useLayoutEffect, s = e.useDebugValue; function l(m, g) { var v = g(), y = n({ inst: { value: v, getSnapshot: g } }), b = y[0].inst, _ = y[1]; return i(function () { b.value = v, b.getSnapshot = g, f(b) && _({ inst: b }) }, [m, v, g]), a(function () { return f(b) && _({ inst: b }), m(function () { f(b) && _({ inst: b }) }) }, [m]), s(v), v } function f(m) { var g = m.getSnapshot; m = m.value; try { var v = g(); return !r(m, v) } catch { return !0 } } function d(m, g) { return g() } var h = typeof window > "u" || typeof window.document > "u" || typeof window.document.createElement > "u" ? d : l; return Db.useSyncExternalStore = e.useSyncExternalStore !== void 0 ? e.useSyncExternalStore : h, Db } var IC; function OG() { return IC || (IC = 1, Pb.exports = IG()), Pb.exports }/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OC; function RG() { if (OC) return Rb; OC = 1; var e = nc(), t = OG(); function r(d, h) { return d === h && (d !== 0 || 1 / d === 1 / h) || d !== d && h !== h } var n = typeof Object.is == "function" ? Object.is : r, a = t.useSyncExternalStore, i = e.useRef, s = e.useEffect, l = e.useMemo, f = e.useDebugValue; return Rb.useSyncExternalStoreWithSelector = function (d, h, m, g, v) { var y = i(null); if (y.current === null) { var b = { hasValue: !1, value: null }; y.current = b } else b = y.current; y = l(function () { function k(O) { if (!C) { if (C = !0, T = O, O = g(O), v !== void 0 && b.hasValue) { var I = b.value; if (v(I, O)) return j = I } return j = O } if (I = j, n(T, O)) return I; var H = g(O); return v !== void 0 && v(I, H) ? (T = O, I) : (T = O, j = H) } var C = !1, T, j, R = m === void 0 ? null : m; return [function () { return k(h()) }, R === null ? void 0 : function () { return k(R()) }] }, [h, m, g, v]); var _ = a(d, y[0], y[1]); return s(function () { b.hasValue = !0, b.value = _ }, [_]), f(_), _ }, Rb } var RC; function PG() { return RC || (RC = 1, Ob.exports = RG()), Ob.exports } var DG = PG(), q_ = A.createContext(null), MG = e => e, rr = () => { var e = A.useContext(q_); return e ? e.store.dispatch : MG }, Lp = () => { }, LG = () => Lp, FG = (e, t) => e === t; function We(e) { var t = A.useContext(q_), r = A.useMemo(() => t ? n => { if (n != null) return e(n) } : Lp, [t, e]); return DG.useSyncExternalStoreWithSelector(t ? t.subscription.addNestedSub : LG, t ? t.store.getState : Lp, t ? t.store.getState : Lp, r, FG) } function UG(e, t = `expected a function, instead received ${typeof e}`) { if (typeof e != "function") throw new TypeError(t) } function BG(e, t = `expected an object, instead received ${typeof e}`) { if (typeof e != "object") throw new TypeError(t) } function $G(e, t = "expected all items to be functions, instead received the following types: ") { if (!e.every(r => typeof r == "function")) { const r = e.map(n => typeof n == "function" ? `function ${n.name || "unnamed"}()` : typeof n).join(", "); throw new TypeError(`${t}[${r}]`) } } var PC = e => Array.isArray(e) ? e : [e]; function zG(e) { const t = Array.isArray(e[0]) ? e[0] : e; return $G(t, "createSelector expects all input-selectors to be functions, but received the following types: "), t } function HG(e, t) { const r = [], { length: n } = e; for (let a = 0; a < n; a++)r.push(e[a].apply(null, t)); return r } var GG = class { constructor(e) { this.value = e } deref() { return this.value } }, VG = typeof WeakRef < "u" ? WeakRef : GG, qG = 0, DC = 1; function ap() { return { s: qG, v: void 0, o: null, p: null } } function CM(e, t = {}) { let r = ap(); const { resultEqualityCheck: n } = t; let a, i = 0; function s() { var m; let l = r; const { length: f } = arguments; for (let g = 0, v = f; g < v; g++) { const y = arguments[g]; if (typeof y == "function" || typeof y == "object" && y !== null) { let b = l.o; b === null && (l.o = b = new WeakMap); const _ = b.get(y); _ === void 0 ? (l = ap(), b.set(y, l)) : l = _ } else { let b = l.p; b === null && (l.p = b = new Map); const _ = b.get(y); _ === void 0 ? (l = ap(), b.set(y, l)) : l = _ } } const d = l; let h; if (l.s === DC) h = l.v; else if (h = e.apply(null, arguments), i++, n) { const g = ((m = a == null ? void 0 : a.deref) == null ? void 0 : m.call(a)) ?? a; g != null && n(g, h) && (h = g, i !== 0 && i--), a = typeof h == "object" && h !== null || typeof h == "function" ? new VG(h) : h } return d.s = DC, d.v = h, h } return s.clearCache = () => { r = ap(), s.resetResultsCount() }, s.resultsCount = () => i, s.resetResultsCount = () => { i = 0 }, s } function WG(e, ...t) { const r = typeof e == "function" ? { memoize: e, memoizeOptions: t } : e, n = (...a) => { let i = 0, s = 0, l, f = {}, d = a.pop(); typeof d == "object" && (f = d, d = a.pop()), UG(d, `createSelector expects an output function after the inputs, but received: [${typeof d}]`); const h = { ...r, ...f }, { memoize: m, memoizeOptions: g = [], argsMemoize: v = CM, argsMemoizeOptions: y = [] } = h, b = PC(g), _ = PC(y), k = zG(a), C = m(function () { return i++, d.apply(null, arguments) }, ...b), T = v(function () { s++; const R = HG(k, arguments); return l = C.apply(null, R), l }, ..._); return Object.assign(T, { resultFunc: d, memoizedResultFunc: C, dependencies: k, dependencyRecomputations: () => s, resetDependencyRecomputations: () => { s = 0 }, lastResult: () => l, recomputations: () => i, resetRecomputations: () => { i = 0 }, memoize: m, argsMemoize: v }) }; return Object.assign(n, { withTypes: () => n }), n } var xe = WG(CM), KG = Object.assign((e, t = xe) => { BG(e, `createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`); const r = Object.keys(e), n = r.map(i => e[i]); return t(n, (...i) => i.reduce((s, l, f) => (s[r[f]] = l, s), {})) }, { withTypes: () => KG }), Mb = {}, Lb = {}, Fb = {}, MC; function YG() { return MC || (MC = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); function t(n) { return typeof n == "symbol" ? 1 : n === null ? 2 : n === void 0 ? 3 : n !== n ? 4 : 0 } const r = (n, a, i) => { if (n !== a) { const s = t(n), l = t(a); if (s === l && s === 0) { if (n < a) return i === "desc" ? 1 : -1; if (n > a) return i === "desc" ? -1 : 1 } return i === "desc" ? l - s : s - l } return 0 }; e.compareValues = r })(Fb)), Fb } var Ub = {}, Bb = {}, LC; function jM() { return LC || (LC = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); function t(r) { return typeof r == "symbol" || r instanceof Symbol } e.isSymbol = t })(Bb)), Bb } var FC; function XG() { return FC || (FC = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); const t = jM(), r = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, n = /^\w*$/; function a(i, s) { return Array.isArray(i) ? !1 : typeof i == "number" || typeof i == "boolean" || i == null || t.isSymbol(i) ? !0 : typeof i == "string" && (n.test(i) || !r.test(i)) || s != null && Object.hasOwn(s, i) } e.isKey = a })(Ub)), Ub } var UC; function JG() { return UC || (UC = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); const t = YG(), r = XG(), n = B_(); function a(i, s, l, f) { if (i == null) return []; l = f ? void 0 : l, Array.isArray(i) || (i = Object.values(i)), Array.isArray(s) || (s = s == null ? [null] : [s]), s.length === 0 && (s = [null]), Array.isArray(l) || (l = l == null ? [] : [l]), l = l.map(v => String(v)); const d = (v, y) => { let b = v; for (let _ = 0; _ < y.length && b != null; ++_)b = b[y[_]]; return b }, h = (v, y) => y == null || v == null ? y : typeof v == "object" && "key" in v ? Object.hasOwn(y, v.key) ? y[v.key] : d(y, v.path) : typeof v == "function" ? v(y) : Array.isArray(v) ? d(y, v) : typeof y == "object" ? y[v] : y, m = s.map(v => (Array.isArray(v) && v.length === 1 && (v = v[0]), v == null || typeof v == "function" || Array.isArray(v) || r.isKey(v) ? v : { key: v, path: n.toPath(v) })); return i.map(v => ({ original: v, criteria: m.map(y => h(y, v)) })).slice().sort((v, y) => { for (let b = 0; b < m.length; b++) { const _ = t.compareValues(v.criteria[b], y.criteria[b], l[b]); if (_ !== 0) return _ } return 0 }).map(v => v.original) } e.orderBy = a })(Lb)), Lb } var $b = {}, BC; function ZG() { return BC || (BC = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); function t(r, n = 1) { const a = [], i = Math.floor(n), s = (l, f) => { for (let d = 0; d < l.length; d++) { const h = l[d]; Array.isArray(h) && f < i ? s(h, f + 1) : a.push(h) } }; return s(r, 0), a } e.flatten = t })($b)), $b } var zb = {}, $C; function IM() { return $C || ($C = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); const t = NM(), r = G_(), n = wM(), a = SM(); function i(s, l, f) { return n.isObject(f) && (typeof l == "number" && r.isArrayLike(f) && t.isIndex(l) && l < f.length || typeof l == "string" && l in f) ? a.isEqualsSameValueZero(f[l], s) : !1 } e.isIterateeCall = i })(zb)), zb } var zC; function QG() { return zC || (zC = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); const t = JG(), r = ZG(), n = IM(); function a(i, ...s) { const l = s.length; return l > 1 && n.isIterateeCall(i, s[0], s[1]) ? s = [] : l > 2 && n.isIterateeCall(s[0], s[1], s[2]) && (s = [s[0]]), t.orderBy(i, r.flatten(s), ["asc"]) } e.sortBy = a })(Mb)), Mb } var Hb, HC; function eV() { return HC || (HC = 1, Hb = QG().sortBy), Hb } var tV = eV(); const wg = _i(tV); var OM = e => e.legend.settings, rV = e => e.legend.size, nV = e => e.legend.payload, aV = xe([nV, OM], (e, t) => { var { itemSorter: r } = t, n = e.flat(1); return r ? wg(n, r) : n }); function iV() { return We(aV) } var ip = 1; function RM() { var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [], [t, r] = A.useState({ height: 0, left: 0, top: 0, width: 0 }), n = A.useCallback(a => { if (a != null) { var i = a.getBoundingClientRect(), s = { height: i.height, left: i.left, top: i.top, width: i.width }; (Math.abs(s.height - t.height) > ip || Math.abs(s.left - t.left) > ip || Math.abs(s.top - t.top) > ip || Math.abs(s.width - t.width) > ip) && r({ height: s.height, left: s.left, top: s.top, width: s.width }) } }, [t.width, t.height, t.top, t.left, ...e]); return [t, n] } function bn(e) { return `Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. ` } var sV = typeof Symbol == "function" && Symbol.observable || "@@observable", GC = sV, Gb = () => Math.random().toString(36).substring(7).split("").join("."), oV = { INIT: `@@redux/INIT${Gb()}`, REPLACE: `@@redux/REPLACE${Gb()}`, PROBE_UNKNOWN_ACTION: () => `@@redux/PROBE_UNKNOWN_ACTION${Gb()}` }, am = oV; function W_(e) { if (typeof e != "object" || e === null) return !1; let t = e; for (; Object.getPrototypeOf(t) !== null;)t = Object.getPrototypeOf(t); return Object.getPrototypeOf(e) === t || Object.getPrototypeOf(e) === null } function PM(e, t, r) { if (typeof e != "function") throw new Error(bn(2)); if (typeof t == "function" && typeof r == "function" || typeof r == "function" && typeof arguments[3] == "function") throw new Error(bn(0)); if (typeof t == "function" && typeof r > "u" && (r = t, t = void 0), typeof r < "u") { if (typeof r != "function") throw new Error(bn(1)); return r(PM)(e, t) } let n = e, a = t, i = new Map, s = i, l = 0, f = !1; function d() { s === i && (s = new Map, i.forEach((_, k) => { s.set(k, _) })) } function h() { if (f) throw new Error(bn(3)); return a } function m(_) { if (typeof _ != "function") throw new Error(bn(4)); if (f) throw new Error(bn(5)); let k = !0; d(); const C = l++; return s.set(C, _), function () { if (k) { if (f) throw new Error(bn(6)); k = !1, d(), s.delete(C), i = null } } } function g(_) { if (!W_(_)) throw new Error(bn(7)); if (typeof _.type > "u") throw new Error(bn(8)); if (typeof _.type != "string") throw new Error(bn(17)); if (f) throw new Error(bn(9)); try { f = !0, a = n(a, _) } finally { f = !1 } return (i = s).forEach(C => { C() }), _ } function v(_) { if (typeof _ != "function") throw new Error(bn(10)); n = _, g({ type: am.REPLACE }) } function y() { const _ = m; return { subscribe(k) { if (typeof k != "object" || k === null) throw new Error(bn(11)); function C() { const j = k; j.next && j.next(h()) } return C(), { unsubscribe: _(C) } }, [GC]() { return this } } } return g({ type: am.INIT }), { dispatch: g, subscribe: m, getState: h, replaceReducer: v, [GC]: y } } function lV(e) { Object.keys(e).forEach(t => { const r = e[t]; if (typeof r(void 0, { type: am.INIT }) > "u") throw new Error(bn(12)); if (typeof r(void 0, { type: am.PROBE_UNKNOWN_ACTION() }) > "u") throw new Error(bn(13)) }) } function DM(e) { const t = Object.keys(e), r = {}; for (let i = 0; i < t.length; i++) { const s = t[i]; typeof e[s] == "function" && (r[s] = e[s]) } const n = Object.keys(r); let a; try { lV(r) } catch (i) { a = i } return function (s = {}, l) { if (a) throw a; let f = !1; const d = {}; for (let h = 0; h < n.length; h++) { const m = n[h], g = r[m], v = s[m], y = g(v, l); if (typeof y > "u") throw l && l.type, new Error(bn(14)); d[m] = y, f = f || y !== v } return f = f || n.length !== Object.keys(s).length, f ? d : s } } function im(...e) { return e.length === 0 ? t => t : e.length === 1 ? e[0] : e.reduce((t, r) => (...n) => t(r(...n))) } function cV(...e) { return t => (r, n) => { const a = t(r, n); let i = () => { throw new Error(bn(15)) }; const s = { getState: a.getState, dispatch: (f, ...d) => i(f, ...d) }, l = e.map(f => f(s)); return i = im(...l)(a.dispatch), { ...a, dispatch: i } } } function MM(e) { return W_(e) && "type" in e && typeof e.type == "string" } var LM = Symbol.for("immer-nothing"), VC = Symbol.for("immer-draftable"), Jn = Symbol.for("immer-state"); function ui(e, ...t) { throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`) } var Ea = Object, Ou = Ea.getPrototypeOf, sm = "constructor", _g = "prototype", uw = "configurable", om = "enumerable", Fp = "writable", Uf = "value", As = e => !!e && !!e[Jn]; function wi(e) { var t; return e ? FM(e) || Eg(e) || !!e[VC] || !!((t = e[sm]) != null && t[VC]) || kg(e) || Tg(e) : !1 } var uV = Ea[_g][sm].toString(), qC = new WeakMap; function FM(e) { if (!e || !K_(e)) return !1; const t = Ou(e); if (t === null || t === Ea[_g]) return !0; const r = Ea.hasOwnProperty.call(t, sm) && t[sm]; if (r === Object) return !0; if (!fu(r)) return !1; let n = qC.get(r); return n === void 0 && (n = Function.toString.call(r), qC.set(r, n)), n === uV } function Sg(e, t, r = !0) { h0(e) === 0 ? (r ? Reflect.ownKeys(e) : Ea.keys(e)).forEach(a => { t(a, e[a], e) }) : e.forEach((n, a) => t(a, n, e)) } function h0(e) { const t = e[Jn]; return t ? t.type_ : Eg(e) ? 1 : kg(e) ? 2 : Tg(e) ? 3 : 0 } var WC = (e, t, r = h0(e)) => r === 2 ? e.has(t) : Ea[_g].hasOwnProperty.call(e, t), dw = (e, t, r = h0(e)) => r === 2 ? e.get(t) : e[t], lm = (e, t, r, n = h0(e)) => { n === 2 ? e.set(t, r) : n === 3 ? e.add(r) : e[t] = r }; function dV(e, t) { return e === t ? e !== 0 || 1 / e === 1 / t : e !== e && t !== t } var Eg = Array.isArray, kg = e => e instanceof Map, Tg = e => e instanceof Set, K_ = e => typeof e == "object", fu = e => typeof e == "function", Vb = e => typeof e == "boolean"; function fV(e) { const t = +e; return Number.isInteger(t) && String(t) === e } var ys = e => e.copy_ || e.base_, Y_ = e => e.modified_ ? e.copy_ : e.base_; function fw(e, t) { if (kg(e)) return new Map(e); if (Tg(e)) return new Set(e); if (Eg(e)) return Array[_g].slice.call(e); const r = FM(e); if (t === !0 || t === "class_only" && !r) { const n = Ea.getOwnPropertyDescriptors(e); delete n[Jn]; let a = Reflect.ownKeys(n); for (let i = 0; i < a.length; i++) { const s = a[i], l = n[s]; l[Fp] === !1 && (l[Fp] = !0, l[uw] = !0), (l.get || l.set) && (n[s] = { [uw]: !0, [Fp]: !0, [om]: l[om], [Uf]: e[s] }) } return Ea.create(Ou(e), n) } else { const n = Ou(e); if (n !== null && r) return { ...e }; const a = Ea.create(n); return Ea.assign(a, e) } } function X_(e, t = !1) { return Ng(e) || As(e) || !wi(e) || (h0(e) > 1 && Ea.defineProperties(e, { set: sp, add: sp, clear: sp, delete: sp }), Ea.freeze(e), t && Sg(e, (r, n) => { X_(n, !0) }, !1)), e } function hV() { ui(2) } var sp = { [Uf]: hV }; function Ng(e) { return e === null || !K_(e) ? !0 : Ea.isFrozen(e) } var cm = "MapSet", hw = "Patches", KC = "ArrayMethods", UM = {}; function Yl(e) { const t = UM[e]; return t || ui(0, e), t } var YC = e => !!UM[e], Bf, BM = () => Bf, pV = (e, t) => ({ drafts_: [], parent_: e, immer_: t, canAutoFreeze_: !0, unfinalizedDrafts_: 0, handledSet_: new Set, processedForPatches_: new Set, mapSetPlugin_: YC(cm) ? Yl(cm) : void 0, arrayMethodsPlugin_: YC(KC) ? Yl(KC) : void 0 }); function XC(e, t) { t && (e.patchPlugin_ = Yl(hw), e.patches_ = [], e.inversePatches_ = [], e.patchListener_ = t) } function pw(e) { mw(e), e.drafts_.forEach(mV), e.drafts_ = null } function mw(e) { e === Bf && (Bf = e.parent_) } var JC = e => Bf = pV(Bf, e); function mV(e) { const t = e[Jn]; t.type_ === 0 || t.type_ === 1 ? t.revoke_() : t.revoked_ = !0 } function ZC(e, t) { t.unfinalizedDrafts_ = t.drafts_.length; const r = t.drafts_[0]; if (e !== void 0 && e !== r) { r[Jn].modified_ && (pw(t), ui(4)), wi(e) && (e = QC(t, e)); const { patchPlugin_: a } = t; a && a.generateReplacementPatches_(r[Jn].base_, e, t) } else e = QC(t, r); return gV(t, e, !0), pw(t), t.patches_ && t.patchListener_(t.patches_, t.inversePatches_), e !== LM ? e : void 0 } function QC(e, t) { if (Ng(t)) return t; const r = t[Jn]; if (!r) return um(t, e.handledSet_, e); if (!Ag(r, e)) return t; if (!r.modified_) return r.base_; if (!r.finalized_) { const { callbacks_: n } = r; if (n) for (; n.length > 0;)n.pop()(e); HM(r, e) } return r.copy_ } function gV(e, t, r = !1) { !e.parent_ && e.immer_.autoFreeze_ && e.canAutoFreeze_ && X_(t, r) } function $M(e) { e.finalized_ = !0, e.scope_.unfinalizedDrafts_-- } var Ag = (e, t) => e.scope_ === t, xV = []; function zM(e, t, r, n) { const a = ys(e), i = e.type_; if (n !== void 0 && dw(a, n, i) === t) { lm(a, n, r, i); return } if (!e.draftLocations_) { const l = e.draftLocations_ = new Map; Sg(a, (f, d) => { if (As(d)) { const h = l.get(d) || []; h.push(f), l.set(d, h) } }) } const s = e.draftLocations_.get(t) ?? xV; for (const l of s) lm(a, l, r, i) } function vV(e, t, r) { e.callbacks_.push(function (a) { var l; const i = t; if (!i || !Ag(i, a)) return; (l = a.mapSetPlugin_) == null || l.fixSetContents(i); const s = Y_(i); zM(e, i.draft_ ?? i, s, r), HM(i, a) }) } function HM(e, t) { var n; if (e.modified_ && !e.finalized_ && (e.type_ === 3 || e.type_ === 1 && e.allIndicesReassigned_ || (((n = e.assigned_) == null ? void 0 : n.size) ?? 0) > 0)) { const { patchPlugin_: a } = t; if (a) { const i = a.getPath(e); i && a.generatePatches_(e, i, t) } $M(e) } } function yV(e, t, r) { const { scope_: n } = e; if (As(r)) { const a = r[Jn]; Ag(a, n) && a.callbacks_.push(function () { Up(e); const s = Y_(a); zM(e, r, s, t) }) } else wi(r) && e.callbacks_.push(function () { const i = ys(e); e.type_ === 3 ? i.has(r) && um(r, n.handledSet_, n) : dw(i, t, e.type_) === r && n.drafts_.length > 1 && (e.assigned_.get(t) ?? !1) === !0 && e.copy_ && um(dw(e.copy_, t, e.type_), n.handledSet_, n) }) } function um(e, t, r) { return !r.immer_.autoFreeze_ && r.unfinalizedDrafts_ < 1 || As(e) || t.has(e) || !wi(e) || Ng(e) || (t.add(e), Sg(e, (n, a) => { if (As(a)) { const i = a[Jn]; if (Ag(i, r)) { const s = Y_(i); lm(e, n, s, e.type_), $M(i) } } else wi(a) && um(a, t, r) })), e } function bV(e, t) { const r = Eg(e), n = { type_: r ? 1 : 0, scope_: t ? t.scope_ : BM(), modified_: !1, finalized_: !1, assigned_: void 0, parent_: t, base_: e, draft_: null, copy_: null, revoke_: null, isManual_: !1, callbacks_: void 0 }; let a = n, i = dm; r && (a = [n], i = $f); const { revoke: s, proxy: l } = Proxy.revocable(a, i); return n.draft_ = l, n.revoke_ = s, [l, n] } var dm = { get(e, t) { if (t === Jn) return e; let r = e.scope_.arrayMethodsPlugin_; const n = e.type_ === 1 && typeof t == "string"; if (n && r != null && r.isArrayOperationMethod(t)) return r.createMethodInterceptor(e, t); const a = ys(e); if (!WC(a, t, e.type_)) return wV(e, a, t); const i = a[t]; if (e.finalized_ || !wi(i) || n && e.operationMethod && (r != null && r.isMutatingArrayMethod(e.operationMethod)) && fV(t)) return i; if (i === qb(e.base_, t)) { Up(e); const s = e.type_ === 1 ? +t : t, l = xw(e.scope_, i, e, s); return e.copy_[s] = l } return i }, has(e, t) { return t in ys(e) }, ownKeys(e) { return Reflect.ownKeys(ys(e)) }, set(e, t, r) { const n = GM(ys(e), t); if (n != null && n.set) return n.set.call(e.draft_, r), !0; if (!e.modified_) { const a = qb(ys(e), t), i = a == null ? void 0 : a[Jn]; if (i && i.base_ === r) return e.copy_[t] = r, e.assigned_.set(t, !1), !0; if (dV(r, a) && (r !== void 0 || WC(e.base_, t, e.type_))) return !0; Up(e), gw(e) } return e.copy_[t] === r && (r !== void 0 || t in e.copy_) || Number.isNaN(r) && Number.isNaN(e.copy_[t]) || (e.copy_[t] = r, e.assigned_.set(t, !0), yV(e, t, r)), !0 }, deleteProperty(e, t) { return Up(e), qb(e.base_, t) !== void 0 || t in e.base_ ? (e.assigned_.set(t, !1), gw(e)) : e.assigned_.delete(t), e.copy_ && delete e.copy_[t], !0 }, getOwnPropertyDescriptor(e, t) { const r = ys(e), n = Reflect.getOwnPropertyDescriptor(r, t); return n && { [Fp]: !0, [uw]: e.type_ !== 1 || t !== "length", [om]: n[om], [Uf]: r[t] } }, defineProperty() { ui(11) }, getPrototypeOf(e) { return Ou(e.base_) }, setPrototypeOf() { ui(12) } }, $f = {}; for (let e in dm) { let t = dm[e]; $f[e] = function () { const r = arguments; return r[0] = r[0][0], t.apply(this, r) } } $f.deleteProperty = function (e, t) { return $f.set.call(this, e, t, void 0) }; $f.set = function (e, t, r) { return dm.set.call(this, e[0], t, r, e[0]) }; function qb(e, t) { const r = e[Jn]; return (r ? ys(r) : e)[t] } function wV(e, t, r) { var a; const n = GM(t, r); return n ? Uf in n ? n[Uf] : (a = n.get) == null ? void 0 : a.call(e.draft_) : void 0 } function GM(e, t) { if (!(t in e)) return; let r = Ou(e); for (; r;) { const n = Object.getOwnPropertyDescriptor(r, t); if (n) return n; r = Ou(r) } } function gw(e) { e.modified_ || (e.modified_ = !0, e.parent_ && gw(e.parent_)) } function Up(e) { e.copy_ || (e.assigned_ = new Map, e.copy_ = fw(e.base_, e.scope_.immer_.useStrictShallowCopy_)) } var _V = class { constructor(t) { this.autoFreeze_ = !0, this.useStrictShallowCopy_ = !1, this.useStrictIteration_ = !1, this.produce = (r, n, a) => { if (fu(r) && !fu(n)) { const s = n; n = r; const l = this; return function (d = s, ...h) { return l.produce(d, m => n.call(this, m, ...h)) } } fu(n) || ui(6), a !== void 0 && !fu(a) && ui(7); let i; if (wi(r)) { const s = JC(this), l = xw(s, r, void 0); let f = !0; try { i = n(l), f = !1 } finally { f ? pw(s) : mw(s) } return XC(s, a), ZC(i, s) } else if (!r || !K_(r)) { if (i = n(r), i === void 0 && (i = r), i === LM && (i = void 0), this.autoFreeze_ && X_(i, !0), a) { const s = [], l = []; Yl(hw).generateReplacementPatches_(r, i, { patches_: s, inversePatches_: l }), a(s, l) } return i } else ui(1, r) }, this.produceWithPatches = (r, n) => { if (fu(r)) return (l, ...f) => this.produceWithPatches(l, d => r(d, ...f)); let a, i; return [this.produce(r, n, (l, f) => { a = l, i = f }), a, i] }, Vb(t == null ? void 0 : t.autoFreeze) && this.setAutoFreeze(t.autoFreeze), Vb(t == null ? void 0 : t.useStrictShallowCopy) && this.setUseStrictShallowCopy(t.useStrictShallowCopy), Vb(t == null ? void 0 : t.useStrictIteration) && this.setUseStrictIteration(t.useStrictIteration) } createDraft(t) { wi(t) || ui(8), As(t) && (t = gi(t)); const r = JC(this), n = xw(r, t, void 0); return n[Jn].isManual_ = !0, mw(r), n } finishDraft(t, r) { const n = t && t[Jn]; (!n || !n.isManual_) && ui(9); const { scope_: a } = n; return XC(a, r), ZC(void 0, a) } setAutoFreeze(t) { this.autoFreeze_ = t } setUseStrictShallowCopy(t) { this.useStrictShallowCopy_ = t } setUseStrictIteration(t) { this.useStrictIteration_ = t } shouldUseStrictIteration() { return this.useStrictIteration_ } applyPatches(t, r) { let n; for (n = r.length - 1; n >= 0; n--) { const i = r[n]; if (i.path.length === 0 && i.op === "replace") { t = i.value; break } } n > -1 && (r = r.slice(n + 1)); const a = Yl(hw).applyPatches_; return As(t) ? a(t, r) : this.produce(t, i => a(i, r)) } }; function xw(e, t, r, n) { const [a, i] = kg(t) ? Yl(cm).proxyMap_(t, r) : Tg(t) ? Yl(cm).proxySet_(t, r) : bV(t, r); return ((r == null ? void 0 : r.scope_) ?? BM()).drafts_.push(a), i.callbacks_ = (r == null ? void 0 : r.callbacks_) ?? [], i.key_ = n, r && n !== void 0 ? vV(r, i, n) : i.callbacks_.push(function (f) { var h; (h = f.mapSetPlugin_) == null || h.fixSetContents(i); const { patchPlugin_: d } = f; i.modified_ && d && d.generatePatches_(i, [], f) }), a } function gi(e) { return As(e) || ui(10, e), VM(e) } function VM(e) { if (!wi(e) || Ng(e)) return e; const t = e[Jn]; let r, n = !0; if (t) { if (!t.modified_) return t.base_; t.finalized_ = !0, r = fw(e, t.scope_.immer_.useStrictShallowCopy_), n = t.scope_.immer_.shouldUseStrictIteration() } else r = fw(e, !0); return Sg(r, (a, i) => { lm(r, a, VM(i)) }, n), t && (t.finalized_ = !1), r } var SV = new _V, qM = SV.produce; function WM(e) { return ({ dispatch: r, getState: n }) => a => i => typeof i == "function" ? i(r, n, e) : a(i) } var EV = WM(), kV = WM, TV = typeof window < "u" && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : function () { if (arguments.length !== 0) return typeof arguments[0] == "object" ? im : im.apply(null, arguments) }; function Ka(e, t) { function r(...n) { if (t) { let a = t(...n); if (!a) throw new Error(ka(0)); return { type: e, payload: a.payload, ..."meta" in a && { meta: a.meta }, ..."error" in a && { error: a.error } } } return { type: e, payload: n[0] } } return r.toString = () => `${e}`, r.type = e, r.match = n => MM(n) && n.type === e, r } var KM = class df extends Array { constructor(...t) { super(...t), Object.setPrototypeOf(this, df.prototype) } static get [Symbol.species]() { return df } concat(...t) { return super.concat.apply(this, t) } prepend(...t) { return t.length === 1 && Array.isArray(t[0]) ? new df(...t[0].concat(this)) : new df(...t.concat(this)) } }; function ej(e) { return wi(e) ? qM(e, () => { }) : e } function op(e, t, r) { return e.has(t) ? e.get(t) : e.set(t, r(t)).get(t) } function NV(e) { return typeof e == "boolean" } var AV = () => function (t) { const { thunk: r = !0, immutableCheck: n = !0, serializableCheck: a = !0, actionCreatorCheck: i = !0 } = t ?? {}; let s = new KM; return r && (NV(r) ? s.push(EV) : s.push(kV(r.extraArgument))), s }, YM = "RTK_autoBatch", lr = () => e => ({ payload: e, meta: { [YM]: !0 } }), tj = e => t => { setTimeout(t, e) }, XM = (e = { type: "raf" }) => t => (...r) => { const n = t(...r); let a = !0, i = !1, s = !1; const l = new Set, f = e.type === "tick" ? queueMicrotask : e.type === "raf" ? typeof window < "u" && window.requestAnimationFrame ? window.requestAnimationFrame : tj(10) : e.type === "callback" ? e.queueNotification : tj(e.timeout), d = () => { s = !1, i && (i = !1, l.forEach(h => h())) }; return Object.assign({}, n, { subscribe(h) { const m = () => a && h(), g = n.subscribe(m); return l.add(h), () => { g(), l.delete(h) } }, dispatch(h) { var m; try { return a = !((m = h == null ? void 0 : h.meta) != null && m[YM]), i = !a, i && (s || (s = !0, f(d))), n.dispatch(h) } finally { a = !0 } } }) }, CV = e => function (r) { const { autoBatch: n = !0 } = r ?? {}; let a = new KM(e); return n && a.push(XM(typeof n == "object" ? n : void 0)), a }; function jV(e) { const t = AV(), { reducer: r = void 0, middleware: n, devTools: a = !0, preloadedState: i = void 0, enhancers: s = void 0 } = e || {}; let l; if (typeof r == "function") l = r; else if (W_(r)) l = DM(r); else throw new Error(ka(1)); let f; typeof n == "function" ? f = n(t) : f = t(); let d = im; a && (d = TV({ trace: !1, ...typeof a == "object" && a })); const h = cV(...f), m = CV(h); let g = typeof s == "function" ? s(m) : m(); const v = d(...g); return PM(l, i, v) } function JM(e) { const t = {}, r = []; let n; const a = { addCase(i, s) { const l = typeof i == "string" ? i : i.type; if (!l) throw new Error(ka(28)); if (l in t) throw new Error(ka(29)); return t[l] = s, a }, addAsyncThunk(i, s) { return s.pending && (t[i.pending.type] = s.pending), s.rejected && (t[i.rejected.type] = s.rejected), s.fulfilled && (t[i.fulfilled.type] = s.fulfilled), s.settled && r.push({ matcher: i.settled, reducer: s.settled }), a }, addMatcher(i, s) { return r.push({ matcher: i, reducer: s }), a }, addDefaultCase(i) { return n = i, a } }; return e(a), [t, r, n] } function IV(e) { return typeof e == "function" } function OV(e, t) { let [r, n, a] = JM(t), i; if (IV(e)) i = () => ej(e()); else { const l = ej(e); i = () => l } function s(l = i(), f) { let d = [r[f.type], ...n.filter(({ matcher: h }) => h(f)).map(({ reducer: h }) => h)]; return d.filter(h => !!h).length === 0 && (d = [a]), d.reduce((h, m) => { if (m) if (As(h)) { const v = m(h, f); return v === void 0 ? h : v } else { if (wi(h)) return qM(h, g => m(g, f)); { const g = m(h, f); if (g === void 0) { if (h === null) return h; throw Error("A case reducer on a non-draftable value must not return undefined") } return g } } return h }, l) } return s.getInitialState = i, s } var RV = "ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW", PV = (e = 21) => { let t = "", r = e; for (; r--;)t += RV[Math.random() * 64 | 0]; return t }, DV = Symbol.for("rtk-slice-createasyncthunk"); function MV(e, t) { return `${e}/${t}` } function LV({ creators: e } = {}) { var r; const t = (r = e == null ? void 0 : e.asyncThunk) == null ? void 0 : r[DV]; return function (a) { const { name: i, reducerPath: s = i } = a; if (!i) throw new Error(ka(11)); const l = (typeof a.reducers == "function" ? a.reducers(UV()) : a.reducers) || {}, f = Object.keys(l), d = { sliceCaseReducersByName: {}, sliceCaseReducersByType: {}, actionCreators: {}, sliceMatchers: [] }, h = { addCase(j, R) { const O = typeof j == "string" ? j : j.type; if (!O) throw new Error(ka(12)); if (O in d.sliceCaseReducersByType) throw new Error(ka(13)); return d.sliceCaseReducersByType[O] = R, h }, addMatcher(j, R) { return d.sliceMatchers.push({ matcher: j, reducer: R }), h }, exposeAction(j, R) { return d.actionCreators[j] = R, h }, exposeCaseReducer(j, R) { return d.sliceCaseReducersByName[j] = R, h } }; f.forEach(j => { const R = l[j], O = { reducerName: j, type: MV(i, j), createNotation: typeof a.reducers == "function" }; $V(R) ? HV(O, R, h, t) : BV(O, R, h) }); function m() { const [j = {}, R = [], O = void 0] = typeof a.extraReducers == "function" ? JM(a.extraReducers) : [a.extraReducers], I = { ...j, ...d.sliceCaseReducersByType }; return OV(a.initialState, H => { for (let F in I) H.addCase(F, I[F]); for (let F of d.sliceMatchers) H.addMatcher(F.matcher, F.reducer); for (let F of R) H.addMatcher(F.matcher, F.reducer); O && H.addDefaultCase(O) }) } const g = j => j, v = new Map, y = new WeakMap; let b; function _(j, R) { return b || (b = m()), b(j, R) } function k() { return b || (b = m()), b.getInitialState() } function C(j, R = !1) { function O(H) { let F = H[j]; return typeof F > "u" && R && (F = op(y, O, k)), F } function I(H = g) { const F = op(v, R, () => new WeakMap); return op(F, H, () => { const X = {}; for (const [V, U] of Object.entries(a.selectors ?? {})) X[V] = FV(U, H, () => op(y, H, k), R); return X }) } return { reducerPath: j, getSelectors: I, get selectors() { return I(O) }, selectSlice: O } } const T = { name: i, reducer: _, actions: d.actionCreators, caseReducers: d.sliceCaseReducersByName, getInitialState: k, ...C(s), injectInto(j, { reducerPath: R, ...O } = {}) { const I = R ?? s; return j.inject({ reducerPath: I, reducer: _ }, O), { ...T, ...C(I, !0) } } }; return T } } function FV(e, t, r, n) { function a(i, ...s) { let l = t(i); return typeof l > "u" && n && (l = r()), e(l, ...s) } return a.unwrapped = e, a } var da = LV(); function UV() { function e(t, r) { return { _reducerDefinitionType: "asyncThunk", payloadCreator: t, ...r } } return e.withTypes = () => e, { reducer(t) { return Object.assign({ [t.name](...r) { return t(...r) } }[t.name], { _reducerDefinitionType: "reducer" }) }, preparedReducer(t, r) { return { _reducerDefinitionType: "reducerWithPrepare", prepare: t, reducer: r } }, asyncThunk: e } } function BV({ type: e, reducerName: t, createNotation: r }, n, a) { let i, s; if ("reducer" in n) { if (r && !zV(n)) throw new Error(ka(17)); i = n.reducer, s = n.prepare } else i = n; a.addCase(e, i).exposeCaseReducer(t, i).exposeAction(t, s ? Ka(e, s) : Ka(e)) } function $V(e) { return e._reducerDefinitionType === "asyncThunk" } function zV(e) { return e._reducerDefinitionType === "reducerWithPrepare" } function HV({ type: e, reducerName: t }, r, n, a) { if (!a) throw new Error(ka(18)); const { payloadCreator: i, fulfilled: s, pending: l, rejected: f, settled: d, options: h } = r, m = a(e, i, h); n.exposeAction(t, m), s && n.addCase(m.fulfilled, s), l && n.addCase(m.pending, l), f && n.addCase(m.rejected, f), d && n.addMatcher(m.settled, d), n.exposeCaseReducer(t, { fulfilled: s || lp, pending: l || lp, rejected: f || lp, settled: d || lp }) } function lp() { } var GV = "task", ZM = "listener", QM = "completed", J_ = "cancelled", VV = `task-${J_}`, qV = `task-${QM}`, vw = `${ZM}-${J_}`, WV = `${ZM}-${QM}`, Cg = class { constructor(e) { Ry(this, "name", "TaskAbortError"); Ry(this, "message"); this.code = e, this.message = `${GV} ${J_} (reason: ${e})` } }, Z_ = (e, t) => { if (typeof e != "function") throw new TypeError(ka(32)) }, fm = () => { }, e3 = (e, t = fm) => (e.catch(t), e), t3 = (e, t) => (e.addEventListener("abort", t, { once: !0 }), () => e.removeEventListener("abort", t)), Ul = e => { if (e.aborted) throw new Cg(e.reason) }; function r3(e, t) { let r = fm; return new Promise((n, a) => { const i = () => a(new Cg(e.reason)); if (e.aborted) { i(); return } r = t3(e, i), t.finally(() => r()).then(n, a) }).finally(() => { r = fm }) } var KV = async (e, t) => { try { return await Promise.resolve(), { status: "ok", value: await e() } } catch (r) { return { status: r instanceof Cg ? "cancelled" : "rejected", error: r } } finally { t == null || t() } }, hm = e => t => e3(r3(e, t).then(r => (Ul(e), r))), n3 = e => { const t = hm(e); return r => t(new Promise(n => setTimeout(n, r))) }, { assign: Su } = Object, rj = {}, jg = "listenerMiddleware", YV = (e, t) => { const r = n => t3(e, () => n.abort(e.reason)); return (n, a) => { Z_(n); const i = new AbortController; r(i); const s = KV(async () => { Ul(e), Ul(i.signal); const l = await n({ pause: hm(i.signal), delay: n3(i.signal), signal: i.signal }); return Ul(i.signal), l }, () => i.abort(qV)); return a != null && a.autoJoin && t.push(s.catch(fm)), { result: hm(e)(s), cancel() { i.abort(VV) } } } }, XV = (e, t) => { const r = async (n, a) => { Ul(t); let i = () => { }; const l = [new Promise((f, d) => { let h = e({ predicate: n, effect: (m, g) => { g.unsubscribe(), f([m, g.getState(), g.getOriginalState()]) } }); i = () => { h(), d() } })]; a != null && l.push(new Promise(f => setTimeout(f, a, null))); try { const f = await r3(t, Promise.race(l)); return Ul(t), f } finally { i() } }; return (n, a) => e3(r(n, a)) }, a3 = e => { let { type: t, actionCreator: r, matcher: n, predicate: a, effect: i } = e; if (t) a = Ka(t).match; else if (r) t = r.type, a = r.match; else if (n) a = n; else if (!a) throw new Error(ka(21)); return Z_(i), { predicate: a, type: t, effect: i } }, i3 = Su(e => { const { type: t, predicate: r, effect: n } = a3(e); return { id: PV(), effect: n, type: t, predicate: r, pending: new Set, unsubscribe: () => { throw new Error(ka(22)) } } }, { withTypes: () => i3 }), nj = (e, t) => { const { type: r, effect: n, predicate: a } = a3(t); return Array.from(e.values()).find(i => (typeof r == "string" ? i.type === r : i.predicate === a) && i.effect === n) }, yw = e => { e.pending.forEach(t => { t.abort(vw) }) }, JV = (e, t) => () => { for (const r of t.keys()) yw(r); e.clear() }, aj = (e, t, r) => { try { e(t, r) } catch (n) { setTimeout(() => { throw n }, 0) } }, s3 = Su(Ka(`${jg}/add`), { withTypes: () => s3 }), ZV = Ka(`${jg}/removeAll`), o3 = Su(Ka(`${jg}/remove`), { withTypes: () => o3 }), QV = (...e) => { console.error(`${jg}/error`, ...e) }, p0 = (e = {}) => { const t = new Map, r = new Map, n = v => { const y = r.get(v) ?? 0; r.set(v, y + 1) }, a = v => { const y = r.get(v) ?? 1; y === 1 ? r.delete(v) : r.set(v, y - 1) }, { extra: i, onError: s = QV } = e; Z_(s); const l = v => (v.unsubscribe = () => t.delete(v.id), t.set(v.id, v), y => { v.unsubscribe(), y != null && y.cancelActive && yw(v) }), f = v => { const y = nj(t, v) ?? i3(v); return l(y) }; Su(f, { withTypes: () => f }); const d = v => { const y = nj(t, v); return y && (y.unsubscribe(), v.cancelActive && yw(y)), !!y }; Su(d, { withTypes: () => d }); const h = async (v, y, b, _) => { const k = new AbortController, C = XV(f, k.signal), T = []; try { v.pending.add(k), n(v), await Promise.resolve(v.effect(y, Su({}, b, { getOriginalState: _, condition: (j, R) => C(j, R).then(Boolean), take: C, delay: n3(k.signal), pause: hm(k.signal), extra: i, signal: k.signal, fork: YV(k.signal, T), unsubscribe: v.unsubscribe, subscribe: () => { t.set(v.id, v) }, cancelActiveListeners: () => { v.pending.forEach((j, R, O) => { j !== k && (j.abort(vw), O.delete(j)) }) }, cancel: () => { k.abort(vw), v.pending.delete(k) }, throwIfCancelled: () => { Ul(k.signal) } }))) } catch (j) { j instanceof Cg || aj(s, j, { raisedBy: "effect" }) } finally { await Promise.all(T), k.abort(WV), a(v), v.pending.delete(k) } }, m = JV(t, r); return { middleware: v => y => b => { if (!MM(b)) return y(b); if (s3.match(b)) return f(b.payload); if (ZV.match(b)) { m(); return } if (o3.match(b)) return d(b.payload); let _ = v.getState(); const k = () => { if (_ === rj) throw new Error(ka(23)); return _ }; let C; try { if (C = y(b), t.size > 0) { const T = v.getState(), j = Array.from(t.values()); for (const R of j) { let O = !1; try { O = R.predicate(b, T, _) } catch (I) { O = !1, aj(s, I, { raisedBy: "predicate" }) } O && h(R, b, v, k) } } } finally { _ = rj } return C }, startListening: f, stopListening: d, clearListeners: m } }; function ka(e) { return `Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. ` } var eq = { layoutType: "horizontal", width: 0, height: 0, margin: { top: 5, right: 5, bottom: 5, left: 5 }, scale: 1 }, l3 = da({ name: "chartLayout", initialState: eq, reducers: { setLayout(e, t) { e.layoutType = t.payload }, setChartSize(e, t) { e.width = t.payload.width, e.height = t.payload.height }, setMargin(e, t) { var r, n, a, i; e.margin.top = (r = t.payload.top) !== null && r !== void 0 ? r : 0, e.margin.right = (n = t.payload.right) !== null && n !== void 0 ? n : 0, e.margin.bottom = (a = t.payload.bottom) !== null && a !== void 0 ? a : 0, e.margin.left = (i = t.payload.left) !== null && i !== void 0 ? i : 0 }, setScale(e, t) { e.scale = t.payload } } }), { setMargin: tq, setLayout: rq, setChartSize: nq, setScale: aq } = l3.actions, iq = l3.reducer; function c3(e, t, r) { return Array.isArray(e) && e && t + r !== 0 ? e.slice(t, r + 1) : e } function xt(e) { return Number.isFinite(e) } function Gi(e) { return typeof e == "number" && e > 0 && Number.isFinite(e) } function ij(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function gu(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? ij(Object(r), !0).forEach(function (n) { sq(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : ij(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function sq(e, t, r) { return (t = oq(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function oq(e) { var t = lq(e, "string"); return typeof t == "symbol" ? t : t + "" } function lq(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } function Ft(e, t, r) { return fr(e) || fr(t) ? r : Hi(t) ? Wl(e, t, r) : typeof t == "function" ? t(e) : r } var cq = (e, t, r) => { if (t && r) { var { width: n, height: a } = r, { align: i, verticalAlign: s, layout: l } = t; if ((l === "vertical" || l === "horizontal" && s === "middle") && i !== "center" && ze(e[i])) return gu(gu({}, e), {}, { [i]: e[i] + (n || 0) }); if ((l === "horizontal" || l === "vertical" && i === "center") && s !== "middle" && ze(e[s])) return gu(gu({}, e), {}, { [s]: e[s] + (a || 0) }) } return e }, Ei = (e, t) => e === "horizontal" && t === "xAxis" || e === "vertical" && t === "yAxis" || e === "centric" && t === "angleAxis" || e === "radial" && t === "radiusAxis", u3 = (e, t, r, n) => { if (n) return e.map(l => l.coordinate); var a, i, s = e.map(l => (l.coordinate === t && (a = !0), l.coordinate === r && (i = !0), l.coordinate)); return a || s.push(t), i || s.push(r), s }, d3 = (e, t, r) => { if (!e) return null; var { duplicateDomain: n, type: a, range: i, scale: s, realScaleType: l, isCategorical: f, categoricalDomain: d, tickCount: h, ticks: m, niceTicks: g, axisType: v } = e; if (!s) return null; var y = l === "scaleBand" && s.bandwidth ? s.bandwidth() / 2 : 2, b = a === "category" && s.bandwidth ? s.bandwidth() / y : 0; if (b = v === "angleAxis" && i && i.length >= 2 ? an(i[0] - i[1]) * 2 * b : b, m || g) { var _ = (m || g || []).map((k, C) => { var T = n ? n.indexOf(k) : k, j = s.map(T); return xt(j) ? { coordinate: j + b, value: k, offset: b, index: C } : null }).filter(ca); return _ } return f && d ? d.map((k, C) => { var T = s.map(k); return xt(T) ? { coordinate: T + b, value: k, index: C, offset: b } : null }).filter(ca) : s.ticks && h != null ? s.ticks(h).map((k, C) => { var T = s.map(k); return xt(T) ? { coordinate: T + b, value: k, index: C, offset: b } : null }).filter(ca) : s.domain().map((k, C) => { var T = s.map(k); return xt(T) ? { coordinate: T + b, value: n ? n[k] : k, index: C, offset: b } : null }).filter(ca) }, uq = (e, t) => { if (!t || t.length !== 2 || !ze(t[0]) || !ze(t[1])) return e; var r = Math.min(t[0], t[1]), n = Math.max(t[0], t[1]), a = [e[0], e[1]]; return (!ze(e[0]) || e[0] < r) && (a[0] = r), (!ze(e[1]) || e[1] > n) && (a[1] = n), a[0] > n && (a[0] = n), a[1] < r && (a[1] = r), a }, dq = e => { var t, r = e.length; if (!(r <= 0)) { var n = (t = e[0]) === null || t === void 0 ? void 0 : t.length; if (!(n == null || n <= 0)) for (var a = 0; a < n; ++a)for (var i = 0, s = 0, l = 0; l < r; ++l) { var f = e[l], d = f == null ? void 0 : f[a]; if (d != null) { var h = d[1], m = d[0], g = bi(h) ? m : h; g >= 0 ? (d[0] = i, i += g, d[1] = i) : (d[0] = s, s += g, d[1] = s) } } } }, fq = e => { var t, r = e.length; if (!(r <= 0)) { var n = (t = e[0]) === null || t === void 0 ? void 0 : t.length; if (!(n == null || n <= 0)) for (var a = 0; a < n; ++a)for (var i = 0, s = 0; s < r; ++s) { var l = e[s], f = l == null ? void 0 : l[a]; if (f != null) { var d = bi(f[1]) ? f[0] : f[1]; d >= 0 ? (f[0] = i, i += d, f[1] = i) : (f[0] = 0, f[1] = 0) } } } }, hq = { sign: dq, expand: RH, none: ql, silhouette: PH, wiggle: DH, positive: fq }, pq = (e, t, r) => { var n, a = (n = hq[r]) !== null && n !== void 0 ? n : ql, i = OH().keys(t).value((l, f) => Number(Ft(l, f, 0))).order(lw).offset(a), s = i(e); return s.forEach((l, f) => { l.forEach((d, h) => { var m = Ft(e[h], t[f], 0); Array.isArray(m) && m.length === 2 && ze(m[0]) && ze(m[1]) && (d[0] = m[0], d[1] = m[1]) }) }), s }; function f3(e) { return e == null ? void 0 : String(e) } function pm(e) { var { axis: t, ticks: r, bandSize: n, entry: a, index: i, dataKey: s } = e; if (t.type === "category") { if (!t.allowDuplicatedCategory && t.dataKey && !fr(a[t.dataKey])) { var l = xM(r, "value", a[t.dataKey]); if (l) return l.coordinate + n / 2 } return r != null && r[i] ? r[i].coordinate + n / 2 : null } var f = Ft(a, fr(s) ? t.dataKey : s), d = t.scale.map(f); return ze(d) ? d : null } var sj = e => { var { axis: t, ticks: r, offset: n, bandSize: a, entry: i, index: s } = e; if (t.type === "category") return r[s] ? r[s].coordinate + n : null; var l = Ft(i, t.dataKey, t.scale.domain()[s]); if (fr(l)) return null; var f = t.scale.map(l); return ze(f) ? f - a / 2 + n : null }, mq = e => { var { numericAxis: t } = e, r = t.scale.domain(); if (t.type === "number") { var n = Math.min(r[0], r[1]), a = Math.max(r[0], r[1]); return n <= 0 && a >= 0 ? 0 : a < 0 ? a : n } return r[0] }, gq = e => { var t = e.flat(2).filter(ze); return [Math.min(...t), Math.max(...t)] }, xq = e => [e[0] === 1 / 0 ? 0 : e[0], e[1] === -1 / 0 ? 0 : e[1]], vq = (e, t, r) => { if (e != null) return xq(Object.keys(e).reduce((n, a) => { var i = e[a]; if (!i) return n; var { stackedData: s } = i, l = s.reduce((f, d) => { var h = c3(d, t, r), m = gq(h); return !xt(m[0]) || !xt(m[1]) ? f : [Math.min(f[0], m[0]), Math.max(f[1], m[1])] }, [1 / 0, -1 / 0]); return [Math.min(l[0], n[0]), Math.max(l[1], n[1])] }, [1 / 0, -1 / 0])) }, oj = /^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/, lj = /^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/, Fo = (e, t, r) => { if (e && e.scale && e.scale.bandwidth) { var n = e.scale.bandwidth(); if (!r || n > 0) return n } if (e && t && t.length >= 2) { for (var a = wg(t, h => h.coordinate), i = 1 / 0, s = 1, l = a.length; s < l; s++) { var f = a[s], d = a[s - 1]; i = Math.min(((f == null ? void 0 : f.coordinate) || 0) - ((d == null ? void 0 : d.coordinate) || 0), i) } return i === 1 / 0 ? 0 : i } return r ? void 0 : 0 }; function cj(e) { var { tooltipEntrySettings: t, dataKey: r, payload: n, value: a, name: i } = e; return gu(gu({}, t), {}, { dataKey: r, payload: n, value: a, name: i }) } function Go(e, t) { if (e) return String(e); if (typeof t == "string") return t } var yq = (e, t) => { if (t === "horizontal") return e.chartX; if (t === "vertical") return e.chartY }, bq = (e, t) => t === "centric" ? e.angle : e.radius, Fs = e => e.layout.width, Us = e => e.layout.height, wq = e => e.layout.scale, h3 = e => e.layout.margin, Ig = xe(e => e.cartesianAxis.xAxis, e => Object.values(e)), Og = xe(e => e.cartesianAxis.yAxis, e => Object.values(e)), p3 = "data-recharts-item-index", m3 = "data-recharts-item-id", m0 = 60; function uj(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function cp(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? uj(Object(r), !0).forEach(function (n) { _q(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : uj(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function _q(e, t, r) { return (t = Sq(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function Sq(e) { var t = Eq(e, "string"); return typeof t == "symbol" ? t : t + "" } function Eq(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } var kq = e => e.brush.height; function Tq(e) { var t = Og(e); return t.reduce((r, n) => { if (n.orientation === "left" && !n.mirror && !n.hide) { var a = typeof n.width == "number" ? n.width : m0; return r + a } return r }, 0) } function Nq(e) { var t = Og(e); return t.reduce((r, n) => { if (n.orientation === "right" && !n.mirror && !n.hide) { var a = typeof n.width == "number" ? n.width : m0; return r + a } return r }, 0) } function Aq(e) { var t = Ig(e); return t.reduce((r, n) => n.orientation === "top" && !n.mirror && !n.hide ? r + n.height : r, 0) } function Cq(e) { var t = Ig(e); return t.reduce((r, n) => n.orientation === "bottom" && !n.mirror && !n.hide ? r + n.height : r, 0) } var Wr = xe([Fs, Us, h3, kq, Tq, Nq, Aq, Cq, OM, rV], (e, t, r, n, a, i, s, l, f, d) => { var h = { left: (r.left || 0) + a, right: (r.right || 0) + i }, m = { top: (r.top || 0) + s, bottom: (r.bottom || 0) + l }, g = cp(cp({}, m), h), v = g.bottom; g.bottom += n, g = cq(g, f, d); var y = e - g.left - g.right, b = t - g.top - g.bottom; return cp(cp({ brushBottom: v }, g), {}, { width: Math.max(y, 0), height: Math.max(b, 0) }) }), jq = xe(Wr, e => ({ x: e.left, y: e.top, width: e.width, height: e.height })), Q_ = xe(Fs, Us, (e, t) => ({ x: 0, y: 0, width: e, height: t })), Iq = A.createContext(null), on = () => A.useContext(Iq) != null, Rg = e => e.brush, Pg = xe([Rg, Wr, h3], (e, t, r) => ({ height: e.height, x: ze(e.x) ? e.x : t.left, y: ze(e.y) ? e.y : t.top + t.height + t.brushBottom - ((r == null ? void 0 : r.bottom) || 0), width: ze(e.width) ? e.width : t.width })), Wb = {}, Kb = {}, Yb = {}, dj; function Oq() { return dj || (dj = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); function t(r, n, { signal: a, edges: i } = {}) { let s, l = null; const f = i != null && i.includes("leading"), d = i == null || i.includes("trailing"), h = () => { l !== null && (r.apply(s, l), s = void 0, l = null) }, m = () => { d && h(), b() }; let g = null; const v = () => { g != null && clearTimeout(g), g = setTimeout(() => { g = null, m() }, n) }, y = () => { g !== null && (clearTimeout(g), g = null) }, b = () => { y(), s = void 0, l = null }, _ = () => { h() }, k = function (...C) { if (a != null && a.aborted) return; s = this, l = C; const T = g == null; v(), f && T && h() }; return k.schedule = v, k.cancel = b, k.flush = _, a == null || a.addEventListener("abort", b, { once: !0 }), k } e.debounce = t })(Yb)), Yb } var fj; function Rq() { return fj || (fj = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); const t = Oq(); function r(n, a = 0, i = {}) { typeof i != "object" && (i = {}); const { leading: s = !1, trailing: l = !0, maxWait: f } = i, d = Array(2); s && (d[0] = "leading"), l && (d[1] = "trailing"); let h, m = null; const g = t.debounce(function (...b) { h = n.apply(this, b), m = null }, a, { edges: d }), v = function (...b) { return f != null && (m === null && (m = Date.now()), Date.now() - m >= f) ? (h = n.apply(this, b), m = Date.now(), g.cancel(), g.schedule(), h) : (g.apply(this, b), h) }, y = () => (g.flush(), h); return v.cancel = g.cancel, v.flush = y, v } e.debounce = r })(Kb)), Kb } var hj; function Pq() { return hj || (hj = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); const t = Rq(); function r(n, a = 0, i = {}) { const { leading: s = !0, trailing: l = !0 } = i; return t.debounce(n, a, { leading: s, maxWait: a, trailing: l }) } e.throttle = r })(Wb)), Wb } var Xb, pj; function Dq() { return pj || (pj = 1, Xb = Pq().throttle), Xb } var Mq = Dq(); const Lq = _i(Mq); var mm = function (t, r) { for (var n = arguments.length, a = new Array(n > 2 ? n - 2 : 0), i = 2; i < n; i++)a[i - 2] = arguments[i]; if (typeof console < "u" && console.warn && (r === void 0 && console.warn("LogUtils requires an error message argument"), !t)) if (r === void 0) console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings."); else { var s = 0; console.warn(r.replace(/%s/g, () => a[s++])) } }, Bi = { width: "100%", height: "100%", debounce: 0, minWidth: 0, initialDimension: { width: -1, height: -1 } }, g3 = (e, t, r) => { var { width: n = Bi.width, height: a = Bi.height, aspect: i, maxHeight: s } = r, l = Kl(n) ? e : Number(n), f = Kl(a) ? t : Number(a); return i && i > 0 && (l ? f = l / i : f && (l = f * i), s && f != null && f > s && (f = s)), { calculatedWidth: l, calculatedHeight: f } }, Fq = { width: 0, height: 0, overflow: "visible" }, Uq = { width: 0, overflowX: "visible" }, Bq = { height: 0, overflowY: "visible" }, $q = {}, zq = e => { var { width: t, height: r } = e, n = Kl(t), a = Kl(r); return n && a ? Fq : n ? Uq : a ? Bq : $q }; function Hq(e) { var { width: t, height: r, aspect: n } = e, a = t, i = r; return a === void 0 && i === void 0 ? (a = Bi.width, i = Bi.height) : a === void 0 ? a = n && n > 0 ? void 0 : Bi.width : i === void 0 && (i = n && n > 0 ? void 0 : Bi.height), { width: a, height: i } } function bw() { return bw = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, bw.apply(null, arguments) } function mj(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function gj(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? mj(Object(r), !0).forEach(function (n) { Gq(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : mj(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function Gq(e, t, r) { return (t = Vq(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function Vq(e) { var t = qq(e, "string"); return typeof t == "symbol" ? t : t + "" } function qq(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } var x3 = A.createContext(Bi.initialDimension); function Wq(e) { return Gi(e.width) && Gi(e.height) } function v3(e) { var { children: t, width: r, height: n } = e, a = A.useMemo(() => ({ width: r, height: n }), [r, n]); return Wq(a) ? A.createElement(x3.Provider, { value: a }, t) : null } var eS = () => A.useContext(x3), Kq = A.forwardRef((e, t) => {
  var { aspect: r, initialDimension: n = Bi.initialDimension, width: a, height: i, minWidth: s = Bi.minWidth, minHeight: l, maxHeight: f, children: d, debounce: h = Bi.debounce, id: m, className: g, onResize: v, style: y = {} } = e, b = A.useRef(null), _ = A.useRef(); _.current = v, A.useImperativeHandle(t, () => b.current); var [k, C] = A.useState({ containerWidth: n.width, containerHeight: n.height }), T = A.useCallback((H, F) => { C(X => { var V = Math.round(H), U = Math.round(F); return X.containerWidth === V && X.containerHeight === U ? X : { containerWidth: V, containerHeight: U } }) }, []); A.useEffect(() => { if (b.current == null || typeof ResizeObserver > "u") return Ho; var H = U => { var ee, re = U[0]; if (re != null) { var { width: de, height: D } = re.contentRect; T(de, D), (ee = _.current) === null || ee === void 0 || ee.call(_, de, D) } }; h > 0 && (H = Lq(H, h, { trailing: !0, leading: !1 })); var F = new ResizeObserver(H), { width: X, height: V } = b.current.getBoundingClientRect(); return T(X, V), F.observe(b.current), () => { F.disconnect() } }, [T, h]); var { containerWidth: j, containerHeight: R } = k; mm(!r || r > 0, "The aspect(%s) must be greater than zero.", r); var { calculatedWidth: O, calculatedHeight: I } = g3(j, R, { width: a, height: i, aspect: r, maxHeight: f }); return mm(O != null && O > 0 || I != null && I > 0, `The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`, O, I, a, i, s, l, r), A.createElement("div", { id: m ? "".concat(m) : void 0, className: At("recharts-responsive-container", g), style: gj(gj({}, y), {}, { width: a, height: i, minWidth: s, minHeight: l, maxHeight: f }), ref: b }, A.createElement("div", { style: zq({ width: a, height: i }) }, A.createElement(v3, { width: O, height: I }, d)))
}), Nl = A.forwardRef((e, t) => { var r = eS(); if (Gi(r.width) && Gi(r.height)) return e.children; var { width: n, height: a } = Hq({ width: e.width, height: e.height, aspect: e.aspect }), { calculatedWidth: i, calculatedHeight: s } = g3(void 0, void 0, { width: n, height: a, aspect: e.aspect, maxHeight: e.maxHeight }); return ze(i) && ze(s) ? A.createElement(v3, { width: i, height: s }, e.children) : A.createElement(Kq, bw({}, e, { width: n, height: a, ref: t })) }); function tS(e) { if (e) return { x: e.x, y: e.y, upperWidth: "upperWidth" in e ? e.upperWidth : e.width, lowerWidth: "lowerWidth" in e ? e.lowerWidth : e.width, width: e.width, height: e.height } } var Dg = () => { var e, t = on(), r = We(jq), n = We(Pg), a = (e = We(Rg)) === null || e === void 0 ? void 0 : e.padding; return !t || !n || !a ? r : { width: n.width - a.left - a.right, height: n.height - a.top - a.bottom, x: a.left, y: a.top } }, Yq = { top: 0, bottom: 0, left: 0, right: 0, width: 0, height: 0, brushBottom: 0 }, y3 = () => { var e; return (e = We(Wr)) !== null && e !== void 0 ? e : Yq }, rS = () => We(Fs), nS = () => We(Us), Xq = () => We(e => e.layout.margin), Et = e => e.layout.layoutType, Vo = () => We(Et), aS = () => { var e = Vo(); if (e === "horizontal" || e === "vertical") return e }, b3 = e => { var t = e.layout.layoutType; if (t === "centric" || t === "radial") return t }, Jq = () => { var e = Vo(); return e !== void 0 }, g0 = e => { var t = rr(), r = on(), { width: n, height: a } = e, i = eS(), s = n, l = a; return i && (s = i.width > 0 ? i.width : n, l = i.height > 0 ? i.height : a), A.useEffect(() => { !r && Gi(s) && Gi(l) && t(nq({ width: s, height: l })) }, [t, r, s, l]), null }, w3 = Symbol.for("immer-nothing"), xj = Symbol.for("immer-draftable"), Ta = Symbol.for("immer-state"); function di(e, ...t) { throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`) } var zf = Object.getPrototypeOf; function Ru(e) { return !!e && !!e[Ta] } function Xl(e) { var t; return e ? _3(e) || Array.isArray(e) || !!e[xj] || !!((t = e.constructor) != null && t[xj]) || x0(e) || Lg(e) : !1 } var Zq = Object.prototype.constructor.toString(), vj = new WeakMap; function _3(e) { if (!e || typeof e != "object") return !1; const t = Object.getPrototypeOf(e); if (t === null || t === Object.prototype) return !0; const r = Object.hasOwnProperty.call(t, "constructor") && t.constructor; if (r === Object) return !0; if (typeof r != "function") return !1; let n = vj.get(r); return n === void 0 && (n = Function.toString.call(r), vj.set(r, n)), n === Zq } function gm(e, t, r = !0) { Mg(e) === 0 ? (r ? Reflect.ownKeys(e) : Object.keys(e)).forEach(a => { t(a, e[a], e) }) : e.forEach((n, a) => t(a, n, e)) } function Mg(e) { const t = e[Ta]; return t ? t.type_ : Array.isArray(e) ? 1 : x0(e) ? 2 : Lg(e) ? 3 : 0 } function ww(e, t) { return Mg(e) === 2 ? e.has(t) : Object.prototype.hasOwnProperty.call(e, t) } function S3(e, t, r) { const n = Mg(e); n === 2 ? e.set(t, r) : n === 3 ? e.add(r) : e[t] = r } function Qq(e, t) { return e === t ? e !== 0 || 1 / e === 1 / t : e !== e && t !== t } function x0(e) { return e instanceof Map } function Lg(e) { return e instanceof Set } function _l(e) { return e.copy_ || e.base_ } function _w(e, t) { if (x0(e)) return new Map(e); if (Lg(e)) return new Set(e); if (Array.isArray(e)) return Array.prototype.slice.call(e); const r = _3(e); if (t === !0 || t === "class_only" && !r) { const n = Object.getOwnPropertyDescriptors(e); delete n[Ta]; let a = Reflect.ownKeys(n); for (let i = 0; i < a.length; i++) { const s = a[i], l = n[s]; l.writable === !1 && (l.writable = !0, l.configurable = !0), (l.get || l.set) && (n[s] = { configurable: !0, writable: !0, enumerable: l.enumerable, value: e[s] }) } return Object.create(zf(e), n) } else { const n = zf(e); if (n !== null && r) return { ...e }; const a = Object.create(n); return Object.assign(a, e) } } function iS(e, t = !1) { return Fg(e) || Ru(e) || !Xl(e) || (Mg(e) > 1 && Object.defineProperties(e, { set: up, add: up, clear: up, delete: up }), Object.freeze(e), t && Object.values(e).forEach(r => iS(r, !0))), e } function eW() { di(2) } var up = { value: eW }; function Fg(e) { return e === null || typeof e != "object" ? !0 : Object.isFrozen(e) } var tW = {}; function Jl(e) { const t = tW[e]; return t || di(0, e), t } var Hf; function E3() { return Hf } function rW(e, t) { return { drafts_: [], parent_: e, immer_: t, canAutoFreeze_: !0, unfinalizedDrafts_: 0 } } function yj(e, t) { t && (Jl("Patches"), e.patches_ = [], e.inversePatches_ = [], e.patchListener_ = t) } function Sw(e) { Ew(e), e.drafts_.forEach(nW), e.drafts_ = null } function Ew(e) { e === Hf && (Hf = e.parent_) } function bj(e) { return Hf = rW(Hf, e) } function nW(e) { const t = e[Ta]; t.type_ === 0 || t.type_ === 1 ? t.revoke_() : t.revoked_ = !0 } function wj(e, t) { t.unfinalizedDrafts_ = t.drafts_.length; const r = t.drafts_[0]; return e !== void 0 && e !== r ? (r[Ta].modified_ && (Sw(t), di(4)), Xl(e) && (e = xm(t, e), t.parent_ || vm(t, e)), t.patches_ && Jl("Patches").generateReplacementPatches_(r[Ta].base_, e, t.patches_, t.inversePatches_)) : e = xm(t, r, []), Sw(t), t.patches_ && t.patchListener_(t.patches_, t.inversePatches_), e !== w3 ? e : void 0 } function xm(e, t, r) { if (Fg(t)) return t; const n = e.immer_.shouldUseStrictIteration(), a = t[Ta]; if (!a) return gm(t, (i, s) => _j(e, a, t, i, s, r), n), t; if (a.scope_ !== e) return t; if (!a.modified_) return vm(e, a.base_, !0), a.base_; if (!a.finalized_) { a.finalized_ = !0, a.scope_.unfinalizedDrafts_--; const i = a.copy_; let s = i, l = !1; a.type_ === 3 && (s = new Set(i), i.clear(), l = !0), gm(s, (f, d) => _j(e, a, i, f, d, r, l), n), vm(e, i, !1), r && e.patches_ && Jl("Patches").generatePatches_(a, r, e.patches_, e.inversePatches_) } return a.copy_ } function _j(e, t, r, n, a, i, s) { if (a == null || typeof a != "object" && !s) return; const l = Fg(a); if (!(l && !s)) { if (Ru(a)) { const f = i && t && t.type_ !== 3 && !ww(t.assigned_, n) ? i.concat(n) : void 0, d = xm(e, a, f); if (S3(r, n, d), Ru(d)) e.canAutoFreeze_ = !1; else return } else s && r.add(a); if (Xl(a) && !l) { if (!e.immer_.autoFreeze_ && e.unfinalizedDrafts_ < 1 || t && t.base_ && t.base_[n] === a && l) return; xm(e, a), (!t || !t.scope_.parent_) && typeof n != "symbol" && (x0(r) ? r.has(n) : Object.prototype.propertyIsEnumerable.call(r, n)) && vm(e, a) } } } function vm(e, t, r = !1) { !e.parent_ && e.immer_.autoFreeze_ && e.canAutoFreeze_ && iS(t, r) } function aW(e, t) { const r = Array.isArray(e), n = { type_: r ? 1 : 0, scope_: t ? t.scope_ : E3(), modified_: !1, finalized_: !1, assigned_: {}, parent_: t, base_: e, draft_: null, copy_: null, revoke_: null, isManual_: !1 }; let a = n, i = sS; r && (a = [n], i = Gf); const { revoke: s, proxy: l } = Proxy.revocable(a, i); return n.draft_ = l, n.revoke_ = s, l } var sS = { get(e, t) { if (t === Ta) return e; const r = _l(e); if (!ww(r, t)) return iW(e, r, t); const n = r[t]; return e.finalized_ || !Xl(n) ? n : n === Jb(e.base_, t) ? (Zb(e), e.copy_[t] = Tw(n, e)) : n }, has(e, t) { return t in _l(e) }, ownKeys(e) { return Reflect.ownKeys(_l(e)) }, set(e, t, r) { const n = k3(_l(e), t); if (n != null && n.set) return n.set.call(e.draft_, r), !0; if (!e.modified_) { const a = Jb(_l(e), t), i = a == null ? void 0 : a[Ta]; if (i && i.base_ === r) return e.copy_[t] = r, e.assigned_[t] = !1, !0; if (Qq(r, a) && (r !== void 0 || ww(e.base_, t))) return !0; Zb(e), kw(e) } return e.copy_[t] === r && (r !== void 0 || t in e.copy_) || Number.isNaN(r) && Number.isNaN(e.copy_[t]) || (e.copy_[t] = r, e.assigned_[t] = !0), !0 }, deleteProperty(e, t) { return Jb(e.base_, t) !== void 0 || t in e.base_ ? (e.assigned_[t] = !1, Zb(e), kw(e)) : delete e.assigned_[t], e.copy_ && delete e.copy_[t], !0 }, getOwnPropertyDescriptor(e, t) { const r = _l(e), n = Reflect.getOwnPropertyDescriptor(r, t); return n && { writable: !0, configurable: e.type_ !== 1 || t !== "length", enumerable: n.enumerable, value: r[t] } }, defineProperty() { di(11) }, getPrototypeOf(e) { return zf(e.base_) }, setPrototypeOf() { di(12) } }, Gf = {}; gm(sS, (e, t) => { Gf[e] = function () { return arguments[0] = arguments[0][0], t.apply(this, arguments) } }); Gf.deleteProperty = function (e, t) { return Gf.set.call(this, e, t, void 0) }; Gf.set = function (e, t, r) { return sS.set.call(this, e[0], t, r, e[0]) }; function Jb(e, t) { const r = e[Ta]; return (r ? _l(r) : e)[t] } function iW(e, t, r) { var a; const n = k3(t, r); return n ? "value" in n ? n.value : (a = n.get) == null ? void 0 : a.call(e.draft_) : void 0 } function k3(e, t) { if (!(t in e)) return; let r = zf(e); for (; r;) { const n = Object.getOwnPropertyDescriptor(r, t); if (n) return n; r = zf(r) } } function kw(e) { e.modified_ || (e.modified_ = !0, e.parent_ && kw(e.parent_)) } function Zb(e) { e.copy_ || (e.copy_ = _w(e.base_, e.scope_.immer_.useStrictShallowCopy_)) } var sW = class { constructor(e) { this.autoFreeze_ = !0, this.useStrictShallowCopy_ = !1, this.useStrictIteration_ = !0, this.produce = (t, r, n) => { if (typeof t == "function" && typeof r != "function") { const i = r; r = t; const s = this; return function (f = i, ...d) { return s.produce(f, h => r.call(this, h, ...d)) } } typeof r != "function" && di(6), n !== void 0 && typeof n != "function" && di(7); let a; if (Xl(t)) { const i = bj(this), s = Tw(t, void 0); let l = !0; try { a = r(s), l = !1 } finally { l ? Sw(i) : Ew(i) } return yj(i, n), wj(a, i) } else if (!t || typeof t != "object") { if (a = r(t), a === void 0 && (a = t), a === w3 && (a = void 0), this.autoFreeze_ && iS(a, !0), n) { const i = [], s = []; Jl("Patches").generateReplacementPatches_(t, a, i, s), n(i, s) } return a } else di(1, t) }, this.produceWithPatches = (t, r) => { if (typeof t == "function") return (s, ...l) => this.produceWithPatches(s, f => t(f, ...l)); let n, a; return [this.produce(t, r, (s, l) => { n = s, a = l }), n, a] }, typeof (e == null ? void 0 : e.autoFreeze) == "boolean" && this.setAutoFreeze(e.autoFreeze), typeof (e == null ? void 0 : e.useStrictShallowCopy) == "boolean" && this.setUseStrictShallowCopy(e.useStrictShallowCopy), typeof (e == null ? void 0 : e.useStrictIteration) == "boolean" && this.setUseStrictIteration(e.useStrictIteration) } createDraft(e) { Xl(e) || di(8), Ru(e) && (e = oW(e)); const t = bj(this), r = Tw(e, void 0); return r[Ta].isManual_ = !0, Ew(t), r } finishDraft(e, t) { const r = e && e[Ta]; (!r || !r.isManual_) && di(9); const { scope_: n } = r; return yj(n, t), wj(void 0, n) } setAutoFreeze(e) { this.autoFreeze_ = e } setUseStrictShallowCopy(e) { this.useStrictShallowCopy_ = e } setUseStrictIteration(e) { this.useStrictIteration_ = e } shouldUseStrictIteration() { return this.useStrictIteration_ } applyPatches(e, t) { let r; for (r = t.length - 1; r >= 0; r--) { const a = t[r]; if (a.path.length === 0 && a.op === "replace") { e = a.value; break } } r > -1 && (t = t.slice(r + 1)); const n = Jl("Patches").applyPatches_; return Ru(e) ? n(e, t) : this.produce(e, a => n(a, t)) } }; function Tw(e, t) { const r = x0(e) ? Jl("MapSet").proxyMap_(e, t) : Lg(e) ? Jl("MapSet").proxySet_(e, t) : aW(e, t); return (t ? t.scope_ : E3()).drafts_.push(r), r } function oW(e) { return Ru(e) || di(10, e), T3(e) } function T3(e) { if (!Xl(e) || Fg(e)) return e; const t = e[Ta]; let r, n = !0; if (t) { if (!t.modified_) return t.base_; t.finalized_ = !0, r = _w(e, t.scope_.immer_.useStrictShallowCopy_), n = t.scope_.immer_.shouldUseStrictIteration() } else r = _w(e, !0); return gm(r, (a, i) => { S3(r, a, T3(i)) }, n), t && (t.finalized_ = !1), r } var lW = new sW; lW.produce; var cW = { settings: { layout: "horizontal", align: "center", verticalAlign: "middle", itemSorter: "value" }, size: { width: 0, height: 0 }, payload: [] }, N3 = da({ name: "legend", initialState: cW, reducers: { setLegendSize(e, t) { e.size.width = t.payload.width, e.size.height = t.payload.height }, setLegendSettings(e, t) { e.settings.align = t.payload.align, e.settings.layout = t.payload.layout, e.settings.verticalAlign = t.payload.verticalAlign, e.settings.itemSorter = t.payload.itemSorter }, addLegendPayload: { reducer(e, t) { e.payload.push(t.payload) }, prepare: lr() }, replaceLegendPayload: { reducer(e, t) { var { prev: r, next: n } = t.payload, a = gi(e).payload.indexOf(r); a > -1 && (e.payload[a] = n) }, prepare: lr() }, removeLegendPayload: { reducer(e, t) { var r = gi(e).payload.indexOf(t.payload); r > -1 && e.payload.splice(r, 1) }, prepare: lr() } } }), { setLegendSize: Sj, setLegendSettings: uW, addLegendPayload: A3, replaceLegendPayload: C3, removeLegendPayload: j3 } = N3.actions, dW = N3.reducer, fW = ["contextPayload"]; function Nw() { return Nw = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, Nw.apply(null, arguments) } function Ej(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function Pu(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? Ej(Object(r), !0).forEach(function (n) { hW(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : Ej(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function hW(e, t, r) { return (t = pW(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function pW(e) { var t = mW(e, "string"); return typeof t == "symbol" ? t : t + "" } function mW(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } function gW(e, t) { if (e == null) return {}; var r, n, a = xW(e, t); if (Object.getOwnPropertySymbols) { var i = Object.getOwnPropertySymbols(e); for (n = 0; n < i.length; n++)r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (a[r] = e[r]) } return a } function xW(e, t) { if (e == null) return {}; var r = {}; for (var n in e) if ({}.hasOwnProperty.call(e, n)) { if (t.indexOf(n) !== -1) continue; r[n] = e[n] } return r } function vW(e) { return e.value } function yW(e) { var { contextPayload: t } = e, r = gW(e, fW), n = AM(t, e.payloadUniqBy, vW), a = Pu(Pu({}, r), {}, { payload: n }); return A.isValidElement(e.content) ? A.cloneElement(e.content, a) : typeof e.content == "function" ? A.createElement(e.content, a) : A.createElement(uG, a) } function bW(e, t, r, n, a, i) { var { layout: s, align: l, verticalAlign: f } = t, d, h; return (!e || (e.left === void 0 || e.left === null) && (e.right === void 0 || e.right === null)) && (l === "center" && s === "vertical" ? d = { left: ((n || 0) - i.width) / 2 } : d = l === "right" ? { right: r && r.right || 0 } : { left: r && r.left || 0 }), (!e || (e.top === void 0 || e.top === null) && (e.bottom === void 0 || e.bottom === null)) && (f === "middle" ? h = { top: ((a || 0) - i.height) / 2 } : h = f === "bottom" ? { bottom: r && r.bottom || 0 } : { top: r && r.top || 0 }), Pu(Pu({}, d), h) } function wW(e) { var t = rr(); return A.useEffect(() => { t(uW(e)) }, [t, e]), null } function _W(e) { var t = rr(); return A.useEffect(() => (t(Sj(e)), () => { t(Sj({ width: 0, height: 0 })) }), [t, e]), null } function SW(e, t, r, n) { return e === "vertical" && t != null ? { height: t } : e === "horizontal" ? { width: r || n } : null } var EW = { align: "center", iconSize: 14, inactiveColor: "#ccc", itemSorter: "value", layout: "horizontal", verticalAlign: "bottom" }; function Aw(e) { var t = kr(e, EW), r = iV(), n = rH(), a = Xq(), { width: i, height: s, wrapperStyle: l, portal: f } = t, [d, h] = RM([r]), m = rS(), g = nS(); if (m == null || g == null) return null; var v = m - ((a == null ? void 0 : a.left) || 0) - ((a == null ? void 0 : a.right) || 0), y = SW(t.layout, s, i, v), b = f ? l : Pu(Pu({ position: "absolute", width: (y == null ? void 0 : y.width) || i || "auto", height: (y == null ? void 0 : y.height) || s || "auto" }, bW(l, t, a, m, g, d)), l), _ = f ?? n; if (_ == null || r == null) return null; var k = A.createElement("div", { className: "recharts-legend-wrapper", style: b, ref: h }, A.createElement(wW, { layout: t.layout, align: t.align, verticalAlign: t.verticalAlign, itemSorter: t.itemSorter }), !f && A.createElement(_W, { width: d.width, height: d.height }), A.createElement(yW, Nw({}, t, y, { margin: a, chartWidth: m, chartHeight: g, contextPayload: r }))); return $u.createPortal(k, _) } Aw.displayName = "Legend"; function Cw() { return Cw = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, Cw.apply(null, arguments) } function kj(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function Zd(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? kj(Object(r), !0).forEach(function (n) { kW(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : kj(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function kW(e, t, r) { return (t = TW(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function TW(e) { var t = NW(e, "string"); return typeof t == "symbol" ? t : t + "" } function NW(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } function AW(e) { return Array.isArray(e) && Hi(e[0]) && Hi(e[1]) ? e.join(" ~ ") : e } var ru = { separator: " : ", contentStyle: { margin: 0, padding: 10, backgroundColor: "#fff", border: "1px solid #ccc", whiteSpace: "nowrap" }, itemStyle: { display: "block", paddingTop: 4, paddingBottom: 4, color: "#000" }, labelStyle: {}, accessibilityLayer: !1 }, CW = e => { var { separator: t = ru.separator, contentStyle: r, itemStyle: n, labelStyle: a = ru.labelStyle, payload: i, formatter: s, itemSorter: l, wrapperClassName: f, labelClassName: d, label: h, labelFormatter: m, accessibilityLayer: g = ru.accessibilityLayer } = e, v = () => { if (i && i.length) { var R = { padding: 0, margin: 0 }, O = (l ? wg(i, l) : i).map((I, H) => { if (I.type === "none") return null; var F = I.formatter || s || AW, { value: X, name: V } = I, U = X, ee = V; if (F) { var re = F(X, V, I, H, i); if (Array.isArray(re)) [U, ee] = re; else if (re != null) U = re; else return null } var de = Zd(Zd({}, ru.itemStyle), {}, { color: I.color || ru.itemStyle.color }, n); return A.createElement("li", { className: "recharts-tooltip-item", key: "tooltip-item-".concat(H), style: de }, Hi(ee) ? A.createElement("span", { className: "recharts-tooltip-item-name" }, ee) : null, Hi(ee) ? A.createElement("span", { className: "recharts-tooltip-item-separator" }, t) : null, A.createElement("span", { className: "recharts-tooltip-item-value" }, U), A.createElement("span", { className: "recharts-tooltip-item-unit" }, I.unit || "")) }); return A.createElement("ul", { className: "recharts-tooltip-item-list", style: R }, O) } return null }, y = Zd(Zd({}, ru.contentStyle), r), b = Zd({ margin: 0 }, a), _ = !fr(h), k = _ ? h : "", C = At("recharts-default-tooltip", f), T = At("recharts-tooltip-label", d); _ && m && i !== void 0 && i !== null && (k = m(h, i)); var j = g ? { role: "status", "aria-live": "assertive" } : {}; return A.createElement("div", Cw({ className: C, style: y }, j), A.createElement("p", { className: T, style: b }, A.isValidElement(k) ? k : "".concat(k)), v()) }, Qd = "recharts-tooltip-wrapper", jW = { visibility: "hidden" }; function IW(e) { var { coordinate: t, translateX: r, translateY: n } = e; return At(Qd, { ["".concat(Qd, "-right")]: ze(r) && t && ze(t.x) && r >= t.x, ["".concat(Qd, "-left")]: ze(r) && t && ze(t.x) && r < t.x, ["".concat(Qd, "-bottom")]: ze(n) && t && ze(t.y) && n >= t.y, ["".concat(Qd, "-top")]: ze(n) && t && ze(t.y) && n < t.y }) } function Tj(e) { var { allowEscapeViewBox: t, coordinate: r, key: n, offset: a, position: i, reverseDirection: s, tooltipDimension: l, viewBox: f, viewBoxDimension: d } = e; if (i && ze(i[n])) return i[n]; var h = r[n] - l - (a > 0 ? a : 0), m = r[n] + a; if (t[n]) return s[n] ? h : m; var g = f[n]; if (g == null) return 0; if (s[n]) { var v = h, y = g; return v < y ? Math.max(m, g) : Math.max(h, g) } if (d == null) return 0; var b = m + l, _ = g + d; return b > _ ? Math.max(h, g) : Math.max(m, g) } function OW(e) { var { translateX: t, translateY: r, useTranslate3d: n } = e; return { transform: n ? "translate3d(".concat(t, "px, ").concat(r, "px, 0)") : "translate(".concat(t, "px, ").concat(r, "px)") } } function RW(e) { var { allowEscapeViewBox: t, coordinate: r, offsetTop: n, offsetLeft: a, position: i, reverseDirection: s, tooltipBox: l, useTranslate3d: f, viewBox: d } = e, h, m, g; return l.height > 0 && l.width > 0 && r ? (m = Tj({ allowEscapeViewBox: t, coordinate: r, key: "x", offset: a, position: i, reverseDirection: s, tooltipDimension: l.width, viewBox: d, viewBoxDimension: d.width }), g = Tj({ allowEscapeViewBox: t, coordinate: r, key: "y", offset: n, position: i, reverseDirection: s, tooltipDimension: l.height, viewBox: d, viewBoxDimension: d.height }), h = OW({ translateX: m, translateY: g, useTranslate3d: f })) : h = jW, { cssProperties: h, cssClasses: IW({ translateX: m, translateY: g, coordinate: r }) } } function Nj(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function dp(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? Nj(Object(r), !0).forEach(function (n) { jw(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : Nj(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function jw(e, t, r) { return (t = PW(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function PW(e) { var t = DW(e, "string"); return typeof t == "symbol" ? t : t + "" } function DW(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } class MW extends A.PureComponent { constructor() { super(...arguments), jw(this, "state", { dismissed: !1, dismissedAtCoordinate: { x: 0, y: 0 } }), jw(this, "handleKeyDown", t => { if (t.key === "Escape") { var r, n, a, i; this.setState({ dismissed: !0, dismissedAtCoordinate: { x: (r = (n = this.props.coordinate) === null || n === void 0 ? void 0 : n.x) !== null && r !== void 0 ? r : 0, y: (a = (i = this.props.coordinate) === null || i === void 0 ? void 0 : i.y) !== null && a !== void 0 ? a : 0 } }) } }) } componentDidMount() { document.addEventListener("keydown", this.handleKeyDown) } componentWillUnmount() { document.removeEventListener("keydown", this.handleKeyDown) } componentDidUpdate() { var t, r; this.state.dismissed && (((t = this.props.coordinate) === null || t === void 0 ? void 0 : t.x) !== this.state.dismissedAtCoordinate.x || ((r = this.props.coordinate) === null || r === void 0 ? void 0 : r.y) !== this.state.dismissedAtCoordinate.y) && (this.state.dismissed = !1) } render() { var { active: t, allowEscapeViewBox: r, animationDuration: n, animationEasing: a, children: i, coordinate: s, hasPayload: l, isAnimationActive: f, offset: d, position: h, reverseDirection: m, useTranslate3d: g, viewBox: v, wrapperStyle: y, lastBoundingBox: b, innerRef: _, hasPortalFromProps: k } = this.props, C = typeof d == "number" ? d : d.x, T = typeof d == "number" ? d : d.y, { cssClasses: j, cssProperties: R } = RW({ allowEscapeViewBox: r, coordinate: s, offsetLeft: C, offsetTop: T, position: h, reverseDirection: m, tooltipBox: { height: b.height, width: b.width }, useTranslate3d: g, viewBox: v }), O = k ? {} : dp(dp({ transition: f && t ? "transform ".concat(n, "ms ").concat(a) : void 0 }, R), {}, { pointerEvents: "none", visibility: !this.state.dismissed && t && l ? "visible" : "hidden", position: "absolute", top: 0, left: 0 }), I = dp(dp({}, O), {}, { visibility: !this.state.dismissed && t && l ? "visible" : "hidden" }, y); return A.createElement("div", { xmlns: "http://www.w3.org/1999/xhtml", tabIndex: -1, className: j, style: I, ref: _ }, i) } } var I3 = () => { var e; return (e = We(t => t.rootProps.accessibilityLayer)) !== null && e !== void 0 ? e : !0 }; function Iw() { return Iw = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, Iw.apply(null, arguments) } function Aj(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function Cj(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? Aj(Object(r), !0).forEach(function (n) { LW(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : Aj(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function LW(e, t, r) { return (t = FW(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function FW(e) { var t = UW(e, "string"); return typeof t == "symbol" ? t : t + "" } function UW(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } var jj = { curveBasisClosed: wH, curveBasisOpen: _H, curveBasis: bH, curveBumpX: sH, curveBumpY: oH, curveLinearClosed: SH, curveLinear: yg, curveMonotoneX: EH, curveMonotoneY: kH, curveNatural: TH, curveStep: NH, curveStepAfter: CH, curveStepBefore: AH }, ym = e => xt(e.x) && xt(e.y), Ij = e => e.base != null && ym(e.base) && ym(e), ef = e => e.x, tf = e => e.y, BW = (e, t) => { if (typeof e == "function") return e; var r = "curve".concat(d0(e)); if ((r === "curveMonotone" || r === "curveBump") && t) { var n = jj["".concat(r).concat(t === "vertical" ? "Y" : "X")]; if (n) return n } return jj[r] || yg }, Oj = { connectNulls: !1, type: "linear" }, $W = e => { var { type: t = Oj.type, points: r = [], baseLine: n, layout: a, connectNulls: i = Oj.connectNulls } = e, s = BW(t, a), l = i ? r.filter(ym) : r; if (Array.isArray(n)) { var f, d = r.map((y, b) => Cj(Cj({}, y), {}, { base: n[b] })); a === "vertical" ? f = np().y(tf).x1(ef).x0(y => y.base.x) : f = np().x(ef).y1(tf).y0(y => y.base.y); var h = f.defined(Ij).curve(s), m = i ? d.filter(Ij) : d; return h(m) } var g; a === "vertical" && ze(n) ? g = np().y(tf).x1(ef).x0(n) : ze(n) ? g = np().x(ef).y1(tf).y0(n) : g = aM().x(ef).y(tf); var v = g.defined(ym).curve(s); return v(l) }, Eu = e => { var { className: t, points: r, path: n, pathRef: a } = e, i = Vo(); if ((!r || !r.length) && !n) return null; var s = { type: e.type, points: e.points, baseLine: e.baseLine, layout: e.layout || i, connectNulls: e.connectNulls }, l = r && r.length ? $W(s) : n; return A.createElement("path", Iw({}, Xn(e), H_(e), { className: At("recharts-curve", t), d: l === null ? void 0 : l, ref: a })) }, zW = ["x", "y", "top", "left", "width", "height", "className"]; function Ow() { return Ow = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, Ow.apply(null, arguments) } function Rj(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function HW(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? Rj(Object(r), !0).forEach(function (n) { GW(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : Rj(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function GW(e, t, r) { return (t = VW(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function VW(e) { var t = qW(e, "string"); return typeof t == "symbol" ? t : t + "" } function qW(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } function WW(e, t) { if (e == null) return {}; var r, n, a = KW(e, t); if (Object.getOwnPropertySymbols) { var i = Object.getOwnPropertySymbols(e); for (n = 0; n < i.length; n++)r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (a[r] = e[r]) } return a } function KW(e, t) { if (e == null) return {}; var r = {}; for (var n in e) if ({}.hasOwnProperty.call(e, n)) { if (t.indexOf(n) !== -1) continue; r[n] = e[n] } return r } var YW = (e, t, r, n, a, i) => "M".concat(e, ",").concat(a, "v").concat(n, "M").concat(i, ",").concat(t, "h").concat(r), XW = e => { var { x: t = 0, y: r = 0, top: n = 0, left: a = 0, width: i = 0, height: s = 0, className: l } = e, f = WW(e, zW), d = HW({ x: t, y: r, top: n, left: a, width: i, height: s }, f); return !ze(t) || !ze(r) || !ze(i) || !ze(s) || !ze(n) || !ze(a) ? null : A.createElement("path", Ow({}, Fn(d), { className: At("recharts-cross", l), d: YW(t, r, i, s, n, a) })) }; function JW(e, t, r, n) { var a = n / 2; return { stroke: "none", fill: "#ccc", x: e === "horizontal" ? t.x - a : r.left + .5, y: e === "horizontal" ? r.top + .5 : t.y - a, width: e === "horizontal" ? n : r.width - 1, height: e === "horizontal" ? r.height - 1 : n } } function Pj(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function Dj(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? Pj(Object(r), !0).forEach(function (n) { ZW(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : Pj(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function ZW(e, t, r) { return (t = QW(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function QW(e) { var t = eK(e, "string"); return typeof t == "symbol" ? t : t + "" } function eK(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } var tK = e => e.replace(/([A-Z])/g, t => "-".concat(t.toLowerCase())), O3 = (e, t, r) => e.map(n => "".concat(tK(n), " ").concat(t, "ms ").concat(r)).join(","), rK = (e, t) => [Object.keys(e), Object.keys(t)].reduce((r, n) => r.filter(a => n.includes(a))), Vf = (e, t) => Object.keys(t).reduce((r, n) => Dj(Dj({}, r), {}, { [n]: e(n, t[n]) }), {}); function Mj(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function Gr(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? Mj(Object(r), !0).forEach(function (n) { nK(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : Mj(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function nK(e, t, r) { return (t = aK(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function aK(e) { var t = iK(e, "string"); return typeof t == "symbol" ? t : t + "" } function iK(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } var bm = (e, t, r) => e + (t - e) * r, Rw = e => { var { from: t, to: r } = e; return t !== r }, R3 = (e, t, r) => { var n = Vf((a, i) => { if (Rw(i)) { var [s, l] = e(i.from, i.to, i.velocity); return Gr(Gr({}, i), {}, { from: s, velocity: l }) } return i }, t); return r < 1 ? Vf((a, i) => Rw(i) && n[a] != null ? Gr(Gr({}, i), {}, { velocity: bm(i.velocity, n[a].velocity, r), from: bm(i.from, n[a].from, r) }) : i, t) : R3(e, n, r - 1) }; function sK(e, t, r, n, a, i) { var s, l = n.reduce((g, v) => Gr(Gr({}, g), {}, { [v]: { from: e[v], velocity: 0, to: t[v] } }), {}), f = () => Vf((g, v) => v.from, l), d = () => !Object.values(l).filter(Rw).length, h = null, m = g => { s || (s = g); var v = g - s, y = v / r.dt; l = R3(r, l, y), a(Gr(Gr(Gr({}, e), t), f())), s = g, d() || (h = i.setTimeout(m)) }; return () => (h = i.setTimeout(m), () => { var g; (g = h) === null || g === void 0 || g() }) } function oK(e, t, r, n, a, i, s) { var l = null, f = a.reduce((m, g) => { var v = e[g], y = t[g]; return v == null || y == null ? m : Gr(Gr({}, m), {}, { [g]: [v, y] }) }, {}), d, h = m => { d || (d = m); var g = (m - d) / n, v = Vf((b, _) => bm(..._, r(g)), f); if (i(Gr(Gr(Gr({}, e), t), v)), g < 1) l = s.setTimeout(h); else { var y = Vf((b, _) => bm(..._, r(1)), f); i(Gr(Gr(Gr({}, e), t), y)) } }; return () => (l = s.setTimeout(h), () => { var m; (m = l) === null || m === void 0 || m() }) } const lK = (e, t, r, n, a, i) => { var s = rK(e, t); return r == null ? () => (a(Gr(Gr({}, e), t)), () => { }) : r.isStepper === !0 ? sK(e, t, r, s, a, i) : oK(e, t, r, n, s, a, i) }; var wm = 1e-4, P3 = (e, t) => [0, 3 * e, 3 * t - 6 * e, 3 * e - 3 * t + 1], D3 = (e, t) => e.map((r, n) => r * t ** n).reduce((r, n) => r + n), Lj = (e, t) => r => { var n = P3(e, t); return D3(n, r) }, cK = (e, t) => r => { var n = P3(e, t), a = [...n.map((i, s) => i * s).slice(1), 0]; return D3(a, r) }, uK = e => { var t, r = e.split("("); if (r.length !== 2 || r[0] !== "cubic-bezier") return null; var n = (t = r[1]) === null || t === void 0 || (t = t.split(")")[0]) === null || t === void 0 ? void 0 : t.split(","); if (n == null || n.length !== 4) return null; var a = n.map(i => parseFloat(i)); return [a[0], a[1], a[2], a[3]] }, dK = function () { for (var t = arguments.length, r = new Array(t), n = 0; n < t; n++)r[n] = arguments[n]; if (r.length === 1) switch (r[0]) { case "linear": return [0, 0, 1, 1]; case "ease": return [.25, .1, .25, 1]; case "ease-in": return [.42, 0, 1, 1]; case "ease-out": return [.42, 0, .58, 1]; case "ease-in-out": return [0, 0, .58, 1]; default: { var a = uK(r[0]); if (a) return a } }return r.length === 4 ? r : [0, 0, 1, 1] }, fK = (e, t, r, n) => { var a = Lj(e, r), i = Lj(t, n), s = cK(e, r), l = d => d > 1 ? 1 : d < 0 ? 0 : d, f = d => { for (var h = d > 1 ? 1 : d, m = h, g = 0; g < 8; ++g) { var v = a(m) - h, y = s(m); if (Math.abs(v - h) < wm || y < wm) return i(m); m = l(m - v / y) } return i(m) }; return f.isStepper = !1, f }, Fj = function () { return fK(...dK(...arguments)) }, hK = function () { var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, { stiff: r = 100, damping: n = 8, dt: a = 17 } = t, i = (s, l, f) => { var d = -(s - l) * r, h = f * n, m = f + (d - h) * a / 1e3, g = f * a / 1e3 + s; return Math.abs(g - l) < wm && Math.abs(m) < wm ? [l, 0] : [g, m] }; return i.isStepper = !0, i.dt = a, i }, pK = e => { if (typeof e == "string") switch (e) { case "ease": case "ease-in-out": case "ease-out": case "ease-in": case "linear": return Fj(e); case "spring": return hK(); default: if (e.split("(")[0] === "cubic-bezier") return Fj(e) }return typeof e == "function" ? e : null }; function mK(e) { var t, r = () => null, n = !1, a = null, i = s => { if (!n) { if (Array.isArray(s)) { if (!s.length) return; var l = s, [f, ...d] = l; if (typeof f == "number") { a = e.setTimeout(i.bind(null, d), f); return } i(f), a = e.setTimeout(i.bind(null, d)); return } typeof s == "string" && (t = s, r(t)), typeof s == "object" && (t = s, r(t)), typeof s == "function" && s() } }; return { stop: () => { n = !0 }, start: s => { n = !1, a && (a(), a = null), i(s) }, subscribe: s => (r = s, () => { r = () => null }), getTimeoutController: () => e } } class gK { setTimeout(t) { var r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0, n = performance.now(), a = null, i = s => { s - n >= r ? t(s) : typeof requestAnimationFrame == "function" && (a = requestAnimationFrame(i)) }; return a = requestAnimationFrame(i), () => { a != null && cancelAnimationFrame(a) } } } function xK() { return mK(new gK) } var vK = A.createContext(xK); function yK(e, t) { var r = A.useContext(vK); return A.useMemo(() => t ?? r(e), [e, t, r]) } var bK = () => !(typeof window < "u" && window.document && window.document.createElement && window.setTimeout), v0 = { isSsr: bK() }, wK = { begin: 0, duration: 1e3, easing: "ease", isActive: !0, canBegin: !0, onAnimationEnd: () => { }, onAnimationStart: () => { } }, Uj = { t: 0 }, Qb = { t: 1 }; function zu(e) { var t = kr(e, wK), { isActive: r, canBegin: n, duration: a, easing: i, begin: s, onAnimationEnd: l, onAnimationStart: f, children: d } = t, h = r === "auto" ? !v0.isSsr : r, m = yK(t.animationId, t.animationManager), [g, v] = A.useState(h ? Uj : Qb), y = A.useRef(null); return A.useEffect(() => { h || v(Qb) }, [h]), A.useEffect(() => { if (!h || !n) return Ho; var b = lK(Uj, Qb, pK(i), a, v, m.getTimeoutController()), _ = () => { y.current = b() }; return m.start([f, s, _, a, l]), () => { m.stop(), y.current && y.current(), l() } }, [h, n, a, i, s, f, l, m]), d(g.t) } function Hu(e) { var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "animation-", r = A.useRef(Ff(t)), n = A.useRef(e); return n.current !== e && (r.current = Ff(t), n.current = e), r.current } var _K = ["radius"], SK = ["radius"], Bj, $j, zj, Hj, Gj, Vj, qj, Wj, Kj, Yj; function Xj(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function Jj(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? Xj(Object(r), !0).forEach(function (n) { EK(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : Xj(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function EK(e, t, r) { return (t = kK(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function kK(e) { var t = TK(e, "string"); return typeof t == "symbol" ? t : t + "" } function TK(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } function _m() { return _m = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, _m.apply(null, arguments) } function Zj(e, t) { if (e == null) return {}; var r, n, a = NK(e, t); if (Object.getOwnPropertySymbols) { var i = Object.getOwnPropertySymbols(e); for (n = 0; n < i.length; n++)r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (a[r] = e[r]) } return a } function NK(e, t) { if (e == null) return {}; var r = {}; for (var n in e) if ({}.hasOwnProperty.call(e, n)) { if (t.indexOf(n) !== -1) continue; r[n] = e[n] } return r } function Ri(e, t) { return t || (t = e.slice(0)), Object.freeze(Object.defineProperties(e, { raw: { value: Object.freeze(t) } })) } var Qj = (e, t, r, n, a) => {
  var i = Io(r), s = Io(n), l = Math.min(Math.abs(i) / 2, Math.abs(s) / 2), f = s >= 0 ? 1 : -1, d = i >= 0 ? 1 : -1, h = s >= 0 && i >= 0 || s < 0 && i < 0 ? 1 : 0, m; if (l > 0 && Array.isArray(a)) {
    for (var g = [0, 0, 0, 0], v = 0, y = 4; v < y; v++) { var b, _ = (b = a[v]) !== null && b !== void 0 ? b : 0; g[v] = _ > l ? l : _ } m = br(Bj || (Bj = Ri(["M", ",", ""])), e, t + f * g[0]), g[0] > 0 && (m += br($j || ($j = Ri(["A ", ",", ",0,0,", ",", ",", ""])), g[0], g[0], h, e + d * g[0], t)), m += br(zj || (zj = Ri(["L ", ",", ""])), e + r - d * g[1], t), g[1] > 0 && (m += br(Hj || (Hj = Ri(["A ", ",", ",0,0,", `,
        `, ",", ""])), g[1], g[1], h, e + r, t + f * g[1])), m += br(Gj || (Gj = Ri(["L ", ",", ""])), e + r, t + n - f * g[2]), g[2] > 0 && (m += br(Vj || (Vj = Ri(["A ", ",", ",0,0,", `,
        `, ",", ""])), g[2], g[2], h, e + r - d * g[2], t + n)), m += br(qj || (qj = Ri(["L ", ",", ""])), e + d * g[3], t + n), g[3] > 0 && (m += br(Wj || (Wj = Ri(["A ", ",", ",0,0,", `,
        `, ",", ""])), g[3], g[3], h, e, t + n - f * g[3])), m += "Z"
  } else if (l > 0 && a === +a && a > 0) {
    var k = Math.min(l, a); m = br(Kj || (Kj = Ri(["M ", ",", `
            A `, ",", ",0,0,", ",", ",", `
            L `, ",", `
            A `, ",", ",0,0,", ",", ",", `
            L `, ",", `
            A `, ",", ",0,0,", ",", ",", `
            L `, ",", `
            A `, ",", ",0,0,", ",", ",", " Z"])), e, t + f * k, k, k, h, e + d * k, t, e + r - d * k, t, k, k, h, e + r, t + f * k, e + r, t + n - f * k, k, k, h, e + r - d * k, t + n, e + d * k, t + n, k, k, h, e, t + n - f * k)
  } else m = br(Yj || (Yj = Ri(["M ", ",", " h ", " v ", " h ", " Z"])), e, t, r, n, -r); return m
}, eI = { x: 0, y: 0, width: 0, height: 0, radius: 0, isAnimationActive: !1, isUpdateAnimationActive: !1, animationBegin: 0, animationDuration: 1500, animationEasing: "ease" }, M3 = e => { var t = kr(e, eI), r = A.useRef(null), [n, a] = A.useState(-1); A.useEffect(() => { if (r.current && r.current.getTotalLength) try { var z = r.current.getTotalLength(); z && a(z) } catch { } }, []); var { x: i, y: s, width: l, height: f, radius: d, className: h } = t, { animationEasing: m, animationDuration: g, animationBegin: v, isAnimationActive: y, isUpdateAnimationActive: b } = t, _ = A.useRef(l), k = A.useRef(f), C = A.useRef(i), T = A.useRef(s), j = A.useMemo(() => ({ x: i, y: s, width: l, height: f, radius: d }), [i, s, l, f, d]), R = Hu(j, "rectangle-"); if (i !== +i || s !== +s || l !== +l || f !== +f || l === 0 || f === 0) return null; var O = At("recharts-rectangle", h); if (!b) { var I = Fn(t), { radius: H } = I, F = Zj(I, _K); return A.createElement("path", _m({}, F, { x: Io(i), y: Io(s), width: Io(l), height: Io(f), radius: typeof d == "number" ? d : void 0, className: O, d: Qj(i, s, l, f, d) })) } var X = _.current, V = k.current, U = C.current, ee = T.current, re = "0px ".concat(n === -1 ? 1 : n, "px"), de = "".concat(n, "px 0px"), D = O3(["strokeDasharray"], g, typeof m == "string" ? m : eI.animationEasing); return A.createElement(zu, { animationId: R, key: R, canBegin: n > 0, duration: g, easing: m, isActive: b, begin: v }, z => { var ie = Lt(X, l, z), M = Lt(V, f, z), te = Lt(U, i, z), G = Lt(ee, s, z); r.current && (_.current = ie, k.current = M, C.current = te, T.current = G); var P; y ? z > 0 ? P = { transition: D, strokeDasharray: de } : P = { strokeDasharray: re } : P = { strokeDasharray: de }; var W = Fn(t), { radius: J } = W, B = Zj(W, SK); return A.createElement("path", _m({}, B, { radius: typeof d == "number" ? d : void 0, className: O, d: Qj(te, G, ie, M, d), ref: r, style: Jj(Jj({}, P), t.style) })) }) }; function tI(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function rI(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? tI(Object(r), !0).forEach(function (n) { AK(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : tI(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function AK(e, t, r) { return (t = CK(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function CK(e) { var t = jK(e, "string"); return typeof t == "symbol" ? t : t + "" } function jK(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } var Sm = Math.PI / 180, IK = e => e * 180 / Math.PI, Ur = (e, t, r, n) => ({ x: e + Math.cos(-Sm * n) * r, y: t + Math.sin(-Sm * n) * r }), L3 = function (t, r) { var n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : { top: 0, right: 0, bottom: 0, left: 0 }; return Math.min(Math.abs(t - (n.left || 0) - (n.right || 0)), Math.abs(r - (n.top || 0) - (n.bottom || 0))) / 2 }, OK = (e, t) => { var { x: r, y: n } = e, { x: a, y: i } = t; return Math.sqrt((r - a) ** 2 + (n - i) ** 2) }, RK = (e, t) => { var { x: r, y: n } = e, { cx: a, cy: i } = t, s = OK({ x: r, y: n }, { x: a, y: i }); if (s <= 0) return { radius: s, angle: 0 }; var l = (r - a) / s, f = Math.acos(l); return n > i && (f = 2 * Math.PI - f), { radius: s, angle: IK(f), angleInRadian: f } }, PK = e => { var { startAngle: t, endAngle: r } = e, n = Math.floor(t / 360), a = Math.floor(r / 360), i = Math.min(n, a); return { startAngle: t - i * 360, endAngle: r - i * 360 } }, DK = (e, t) => { var { startAngle: r, endAngle: n } = t, a = Math.floor(r / 360), i = Math.floor(n / 360), s = Math.min(a, i); return e + s * 360 }, MK = (e, t) => { var { chartX: r, chartY: n } = e, { radius: a, angle: i } = RK({ x: r, y: n }, t), { innerRadius: s, outerRadius: l } = t; if (a < s || a > l || a === 0) return null; var { startAngle: f, endAngle: d } = PK(t), h = i, m; if (f <= d) { for (; h > d;)h -= 360; for (; h < f;)h += 360; m = h >= f && h <= d } else { for (; h > f;)h -= 360; for (; h < d;)h += 360; m = h >= d && h <= f } return m ? rI(rI({}, t), {}, { radius: a, angle: DK(h, t) }) : null }; function F3(e) { var { cx: t, cy: r, radius: n, startAngle: a, endAngle: i } = e, s = Ur(t, r, n, a), l = Ur(t, r, n, i); return { points: [s, l], cx: t, cy: r, radius: n, startAngle: a, endAngle: i } } var nI, aI, iI, sI, oI, lI, cI; function Pw() { return Pw = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, Pw.apply(null, arguments) } function Ol(e, t) { return t || (t = e.slice(0)), Object.freeze(Object.defineProperties(e, { raw: { value: Object.freeze(t) } })) } var LK = (e, t) => { var r = an(t - e), n = Math.min(Math.abs(t - e), 359.999); return r * n }, fp = e => { var { cx: t, cy: r, radius: n, angle: a, sign: i, isExternal: s, cornerRadius: l, cornerIsExternal: f } = e, d = l * (s ? 1 : -1) + n, h = Math.asin(l / d) / Sm, m = f ? a : a + i * h, g = Ur(t, r, d, m), v = Ur(t, r, n, m), y = f ? a - i * h : a, b = Ur(t, r, d * Math.cos(h * Sm), y); return { center: g, circleTangency: v, lineTangency: b, theta: h } }, U3 = e => {
  var { cx: t, cy: r, innerRadius: n, outerRadius: a, startAngle: i, endAngle: s } = e, l = LK(i, s), f = i + l, d = Ur(t, r, a, i), h = Ur(t, r, a, f), m = br(nI || (nI = Ol(["M ", ",", `
    A `, ",", `,0,
    `, ",", `,
    `, ",", `
  `])), d.x, d.y, a, a, +(Math.abs(l) > 180), +(i > f), h.x, h.y); if (n > 0) {
    var g = Ur(t, r, n, i), v = Ur(t, r, n, f); m += br(aI || (aI = Ol(["L ", ",", `
            A `, ",", `,0,
            `, ",", `,
            `, ",", " Z"])), v.x, v.y, n, n, +(Math.abs(l) > 180), +(i <= f), g.x, g.y)
  } else m += br(iI || (iI = Ol(["L ", ",", " Z"])), t, r); return m
}, FK = e => {
  var { cx: t, cy: r, innerRadius: n, outerRadius: a, cornerRadius: i, forceCornerRadius: s, cornerIsExternal: l, startAngle: f, endAngle: d } = e, h = an(d - f), { circleTangency: m, lineTangency: g, theta: v } = fp({ cx: t, cy: r, radius: a, angle: f, sign: h, cornerRadius: i, cornerIsExternal: l }), { circleTangency: y, lineTangency: b, theta: _ } = fp({ cx: t, cy: r, radius: a, angle: d, sign: -h, cornerRadius: i, cornerIsExternal: l }), k = l ? Math.abs(f - d) : Math.abs(f - d) - v - _; if (k < 0) return s ? br(sI || (sI = Ol(["M ", ",", `
        a`, ",", ",0,0,1,", `,0
        a`, ",", ",0,0,1,", `,0
      `])), g.x, g.y, i, i, i * 2, i, i, -i * 2) : U3({ cx: t, cy: r, innerRadius: n, outerRadius: a, startAngle: f, endAngle: d }); var C = br(oI || (oI = Ol(["M ", ",", `
    A`, ",", ",0,0,", ",", ",", `
    A`, ",", ",0,", ",", ",", ",", `
    A`, ",", ",0,0,", ",", ",", `
  `])), g.x, g.y, i, i, +(h < 0), m.x, m.y, a, a, +(k > 180), +(h < 0), y.x, y.y, i, i, +(h < 0), b.x, b.y); if (n > 0) {
    var { circleTangency: T, lineTangency: j, theta: R } = fp({ cx: t, cy: r, radius: n, angle: f, sign: h, isExternal: !0, cornerRadius: i, cornerIsExternal: l }), { circleTangency: O, lineTangency: I, theta: H } = fp({ cx: t, cy: r, radius: n, angle: d, sign: -h, isExternal: !0, cornerRadius: i, cornerIsExternal: l }), F = l ? Math.abs(f - d) : Math.abs(f - d) - R - H; if (F < 0 && i === 0) return "".concat(C, "L").concat(t, ",").concat(r, "Z"); C += br(lI || (lI = Ol(["L", ",", `
      A`, ",", ",0,0,", ",", ",", `
      A`, ",", ",0,", ",", ",", ",", `
      A`, ",", ",0,0,", ",", ",", "Z"])), I.x, I.y, i, i, +(h < 0), O.x, O.y, n, n, +(F > 180), +(h > 0), T.x, T.y, i, i, +(h < 0), j.x, j.y)
  } else C += br(cI || (cI = Ol(["L", ",", "Z"])), t, r); return C
}, UK = { cx: 0, cy: 0, innerRadius: 0, outerRadius: 0, startAngle: 0, endAngle: 0, cornerRadius: 0, forceCornerRadius: !1, cornerIsExternal: !1 }, B3 = e => { var t = kr(e, UK), { cx: r, cy: n, innerRadius: a, outerRadius: i, cornerRadius: s, forceCornerRadius: l, cornerIsExternal: f, startAngle: d, endAngle: h, className: m } = t; if (i < a || d === h) return null; var g = At("recharts-sector", m), v = i - a, y = Mn(s, v, 0, !0), b; return y > 0 && Math.abs(d - h) < 360 ? b = FK({ cx: r, cy: n, innerRadius: a, outerRadius: i, cornerRadius: Math.min(y, v / 2), forceCornerRadius: l, cornerIsExternal: f, startAngle: d, endAngle: h }) : b = U3({ cx: r, cy: n, innerRadius: a, outerRadius: i, startAngle: d, endAngle: h }), A.createElement("path", Pw({}, Fn(t), { className: g, d: b })) }; function BK(e, t, r) { if (e === "horizontal") return [{ x: t.x, y: r.top }, { x: t.x, y: r.top + r.height }]; if (e === "vertical") return [{ x: r.left, y: t.y }, { x: r.left + r.width, y: t.y }]; if (yM(t)) { if (e === "centric") { var { cx: n, cy: a, innerRadius: i, outerRadius: s, angle: l } = t, f = Ur(n, a, i, l), d = Ur(n, a, s, l); return [{ x: f.x, y: f.y }, { x: d.x, y: d.y }] } return F3(t) } } var e1 = {}, t1 = {}, r1 = {}, uI; function $K() { return uI || (uI = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); const t = jM(); function r(n) { return t.isSymbol(n) ? NaN : Number(n) } e.toNumber = r })(r1)), r1 } var dI; function zK() { return dI || (dI = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); const t = $K(); function r(n) { return n ? (n = t.toNumber(n), n === 1 / 0 || n === -1 / 0 ? (n < 0 ? -1 : 1) * Number.MAX_VALUE : n === n ? n : 0) : n === 0 ? n : 0 } e.toFinite = r })(t1)), t1 } var fI; function HK() { return fI || (fI = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); const t = IM(), r = zK(); function n(a, i, s) { s && typeof s != "number" && t.isIterateeCall(a, i, s) && (i = s = void 0), a = r.toFinite(a), i === void 0 ? (i = a, a = 0) : i = r.toFinite(i), s = s === void 0 ? a < i ? 1 : -1 : r.toFinite(s); const l = Math.max(Math.ceil((i - a) / (s || 1)), 0), f = new Array(l); for (let d = 0; d < l; d++)f[d] = a, a += s; return f } e.range = n })(e1)), e1 } var n1, hI; function GK() { return hI || (hI = 1, n1 = HK().range), n1 } var VK = GK(); const $3 = _i(VK); function Po(e, t) { return e == null || t == null ? NaN : e < t ? -1 : e > t ? 1 : e >= t ? 0 : NaN } function qK(e, t) { return e == null || t == null ? NaN : t < e ? -1 : t > e ? 1 : t >= e ? 0 : NaN } function oS(e) { let t, r, n; e.length !== 2 ? (t = Po, r = (l, f) => Po(e(l), f), n = (l, f) => e(l) - f) : (t = e === Po || e === qK ? e : WK, r = e, n = e); function a(l, f, d = 0, h = l.length) { if (d < h) { if (t(f, f) !== 0) return h; do { const m = d + h >>> 1; r(l[m], f) < 0 ? d = m + 1 : h = m } while (d < h) } return d } function i(l, f, d = 0, h = l.length) { if (d < h) { if (t(f, f) !== 0) return h; do { const m = d + h >>> 1; r(l[m], f) <= 0 ? d = m + 1 : h = m } while (d < h) } return d } function s(l, f, d = 0, h = l.length) { const m = a(l, f, d, h - 1); return m > d && n(l[m - 1], f) > -n(l[m], f) ? m - 1 : m } return { left: a, center: s, right: i } } function WK() { return 0 } function z3(e) { return e === null ? NaN : +e } function* KK(e, t) { for (let r of e) r != null && (r = +r) >= r && (yield r) } const YK = oS(Po), y0 = YK.right; oS(z3).center; class pI extends Map { constructor(t, r = ZK) { if (super(), Object.defineProperties(this, { _intern: { value: new Map }, _key: { value: r } }), t != null) for (const [n, a] of t) this.set(n, a) } get(t) { return super.get(mI(this, t)) } has(t) { return super.has(mI(this, t)) } set(t, r) { return super.set(XK(this, t), r) } delete(t) { return super.delete(JK(this, t)) } } function mI({ _intern: e, _key: t }, r) { const n = t(r); return e.has(n) ? e.get(n) : r } function XK({ _intern: e, _key: t }, r) { const n = t(r); return e.has(n) ? e.get(n) : (e.set(n, r), r) } function JK({ _intern: e, _key: t }, r) { const n = t(r); return e.has(n) && (r = e.get(n), e.delete(n)), r } function ZK(e) { return e !== null && typeof e == "object" ? e.valueOf() : e } function QK(e = Po) { if (e === Po) return H3; if (typeof e != "function") throw new TypeError("compare is not a function"); return (t, r) => { const n = e(t, r); return n || n === 0 ? n : (e(r, r) === 0) - (e(t, t) === 0) } } function H3(e, t) { return (e == null || !(e >= e)) - (t == null || !(t >= t)) || (e < t ? -1 : e > t ? 1 : 0) } const eY = Math.sqrt(50), tY = Math.sqrt(10), rY = Math.sqrt(2); function Em(e, t, r) { const n = (t - e) / Math.max(0, r), a = Math.floor(Math.log10(n)), i = n / Math.pow(10, a), s = i >= eY ? 10 : i >= tY ? 5 : i >= rY ? 2 : 1; let l, f, d; return a < 0 ? (d = Math.pow(10, -a) / s, l = Math.round(e * d), f = Math.round(t * d), l / d < e && ++l, f / d > t && --f, d = -d) : (d = Math.pow(10, a) * s, l = Math.round(e / d), f = Math.round(t / d), l * d < e && ++l, f * d > t && --f), f < l && .5 <= r && r < 2 ? Em(e, t, r * 2) : [l, f, d] } function Dw(e, t, r) { if (t = +t, e = +e, r = +r, !(r > 0)) return []; if (e === t) return [e]; const n = t < e, [a, i, s] = n ? Em(t, e, r) : Em(e, t, r); if (!(i >= a)) return []; const l = i - a + 1, f = new Array(l); if (n) if (s < 0) for (let d = 0; d < l; ++d)f[d] = (i - d) / -s; else for (let d = 0; d < l; ++d)f[d] = (i - d) * s; else if (s < 0) for (let d = 0; d < l; ++d)f[d] = (a + d) / -s; else for (let d = 0; d < l; ++d)f[d] = (a + d) * s; return f } function Mw(e, t, r) { return t = +t, e = +e, r = +r, Em(e, t, r)[2] } function Lw(e, t, r) { t = +t, e = +e, r = +r; const n = t < e, a = n ? Mw(t, e, r) : Mw(e, t, r); return (n ? -1 : 1) * (a < 0 ? 1 / -a : a) } function gI(e, t) { let r; for (const n of e) n != null && (r < n || r === void 0 && n >= n) && (r = n); return r } function xI(e, t) { let r; for (const n of e) n != null && (r > n || r === void 0 && n >= n) && (r = n); return r } function G3(e, t, r = 0, n = 1 / 0, a) { if (t = Math.floor(t), r = Math.floor(Math.max(0, r)), n = Math.floor(Math.min(e.length - 1, n)), !(r <= t && t <= n)) return e; for (a = a === void 0 ? H3 : QK(a); n > r;) { if (n - r > 600) { const f = n - r + 1, d = t - r + 1, h = Math.log(f), m = .5 * Math.exp(2 * h / 3), g = .5 * Math.sqrt(h * m * (f - m) / f) * (d - f / 2 < 0 ? -1 : 1), v = Math.max(r, Math.floor(t - d * m / f + g)), y = Math.min(n, Math.floor(t + (f - d) * m / f + g)); G3(e, t, v, y, a) } const i = e[t]; let s = r, l = n; for (rf(e, r, t), a(e[n], i) > 0 && rf(e, r, n); s < l;) { for (rf(e, s, l), ++s, --l; a(e[s], i) < 0;)++s; for (; a(e[l], i) > 0;)--l } a(e[r], i) === 0 ? rf(e, r, l) : (++l, rf(e, l, n)), l <= t && (r = l + 1), t <= l && (n = l - 1) } return e } function rf(e, t, r) { const n = e[t]; e[t] = e[r], e[r] = n } function nY(e, t, r) { if (e = Float64Array.from(KK(e)), !(!(n = e.length) || isNaN(t = +t))) { if (t <= 0 || n < 2) return xI(e); if (t >= 1) return gI(e); var n, a = (n - 1) * t, i = Math.floor(a), s = gI(G3(e, i).subarray(0, i + 1)), l = xI(e.subarray(i + 1)); return s + (l - s) * (a - i) } } function aY(e, t, r = z3) { if (!(!(n = e.length) || isNaN(t = +t))) { if (t <= 0 || n < 2) return +r(e[0], 0, e); if (t >= 1) return +r(e[n - 1], n - 1, e); var n, a = (n - 1) * t, i = Math.floor(a), s = +r(e[i], i, e), l = +r(e[i + 1], i + 1, e); return s + (l - s) * (a - i) } } function iY(e, t, r) { e = +e, t = +t, r = (a = arguments.length) < 2 ? (t = e, e = 0, 1) : a < 3 ? 1 : +r; for (var n = -1, a = Math.max(0, Math.ceil((t - e) / r)) | 0, i = new Array(a); ++n < a;)i[n] = e + n * r; return i } function Za(e, t) { switch (arguments.length) { case 0: break; case 1: this.range(e); break; default: this.range(t).domain(e); break }return this } function Bs(e, t) { switch (arguments.length) { case 0: break; case 1: { typeof e == "function" ? this.interpolator(e) : this.range(e); break } default: { this.domain(e), typeof t == "function" ? this.interpolator(t) : this.range(t); break } }return this } const Fw = Symbol("implicit"); function lS() { var e = new pI, t = [], r = [], n = Fw; function a(i) { let s = e.get(i); if (s === void 0) { if (n !== Fw) return n; e.set(i, s = t.push(i) - 1) } return r[s % r.length] } return a.domain = function (i) { if (!arguments.length) return t.slice(); t = [], e = new pI; for (const s of i) e.has(s) || e.set(s, t.push(s) - 1); return a }, a.range = function (i) { return arguments.length ? (r = Array.from(i), a) : r.slice() }, a.unknown = function (i) { return arguments.length ? (n = i, a) : n }, a.copy = function () { return lS(t, r).unknown(n) }, Za.apply(a, arguments), a } function cS() { var e = lS().unknown(void 0), t = e.domain, r = e.range, n = 0, a = 1, i, s, l = !1, f = 0, d = 0, h = .5; delete e.unknown; function m() { var g = t().length, v = a < n, y = v ? a : n, b = v ? n : a; i = (b - y) / Math.max(1, g - f + d * 2), l && (i = Math.floor(i)), y += (b - y - i * (g - f)) * h, s = i * (1 - f), l && (y = Math.round(y), s = Math.round(s)); var _ = iY(g).map(function (k) { return y + i * k }); return r(v ? _.reverse() : _) } return e.domain = function (g) { return arguments.length ? (t(g), m()) : t() }, e.range = function (g) { return arguments.length ? ([n, a] = g, n = +n, a = +a, m()) : [n, a] }, e.rangeRound = function (g) { return [n, a] = g, n = +n, a = +a, l = !0, m() }, e.bandwidth = function () { return s }, e.step = function () { return i }, e.round = function (g) { return arguments.length ? (l = !!g, m()) : l }, e.padding = function (g) { return arguments.length ? (f = Math.min(1, d = +g), m()) : f }, e.paddingInner = function (g) { return arguments.length ? (f = Math.min(1, g), m()) : f }, e.paddingOuter = function (g) { return arguments.length ? (d = +g, m()) : d }, e.align = function (g) { return arguments.length ? (h = Math.max(0, Math.min(1, g)), m()) : h }, e.copy = function () { return cS(t(), [n, a]).round(l).paddingInner(f).paddingOuter(d).align(h) }, Za.apply(m(), arguments) } function V3(e) { var t = e.copy; return e.padding = e.paddingOuter, delete e.paddingInner, delete e.paddingOuter, e.copy = function () { return V3(t()) }, e } function sY() { return V3(cS.apply(null, arguments).paddingInner(1)) } function uS(e, t, r) { e.prototype = t.prototype = r, r.constructor = e } function q3(e, t) { var r = Object.create(e.prototype); for (var n in t) r[n] = t[n]; return r } function b0() { } var qf = .7, km = 1 / qf, ku = "\\s*([+-]?\\d+)\\s*", Wf = "\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*", zi = "\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*", oY = /^#([0-9a-f]{3,8})$/, lY = new RegExp(`^rgb\\(${ku},${ku},${ku}\\)$`), cY = new RegExp(`^rgb\\(${zi},${zi},${zi}\\)$`), uY = new RegExp(`^rgba\\(${ku},${ku},${ku},${Wf}\\)$`), dY = new RegExp(`^rgba\\(${zi},${zi},${zi},${Wf}\\)$`), fY = new RegExp(`^hsl\\(${Wf},${zi},${zi}\\)$`), hY = new RegExp(`^hsla\\(${Wf},${zi},${zi},${Wf}\\)$`), vI = { aliceblue: 15792383, antiquewhite: 16444375, aqua: 65535, aquamarine: 8388564, azure: 15794175, beige: 16119260, bisque: 16770244, black: 0, blanchedalmond: 16772045, blue: 255, blueviolet: 9055202, brown: 10824234, burlywood: 14596231, cadetblue: 6266528, chartreuse: 8388352, chocolate: 13789470, coral: 16744272, cornflowerblue: 6591981, cornsilk: 16775388, crimson: 14423100, cyan: 65535, darkblue: 139, darkcyan: 35723, darkgoldenrod: 12092939, darkgray: 11119017, darkgreen: 25600, darkgrey: 11119017, darkkhaki: 12433259, darkmagenta: 9109643, darkolivegreen: 5597999, darkorange: 16747520, darkorchid: 10040012, darkred: 9109504, darksalmon: 15308410, darkseagreen: 9419919, darkslateblue: 4734347, darkslategray: 3100495, darkslategrey: 3100495, darkturquoise: 52945, darkviolet: 9699539, deeppink: 16716947, deepskyblue: 49151, dimgray: 6908265, dimgrey: 6908265, dodgerblue: 2003199, firebrick: 11674146, floralwhite: 16775920, forestgreen: 2263842, fuchsia: 16711935, gainsboro: 14474460, ghostwhite: 16316671, gold: 16766720, goldenrod: 14329120, gray: 8421504, green: 32768, greenyellow: 11403055, grey: 8421504, honeydew: 15794160, hotpink: 16738740, indianred: 13458524, indigo: 4915330, ivory: 16777200, khaki: 15787660, lavender: 15132410, lavenderblush: 16773365, lawngreen: 8190976, lemonchiffon: 16775885, lightblue: 11393254, lightcoral: 15761536, lightcyan: 14745599, lightgoldenrodyellow: 16448210, lightgray: 13882323, lightgreen: 9498256, lightgrey: 13882323, lightpink: 16758465, lightsalmon: 16752762, lightseagreen: 2142890, lightskyblue: 8900346, lightslategray: 7833753, lightslategrey: 7833753, lightsteelblue: 11584734, lightyellow: 16777184, lime: 65280, limegreen: 3329330, linen: 16445670, magenta: 16711935, maroon: 8388608, mediumaquamarine: 6737322, mediumblue: 205, mediumorchid: 12211667, mediumpurple: 9662683, mediumseagreen: 3978097, mediumslateblue: 8087790, mediumspringgreen: 64154, mediumturquoise: 4772300, mediumvioletred: 13047173, midnightblue: 1644912, mintcream: 16121850, mistyrose: 16770273, moccasin: 16770229, navajowhite: 16768685, navy: 128, oldlace: 16643558, olive: 8421376, olivedrab: 7048739, orange: 16753920, orangered: 16729344, orchid: 14315734, palegoldenrod: 15657130, palegreen: 10025880, paleturquoise: 11529966, palevioletred: 14381203, papayawhip: 16773077, peachpuff: 16767673, peru: 13468991, pink: 16761035, plum: 14524637, powderblue: 11591910, purple: 8388736, rebeccapurple: 6697881, red: 16711680, rosybrown: 12357519, royalblue: 4286945, saddlebrown: 9127187, salmon: 16416882, sandybrown: 16032864, seagreen: 3050327, seashell: 16774638, sienna: 10506797, silver: 12632256, skyblue: 8900331, slateblue: 6970061, slategray: 7372944, slategrey: 7372944, snow: 16775930, springgreen: 65407, steelblue: 4620980, tan: 13808780, teal: 32896, thistle: 14204888, tomato: 16737095, turquoise: 4251856, violet: 15631086, wheat: 16113331, white: 16777215, whitesmoke: 16119285, yellow: 16776960, yellowgreen: 10145074 }; uS(b0, Kf, { copy(e) { return Object.assign(new this.constructor, this, e) }, displayable() { return this.rgb().displayable() }, hex: yI, formatHex: yI, formatHex8: pY, formatHsl: mY, formatRgb: bI, toString: bI }); function yI() { return this.rgb().formatHex() } function pY() { return this.rgb().formatHex8() } function mY() { return W3(this).formatHsl() } function bI() { return this.rgb().formatRgb() } function Kf(e) { var t, r; return e = (e + "").trim().toLowerCase(), (t = oY.exec(e)) ? (r = t[1].length, t = parseInt(t[1], 16), r === 6 ? wI(t) : r === 3 ? new ua(t >> 8 & 15 | t >> 4 & 240, t >> 4 & 15 | t & 240, (t & 15) << 4 | t & 15, 1) : r === 8 ? hp(t >> 24 & 255, t >> 16 & 255, t >> 8 & 255, (t & 255) / 255) : r === 4 ? hp(t >> 12 & 15 | t >> 8 & 240, t >> 8 & 15 | t >> 4 & 240, t >> 4 & 15 | t & 240, ((t & 15) << 4 | t & 15) / 255) : null) : (t = lY.exec(e)) ? new ua(t[1], t[2], t[3], 1) : (t = cY.exec(e)) ? new ua(t[1] * 255 / 100, t[2] * 255 / 100, t[3] * 255 / 100, 1) : (t = uY.exec(e)) ? hp(t[1], t[2], t[3], t[4]) : (t = dY.exec(e)) ? hp(t[1] * 255 / 100, t[2] * 255 / 100, t[3] * 255 / 100, t[4]) : (t = fY.exec(e)) ? EI(t[1], t[2] / 100, t[3] / 100, 1) : (t = hY.exec(e)) ? EI(t[1], t[2] / 100, t[3] / 100, t[4]) : vI.hasOwnProperty(e) ? wI(vI[e]) : e === "transparent" ? new ua(NaN, NaN, NaN, 0) : null } function wI(e) { return new ua(e >> 16 & 255, e >> 8 & 255, e & 255, 1) } function hp(e, t, r, n) { return n <= 0 && (e = t = r = NaN), new ua(e, t, r, n) } function gY(e) { return e instanceof b0 || (e = Kf(e)), e ? (e = e.rgb(), new ua(e.r, e.g, e.b, e.opacity)) : new ua } function Uw(e, t, r, n) { return arguments.length === 1 ? gY(e) : new ua(e, t, r, n ?? 1) } function ua(e, t, r, n) { this.r = +e, this.g = +t, this.b = +r, this.opacity = +n } uS(ua, Uw, q3(b0, { brighter(e) { return e = e == null ? km : Math.pow(km, e), new ua(this.r * e, this.g * e, this.b * e, this.opacity) }, darker(e) { return e = e == null ? qf : Math.pow(qf, e), new ua(this.r * e, this.g * e, this.b * e, this.opacity) }, rgb() { return this }, clamp() { return new ua(Bl(this.r), Bl(this.g), Bl(this.b), Tm(this.opacity)) }, displayable() { return -.5 <= this.r && this.r < 255.5 && -.5 <= this.g && this.g < 255.5 && -.5 <= this.b && this.b < 255.5 && 0 <= this.opacity && this.opacity <= 1 }, hex: _I, formatHex: _I, formatHex8: xY, formatRgb: SI, toString: SI })); function _I() { return `#${Rl(this.r)}${Rl(this.g)}${Rl(this.b)}` } function xY() { return `#${Rl(this.r)}${Rl(this.g)}${Rl(this.b)}${Rl((isNaN(this.opacity) ? 1 : this.opacity) * 255)}` } function SI() { const e = Tm(this.opacity); return `${e === 1 ? "rgb(" : "rgba("}${Bl(this.r)}, ${Bl(this.g)}, ${Bl(this.b)}${e === 1 ? ")" : `, ${e})`}` } function Tm(e) { return isNaN(e) ? 1 : Math.max(0, Math.min(1, e)) } function Bl(e) { return Math.max(0, Math.min(255, Math.round(e) || 0)) } function Rl(e) { return e = Bl(e), (e < 16 ? "0" : "") + e.toString(16) } function EI(e, t, r, n) { return n <= 0 ? e = t = r = NaN : r <= 0 || r >= 1 ? e = t = NaN : t <= 0 && (e = NaN), new fi(e, t, r, n) } function W3(e) { if (e instanceof fi) return new fi(e.h, e.s, e.l, e.opacity); if (e instanceof b0 || (e = Kf(e)), !e) return new fi; if (e instanceof fi) return e; e = e.rgb(); var t = e.r / 255, r = e.g / 255, n = e.b / 255, a = Math.min(t, r, n), i = Math.max(t, r, n), s = NaN, l = i - a, f = (i + a) / 2; return l ? (t === i ? s = (r - n) / l + (r < n) * 6 : r === i ? s = (n - t) / l + 2 : s = (t - r) / l + 4, l /= f < .5 ? i + a : 2 - i - a, s *= 60) : l = f > 0 && f < 1 ? 0 : s, new fi(s, l, f, e.opacity) } function vY(e, t, r, n) { return arguments.length === 1 ? W3(e) : new fi(e, t, r, n ?? 1) } function fi(e, t, r, n) { this.h = +e, this.s = +t, this.l = +r, this.opacity = +n } uS(fi, vY, q3(b0, { brighter(e) { return e = e == null ? km : Math.pow(km, e), new fi(this.h, this.s, this.l * e, this.opacity) }, darker(e) { return e = e == null ? qf : Math.pow(qf, e), new fi(this.h, this.s, this.l * e, this.opacity) }, rgb() { var e = this.h % 360 + (this.h < 0) * 360, t = isNaN(e) || isNaN(this.s) ? 0 : this.s, r = this.l, n = r + (r < .5 ? r : 1 - r) * t, a = 2 * r - n; return new ua(a1(e >= 240 ? e - 240 : e + 120, a, n), a1(e, a, n), a1(e < 120 ? e + 240 : e - 120, a, n), this.opacity) }, clamp() { return new fi(kI(this.h), pp(this.s), pp(this.l), Tm(this.opacity)) }, displayable() { return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && 0 <= this.l && this.l <= 1 && 0 <= this.opacity && this.opacity <= 1 }, formatHsl() { const e = Tm(this.opacity); return `${e === 1 ? "hsl(" : "hsla("}${kI(this.h)}, ${pp(this.s) * 100}%, ${pp(this.l) * 100}%${e === 1 ? ")" : `, ${e})`}` } })); function kI(e) { return e = (e || 0) % 360, e < 0 ? e + 360 : e } function pp(e) { return Math.max(0, Math.min(1, e || 0)) } function a1(e, t, r) { return (e < 60 ? t + (r - t) * e / 60 : e < 180 ? r : e < 240 ? t + (r - t) * (240 - e) / 60 : t) * 255 } const dS = e => () => e; function yY(e, t) { return function (r) { return e + r * t } } function bY(e, t, r) { return e = Math.pow(e, r), t = Math.pow(t, r) - e, r = 1 / r, function (n) { return Math.pow(e + n * t, r) } } function wY(e) { return (e = +e) == 1 ? K3 : function (t, r) { return r - t ? bY(t, r, e) : dS(isNaN(t) ? r : t) } } function K3(e, t) { var r = t - e; return r ? yY(e, r) : dS(isNaN(e) ? t : e) } const TI = (function e(t) { var r = wY(t); function n(a, i) { var s = r((a = Uw(a)).r, (i = Uw(i)).r), l = r(a.g, i.g), f = r(a.b, i.b), d = K3(a.opacity, i.opacity); return function (h) { return a.r = s(h), a.g = l(h), a.b = f(h), a.opacity = d(h), a + "" } } return n.gamma = e, n })(1); function _Y(e, t) { t || (t = []); var r = e ? Math.min(t.length, e.length) : 0, n = t.slice(), a; return function (i) { for (a = 0; a < r; ++a)n[a] = e[a] * (1 - i) + t[a] * i; return n } } function SY(e) { return ArrayBuffer.isView(e) && !(e instanceof DataView) } function EY(e, t) { var r = t ? t.length : 0, n = e ? Math.min(r, e.length) : 0, a = new Array(n), i = new Array(r), s; for (s = 0; s < n; ++s)a[s] = Gu(e[s], t[s]); for (; s < r; ++s)i[s] = t[s]; return function (l) { for (s = 0; s < n; ++s)i[s] = a[s](l); return i } } function kY(e, t) { var r = new Date; return e = +e, t = +t, function (n) { return r.setTime(e * (1 - n) + t * n), r } } function Nm(e, t) { return e = +e, t = +t, function (r) { return e * (1 - r) + t * r } } function TY(e, t) { var r = {}, n = {}, a; (e === null || typeof e != "object") && (e = {}), (t === null || typeof t != "object") && (t = {}); for (a in t) a in e ? r[a] = Gu(e[a], t[a]) : n[a] = t[a]; return function (i) { for (a in r) n[a] = r[a](i); return n } } var Bw = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g, i1 = new RegExp(Bw.source, "g"); function NY(e) { return function () { return e } } function AY(e) { return function (t) { return e(t) + "" } } function CY(e, t) { var r = Bw.lastIndex = i1.lastIndex = 0, n, a, i, s = -1, l = [], f = []; for (e = e + "", t = t + ""; (n = Bw.exec(e)) && (a = i1.exec(t));)(i = a.index) > r && (i = t.slice(r, i), l[s] ? l[s] += i : l[++s] = i), (n = n[0]) === (a = a[0]) ? l[s] ? l[s] += a : l[++s] = a : (l[++s] = null, f.push({ i: s, x: Nm(n, a) })), r = i1.lastIndex; return r < t.length && (i = t.slice(r), l[s] ? l[s] += i : l[++s] = i), l.length < 2 ? f[0] ? AY(f[0].x) : NY(t) : (t = f.length, function (d) { for (var h = 0, m; h < t; ++h)l[(m = f[h]).i] = m.x(d); return l.join("") }) } function Gu(e, t) { var r = typeof t, n; return t == null || r === "boolean" ? dS(t) : (r === "number" ? Nm : r === "string" ? (n = Kf(t)) ? (t = n, TI) : CY : t instanceof Kf ? TI : t instanceof Date ? kY : SY(t) ? _Y : Array.isArray(t) ? EY : typeof t.valueOf != "function" && typeof t.toString != "function" || isNaN(t) ? TY : Nm)(e, t) } function fS(e, t) { return e = +e, t = +t, function (r) { return Math.round(e * (1 - r) + t * r) } } function jY(e, t) { t === void 0 && (t = e, e = Gu); for (var r = 0, n = t.length - 1, a = t[0], i = new Array(n < 0 ? 0 : n); r < n;)i[r] = e(a, a = t[++r]); return function (s) { var l = Math.max(0, Math.min(n - 1, Math.floor(s *= n))); return i[l](s - l) } } function IY(e) { return function () { return e } } function Am(e) { return +e } var NI = [0, 1]; function Wn(e) { return e } function $w(e, t) { return (t -= e = +e) ? function (r) { return (r - e) / t } : IY(isNaN(t) ? NaN : .5) } function OY(e, t) { var r; return e > t && (r = e, e = t, t = r), function (n) { return Math.max(e, Math.min(t, n)) } } function RY(e, t, r) { var n = e[0], a = e[1], i = t[0], s = t[1]; return a < n ? (n = $w(a, n), i = r(s, i)) : (n = $w(n, a), i = r(i, s)), function (l) { return i(n(l)) } } function PY(e, t, r) { var n = Math.min(e.length, t.length) - 1, a = new Array(n), i = new Array(n), s = -1; for (e[n] < e[0] && (e = e.slice().reverse(), t = t.slice().reverse()); ++s < n;)a[s] = $w(e[s], e[s + 1]), i[s] = r(t[s], t[s + 1]); return function (l) { var f = y0(e, l, 1, n) - 1; return i[f](a[f](l)) } } function w0(e, t) { return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown()) } function Ug() { var e = NI, t = NI, r = Gu, n, a, i, s = Wn, l, f, d; function h() { var g = Math.min(e.length, t.length); return s !== Wn && (s = OY(e[0], e[g - 1])), l = g > 2 ? PY : RY, f = d = null, m } function m(g) { return g == null || isNaN(g = +g) ? i : (f || (f = l(e.map(n), t, r)))(n(s(g))) } return m.invert = function (g) { return s(a((d || (d = l(t, e.map(n), Nm)))(g))) }, m.domain = function (g) { return arguments.length ? (e = Array.from(g, Am), h()) : e.slice() }, m.range = function (g) { return arguments.length ? (t = Array.from(g), h()) : t.slice() }, m.rangeRound = function (g) { return t = Array.from(g), r = fS, h() }, m.clamp = function (g) { return arguments.length ? (s = g ? !0 : Wn, h()) : s !== Wn }, m.interpolate = function (g) { return arguments.length ? (r = g, h()) : r }, m.unknown = function (g) { return arguments.length ? (i = g, m) : i }, function (g, v) { return n = g, a = v, h() } } function hS() { return Ug()(Wn, Wn) } function DY(e) { return Math.abs(e = Math.round(e)) >= 1e21 ? e.toLocaleString("en").replace(/,/g, "") : e.toString(10) } function Cm(e, t) { if (!isFinite(e) || e === 0) return null; var r = (e = t ? e.toExponential(t - 1) : e.toExponential()).indexOf("e"), n = e.slice(0, r); return [n.length > 1 ? n[0] + n.slice(2) : n, +e.slice(r + 1)] } function Du(e) { return e = Cm(Math.abs(e)), e ? e[1] : NaN } function MY(e, t) { return function (r, n) { for (var a = r.length, i = [], s = 0, l = e[0], f = 0; a > 0 && l > 0 && (f + l + 1 > n && (l = Math.max(1, n - f)), i.push(r.substring(a -= l, a + l)), !((f += l + 1) > n));)l = e[s = (s + 1) % e.length]; return i.reverse().join(t) } } function LY(e) { return function (t) { return t.replace(/[0-9]/g, function (r) { return e[+r] }) } } var FY = /^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i; function Yf(e) { if (!(t = FY.exec(e))) throw new Error("invalid format: " + e); var t; return new pS({ fill: t[1], align: t[2], sign: t[3], symbol: t[4], zero: t[5], width: t[6], comma: t[7], precision: t[8] && t[8].slice(1), trim: t[9], type: t[10] }) } Yf.prototype = pS.prototype; function pS(e) { this.fill = e.fill === void 0 ? " " : e.fill + "", this.align = e.align === void 0 ? ">" : e.align + "", this.sign = e.sign === void 0 ? "-" : e.sign + "", this.symbol = e.symbol === void 0 ? "" : e.symbol + "", this.zero = !!e.zero, this.width = e.width === void 0 ? void 0 : +e.width, this.comma = !!e.comma, this.precision = e.precision === void 0 ? void 0 : +e.precision, this.trim = !!e.trim, this.type = e.type === void 0 ? "" : e.type + "" } pS.prototype.toString = function () { return this.fill + this.align + this.sign + this.symbol + (this.zero ? "0" : "") + (this.width === void 0 ? "" : Math.max(1, this.width | 0)) + (this.comma ? "," : "") + (this.precision === void 0 ? "" : "." + Math.max(0, this.precision | 0)) + (this.trim ? "~" : "") + this.type }; function UY(e) { e: for (var t = e.length, r = 1, n = -1, a; r < t; ++r)switch (e[r]) { case ".": n = a = r; break; case "0": n === 0 && (n = r), a = r; break; default: if (!+e[r]) break e; n > 0 && (n = 0); break }return n > 0 ? e.slice(0, n) + e.slice(a + 1) : e } var jm; function BY(e, t) { var r = Cm(e, t); if (!r) return jm = void 0, e.toPrecision(t); var n = r[0], a = r[1], i = a - (jm = Math.max(-8, Math.min(8, Math.floor(a / 3))) * 3) + 1, s = n.length; return i === s ? n : i > s ? n + new Array(i - s + 1).join("0") : i > 0 ? n.slice(0, i) + "." + n.slice(i) : "0." + new Array(1 - i).join("0") + Cm(e, Math.max(0, t + i - 1))[0] } function AI(e, t) { var r = Cm(e, t); if (!r) return e + ""; var n = r[0], a = r[1]; return a < 0 ? "0." + new Array(-a).join("0") + n : n.length > a + 1 ? n.slice(0, a + 1) + "." + n.slice(a + 1) : n + new Array(a - n.length + 2).join("0") } const CI = { "%": (e, t) => (e * 100).toFixed(t), b: e => Math.round(e).toString(2), c: e => e + "", d: DY, e: (e, t) => e.toExponential(t), f: (e, t) => e.toFixed(t), g: (e, t) => e.toPrecision(t), o: e => Math.round(e).toString(8), p: (e, t) => AI(e * 100, t), r: AI, s: BY, X: e => Math.round(e).toString(16).toUpperCase(), x: e => Math.round(e).toString(16) }; function jI(e) { return e } var II = Array.prototype.map, OI = ["y", "z", "a", "f", "p", "n", "", "m", "", "k", "M", "G", "T", "P", "E", "Z", "Y"]; function $Y(e) { var t = e.grouping === void 0 || e.thousands === void 0 ? jI : MY(II.call(e.grouping, Number), e.thousands + ""), r = e.currency === void 0 ? "" : e.currency[0] + "", n = e.currency === void 0 ? "" : e.currency[1] + "", a = e.decimal === void 0 ? "." : e.decimal + "", i = e.numerals === void 0 ? jI : LY(II.call(e.numerals, String)), s = e.percent === void 0 ? "%" : e.percent + "", l = e.minus === void 0 ? "" : e.minus + "", f = e.nan === void 0 ? "NaN" : e.nan + ""; function d(m, g) { m = Yf(m); var v = m.fill, y = m.align, b = m.sign, _ = m.symbol, k = m.zero, C = m.width, T = m.comma, j = m.precision, R = m.trim, O = m.type; O === "n" ? (T = !0, O = "g") : CI[O] || (j === void 0 && (j = 12), R = !0, O = "g"), (k || v === "0" && y === "=") && (k = !0, v = "0", y = "="); var I = (g && g.prefix !== void 0 ? g.prefix : "") + (_ === "$" ? r : _ === "#" && /[boxX]/.test(O) ? "0" + O.toLowerCase() : ""), H = (_ === "$" ? n : /[%p]/.test(O) ? s : "") + (g && g.suffix !== void 0 ? g.suffix : ""), F = CI[O], X = /[defgprs%]/.test(O); j = j === void 0 ? 6 : /[gprs]/.test(O) ? Math.max(1, Math.min(21, j)) : Math.max(0, Math.min(20, j)); function V(U) { var ee = I, re = H, de, D, z; if (O === "c") re = F(U) + re, U = ""; else { U = +U; var ie = U < 0 || 1 / U < 0; if (U = isNaN(U) ? f : F(Math.abs(U), j), R && (U = UY(U)), ie && +U == 0 && b !== "+" && (ie = !1), ee = (ie ? b === "(" ? b : l : b === "-" || b === "(" ? "" : b) + ee, re = (O === "s" && !isNaN(U) && jm !== void 0 ? OI[8 + jm / 3] : "") + re + (ie && b === "(" ? ")" : ""), X) { for (de = -1, D = U.length; ++de < D;)if (z = U.charCodeAt(de), 48 > z || z > 57) { re = (z === 46 ? a + U.slice(de + 1) : U.slice(de)) + re, U = U.slice(0, de); break } } } T && !k && (U = t(U, 1 / 0)); var M = ee.length + U.length + re.length, te = M < C ? new Array(C - M + 1).join(v) : ""; switch (T && k && (U = t(te + U, te.length ? C - re.length : 1 / 0), te = ""), y) { case "<": U = ee + U + re + te; break; case "=": U = ee + te + U + re; break; case "^": U = te.slice(0, M = te.length >> 1) + ee + U + re + te.slice(M); break; default: U = te + ee + U + re; break }return i(U) } return V.toString = function () { return m + "" }, V } function h(m, g) { var v = Math.max(-8, Math.min(8, Math.floor(Du(g) / 3))) * 3, y = Math.pow(10, -v), b = d((m = Yf(m), m.type = "f", m), { suffix: OI[8 + v / 3] }); return function (_) { return b(y * _) } } return { format: d, formatPrefix: h } } var mp, mS, Y3; zY({ thousands: ",", grouping: [3], currency: ["$", ""] }); function zY(e) { return mp = $Y(e), mS = mp.format, Y3 = mp.formatPrefix, mp } function HY(e) { return Math.max(0, -Du(Math.abs(e))) } function GY(e, t) { return Math.max(0, Math.max(-8, Math.min(8, Math.floor(Du(t) / 3))) * 3 - Du(Math.abs(e))) } function VY(e, t) { return e = Math.abs(e), t = Math.abs(t) - e, Math.max(0, Du(t) - Du(e)) + 1 } function X3(e, t, r, n) { var a = Lw(e, t, r), i; switch (n = Yf(n ?? ",f"), n.type) { case "s": { var s = Math.max(Math.abs(e), Math.abs(t)); return n.precision == null && !isNaN(i = GY(a, s)) && (n.precision = i), Y3(n, s) } case "": case "e": case "g": case "p": case "r": { n.precision == null && !isNaN(i = VY(a, Math.max(Math.abs(e), Math.abs(t)))) && (n.precision = i - (n.type === "e")); break } case "f": case "%": { n.precision == null && !isNaN(i = HY(a)) && (n.precision = i - (n.type === "%") * 2); break } }return mS(n) } function qo(e) { var t = e.domain; return e.ticks = function (r) { var n = t(); return Dw(n[0], n[n.length - 1], r ?? 10) }, e.tickFormat = function (r, n) { var a = t(); return X3(a[0], a[a.length - 1], r ?? 10, n) }, e.nice = function (r) { r == null && (r = 10); var n = t(), a = 0, i = n.length - 1, s = n[a], l = n[i], f, d, h = 10; for (l < s && (d = s, s = l, l = d, d = a, a = i, i = d); h-- > 0;) { if (d = Mw(s, l, r), d === f) return n[a] = s, n[i] = l, t(n); if (d > 0) s = Math.floor(s / d) * d, l = Math.ceil(l / d) * d; else if (d < 0) s = Math.ceil(s * d) / d, l = Math.floor(l * d) / d; else break; f = d } return e }, e } function J3() { var e = hS(); return e.copy = function () { return w0(e, J3()) }, Za.apply(e, arguments), qo(e) } function Z3(e) { var t; function r(n) { return n == null || isNaN(n = +n) ? t : n } return r.invert = r, r.domain = r.range = function (n) { return arguments.length ? (e = Array.from(n, Am), r) : e.slice() }, r.unknown = function (n) { return arguments.length ? (t = n, r) : t }, r.copy = function () { return Z3(e).unknown(t) }, e = arguments.length ? Array.from(e, Am) : [0, 1], qo(r) } function Q3(e, t) { e = e.slice(); var r = 0, n = e.length - 1, a = e[r], i = e[n], s; return i < a && (s = r, r = n, n = s, s = a, a = i, i = s), e[r] = t.floor(a), e[n] = t.ceil(i), e } function RI(e) { return Math.log(e) } function PI(e) { return Math.exp(e) } function qY(e) { return -Math.log(-e) } function WY(e) { return -Math.exp(-e) } function KY(e) { return isFinite(e) ? +("1e" + e) : e < 0 ? 0 : e } function YY(e) { return e === 10 ? KY : e === Math.E ? Math.exp : t => Math.pow(e, t) } function XY(e) { return e === Math.E ? Math.log : e === 10 && Math.log10 || e === 2 && Math.log2 || (e = Math.log(e), t => Math.log(t) / e) } function DI(e) { return (t, r) => -e(-t, r) } function gS(e) { const t = e(RI, PI), r = t.domain; let n = 10, a, i; function s() { return a = XY(n), i = YY(n), r()[0] < 0 ? (a = DI(a), i = DI(i), e(qY, WY)) : e(RI, PI), t } return t.base = function (l) { return arguments.length ? (n = +l, s()) : n }, t.domain = function (l) { return arguments.length ? (r(l), s()) : r() }, t.ticks = l => { const f = r(); let d = f[0], h = f[f.length - 1]; const m = h < d; m && ([d, h] = [h, d]); let g = a(d), v = a(h), y, b; const _ = l == null ? 10 : +l; let k = []; if (!(n % 1) && v - g < _) { if (g = Math.floor(g), v = Math.ceil(v), d > 0) { for (; g <= v; ++g)for (y = 1; y < n; ++y)if (b = g < 0 ? y / i(-g) : y * i(g), !(b < d)) { if (b > h) break; k.push(b) } } else for (; g <= v; ++g)for (y = n - 1; y >= 1; --y)if (b = g > 0 ? y / i(-g) : y * i(g), !(b < d)) { if (b > h) break; k.push(b) } k.length * 2 < _ && (k = Dw(d, h, _)) } else k = Dw(g, v, Math.min(v - g, _)).map(i); return m ? k.reverse() : k }, t.tickFormat = (l, f) => { if (l == null && (l = 10), f == null && (f = n === 10 ? "s" : ","), typeof f != "function" && (!(n % 1) && (f = Yf(f)).precision == null && (f.trim = !0), f = mS(f)), l === 1 / 0) return f; const d = Math.max(1, n * l / t.ticks().length); return h => { let m = h / i(Math.round(a(h))); return m * n < n - .5 && (m *= n), m <= d ? f(h) : "" } }, t.nice = () => r(Q3(r(), { floor: l => i(Math.floor(a(l))), ceil: l => i(Math.ceil(a(l))) })), t } function e5() { const e = gS(Ug()).domain([1, 10]); return e.copy = () => w0(e, e5()).base(e.base()), Za.apply(e, arguments), e } function MI(e) { return function (t) { return Math.sign(t) * Math.log1p(Math.abs(t / e)) } } function LI(e) { return function (t) { return Math.sign(t) * Math.expm1(Math.abs(t)) * e } } function xS(e) { var t = 1, r = e(MI(t), LI(t)); return r.constant = function (n) { return arguments.length ? e(MI(t = +n), LI(t)) : t }, qo(r) } function t5() { var e = xS(Ug()); return e.copy = function () { return w0(e, t5()).constant(e.constant()) }, Za.apply(e, arguments) } function FI(e) { return function (t) { return t < 0 ? -Math.pow(-t, e) : Math.pow(t, e) } } function JY(e) { return e < 0 ? -Math.sqrt(-e) : Math.sqrt(e) } function ZY(e) { return e < 0 ? -e * e : e * e } function vS(e) { var t = e(Wn, Wn), r = 1; function n() { return r === 1 ? e(Wn, Wn) : r === .5 ? e(JY, ZY) : e(FI(r), FI(1 / r)) } return t.exponent = function (a) { return arguments.length ? (r = +a, n()) : r }, qo(t) } function yS() { var e = vS(Ug()); return e.copy = function () { return w0(e, yS()).exponent(e.exponent()) }, Za.apply(e, arguments), e } function QY() { return yS.apply(null, arguments).exponent(.5) } function UI(e) { return Math.sign(e) * e * e } function eX(e) { return Math.sign(e) * Math.sqrt(Math.abs(e)) } function r5() { var e = hS(), t = [0, 1], r = !1, n; function a(i) { var s = eX(e(i)); return isNaN(s) ? n : r ? Math.round(s) : s } return a.invert = function (i) { return e.invert(UI(i)) }, a.domain = function (i) { return arguments.length ? (e.domain(i), a) : e.domain() }, a.range = function (i) { return arguments.length ? (e.range((t = Array.from(i, Am)).map(UI)), a) : t.slice() }, a.rangeRound = function (i) { return a.range(i).round(!0) }, a.round = function (i) { return arguments.length ? (r = !!i, a) : r }, a.clamp = function (i) { return arguments.length ? (e.clamp(i), a) : e.clamp() }, a.unknown = function (i) { return arguments.length ? (n = i, a) : n }, a.copy = function () { return r5(e.domain(), t).round(r).clamp(e.clamp()).unknown(n) }, Za.apply(a, arguments), qo(a) } function n5() { var e = [], t = [], r = [], n; function a() { var s = 0, l = Math.max(1, t.length); for (r = new Array(l - 1); ++s < l;)r[s - 1] = aY(e, s / l); return i } function i(s) { return s == null || isNaN(s = +s) ? n : t[y0(r, s)] } return i.invertExtent = function (s) { var l = t.indexOf(s); return l < 0 ? [NaN, NaN] : [l > 0 ? r[l - 1] : e[0], l < r.length ? r[l] : e[e.length - 1]] }, i.domain = function (s) { if (!arguments.length) return e.slice(); e = []; for (let l of s) l != null && !isNaN(l = +l) && e.push(l); return e.sort(Po), a() }, i.range = function (s) { return arguments.length ? (t = Array.from(s), a()) : t.slice() }, i.unknown = function (s) { return arguments.length ? (n = s, i) : n }, i.quantiles = function () { return r.slice() }, i.copy = function () { return n5().domain(e).range(t).unknown(n) }, Za.apply(i, arguments) } function a5() { var e = 0, t = 1, r = 1, n = [.5], a = [0, 1], i; function s(f) { return f != null && f <= f ? a[y0(n, f, 0, r)] : i } function l() { var f = -1; for (n = new Array(r); ++f < r;)n[f] = ((f + 1) * t - (f - r) * e) / (r + 1); return s } return s.domain = function (f) { return arguments.length ? ([e, t] = f, e = +e, t = +t, l()) : [e, t] }, s.range = function (f) { return arguments.length ? (r = (a = Array.from(f)).length - 1, l()) : a.slice() }, s.invertExtent = function (f) { var d = a.indexOf(f); return d < 0 ? [NaN, NaN] : d < 1 ? [e, n[0]] : d >= r ? [n[r - 1], t] : [n[d - 1], n[d]] }, s.unknown = function (f) { return arguments.length && (i = f), s }, s.thresholds = function () { return n.slice() }, s.copy = function () { return a5().domain([e, t]).range(a).unknown(i) }, Za.apply(qo(s), arguments) } function i5() { var e = [.5], t = [0, 1], r, n = 1; function a(i) { return i != null && i <= i ? t[y0(e, i, 0, n)] : r } return a.domain = function (i) { return arguments.length ? (e = Array.from(i), n = Math.min(e.length, t.length - 1), a) : e.slice() }, a.range = function (i) { return arguments.length ? (t = Array.from(i), n = Math.min(e.length, t.length - 1), a) : t.slice() }, a.invertExtent = function (i) { var s = t.indexOf(i); return [e[s - 1], e[s]] }, a.unknown = function (i) { return arguments.length ? (r = i, a) : r }, a.copy = function () { return i5().domain(e).range(t).unknown(r) }, Za.apply(a, arguments) } const s1 = new Date, o1 = new Date; function Kr(e, t, r, n) { function a(i) { return e(i = arguments.length === 0 ? new Date : new Date(+i)), i } return a.floor = i => (e(i = new Date(+i)), i), a.ceil = i => (e(i = new Date(i - 1)), t(i, 1), e(i), i), a.round = i => { const s = a(i), l = a.ceil(i); return i - s < l - i ? s : l }, a.offset = (i, s) => (t(i = new Date(+i), s == null ? 1 : Math.floor(s)), i), a.range = (i, s, l) => { const f = []; if (i = a.ceil(i), l = l == null ? 1 : Math.floor(l), !(i < s) || !(l > 0)) return f; let d; do f.push(d = new Date(+i)), t(i, l), e(i); while (d < i && i < s); return f }, a.filter = i => Kr(s => { if (s >= s) for (; e(s), !i(s);)s.setTime(s - 1) }, (s, l) => { if (s >= s) if (l < 0) for (; ++l <= 0;)for (; t(s, -1), !i(s);); else for (; --l >= 0;)for (; t(s, 1), !i(s);); }), r && (a.count = (i, s) => (s1.setTime(+i), o1.setTime(+s), e(s1), e(o1), Math.floor(r(s1, o1))), a.every = i => (i = Math.floor(i), !isFinite(i) || !(i > 0) ? null : i > 1 ? a.filter(n ? s => n(s) % i === 0 : s => a.count(0, s) % i === 0) : a)), a } const Im = Kr(() => { }, (e, t) => { e.setTime(+e + t) }, (e, t) => t - e); Im.every = e => (e = Math.floor(e), !isFinite(e) || !(e > 0) ? null : e > 1 ? Kr(t => { t.setTime(Math.floor(t / e) * e) }, (t, r) => { t.setTime(+t + r * e) }, (t, r) => (r - t) / e) : Im); Im.range; const ws = 1e3, qa = ws * 60, _s = qa * 60, Cs = _s * 24, bS = Cs * 7, BI = Cs * 30, l1 = Cs * 365, Pl = Kr(e => { e.setTime(e - e.getMilliseconds()) }, (e, t) => { e.setTime(+e + t * ws) }, (e, t) => (t - e) / ws, e => e.getUTCSeconds()); Pl.range; const wS = Kr(e => { e.setTime(e - e.getMilliseconds() - e.getSeconds() * ws) }, (e, t) => { e.setTime(+e + t * qa) }, (e, t) => (t - e) / qa, e => e.getMinutes()); wS.range; const _S = Kr(e => { e.setUTCSeconds(0, 0) }, (e, t) => { e.setTime(+e + t * qa) }, (e, t) => (t - e) / qa, e => e.getUTCMinutes()); _S.range; const SS = Kr(e => { e.setTime(e - e.getMilliseconds() - e.getSeconds() * ws - e.getMinutes() * qa) }, (e, t) => { e.setTime(+e + t * _s) }, (e, t) => (t - e) / _s, e => e.getHours()); SS.range; const ES = Kr(e => { e.setUTCMinutes(0, 0, 0) }, (e, t) => { e.setTime(+e + t * _s) }, (e, t) => (t - e) / _s, e => e.getUTCHours()); ES.range; const _0 = Kr(e => e.setHours(0, 0, 0, 0), (e, t) => e.setDate(e.getDate() + t), (e, t) => (t - e - (t.getTimezoneOffset() - e.getTimezoneOffset()) * qa) / Cs, e => e.getDate() - 1); _0.range; const Bg = Kr(e => { e.setUTCHours(0, 0, 0, 0) }, (e, t) => { e.setUTCDate(e.getUTCDate() + t) }, (e, t) => (t - e) / Cs, e => e.getUTCDate() - 1); Bg.range; const s5 = Kr(e => { e.setUTCHours(0, 0, 0, 0) }, (e, t) => { e.setUTCDate(e.getUTCDate() + t) }, (e, t) => (t - e) / Cs, e => Math.floor(e / Cs)); s5.range; function ac(e) { return Kr(t => { t.setDate(t.getDate() - (t.getDay() + 7 - e) % 7), t.setHours(0, 0, 0, 0) }, (t, r) => { t.setDate(t.getDate() + r * 7) }, (t, r) => (r - t - (r.getTimezoneOffset() - t.getTimezoneOffset()) * qa) / bS) } const $g = ac(0), Om = ac(1), tX = ac(2), rX = ac(3), Mu = ac(4), nX = ac(5), aX = ac(6); $g.range; Om.range; tX.range; rX.range; Mu.range; nX.range; aX.range; function ic(e) { return Kr(t => { t.setUTCDate(t.getUTCDate() - (t.getUTCDay() + 7 - e) % 7), t.setUTCHours(0, 0, 0, 0) }, (t, r) => { t.setUTCDate(t.getUTCDate() + r * 7) }, (t, r) => (r - t) / bS) } const zg = ic(0), Rm = ic(1), iX = ic(2), sX = ic(3), Lu = ic(4), oX = ic(5), lX = ic(6); zg.range; Rm.range; iX.range; sX.range; Lu.range; oX.range; lX.range; const kS = Kr(e => { e.setDate(1), e.setHours(0, 0, 0, 0) }, (e, t) => { e.setMonth(e.getMonth() + t) }, (e, t) => t.getMonth() - e.getMonth() + (t.getFullYear() - e.getFullYear()) * 12, e => e.getMonth()); kS.range; const TS = Kr(e => { e.setUTCDate(1), e.setUTCHours(0, 0, 0, 0) }, (e, t) => { e.setUTCMonth(e.getUTCMonth() + t) }, (e, t) => t.getUTCMonth() - e.getUTCMonth() + (t.getUTCFullYear() - e.getUTCFullYear()) * 12, e => e.getUTCMonth()); TS.range; const js = Kr(e => { e.setMonth(0, 1), e.setHours(0, 0, 0, 0) }, (e, t) => { e.setFullYear(e.getFullYear() + t) }, (e, t) => t.getFullYear() - e.getFullYear(), e => e.getFullYear()); js.every = e => !isFinite(e = Math.floor(e)) || !(e > 0) ? null : Kr(t => { t.setFullYear(Math.floor(t.getFullYear() / e) * e), t.setMonth(0, 1), t.setHours(0, 0, 0, 0) }, (t, r) => { t.setFullYear(t.getFullYear() + r * e) }); js.range; const Is = Kr(e => { e.setUTCMonth(0, 1), e.setUTCHours(0, 0, 0, 0) }, (e, t) => { e.setUTCFullYear(e.getUTCFullYear() + t) }, (e, t) => t.getUTCFullYear() - e.getUTCFullYear(), e => e.getUTCFullYear()); Is.every = e => !isFinite(e = Math.floor(e)) || !(e > 0) ? null : Kr(t => { t.setUTCFullYear(Math.floor(t.getUTCFullYear() / e) * e), t.setUTCMonth(0, 1), t.setUTCHours(0, 0, 0, 0) }, (t, r) => { t.setUTCFullYear(t.getUTCFullYear() + r * e) }); Is.range; function o5(e, t, r, n, a, i) { const s = [[Pl, 1, ws], [Pl, 5, 5 * ws], [Pl, 15, 15 * ws], [Pl, 30, 30 * ws], [i, 1, qa], [i, 5, 5 * qa], [i, 15, 15 * qa], [i, 30, 30 * qa], [a, 1, _s], [a, 3, 3 * _s], [a, 6, 6 * _s], [a, 12, 12 * _s], [n, 1, Cs], [n, 2, 2 * Cs], [r, 1, bS], [t, 1, BI], [t, 3, 3 * BI], [e, 1, l1]]; function l(d, h, m) { const g = h < d; g && ([d, h] = [h, d]); const v = m && typeof m.range == "function" ? m : f(d, h, m), y = v ? v.range(d, +h + 1) : []; return g ? y.reverse() : y } function f(d, h, m) { const g = Math.abs(h - d) / m, v = oS(([, , _]) => _).right(s, g); if (v === s.length) return e.every(Lw(d / l1, h / l1, m)); if (v === 0) return Im.every(Math.max(Lw(d, h, m), 1)); const [y, b] = s[g / s[v - 1][2] < s[v][2] / g ? v - 1 : v]; return y.every(b) } return [l, f] } const [cX, uX] = o5(Is, TS, zg, s5, ES, _S), [dX, fX] = o5(js, kS, $g, _0, SS, wS); function c1(e) { if (0 <= e.y && e.y < 100) { var t = new Date(-1, e.m, e.d, e.H, e.M, e.S, e.L); return t.setFullYear(e.y), t } return new Date(e.y, e.m, e.d, e.H, e.M, e.S, e.L) } function u1(e) { if (0 <= e.y && e.y < 100) { var t = new Date(Date.UTC(-1, e.m, e.d, e.H, e.M, e.S, e.L)); return t.setUTCFullYear(e.y), t } return new Date(Date.UTC(e.y, e.m, e.d, e.H, e.M, e.S, e.L)) } function nf(e, t, r) { return { y: e, m: t, d: r, H: 0, M: 0, S: 0, L: 0 } } function hX(e) { var t = e.dateTime, r = e.date, n = e.time, a = e.periods, i = e.days, s = e.shortDays, l = e.months, f = e.shortMonths, d = af(a), h = sf(a), m = af(i), g = sf(i), v = af(s), y = sf(s), b = af(l), _ = sf(l), k = af(f), C = sf(f), T = { a: z, A: ie, b: M, B: te, c: null, d: qI, e: qI, f: MX, g: qX, G: KX, H: RX, I: PX, j: DX, L: l5, m: LX, M: FX, p: G, q: P, Q: YI, s: XI, S: UX, u: BX, U: $X, V: zX, w: HX, W: GX, x: null, X: null, y: VX, Y: WX, Z: YX, "%": KI }, j = { a: W, A: J, b: B, B: ce, c: null, d: WI, e: WI, f: QX, g: cJ, G: dJ, H: XX, I: JX, j: ZX, L: u5, m: eJ, M: tJ, p: fe, q: le, Q: YI, s: XI, S: rJ, u: nJ, U: aJ, V: iJ, w: sJ, W: oJ, x: null, X: null, y: lJ, Y: uJ, Z: fJ, "%": KI }, R = { a: X, A: V, b: U, B: ee, c: re, d: GI, e: GI, f: CX, g: HI, G: zI, H: VI, I: VI, j: kX, L: AX, m: EX, M: TX, p: F, q: SX, Q: IX, s: OX, S: NX, u: vX, U: yX, V: bX, w: xX, W: wX, x: de, X: D, y: HI, Y: zI, Z: _X, "%": jX }; T.x = O(r, T), T.X = O(n, T), T.c = O(t, T), j.x = O(r, j), j.X = O(n, j), j.c = O(t, j); function O(oe, pe) { return function (Ie) { var Y = [], ct = -1, He = 0, tt = oe.length, Je, Pe, Ut; for (Ie instanceof Date || (Ie = new Date(+Ie)); ++ct < tt;)oe.charCodeAt(ct) === 37 && (Y.push(oe.slice(He, ct)), (Pe = $I[Je = oe.charAt(++ct)]) != null ? Je = oe.charAt(++ct) : Pe = Je === "e" ? " " : "0", (Ut = pe[Je]) && (Je = Ut(Ie, Pe)), Y.push(Je), He = ct + 1); return Y.push(oe.slice(He, ct)), Y.join("") } } function I(oe, pe) { return function (Ie) { var Y = nf(1900, void 0, 1), ct = H(Y, oe, Ie += "", 0), He, tt; if (ct != Ie.length) return null; if ("Q" in Y) return new Date(Y.Q); if ("s" in Y) return new Date(Y.s * 1e3 + ("L" in Y ? Y.L : 0)); if (pe && !("Z" in Y) && (Y.Z = 0), "p" in Y && (Y.H = Y.H % 12 + Y.p * 12), Y.m === void 0 && (Y.m = "q" in Y ? Y.q : 0), "V" in Y) { if (Y.V < 1 || Y.V > 53) return null; "w" in Y || (Y.w = 1), "Z" in Y ? (He = u1(nf(Y.y, 0, 1)), tt = He.getUTCDay(), He = tt > 4 || tt === 0 ? Rm.ceil(He) : Rm(He), He = Bg.offset(He, (Y.V - 1) * 7), Y.y = He.getUTCFullYear(), Y.m = He.getUTCMonth(), Y.d = He.getUTCDate() + (Y.w + 6) % 7) : (He = c1(nf(Y.y, 0, 1)), tt = He.getDay(), He = tt > 4 || tt === 0 ? Om.ceil(He) : Om(He), He = _0.offset(He, (Y.V - 1) * 7), Y.y = He.getFullYear(), Y.m = He.getMonth(), Y.d = He.getDate() + (Y.w + 6) % 7) } else ("W" in Y || "U" in Y) && ("w" in Y || (Y.w = "u" in Y ? Y.u % 7 : "W" in Y ? 1 : 0), tt = "Z" in Y ? u1(nf(Y.y, 0, 1)).getUTCDay() : c1(nf(Y.y, 0, 1)).getDay(), Y.m = 0, Y.d = "W" in Y ? (Y.w + 6) % 7 + Y.W * 7 - (tt + 5) % 7 : Y.w + Y.U * 7 - (tt + 6) % 7); return "Z" in Y ? (Y.H += Y.Z / 100 | 0, Y.M += Y.Z % 100, u1(Y)) : c1(Y) } } function H(oe, pe, Ie, Y) { for (var ct = 0, He = pe.length, tt = Ie.length, Je, Pe; ct < He;) { if (Y >= tt) return -1; if (Je = pe.charCodeAt(ct++), Je === 37) { if (Je = pe.charAt(ct++), Pe = R[Je in $I ? pe.charAt(ct++) : Je], !Pe || (Y = Pe(oe, Ie, Y)) < 0) return -1 } else if (Je != Ie.charCodeAt(Y++)) return -1 } return Y } function F(oe, pe, Ie) { var Y = d.exec(pe.slice(Ie)); return Y ? (oe.p = h.get(Y[0].toLowerCase()), Ie + Y[0].length) : -1 } function X(oe, pe, Ie) { var Y = v.exec(pe.slice(Ie)); return Y ? (oe.w = y.get(Y[0].toLowerCase()), Ie + Y[0].length) : -1 } function V(oe, pe, Ie) { var Y = m.exec(pe.slice(Ie)); return Y ? (oe.w = g.get(Y[0].toLowerCase()), Ie + Y[0].length) : -1 } function U(oe, pe, Ie) { var Y = k.exec(pe.slice(Ie)); return Y ? (oe.m = C.get(Y[0].toLowerCase()), Ie + Y[0].length) : -1 } function ee(oe, pe, Ie) { var Y = b.exec(pe.slice(Ie)); return Y ? (oe.m = _.get(Y[0].toLowerCase()), Ie + Y[0].length) : -1 } function re(oe, pe, Ie) { return H(oe, t, pe, Ie) } function de(oe, pe, Ie) { return H(oe, r, pe, Ie) } function D(oe, pe, Ie) { return H(oe, n, pe, Ie) } function z(oe) { return s[oe.getDay()] } function ie(oe) { return i[oe.getDay()] } function M(oe) { return f[oe.getMonth()] } function te(oe) { return l[oe.getMonth()] } function G(oe) { return a[+(oe.getHours() >= 12)] } function P(oe) { return 1 + ~~(oe.getMonth() / 3) } function W(oe) { return s[oe.getUTCDay()] } function J(oe) { return i[oe.getUTCDay()] } function B(oe) { return f[oe.getUTCMonth()] } function ce(oe) { return l[oe.getUTCMonth()] } function fe(oe) { return a[+(oe.getUTCHours() >= 12)] } function le(oe) { return 1 + ~~(oe.getUTCMonth() / 3) } return { format: function (oe) { var pe = O(oe += "", T); return pe.toString = function () { return oe }, pe }, parse: function (oe) { var pe = I(oe += "", !1); return pe.toString = function () { return oe }, pe }, utcFormat: function (oe) { var pe = O(oe += "", j); return pe.toString = function () { return oe }, pe }, utcParse: function (oe) { var pe = I(oe += "", !0); return pe.toString = function () { return oe }, pe } } } var $I = { "-": "", _: " ", 0: "0" }, ln = /^\s*\d+/, pX = /^%/, mX = /[\\^$*+?|[\]().{}]/g; function Ot(e, t, r) { var n = e < 0 ? "-" : "", a = (n ? -e : e) + "", i = a.length; return n + (i < r ? new Array(r - i + 1).join(t) + a : a) } function gX(e) { return e.replace(mX, "\\$&") } function af(e) { return new RegExp("^(?:" + e.map(gX).join("|") + ")", "i") } function sf(e) { return new Map(e.map((t, r) => [t.toLowerCase(), r])) } function xX(e, t, r) { var n = ln.exec(t.slice(r, r + 1)); return n ? (e.w = +n[0], r + n[0].length) : -1 } function vX(e, t, r) { var n = ln.exec(t.slice(r, r + 1)); return n ? (e.u = +n[0], r + n[0].length) : -1 } function yX(e, t, r) { var n = ln.exec(t.slice(r, r + 2)); return n ? (e.U = +n[0], r + n[0].length) : -1 } function bX(e, t, r) { var n = ln.exec(t.slice(r, r + 2)); return n ? (e.V = +n[0], r + n[0].length) : -1 } function wX(e, t, r) { var n = ln.exec(t.slice(r, r + 2)); return n ? (e.W = +n[0], r + n[0].length) : -1 } function zI(e, t, r) { var n = ln.exec(t.slice(r, r + 4)); return n ? (e.y = +n[0], r + n[0].length) : -1 } function HI(e, t, r) { var n = ln.exec(t.slice(r, r + 2)); return n ? (e.y = +n[0] + (+n[0] > 68 ? 1900 : 2e3), r + n[0].length) : -1 } function _X(e, t, r) { var n = /^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r, r + 6)); return n ? (e.Z = n[1] ? 0 : -(n[2] + (n[3] || "00")), r + n[0].length) : -1 } function SX(e, t, r) { var n = ln.exec(t.slice(r, r + 1)); return n ? (e.q = n[0] * 3 - 3, r + n[0].length) : -1 } function EX(e, t, r) { var n = ln.exec(t.slice(r, r + 2)); return n ? (e.m = n[0] - 1, r + n[0].length) : -1 } function GI(e, t, r) { var n = ln.exec(t.slice(r, r + 2)); return n ? (e.d = +n[0], r + n[0].length) : -1 } function kX(e, t, r) { var n = ln.exec(t.slice(r, r + 3)); return n ? (e.m = 0, e.d = +n[0], r + n[0].length) : -1 } function VI(e, t, r) { var n = ln.exec(t.slice(r, r + 2)); return n ? (e.H = +n[0], r + n[0].length) : -1 } function TX(e, t, r) { var n = ln.exec(t.slice(r, r + 2)); return n ? (e.M = +n[0], r + n[0].length) : -1 } function NX(e, t, r) { var n = ln.exec(t.slice(r, r + 2)); return n ? (e.S = +n[0], r + n[0].length) : -1 } function AX(e, t, r) { var n = ln.exec(t.slice(r, r + 3)); return n ? (e.L = +n[0], r + n[0].length) : -1 } function CX(e, t, r) { var n = ln.exec(t.slice(r, r + 6)); return n ? (e.L = Math.floor(n[0] / 1e3), r + n[0].length) : -1 } function jX(e, t, r) { var n = pX.exec(t.slice(r, r + 1)); return n ? r + n[0].length : -1 } function IX(e, t, r) { var n = ln.exec(t.slice(r)); return n ? (e.Q = +n[0], r + n[0].length) : -1 } function OX(e, t, r) { var n = ln.exec(t.slice(r)); return n ? (e.s = +n[0], r + n[0].length) : -1 } function qI(e, t) { return Ot(e.getDate(), t, 2) } function RX(e, t) { return Ot(e.getHours(), t, 2) } function PX(e, t) { return Ot(e.getHours() % 12 || 12, t, 2) } function DX(e, t) { return Ot(1 + _0.count(js(e), e), t, 3) } function l5(e, t) { return Ot(e.getMilliseconds(), t, 3) } function MX(e, t) { return l5(e, t) + "000" } function LX(e, t) { return Ot(e.getMonth() + 1, t, 2) } function FX(e, t) { return Ot(e.getMinutes(), t, 2) } function UX(e, t) { return Ot(e.getSeconds(), t, 2) } function BX(e) { var t = e.getDay(); return t === 0 ? 7 : t } function $X(e, t) { return Ot($g.count(js(e) - 1, e), t, 2) } function c5(e) { var t = e.getDay(); return t >= 4 || t === 0 ? Mu(e) : Mu.ceil(e) } function zX(e, t) { return e = c5(e), Ot(Mu.count(js(e), e) + (js(e).getDay() === 4), t, 2) } function HX(e) { return e.getDay() } function GX(e, t) { return Ot(Om.count(js(e) - 1, e), t, 2) } function VX(e, t) { return Ot(e.getFullYear() % 100, t, 2) } function qX(e, t) { return e = c5(e), Ot(e.getFullYear() % 100, t, 2) } function WX(e, t) { return Ot(e.getFullYear() % 1e4, t, 4) } function KX(e, t) { var r = e.getDay(); return e = r >= 4 || r === 0 ? Mu(e) : Mu.ceil(e), Ot(e.getFullYear() % 1e4, t, 4) } function YX(e) { var t = e.getTimezoneOffset(); return (t > 0 ? "-" : (t *= -1, "+")) + Ot(t / 60 | 0, "0", 2) + Ot(t % 60, "0", 2) } function WI(e, t) { return Ot(e.getUTCDate(), t, 2) } function XX(e, t) { return Ot(e.getUTCHours(), t, 2) } function JX(e, t) { return Ot(e.getUTCHours() % 12 || 12, t, 2) } function ZX(e, t) { return Ot(1 + Bg.count(Is(e), e), t, 3) } function u5(e, t) { return Ot(e.getUTCMilliseconds(), t, 3) } function QX(e, t) { return u5(e, t) + "000" } function eJ(e, t) { return Ot(e.getUTCMonth() + 1, t, 2) } function tJ(e, t) { return Ot(e.getUTCMinutes(), t, 2) } function rJ(e, t) { return Ot(e.getUTCSeconds(), t, 2) } function nJ(e) { var t = e.getUTCDay(); return t === 0 ? 7 : t } function aJ(e, t) { return Ot(zg.count(Is(e) - 1, e), t, 2) } function d5(e) { var t = e.getUTCDay(); return t >= 4 || t === 0 ? Lu(e) : Lu.ceil(e) } function iJ(e, t) { return e = d5(e), Ot(Lu.count(Is(e), e) + (Is(e).getUTCDay() === 4), t, 2) } function sJ(e) { return e.getUTCDay() } function oJ(e, t) { return Ot(Rm.count(Is(e) - 1, e), t, 2) } function lJ(e, t) { return Ot(e.getUTCFullYear() % 100, t, 2) } function cJ(e, t) { return e = d5(e), Ot(e.getUTCFullYear() % 100, t, 2) } function uJ(e, t) { return Ot(e.getUTCFullYear() % 1e4, t, 4) } function dJ(e, t) { var r = e.getUTCDay(); return e = r >= 4 || r === 0 ? Lu(e) : Lu.ceil(e), Ot(e.getUTCFullYear() % 1e4, t, 4) } function fJ() { return "+0000" } function KI() { return "%" } function YI(e) { return +e } function XI(e) { return Math.floor(+e / 1e3) } var nu, f5, h5; hJ({ dateTime: "%x, %X", date: "%-m/%-d/%Y", time: "%-I:%M:%S %p", periods: ["AM", "PM"], days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], shortDays: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], shortMonths: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"] }); function hJ(e) { return nu = hX(e), f5 = nu.format, nu.parse, h5 = nu.utcFormat, nu.utcParse, nu } function pJ(e) { return new Date(e) } function mJ(e) { return e instanceof Date ? +e : +new Date(+e) } function NS(e, t, r, n, a, i, s, l, f, d) { var h = hS(), m = h.invert, g = h.domain, v = d(".%L"), y = d(":%S"), b = d("%I:%M"), _ = d("%I %p"), k = d("%a %d"), C = d("%b %d"), T = d("%B"), j = d("%Y"); function R(O) { return (f(O) < O ? v : l(O) < O ? y : s(O) < O ? b : i(O) < O ? _ : n(O) < O ? a(O) < O ? k : C : r(O) < O ? T : j)(O) } return h.invert = function (O) { return new Date(m(O)) }, h.domain = function (O) { return arguments.length ? g(Array.from(O, mJ)) : g().map(pJ) }, h.ticks = function (O) { var I = g(); return e(I[0], I[I.length - 1], O ?? 10) }, h.tickFormat = function (O, I) { return I == null ? R : d(I) }, h.nice = function (O) { var I = g(); return (!O || typeof O.range != "function") && (O = t(I[0], I[I.length - 1], O ?? 10)), O ? g(Q3(I, O)) : h }, h.copy = function () { return w0(h, NS(e, t, r, n, a, i, s, l, f, d)) }, h } function gJ() { return Za.apply(NS(dX, fX, js, kS, $g, _0, SS, wS, Pl, f5).domain([new Date(2e3, 0, 1), new Date(2e3, 0, 2)]), arguments) } function xJ() { return Za.apply(NS(cX, uX, Is, TS, zg, Bg, ES, _S, Pl, h5).domain([Date.UTC(2e3, 0, 1), Date.UTC(2e3, 0, 2)]), arguments) } function Hg() { var e = 0, t = 1, r, n, a, i, s = Wn, l = !1, f; function d(m) { return m == null || isNaN(m = +m) ? f : s(a === 0 ? .5 : (m = (i(m) - r) * a, l ? Math.max(0, Math.min(1, m)) : m)) } d.domain = function (m) { return arguments.length ? ([e, t] = m, r = i(e = +e), n = i(t = +t), a = r === n ? 0 : 1 / (n - r), d) : [e, t] }, d.clamp = function (m) { return arguments.length ? (l = !!m, d) : l }, d.interpolator = function (m) { return arguments.length ? (s = m, d) : s }; function h(m) { return function (g) { var v, y; return arguments.length ? ([v, y] = g, s = m(v, y), d) : [s(0), s(1)] } } return d.range = h(Gu), d.rangeRound = h(fS), d.unknown = function (m) { return arguments.length ? (f = m, d) : f }, function (m) { return i = m, r = m(e), n = m(t), a = r === n ? 0 : 1 / (n - r), d } } function Wo(e, t) { return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown()) } function p5() { var e = qo(Hg()(Wn)); return e.copy = function () { return Wo(e, p5()) }, Bs.apply(e, arguments) } function m5() { var e = gS(Hg()).domain([1, 10]); return e.copy = function () { return Wo(e, m5()).base(e.base()) }, Bs.apply(e, arguments) } function g5() { var e = xS(Hg()); return e.copy = function () { return Wo(e, g5()).constant(e.constant()) }, Bs.apply(e, arguments) } function AS() { var e = vS(Hg()); return e.copy = function () { return Wo(e, AS()).exponent(e.exponent()) }, Bs.apply(e, arguments) } function vJ() { return AS.apply(null, arguments).exponent(.5) } function x5() { var e = [], t = Wn; function r(n) { if (n != null && !isNaN(n = +n)) return t((y0(e, n, 1) - 1) / (e.length - 1)) } return r.domain = function (n) { if (!arguments.length) return e.slice(); e = []; for (let a of n) a != null && !isNaN(a = +a) && e.push(a); return e.sort(Po), r }, r.interpolator = function (n) { return arguments.length ? (t = n, r) : t }, r.range = function () { return e.map((n, a) => t(a / (e.length - 1))) }, r.quantiles = function (n) { return Array.from({ length: n + 1 }, (a, i) => nY(e, i / n)) }, r.copy = function () { return x5(t).domain(e) }, Bs.apply(r, arguments) } function Gg() { var e = 0, t = .5, r = 1, n = 1, a, i, s, l, f, d = Wn, h, m = !1, g; function v(b) { return isNaN(b = +b) ? g : (b = .5 + ((b = +h(b)) - i) * (n * b < n * i ? l : f), d(m ? Math.max(0, Math.min(1, b)) : b)) } v.domain = function (b) { return arguments.length ? ([e, t, r] = b, a = h(e = +e), i = h(t = +t), s = h(r = +r), l = a === i ? 0 : .5 / (i - a), f = i === s ? 0 : .5 / (s - i), n = i < a ? -1 : 1, v) : [e, t, r] }, v.clamp = function (b) { return arguments.length ? (m = !!b, v) : m }, v.interpolator = function (b) { return arguments.length ? (d = b, v) : d }; function y(b) { return function (_) { var k, C, T; return arguments.length ? ([k, C, T] = _, d = jY(b, [k, C, T]), v) : [d(0), d(.5), d(1)] } } return v.range = y(Gu), v.rangeRound = y(fS), v.unknown = function (b) { return arguments.length ? (g = b, v) : g }, function (b) { return h = b, a = b(e), i = b(t), s = b(r), l = a === i ? 0 : .5 / (i - a), f = i === s ? 0 : .5 / (s - i), n = i < a ? -1 : 1, v } } function v5() { var e = qo(Gg()(Wn)); return e.copy = function () { return Wo(e, v5()) }, Bs.apply(e, arguments) } function y5() { var e = gS(Gg()).domain([.1, 1, 10]); return e.copy = function () { return Wo(e, y5()).base(e.base()) }, Bs.apply(e, arguments) } function b5() { var e = xS(Gg()); return e.copy = function () { return Wo(e, b5()).constant(e.constant()) }, Bs.apply(e, arguments) } function CS() { var e = vS(Gg()); return e.copy = function () { return Wo(e, CS()).exponent(e.exponent()) }, Bs.apply(e, arguments) } function yJ() { return CS.apply(null, arguments).exponent(.5) } const ff = Object.freeze(Object.defineProperty({ __proto__: null, scaleBand: cS, scaleDiverging: v5, scaleDivergingLog: y5, scaleDivergingPow: CS, scaleDivergingSqrt: yJ, scaleDivergingSymlog: b5, scaleIdentity: Z3, scaleImplicit: Fw, scaleLinear: J3, scaleLog: e5, scaleOrdinal: lS, scalePoint: sY, scalePow: yS, scaleQuantile: n5, scaleQuantize: a5, scaleRadial: r5, scaleSequential: p5, scaleSequentialLog: m5, scaleSequentialPow: AS, scaleSequentialQuantile: x5, scaleSequentialSqrt: vJ, scaleSequentialSymlog: g5, scaleSqrt: QY, scaleSymlog: t5, scaleThreshold: i5, scaleTime: gJ, scaleUtc: xJ, tickFormat: X3 }, Symbol.toStringTag, { value: "Module" })); var $s = e => e.chartData, Vg = xe([$s], e => { var t = e.chartData != null ? e.chartData.length - 1 : 0; return { chartData: e.chartData, computedData: e.computedData, dataEndIndex: t, dataStartIndex: 0 } }), jS = (e, t, r, n) => n ? Vg(e) : $s(e), w5 = (e, t, r) => r ? Vg(e) : $s(e); function Os(e) { if (Array.isArray(e) && e.length === 2) { var [t, r] = e; if (xt(t) && xt(r)) return !0 } return !1 } function JI(e, t, r) { return r ? e : [Math.min(e[0], t[0]), Math.max(e[1], t[1])] } function _5(e, t) { if (t && typeof e != "function" && Array.isArray(e) && e.length === 2) { var [r, n] = e, a, i; if (xt(r)) a = r; else if (typeof r == "function") return; if (xt(n)) i = n; else if (typeof n == "function") return; var s = [a, i]; if (Os(s)) return s } } function bJ(e, t, r) { if (!(!r && t == null)) { if (typeof e == "function" && t != null) try { var n = e(t, r); if (Os(n)) return JI(n, t, r) } catch { } if (Array.isArray(e) && e.length === 2) { var [a, i] = e, s, l; if (a === "auto") t != null && (s = Math.min(...t)); else if (ze(a)) s = a; else if (typeof a == "function") try { t != null && (s = a(t == null ? void 0 : t[0])) } catch { } else if (typeof a == "string" && oj.test(a)) { var f = oj.exec(a); if (f == null || f[1] == null || t == null) s = void 0; else { var d = +f[1]; s = t[0] - d } } else s = t == null ? void 0 : t[0]; if (i === "auto") t != null && (l = Math.max(...t)); else if (ze(i)) l = i; else if (typeof i == "function") try { t != null && (l = i(t == null ? void 0 : t[1])) } catch { } else if (typeof i == "string" && lj.test(i)) { var h = lj.exec(i); if (h == null || h[1] == null || t == null) l = void 0; else { var m = +h[1]; l = t[1] + m } } else l = t == null ? void 0 : t[1]; var g = [s, l]; if (Os(g)) return t == null ? g : JI(g, t, r) } } } var Vu = 1e9, wJ = { precision: 20, rounding: 4, toExpNeg: -7, toExpPos: 21, LN10: "2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286" }, OS, dr = !0, Ya = "[DecimalError] ", $l = Ya + "Invalid argument: ", IS = Ya + "Exponent out of range: ", qu = Math.floor, Sl = Math.pow, _J = /^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i, _a, rn = 1e7, ir = 7, S5 = 9007199254740991, Pm = qu(S5 / ir), Ve = {}; Ve.absoluteValue = Ve.abs = function () { var e = new this.constructor(this); return e.s && (e.s = 1), e }; Ve.comparedTo = Ve.cmp = function (e) { var t, r, n, a, i = this; if (e = new i.constructor(e), i.s !== e.s) return i.s || -e.s; if (i.e !== e.e) return i.e > e.e ^ i.s < 0 ? 1 : -1; for (n = i.d.length, a = e.d.length, t = 0, r = n < a ? n : a; t < r; ++t)if (i.d[t] !== e.d[t]) return i.d[t] > e.d[t] ^ i.s < 0 ? 1 : -1; return n === a ? 0 : n > a ^ i.s < 0 ? 1 : -1 }; Ve.decimalPlaces = Ve.dp = function () { var e = this, t = e.d.length - 1, r = (t - e.e) * ir; if (t = e.d[t], t) for (; t % 10 == 0; t /= 10)r--; return r < 0 ? 0 : r }; Ve.dividedBy = Ve.div = function (e) { return Es(this, new this.constructor(e)) }; Ve.dividedToIntegerBy = Ve.idiv = function (e) { var t = this, r = t.constructor; return Yt(Es(t, new r(e), 0, 1), r.precision) }; Ve.equals = Ve.eq = function (e) { return !this.cmp(e) }; Ve.exponent = function () { return Br(this) }; Ve.greaterThan = Ve.gt = function (e) { return this.cmp(e) > 0 }; Ve.greaterThanOrEqualTo = Ve.gte = function (e) { return this.cmp(e) >= 0 }; Ve.isInteger = Ve.isint = function () { return this.e > this.d.length - 2 }; Ve.isNegative = Ve.isneg = function () { return this.s < 0 }; Ve.isPositive = Ve.ispos = function () { return this.s > 0 }; Ve.isZero = function () { return this.s === 0 }; Ve.lessThan = Ve.lt = function (e) { return this.cmp(e) < 0 }; Ve.lessThanOrEqualTo = Ve.lte = function (e) { return this.cmp(e) < 1 }; Ve.logarithm = Ve.log = function (e) { var t, r = this, n = r.constructor, a = n.precision, i = a + 5; if (e === void 0) e = new n(10); else if (e = new n(e), e.s < 1 || e.eq(_a)) throw Error(Ya + "NaN"); if (r.s < 1) throw Error(Ya + (r.s ? "NaN" : "-Infinity")); return r.eq(_a) ? new n(0) : (dr = !1, t = Es(Xf(r, i), Xf(e, i), i), dr = !0, Yt(t, a)) }; Ve.minus = Ve.sub = function (e) { var t = this; return e = new t.constructor(e), t.s == e.s ? T5(t, e) : E5(t, (e.s = -e.s, e)) }; Ve.modulo = Ve.mod = function (e) { var t, r = this, n = r.constructor, a = n.precision; if (e = new n(e), !e.s) throw Error(Ya + "NaN"); return r.s ? (dr = !1, t = Es(r, e, 0, 1).times(e), dr = !0, r.minus(t)) : Yt(new n(r), a) }; Ve.naturalExponential = Ve.exp = function () { return k5(this) }; Ve.naturalLogarithm = Ve.ln = function () { return Xf(this) }; Ve.negated = Ve.neg = function () { var e = new this.constructor(this); return e.s = -e.s || 0, e }; Ve.plus = Ve.add = function (e) { var t = this; return e = new t.constructor(e), t.s == e.s ? E5(t, e) : T5(t, (e.s = -e.s, e)) }; Ve.precision = Ve.sd = function (e) { var t, r, n, a = this; if (e !== void 0 && e !== !!e && e !== 1 && e !== 0) throw Error($l + e); if (t = Br(a) + 1, n = a.d.length - 1, r = n * ir + 1, n = a.d[n], n) { for (; n % 10 == 0; n /= 10)r--; for (n = a.d[0]; n >= 10; n /= 10)r++ } return e && t > r ? t : r }; Ve.squareRoot = Ve.sqrt = function () { var e, t, r, n, a, i, s, l = this, f = l.constructor; if (l.s < 1) { if (!l.s) return new f(0); throw Error(Ya + "NaN") } for (e = Br(l), dr = !1, a = Math.sqrt(+l), a == 0 || a == 1 / 0 ? (t = $i(l.d), (t.length + e) % 2 == 0 && (t += "0"), a = Math.sqrt(t), e = qu((e + 1) / 2) - (e < 0 || e % 2), a == 1 / 0 ? t = "5e" + e : (t = a.toExponential(), t = t.slice(0, t.indexOf("e") + 1) + e), n = new f(t)) : n = new f(a.toString()), r = f.precision, a = s = r + 3; ;)if (i = n, n = i.plus(Es(l, i, s + 2)).times(.5), $i(i.d).slice(0, s) === (t = $i(n.d)).slice(0, s)) { if (t = t.slice(s - 3, s + 1), a == s && t == "4999") { if (Yt(i, r + 1, 0), i.times(i).eq(l)) { n = i; break } } else if (t != "9999") break; s += 4 } return dr = !0, Yt(n, r) }; Ve.times = Ve.mul = function (e) { var t, r, n, a, i, s, l, f, d, h = this, m = h.constructor, g = h.d, v = (e = new m(e)).d; if (!h.s || !e.s) return new m(0); for (e.s *= h.s, r = h.e + e.e, f = g.length, d = v.length, f < d && (i = g, g = v, v = i, s = f, f = d, d = s), i = [], s = f + d, n = s; n--;)i.push(0); for (n = d; --n >= 0;) { for (t = 0, a = f + n; a > n;)l = i[a] + v[n] * g[a - n - 1] + t, i[a--] = l % rn | 0, t = l / rn | 0; i[a] = (i[a] + t) % rn | 0 } for (; !i[--s];)i.pop(); return t ? ++r : i.shift(), e.d = i, e.e = r, dr ? Yt(e, m.precision) : e }; Ve.toDecimalPlaces = Ve.todp = function (e, t) { var r = this, n = r.constructor; return r = new n(r), e === void 0 ? r : (Vi(e, 0, Vu), t === void 0 ? t = n.rounding : Vi(t, 0, 8), Yt(r, e + Br(r) + 1, t)) }; Ve.toExponential = function (e, t) { var r, n = this, a = n.constructor; return e === void 0 ? r = Zl(n, !0) : (Vi(e, 0, Vu), t === void 0 ? t = a.rounding : Vi(t, 0, 8), n = Yt(new a(n), e + 1, t), r = Zl(n, !0, e + 1)), r }; Ve.toFixed = function (e, t) { var r, n, a = this, i = a.constructor; return e === void 0 ? Zl(a) : (Vi(e, 0, Vu), t === void 0 ? t = i.rounding : Vi(t, 0, 8), n = Yt(new i(a), e + Br(a) + 1, t), r = Zl(n.abs(), !1, e + Br(n) + 1), a.isneg() && !a.isZero() ? "-" + r : r) }; Ve.toInteger = Ve.toint = function () { var e = this, t = e.constructor; return Yt(new t(e), Br(e) + 1, t.rounding) }; Ve.toNumber = function () { return +this }; Ve.toPower = Ve.pow = function (e) { var t, r, n, a, i, s, l = this, f = l.constructor, d = 12, h = +(e = new f(e)); if (!e.s) return new f(_a); if (l = new f(l), !l.s) { if (e.s < 1) throw Error(Ya + "Infinity"); return l } if (l.eq(_a)) return l; if (n = f.precision, e.eq(_a)) return Yt(l, n); if (t = e.e, r = e.d.length - 1, s = t >= r, i = l.s, s) { if ((r = h < 0 ? -h : h) <= S5) { for (a = new f(_a), t = Math.ceil(n / ir + 4), dr = !1; r % 2 && (a = a.times(l), QI(a.d, t)), r = qu(r / 2), r !== 0;)l = l.times(l), QI(l.d, t); return dr = !0, e.s < 0 ? new f(_a).div(a) : Yt(a, n) } } else if (i < 0) throw Error(Ya + "NaN"); return i = i < 0 && e.d[Math.max(t, r)] & 1 ? -1 : 1, l.s = 1, dr = !1, a = e.times(Xf(l, n + d)), dr = !0, a = k5(a), a.s = i, a }; Ve.toPrecision = function (e, t) { var r, n, a = this, i = a.constructor; return e === void 0 ? (r = Br(a), n = Zl(a, r <= i.toExpNeg || r >= i.toExpPos)) : (Vi(e, 1, Vu), t === void 0 ? t = i.rounding : Vi(t, 0, 8), a = Yt(new i(a), e, t), r = Br(a), n = Zl(a, e <= r || r <= i.toExpNeg, e)), n }; Ve.toSignificantDigits = Ve.tosd = function (e, t) { var r = this, n = r.constructor; return e === void 0 ? (e = n.precision, t = n.rounding) : (Vi(e, 1, Vu), t === void 0 ? t = n.rounding : Vi(t, 0, 8)), Yt(new n(r), e, t) }; Ve.toString = Ve.valueOf = Ve.val = Ve.toJSON = Ve[Symbol.for("nodejs.util.inspect.custom")] = function () { var e = this, t = Br(e), r = e.constructor; return Zl(e, t <= r.toExpNeg || t >= r.toExpPos) }; function E5(e, t) { var r, n, a, i, s, l, f, d, h = e.constructor, m = h.precision; if (!e.s || !t.s) return t.s || (t = new h(e)), dr ? Yt(t, m) : t; if (f = e.d, d = t.d, s = e.e, a = t.e, f = f.slice(), i = s - a, i) { for (i < 0 ? (n = f, i = -i, l = d.length) : (n = d, a = s, l = f.length), s = Math.ceil(m / ir), l = s > l ? s + 1 : l + 1, i > l && (i = l, n.length = 1), n.reverse(); i--;)n.push(0); n.reverse() } for (l = f.length, i = d.length, l - i < 0 && (i = l, n = d, d = f, f = n), r = 0; i;)r = (f[--i] = f[i] + d[i] + r) / rn | 0, f[i] %= rn; for (r && (f.unshift(r), ++a), l = f.length; f[--l] == 0;)f.pop(); return t.d = f, t.e = a, dr ? Yt(t, m) : t } function Vi(e, t, r) { if (e !== ~~e || e < t || e > r) throw Error($l + e) } function $i(e) { var t, r, n, a = e.length - 1, i = "", s = e[0]; if (a > 0) { for (i += s, t = 1; t < a; t++)n = e[t] + "", r = ir - n.length, r && (i += Eo(r)), i += n; s = e[t], n = s + "", r = ir - n.length, r && (i += Eo(r)) } else if (s === 0) return "0"; for (; s % 10 === 0;)s /= 10; return i + s } var Es = (function () { function e(n, a) { var i, s = 0, l = n.length; for (n = n.slice(); l--;)i = n[l] * a + s, n[l] = i % rn | 0, s = i / rn | 0; return s && n.unshift(s), n } function t(n, a, i, s) { var l, f; if (i != s) f = i > s ? 1 : -1; else for (l = f = 0; l < i; l++)if (n[l] != a[l]) { f = n[l] > a[l] ? 1 : -1; break } return f } function r(n, a, i) { for (var s = 0; i--;)n[i] -= s, s = n[i] < a[i] ? 1 : 0, n[i] = s * rn + n[i] - a[i]; for (; !n[0] && n.length > 1;)n.shift() } return function (n, a, i, s) { var l, f, d, h, m, g, v, y, b, _, k, C, T, j, R, O, I, H, F = n.constructor, X = n.s == a.s ? 1 : -1, V = n.d, U = a.d; if (!n.s) return new F(n); if (!a.s) throw Error(Ya + "Division by zero"); for (f = n.e - a.e, I = U.length, R = V.length, v = new F(X), y = v.d = [], d = 0; U[d] == (V[d] || 0);)++d; if (U[d] > (V[d] || 0) && --f, i == null ? C = i = F.precision : s ? C = i + (Br(n) - Br(a)) + 1 : C = i, C < 0) return new F(0); if (C = C / ir + 2 | 0, d = 0, I == 1) for (h = 0, U = U[0], C++; (d < R || h) && C--; d++)T = h * rn + (V[d] || 0), y[d] = T / U | 0, h = T % U | 0; else { for (h = rn / (U[0] + 1) | 0, h > 1 && (U = e(U, h), V = e(V, h), I = U.length, R = V.length), j = I, b = V.slice(0, I), _ = b.length; _ < I;)b[_++] = 0; H = U.slice(), H.unshift(0), O = U[0], U[1] >= rn / 2 && ++O; do h = 0, l = t(U, b, I, _), l < 0 ? (k = b[0], I != _ && (k = k * rn + (b[1] || 0)), h = k / O | 0, h > 1 ? (h >= rn && (h = rn - 1), m = e(U, h), g = m.length, _ = b.length, l = t(m, b, g, _), l == 1 && (h--, r(m, I < g ? H : U, g))) : (h == 0 && (l = h = 1), m = U.slice()), g = m.length, g < _ && m.unshift(0), r(b, m, _), l == -1 && (_ = b.length, l = t(U, b, I, _), l < 1 && (h++, r(b, I < _ ? H : U, _))), _ = b.length) : l === 0 && (h++, b = [0]), y[d++] = h, l && b[0] ? b[_++] = V[j] || 0 : (b = [V[j]], _ = 1); while ((j++ < R || b[0] !== void 0) && C--) } return y[0] || y.shift(), v.e = f, Yt(v, s ? i + Br(v) + 1 : i) } })(); function k5(e, t) { var r, n, a, i, s, l, f = 0, d = 0, h = e.constructor, m = h.precision; if (Br(e) > 16) throw Error(IS + Br(e)); if (!e.s) return new h(_a); for (dr = !1, l = m, s = new h(.03125); e.abs().gte(.1);)e = e.times(s), d += 5; for (n = Math.log(Sl(2, d)) / Math.LN10 * 2 + 5 | 0, l += n, r = a = i = new h(_a), h.precision = l; ;) { if (a = Yt(a.times(e), l), r = r.times(++f), s = i.plus(Es(a, r, l)), $i(s.d).slice(0, l) === $i(i.d).slice(0, l)) { for (; d--;)i = Yt(i.times(i), l); return h.precision = m, t == null ? (dr = !0, Yt(i, m)) : i } i = s } } function Br(e) { for (var t = e.e * ir, r = e.d[0]; r >= 10; r /= 10)t++; return t } function d1(e, t, r) { if (t > e.LN10.sd()) throw dr = !0, r && (e.precision = r), Error(Ya + "LN10 precision limit exceeded"); return Yt(new e(e.LN10), t) } function Eo(e) { for (var t = ""; e--;)t += "0"; return t } function Xf(e, t) { var r, n, a, i, s, l, f, d, h, m = 1, g = 10, v = e, y = v.d, b = v.constructor, _ = b.precision; if (v.s < 1) throw Error(Ya + (v.s ? "NaN" : "-Infinity")); if (v.eq(_a)) return new b(0); if (t == null ? (dr = !1, d = _) : d = t, v.eq(10)) return t == null && (dr = !0), d1(b, d); if (d += g, b.precision = d, r = $i(y), n = r.charAt(0), i = Br(v), Math.abs(i) < 15e14) { for (; n < 7 && n != 1 || n == 1 && r.charAt(1) > 3;)v = v.times(e), r = $i(v.d), n = r.charAt(0), m++; i = Br(v), n > 1 ? (v = new b("0." + r), i++) : v = new b(n + "." + r.slice(1)) } else return f = d1(b, d + 2, _).times(i + ""), v = Xf(new b(n + "." + r.slice(1)), d - g).plus(f), b.precision = _, t == null ? (dr = !0, Yt(v, _)) : v; for (l = s = v = Es(v.minus(_a), v.plus(_a), d), h = Yt(v.times(v), d), a = 3; ;) { if (s = Yt(s.times(h), d), f = l.plus(Es(s, new b(a), d)), $i(f.d).slice(0, d) === $i(l.d).slice(0, d)) return l = l.times(2), i !== 0 && (l = l.plus(d1(b, d + 2, _).times(i + ""))), l = Es(l, new b(m), d), b.precision = _, t == null ? (dr = !0, Yt(l, _)) : l; l = f, a += 2 } } function ZI(e, t) { var r, n, a; for ((r = t.indexOf(".")) > -1 && (t = t.replace(".", "")), (n = t.search(/e/i)) > 0 ? (r < 0 && (r = n), r += +t.slice(n + 1), t = t.substring(0, n)) : r < 0 && (r = t.length), n = 0; t.charCodeAt(n) === 48;)++n; for (a = t.length; t.charCodeAt(a - 1) === 48;)--a; if (t = t.slice(n, a), t) { if (a -= n, r = r - n - 1, e.e = qu(r / ir), e.d = [], n = (r + 1) % ir, r < 0 && (n += ir), n < a) { for (n && e.d.push(+t.slice(0, n)), a -= ir; n < a;)e.d.push(+t.slice(n, n += ir)); t = t.slice(n), n = ir - t.length } else n -= a; for (; n--;)t += "0"; if (e.d.push(+t), dr && (e.e > Pm || e.e < -Pm)) throw Error(IS + r) } else e.s = 0, e.e = 0, e.d = [0]; return e } function Yt(e, t, r) { var n, a, i, s, l, f, d, h, m = e.d; for (s = 1, i = m[0]; i >= 10; i /= 10)s++; if (n = t - s, n < 0) n += ir, a = t, d = m[h = 0]; else { if (h = Math.ceil((n + 1) / ir), i = m.length, h >= i) return e; for (d = i = m[h], s = 1; i >= 10; i /= 10)s++; n %= ir, a = n - ir + s } if (r !== void 0 && (i = Sl(10, s - a - 1), l = d / i % 10 | 0, f = t < 0 || m[h + 1] !== void 0 || d % i, f = r < 4 ? (l || f) && (r == 0 || r == (e.s < 0 ? 3 : 2)) : l > 5 || l == 5 && (r == 4 || f || r == 6 && (n > 0 ? a > 0 ? d / Sl(10, s - a) : 0 : m[h - 1]) % 10 & 1 || r == (e.s < 0 ? 8 : 7))), t < 1 || !m[0]) return f ? (i = Br(e), m.length = 1, t = t - i - 1, m[0] = Sl(10, (ir - t % ir) % ir), e.e = qu(-t / ir) || 0) : (m.length = 1, m[0] = e.e = e.s = 0), e; if (n == 0 ? (m.length = h, i = 1, h--) : (m.length = h + 1, i = Sl(10, ir - n), m[h] = a > 0 ? (d / Sl(10, s - a) % Sl(10, a) | 0) * i : 0), f) for (; ;)if (h == 0) { (m[0] += i) == rn && (m[0] = 1, ++e.e); break } else { if (m[h] += i, m[h] != rn) break; m[h--] = 0, i = 1 } for (n = m.length; m[--n] === 0;)m.pop(); if (dr && (e.e > Pm || e.e < -Pm)) throw Error(IS + Br(e)); return e } function T5(e, t) { var r, n, a, i, s, l, f, d, h, m, g = e.constructor, v = g.precision; if (!e.s || !t.s) return t.s ? t.s = -t.s : t = new g(e), dr ? Yt(t, v) : t; if (f = e.d, m = t.d, n = t.e, d = e.e, f = f.slice(), s = d - n, s) { for (h = s < 0, h ? (r = f, s = -s, l = m.length) : (r = m, n = d, l = f.length), a = Math.max(Math.ceil(v / ir), l) + 2, s > a && (s = a, r.length = 1), r.reverse(), a = s; a--;)r.push(0); r.reverse() } else { for (a = f.length, l = m.length, h = a < l, h && (l = a), a = 0; a < l; a++)if (f[a] != m[a]) { h = f[a] < m[a]; break } s = 0 } for (h && (r = f, f = m, m = r, t.s = -t.s), l = f.length, a = m.length - l; a > 0; --a)f[l++] = 0; for (a = m.length; a > s;) { if (f[--a] < m[a]) { for (i = a; i && f[--i] === 0;)f[i] = rn - 1; --f[i], f[a] += rn } f[a] -= m[a] } for (; f[--l] === 0;)f.pop(); for (; f[0] === 0; f.shift())--n; return f[0] ? (t.d = f, t.e = n, dr ? Yt(t, v) : t) : new g(0) } function Zl(e, t, r) { var n, a = Br(e), i = $i(e.d), s = i.length; return t ? (r && (n = r - s) > 0 ? i = i.charAt(0) + "." + i.slice(1) + Eo(n) : s > 1 && (i = i.charAt(0) + "." + i.slice(1)), i = i + (a < 0 ? "e" : "e+") + a) : a < 0 ? (i = "0." + Eo(-a - 1) + i, r && (n = r - s) > 0 && (i += Eo(n))) : a >= s ? (i += Eo(a + 1 - s), r && (n = r - a - 1) > 0 && (i = i + "." + Eo(n))) : ((n = a + 1) < s && (i = i.slice(0, n) + "." + i.slice(n)), r && (n = r - s) > 0 && (a + 1 === s && (i += "."), i += Eo(n))), e.s < 0 ? "-" + i : i } function QI(e, t) { if (e.length > t) return e.length = t, !0 } function N5(e) { var t, r, n; function a(i) { var s = this; if (!(s instanceof a)) return new a(i); if (s.constructor = a, i instanceof a) { s.s = i.s, s.e = i.e, s.d = (i = i.d) ? i.slice() : i; return } if (typeof i == "number") { if (i * 0 !== 0) throw Error($l + i); if (i > 0) s.s = 1; else if (i < 0) i = -i, s.s = -1; else { s.s = 0, s.e = 0, s.d = [0]; return } if (i === ~~i && i < 1e7) { s.e = 0, s.d = [i]; return } return ZI(s, i.toString()) } else if (typeof i != "string") throw Error($l + i); if (i.charCodeAt(0) === 45 ? (i = i.slice(1), s.s = -1) : s.s = 1, _J.test(i)) ZI(s, i); else throw Error($l + i) } if (a.prototype = Ve, a.ROUND_UP = 0, a.ROUND_DOWN = 1, a.ROUND_CEIL = 2, a.ROUND_FLOOR = 3, a.ROUND_HALF_UP = 4, a.ROUND_HALF_DOWN = 5, a.ROUND_HALF_EVEN = 6, a.ROUND_HALF_CEIL = 7, a.ROUND_HALF_FLOOR = 8, a.clone = N5, a.config = a.set = SJ, e === void 0 && (e = {}), e) for (n = ["precision", "rounding", "toExpNeg", "toExpPos", "LN10"], t = 0; t < n.length;)e.hasOwnProperty(r = n[t++]) || (e[r] = this[r]); return a.config(e), a } function SJ(e) { if (!e || typeof e != "object") throw Error(Ya + "Object expected"); var t, r, n, a = ["precision", 1, Vu, "rounding", 0, 8, "toExpNeg", -1 / 0, 0, "toExpPos", 0, 1 / 0]; for (t = 0; t < a.length; t += 3)if ((n = e[r = a[t]]) !== void 0) if (qu(n) === n && n >= a[t + 1] && n <= a[t + 2]) this[r] = n; else throw Error($l + r + ": " + n); if ((n = e[r = "LN10"]) !== void 0) if (n == Math.LN10) this[r] = new this(n); else throw Error($l + r + ": " + n); return this } var OS = N5(wJ); _a = new OS(1); const zt = OS; function A5(e) { var t; return e === 0 ? t = 1 : t = Math.floor(new zt(e).abs().log(10).toNumber()) + 1, t } function C5(e, t, r) { for (var n = new zt(e), a = 0, i = []; n.lt(t) && a < 1e5;)i.push(n.toNumber()), n = n.add(r), a++; return i } var j5 = e => { var [t, r] = e, [n, a] = [t, r]; return t > r && ([n, a] = [r, t]), [n, a] }, I5 = (e, t, r) => { if (e.lte(0)) return new zt(0); var n = A5(e.toNumber()), a = new zt(10).pow(n), i = e.div(a), s = n !== 1 ? .05 : .1, l = new zt(Math.ceil(i.div(s).toNumber())).add(r).mul(s), f = l.mul(a); return t ? new zt(f.toNumber()) : new zt(Math.ceil(f.toNumber())) }, EJ = (e, t, r) => { var n = new zt(1), a = new zt(e); if (!a.isint() && r) { var i = Math.abs(e); i < 1 ? (n = new zt(10).pow(A5(e) - 1), a = new zt(Math.floor(a.div(n).toNumber())).mul(n)) : i > 1 && (a = new zt(Math.floor(e))) } else e === 0 ? a = new zt(Math.floor((t - 1) / 2)) : r || (a = new zt(Math.floor(e))); for (var s = Math.floor((t - 1) / 2), l = [], f = 0; f < t; f++)l.push(a.add(new zt(f - s).mul(n)).toNumber()); return l }, O5 = function (t, r, n, a) { var i = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : 0; if (!Number.isFinite((r - t) / (n - 1))) return { step: new zt(0), tickMin: new zt(0), tickMax: new zt(0) }; var s = I5(new zt(r).sub(t).div(n - 1), a, i), l; t <= 0 && r >= 0 ? l = new zt(0) : (l = new zt(t).add(r).div(2), l = l.sub(new zt(l).mod(s))); var f = Math.ceil(l.sub(t).div(s).toNumber()), d = Math.ceil(new zt(r).sub(l).div(s).toNumber()), h = f + d + 1; return h > n ? O5(t, r, n, a, i + 1) : (h < n && (d = r > 0 ? d + (n - h) : d, f = r > 0 ? f : f + (n - h)), { step: s, tickMin: l.sub(new zt(f).mul(s)), tickMax: l.add(new zt(d).mul(s)) }) }, kJ = function (t) { var [r, n] = t, a = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 6, i = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !0, s = Math.max(a, 2), [l, f] = j5([r, n]); if (l === -1 / 0 || f === 1 / 0) { var d = f === 1 / 0 ? [l, ...Array(a - 1).fill(1 / 0)] : [...Array(a - 1).fill(-1 / 0), f]; return r > n ? d.reverse() : d } if (l === f) return EJ(l, a, i); var { step: h, tickMin: m, tickMax: g } = O5(l, f, s, i, 0), v = C5(m, g.add(new zt(.1).mul(h)), h); return r > n ? v.reverse() : v }, TJ = function (t, r) { var [n, a] = t, i = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !0, [s, l] = j5([n, a]); if (s === -1 / 0 || l === 1 / 0) return [n, a]; if (s === l) return [s]; var f = Math.max(r, 2), d = I5(new zt(l).sub(s).div(f - 1), i, 0), h = [...C5(new zt(s), new zt(l), d), l]; return i === !1 && (h = h.map(m => Math.round(m))), n > a ? h.reverse() : h }, R5 = e => e.rootProps.maxBarSize, NJ = e => e.rootProps.barGap, P5 = e => e.rootProps.barCategoryGap, AJ = e => e.rootProps.barSize, S0 = e => e.rootProps.stackOffset, D5 = e => e.rootProps.reverseStackOrder, RS = e => e.options.chartName, PS = e => e.rootProps.syncId, M5 = e => e.rootProps.syncMethod, DS = e => e.options.eventEmitter, CJ = e => e.rootProps.baseValue, jr = { grid: -100, barBackground: -50, area: 100, cursorRectangle: 200, bar: 300, line: 400, axis: 500, scatter: 600, activeBar: 1e3, cursorLine: 1100, activeDot: 1200, label: 2e3 }, yl = { allowDecimals: !1, allowDataOverflow: !1, angleAxisId: 0, reversed: !1, scale: "auto", tick: !0, type: "auto" }, Pi = { allowDataOverflow: !1, allowDecimals: !1, allowDuplicatedCategory: !0, includeHidden: !1, radiusAxisId: 0, reversed: !1, scale: "auto", tick: !0, tickCount: 5, type: "auto" }, qg = (e, t) => { if (!(!e || !t)) return e != null && e.reversed ? [t[1], t[0]] : t }; function Wg(e, t, r) { if (r !== "auto") return r; if (e != null) return Ei(e, t) ? "category" : "number" } function eO(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function Dm(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? eO(Object(r), !0).forEach(function (n) { jJ(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : eO(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function jJ(e, t, r) { return (t = IJ(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function IJ(e) { var t = OJ(e, "string"); return typeof t == "symbol" ? t : t + "" } function OJ(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } var tO = { allowDataOverflow: yl.allowDataOverflow, allowDecimals: yl.allowDecimals, allowDuplicatedCategory: !1, dataKey: void 0, domain: void 0, id: yl.angleAxisId, includeHidden: !1, name: void 0, reversed: yl.reversed, scale: yl.scale, tick: yl.tick, tickCount: void 0, ticks: void 0, type: yl.type, unit: void 0 }, rO = { allowDataOverflow: Pi.allowDataOverflow, allowDecimals: Pi.allowDecimals, allowDuplicatedCategory: Pi.allowDuplicatedCategory, dataKey: void 0, domain: void 0, id: Pi.radiusAxisId, includeHidden: Pi.includeHidden, name: void 0, reversed: Pi.reversed, scale: Pi.scale, tick: Pi.tick, tickCount: Pi.tickCount, ticks: void 0, type: Pi.type, unit: void 0 }, RJ = (e, t) => { if (t != null) return e.polarAxis.angleAxis[t] }, MS = xe([RJ, b3], (e, t) => { var r; if (e != null) return e; var n = (r = Wg(t, "angleAxis", tO.type)) !== null && r !== void 0 ? r : "category"; return Dm(Dm({}, tO), {}, { type: n }) }), PJ = (e, t) => e.polarAxis.radiusAxis[t], LS = xe([PJ, b3], (e, t) => { var r; if (e != null) return e; var n = (r = Wg(t, "radiusAxis", rO.type)) !== null && r !== void 0 ? r : "category"; return Dm(Dm({}, rO), {}, { type: n }) }), Kg = e => e.polarOptions, FS = xe([Fs, Us, Wr], L3), L5 = xe([Kg, FS], (e, t) => { if (e != null) return Mn(e.innerRadius, t, 0) }), F5 = xe([Kg, FS], (e, t) => { if (e != null) return Mn(e.outerRadius, t, t * .8) }), DJ = e => { if (e == null) return [0, 0]; var { startAngle: t, endAngle: r } = e; return [t, r] }, U5 = xe([Kg], DJ); xe([MS, U5], qg); var B5 = xe([FS, L5, F5], (e, t, r) => { if (!(e == null || t == null || r == null)) return [t, r] }); xe([LS, B5], qg); var $5 = xe([Et, Kg, L5, F5, Fs, Us], (e, t, r, n, a, i) => { if (!(e !== "centric" && e !== "radial" || t == null || r == null || n == null)) { var { cx: s, cy: l, startAngle: f, endAngle: d } = t; return { cx: Mn(s, a, a / 2), cy: Mn(l, i, i / 2), innerRadius: r, outerRadius: n, startAngle: f, endAngle: d, clockWise: !1 } } }), pr = (e, t) => t, E0 = (e, t, r) => r; function Yg(e) { return e == null ? void 0 : e.id } function z5(e, t, r) { var { chartData: n = [] } = t, { allowDuplicatedCategory: a, dataKey: i } = r, s = new Map; return e.forEach(l => { var f, d = (f = l.data) !== null && f !== void 0 ? f : n; if (!(d == null || d.length === 0)) { var h = Yg(l); d.forEach((m, g) => { var v = i == null || a ? g : String(Ft(m, i, null)), y = Ft(m, l.dataKey, 0), b; s.has(v) ? b = s.get(v) : b = {}, Object.assign(b, { [h]: y }), s.set(v, b) }) } }), Array.from(s.values()) } function Xg(e) { return "stackId" in e && e.stackId != null && e.dataKey != null } var Jg = (e, t) => e === t ? !0 : e == null || t == null ? !1 : e[0] === t[0] && e[1] === t[1]; function Zg(e, t) { return Array.isArray(e) && Array.isArray(t) && e.length === 0 && t.length === 0 ? !0 : e === t } function MJ(e, t) { if (e.length === t.length) { for (var r = 0; r < e.length; r++)if (e[r] !== t[r]) return !1; return !0 } return !1 } var cn = e => { var t = Et(e); return t === "horizontal" ? "xAxis" : t === "vertical" ? "yAxis" : t === "centric" ? "angleAxis" : "radiusAxis" }, Wu = e => e.tooltip.settings.axisId; function LJ(e) { if (e in ff) return ff[e](); var t = "scale".concat(d0(e)); if (t in ff) return ff[t]() } function nO(e) { var t = e.ticks, r = e.bandwidth, n = e.range(), a = [Math.min(...n), Math.max(...n)]; return { domain: () => e.domain(), range: (function (i) { function s() { return i.apply(this, arguments) } return s.toString = function () { return i.toString() }, s })(() => a), rangeMin: () => a[0], rangeMax: () => a[1], isInRange(i) { var s = a[0], l = a[1]; return s <= l ? i >= s && i <= l : i >= l && i <= s }, bandwidth: r ? () => r.call(e) : void 0, ticks: t ? i => t.call(e, i) : void 0, map: (i, s) => { var l = e(i); if (l != null) { if (e.bandwidth && s !== null && s !== void 0 && s.position) { var f = e.bandwidth(); switch (s.position) { case "middle": l += f / 2; break; case "end": l += f; break } } return l } } } } function aO(e, t, r) { if (typeof e == "function") return nO(e.copy().domain(t).range(r)); if (e != null) { var n = LJ(e); if (n != null) return n.domain(t).range(r), nO(n) } } var H5 = (e, t) => { if (t != null) switch (e) { case "linear": { if (!Os(t)) { for (var r, n, a = 0; a < t.length; a++) { var i = t[a]; xt(i) && ((r === void 0 || i < r) && (r = i), (n === void 0 || i > n) && (n = i)) } return r !== void 0 && n !== void 0 ? [r, n] : void 0 } return t } default: return t } }; function iO(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function Mm(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? iO(Object(r), !0).forEach(function (n) { FJ(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : iO(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function FJ(e, t, r) { return (t = UJ(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function UJ(e) { var t = BJ(e, "string"); return typeof t == "symbol" ? t : t + "" } function BJ(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } var zw = [0, "auto"], en = { allowDataOverflow: !1, allowDecimals: !0, allowDuplicatedCategory: !0, angle: 0, dataKey: void 0, domain: void 0, height: 30, hide: !0, id: 0, includeHidden: !1, interval: "preserveEnd", minTickGap: 5, mirror: !1, name: void 0, orientation: "bottom", padding: { left: 0, right: 0 }, reversed: !1, scale: "auto", tick: !0, tickCount: 5, tickFormatter: void 0, ticks: void 0, type: "category", unit: void 0 }, G5 = (e, t) => e.cartesianAxis.xAxis[t], zs = (e, t) => { var r = G5(e, t); return r ?? en }, tn = { allowDataOverflow: !1, allowDecimals: !0, allowDuplicatedCategory: !0, angle: 0, dataKey: void 0, domain: zw, hide: !0, id: 0, includeHidden: !1, interval: "preserveEnd", minTickGap: 5, mirror: !1, name: void 0, orientation: "left", padding: { top: 0, bottom: 0 }, reversed: !1, scale: "auto", tick: !0, tickCount: 5, tickFormatter: void 0, ticks: void 0, type: "number", unit: void 0, width: m0 }, V5 = (e, t) => e.cartesianAxis.yAxis[t], Hs = (e, t) => { var r = V5(e, t); return r ?? tn }, $J = { domain: [0, "auto"], includeHidden: !1, reversed: !1, allowDataOverflow: !1, allowDuplicatedCategory: !1, dataKey: void 0, id: 0, name: "", range: [64, 64], scale: "auto", type: "number", unit: "" }, US = (e, t) => { var r = e.cartesianAxis.zAxis[t]; return r ?? $J }, Tr = (e, t, r) => { switch (t) { case "xAxis": return zs(e, r); case "yAxis": return Hs(e, r); case "zAxis": return US(e, r); case "angleAxis": return MS(e, r); case "radiusAxis": return LS(e, r); default: throw new Error("Unexpected axis type: ".concat(t)) } }, zJ = (e, t, r) => { switch (t) { case "xAxis": return zs(e, r); case "yAxis": return Hs(e, r); default: throw new Error("Unexpected axis type: ".concat(t)) } }, Ku = (e, t, r) => { switch (t) { case "xAxis": return zs(e, r); case "yAxis": return Hs(e, r); case "angleAxis": return MS(e, r); case "radiusAxis": return LS(e, r); default: throw new Error("Unexpected axis type: ".concat(t)) } }, q5 = e => e.graphicalItems.cartesianItems.some(t => t.type === "bar") || e.graphicalItems.polarItems.some(t => t.type === "radialBar"); function BS(e, t) { return r => { switch (e) { case "xAxis": return "xAxisId" in r && r.xAxisId === t; case "yAxis": return "yAxisId" in r && r.yAxisId === t; case "zAxis": return "zAxisId" in r && r.zAxisId === t; case "angleAxis": return "angleAxisId" in r && r.angleAxisId === t; case "radiusAxis": return "radiusAxisId" in r && r.radiusAxisId === t; default: return !1 } } } var k0 = e => e.graphicalItems.cartesianItems, HJ = xe([pr, E0], BS), $S = (e, t, r) => e.filter(r).filter(n => (t == null ? void 0 : t.includeHidden) === !0 ? !0 : !n.hide), T0 = xe([k0, Tr, HJ], $S, { memoizeOptions: { resultEqualityCheck: Zg } }), W5 = xe([T0], e => e.filter(t => t.type === "area" || t.type === "bar").filter(Xg)), K5 = e => e.filter(t => !("stackId" in t) || t.stackId === void 0), GJ = xe([T0], K5), zS = e => e.map(t => t.data).filter(Boolean).flat(1), VJ = xe([T0], zS, { memoizeOptions: { resultEqualityCheck: Zg } }), HS = (e, t) => { var { chartData: r = [], dataStartIndex: n, dataEndIndex: a } = t; return e.length > 0 ? e : r.slice(n, a + 1) }, GS = xe([VJ, jS], HS), VS = (e, t, r) => (t == null ? void 0 : t.dataKey) != null ? e.map(n => ({ value: Ft(n, t.dataKey) })) : r.length > 0 ? r.map(n => n.dataKey).flatMap(n => e.map(a => ({ value: Ft(a, n) }))) : e.map(n => ({ value: n })), Qg = xe([GS, Tr, T0], VS); function Y5(e, t) { switch (e) { case "xAxis": return t.direction === "x"; case "yAxis": return t.direction === "y"; default: return !1 } } function Bp(e) { if (Hi(e) || e instanceof Date) { var t = Number(e); if (xt(t)) return t } } function sO(e) { if (Array.isArray(e)) { var t = [Bp(e[0]), Bp(e[1])]; return Os(t) ? t : void 0 } var r = Bp(e); if (r != null) return [r, r] } function Rs(e) { return e.map(Bp).filter(ca) } function qJ(e, t, r) { return !r || typeof t != "number" || bi(t) ? [] : r.length ? Rs(r.flatMap(n => { var a = Ft(e, n.dataKey), i, s; if (Array.isArray(a) ? [i, s] = a : i = s = a, !(!xt(i) || !xt(s))) return [t - i, t + s] })) : [] } var Yr = e => { var t = cn(e), r = Wu(e); return Ku(e, t, r) }, N0 = xe([Yr], e => e == null ? void 0 : e.dataKey), WJ = xe([W5, jS, Yr], z5), X5 = (e, t, r, n) => { var a = {}, i = t.reduce((s, l) => { if (l.stackId == null) return s; var f = s[l.stackId]; return f == null && (f = []), f.push(l), s[l.stackId] = f, s }, a); return Object.fromEntries(Object.entries(i).map(s => { var [l, f] = s, d = n ? [...f].reverse() : f, h = d.map(Yg); return [l, { stackedData: pq(e, h, r), graphicalItems: d }] })) }, Lm = xe([WJ, W5, S0, D5], X5), J5 = (e, t, r, n) => { var { dataStartIndex: a, dataEndIndex: i } = t; if (n == null && r !== "zAxis") { var s = vq(e, a, i); if (!(s != null && s[0] === 0 && s[1] === 0)) return s } }, KJ = xe([Tr], e => e.allowDataOverflow), qS = e => { var t; if (e == null || !("domain" in e)) return zw; if (e.domain != null) return e.domain; if ("ticks" in e && e.ticks != null) { if (e.type === "number") { var r = Rs(e.ticks); return [Math.min(...r), Math.max(...r)] } if (e.type === "category") return e.ticks.map(String) } return (t = e == null ? void 0 : e.domain) !== null && t !== void 0 ? t : zw }, WS = xe([Tr], qS), KS = xe([WS, KJ], _5), YJ = xe([Lm, $s, pr, KS], J5, { memoizeOptions: { resultEqualityCheck: Jg } }), ex = e => e.errorBars, XJ = (e, t, r) => e.flatMap(n => t[n.id]).filter(Boolean).filter(n => Y5(r, n)), Fm = function () { for (var t = arguments.length, r = new Array(t), n = 0; n < t; n++)r[n] = arguments[n]; var a = r.filter(Boolean); if (a.length !== 0) { var i = a.flat(), s = Math.min(...i), l = Math.max(...i); return [s, l] } }, YS = (e, t, r, n, a) => { var i, s; if (r.length > 0 && e.forEach(l => { r.forEach(f => { var d, h, m = (d = n[f.id]) === null || d === void 0 ? void 0 : d.filter(k => Y5(a, k)), g = Ft(l, (h = t.dataKey) !== null && h !== void 0 ? h : f.dataKey), v = qJ(l, g, m); if (v.length >= 2) { var y = Math.min(...v), b = Math.max(...v); (i == null || y < i) && (i = y), (s == null || b > s) && (s = b) } var _ = sO(g); _ != null && (i = i == null ? _[0] : Math.min(i, _[0]), s = s == null ? _[1] : Math.max(s, _[1])) }) }), (t == null ? void 0 : t.dataKey) != null && e.forEach(l => { var f = sO(Ft(l, t.dataKey)); f != null && (i = i == null ? f[0] : Math.min(i, f[0]), s = s == null ? f[1] : Math.max(s, f[1])) }), xt(i) && xt(s)) return [i, s] }, JJ = xe([GS, Tr, GJ, ex, pr], YS, { memoizeOptions: { resultEqualityCheck: Jg } }); function ZJ(e) { var { value: t } = e; if (Hi(t) || t instanceof Date) return t } var QJ = (e, t, r) => { var n = e.map(ZJ).filter(a => a != null); return r && (t.dataKey == null || t.allowDuplicatedCategory && gM(n)) ? $3(0, e.length) : t.allowDuplicatedCategory ? n : Array.from(new Set(n)) }, Z5 = e => e.referenceElements.dots, Yu = (e, t, r) => e.filter(n => n.ifOverflow === "extendDomain").filter(n => t === "xAxis" ? n.xAxisId === r : n.yAxisId === r), eZ = xe([Z5, pr, E0], Yu), Q5 = e => e.referenceElements.areas, tZ = xe([Q5, pr, E0], Yu), e8 = e => e.referenceElements.lines, rZ = xe([e8, pr, E0], Yu), t8 = (e, t) => { if (e != null) { var r = Rs(e.map(n => t === "xAxis" ? n.x : n.y)); if (r.length !== 0) return [Math.min(...r), Math.max(...r)] } }, nZ = xe(eZ, pr, t8), r8 = (e, t) => { if (e != null) { var r = Rs(e.flatMap(n => [t === "xAxis" ? n.x1 : n.y1, t === "xAxis" ? n.x2 : n.y2])); if (r.length !== 0) return [Math.min(...r), Math.max(...r)] } }, aZ = xe([tZ, pr], r8); function iZ(e) { var t; if (e.x != null) return Rs([e.x]); var r = (t = e.segment) === null || t === void 0 ? void 0 : t.map(n => n.x); return r == null || r.length === 0 ? [] : Rs(r) } function sZ(e) { var t; if (e.y != null) return Rs([e.y]); var r = (t = e.segment) === null || t === void 0 ? void 0 : t.map(n => n.y); return r == null || r.length === 0 ? [] : Rs(r) } var n8 = (e, t) => { if (e != null) { var r = e.flatMap(n => t === "xAxis" ? iZ(n) : sZ(n)); if (r.length !== 0) return [Math.min(...r), Math.max(...r)] } }, oZ = xe([rZ, pr], n8), lZ = xe(nZ, oZ, aZ, (e, t, r) => Fm(e, r, t)), XS = (e, t, r, n, a, i, s, l) => { if (r != null) return r; var f = s === "vertical" && l === "xAxis" || s === "horizontal" && l === "yAxis", d = f ? Fm(n, i, a) : Fm(i, a); return bJ(t, d, e.allowDataOverflow) }, cZ = xe([Tr, WS, KS, YJ, JJ, lZ, Et, pr], XS, { memoizeOptions: { resultEqualityCheck: Jg } }), uZ = [0, 1], JS = (e, t, r, n, a, i, s) => { if (!((e == null || r == null || r.length === 0) && s === void 0)) { var { dataKey: l, type: f } = e, d = Ei(t, i); if (d && l == null) { var h; return $3(0, (h = r == null ? void 0 : r.length) !== null && h !== void 0 ? h : 0) } return f === "category" ? QJ(n, e, d) : a === "expand" ? uZ : s } }, ZS = xe([Tr, Et, GS, Qg, S0, pr, cZ], JS); function dZ(e) { return e in ff } var a8 = (e, t, r) => { if (e != null) { var { scale: n, type: a } = e; if (n === "auto") return a === "category" && r && (r.indexOf("LineChart") >= 0 || r.indexOf("AreaChart") >= 0 || r.indexOf("ComposedChart") >= 0 && !t) ? "point" : a === "category" ? "band" : "linear"; if (typeof n == "string") { var i = "scale".concat(d0(n)); return dZ(i) ? i : "point" } } }, Ko = xe([Tr, q5, RS], a8); function QS(e, t, r, n) { if (!(r == null || n == null)) return typeof e.scale == "function" ? aO(e.scale, r, n) : aO(t, r, n) } var eE = (e, t, r) => { var n = qS(t); if (!(r !== "auto" && r !== "linear")) { if (t != null && t.tickCount && Array.isArray(n) && (n[0] === "auto" || n[1] === "auto") && Os(e)) return kJ(e, t.tickCount, t.allowDecimals); if (t != null && t.tickCount && t.type === "number" && Os(e)) return TJ(e, t.tickCount, t.allowDecimals) } }, tE = xe([ZS, Ku, Ko], eE), rE = (e, t, r, n) => { if (n !== "angleAxis" && (e == null ? void 0 : e.type) === "number" && Os(t) && Array.isArray(r) && r.length > 0) { var a, i, s = t[0], l = (a = r[0]) !== null && a !== void 0 ? a : 0, f = t[1], d = (i = r[r.length - 1]) !== null && i !== void 0 ? i : 0; return [Math.min(s, l), Math.max(f, d)] } return t }, fZ = xe([Tr, ZS, tE, pr], rE), hZ = xe(Qg, Tr, (e, t) => { if (!(!t || t.type !== "number")) { var r = 1 / 0, n = Array.from(Rs(e.map(m => m.value))).sort((m, g) => m - g), a = n[0], i = n[n.length - 1]; if (a == null || i == null) return 1 / 0; var s = i - a; if (s === 0) return 1 / 0; for (var l = 0; l < n.length - 1; l++) { var f = n[l], d = n[l + 1]; if (!(f == null || d == null)) { var h = d - f; r = Math.min(r, h) } } return r / s } }), i8 = xe(hZ, Et, P5, Wr, (e, t, r, n, a) => a, (e, t, r, n, a) => { if (!xt(e)) return 0; var i = t === "vertical" ? n.height : n.width; if (a === "gap") return e * i / 2; if (a === "no-gap") { var s = Mn(r, e * i), l = e * i / 2; return l - s - (l - s) / i * s } return 0 }), pZ = (e, t, r) => { var n = zs(e, t); return n == null || typeof n.padding != "string" ? 0 : i8(e, "xAxis", t, r, n.padding) }, mZ = (e, t, r) => { var n = Hs(e, t); return n == null || typeof n.padding != "string" ? 0 : i8(e, "yAxis", t, r, n.padding) }, gZ = xe(zs, pZ, (e, t) => { var r, n; if (e == null) return { left: 0, right: 0 }; var { padding: a } = e; return typeof a == "string" ? { left: t, right: t } : { left: ((r = a.left) !== null && r !== void 0 ? r : 0) + t, right: ((n = a.right) !== null && n !== void 0 ? n : 0) + t } }), xZ = xe(Hs, mZ, (e, t) => { var r, n; if (e == null) return { top: 0, bottom: 0 }; var { padding: a } = e; return typeof a == "string" ? { top: t, bottom: t } : { top: ((r = a.top) !== null && r !== void 0 ? r : 0) + t, bottom: ((n = a.bottom) !== null && n !== void 0 ? n : 0) + t } }), vZ = xe([Wr, gZ, Pg, Rg, (e, t, r) => r], (e, t, r, n, a) => { var { padding: i } = n; return a ? [i.left, r.width - i.right] : [e.left + t.left, e.left + e.width - t.right] }), yZ = xe([Wr, Et, xZ, Pg, Rg, (e, t, r) => r], (e, t, r, n, a, i) => { var { padding: s } = a; return i ? [n.height - s.bottom, s.top] : t === "horizontal" ? [e.top + e.height - r.bottom, e.top + r.top] : [e.top + r.top, e.top + e.height - r.bottom] }), A0 = (e, t, r, n) => { var a; switch (t) { case "xAxis": return vZ(e, r, n); case "yAxis": return yZ(e, r, n); case "zAxis": return (a = US(e, r)) === null || a === void 0 ? void 0 : a.range; case "angleAxis": return U5(e); case "radiusAxis": return B5(e, r); default: return } }, s8 = xe([Tr, A0], qg), bZ = xe([Ko, fZ], H5), tx = xe([Tr, Ko, bZ, s8], QS); xe([T0, ex, pr], XJ); function o8(e, t) { return e.id < t.id ? -1 : e.id > t.id ? 1 : 0 } var rx = (e, t) => t, nx = (e, t, r) => r, wZ = xe(Ig, rx, nx, (e, t, r) => e.filter(n => n.orientation === t).filter(n => n.mirror === r).sort(o8)), _Z = xe(Og, rx, nx, (e, t, r) => e.filter(n => n.orientation === t).filter(n => n.mirror === r).sort(o8)), l8 = (e, t) => ({ width: e.width, height: t.height }), SZ = (e, t) => { var r = typeof t.width == "number" ? t.width : m0; return { width: r, height: e.height } }, c8 = xe(Wr, zs, l8), EZ = (e, t, r) => { switch (t) { case "top": return e.top; case "bottom": return r - e.bottom; default: return 0 } }, kZ = (e, t, r) => { switch (t) { case "left": return e.left; case "right": return r - e.right; default: return 0 } }, TZ = xe(Us, Wr, wZ, rx, nx, (e, t, r, n, a) => { var i = {}, s; return r.forEach(l => { var f = l8(t, l); s == null && (s = EZ(t, n, e)); var d = n === "top" && !a || n === "bottom" && a; i[l.id] = s - Number(d) * f.height, s += (d ? -1 : 1) * f.height }), i }), NZ = xe(Fs, Wr, _Z, rx, nx, (e, t, r, n, a) => { var i = {}, s; return r.forEach(l => { var f = SZ(t, l); s == null && (s = kZ(t, n, e)); var d = n === "left" && !a || n === "right" && a; i[l.id] = s - Number(d) * f.width, s += (d ? -1 : 1) * f.width }), i }), AZ = (e, t) => { var r = zs(e, t); if (r != null) return TZ(e, r.orientation, r.mirror) }, CZ = xe([Wr, zs, AZ, (e, t) => t], (e, t, r, n) => { if (t != null) { var a = r == null ? void 0 : r[n]; return a == null ? { x: e.left, y: 0 } : { x: e.left, y: a } } }), jZ = (e, t) => { var r = Hs(e, t); if (r != null) return NZ(e, r.orientation, r.mirror) }, IZ = xe([Wr, Hs, jZ, (e, t) => t], (e, t, r, n) => { if (t != null) { var a = r == null ? void 0 : r[n]; return a == null ? { x: 0, y: e.top } : { x: a, y: e.top } } }), u8 = xe(Wr, Hs, (e, t) => { var r = typeof t.width == "number" ? t.width : m0; return { width: r, height: e.height } }), oO = (e, t, r) => { switch (t) { case "xAxis": return c8(e, r).width; case "yAxis": return u8(e, r).height; default: return } }, d8 = (e, t, r, n) => { if (r != null) { var { allowDuplicatedCategory: a, type: i, dataKey: s } = r, l = Ei(e, n), f = t.map(d => d.value); if (s && l && i === "category" && a && gM(f)) return f } }, nE = xe([Et, Qg, Tr, pr], d8), f8 = (e, t, r, n) => { if (!(r == null || r.dataKey == null)) { var { type: a, scale: i } = r, s = Ei(e, n); if (s && (a === "number" || i !== "auto")) return t.map(l => l.value) } }, aE = xe([Et, Qg, Ku, pr], f8), lO = xe([Et, zJ, Ko, tx, nE, aE, A0, tE, pr], (e, t, r, n, a, i, s, l, f) => { if (t != null) { var d = Ei(e, f); return { angle: t.angle, interval: t.interval, minTickGap: t.minTickGap, orientation: t.orientation, tick: t.tick, tickCount: t.tickCount, tickFormatter: t.tickFormatter, ticks: t.ticks, type: t.type, unit: t.unit, axisType: f, categoricalDomain: i, duplicateDomain: a, isCategorical: d, niceTicks: l, range: s, realScaleType: r, scale: n } } }), OZ = (e, t, r, n, a, i, s, l, f) => { if (!(t == null || n == null)) { var d = Ei(e, f), { type: h, ticks: m, tickCount: g } = t, v = r === "scaleBand" && typeof n.bandwidth == "function" ? n.bandwidth() / 2 : 2, y = h === "category" && n.bandwidth ? n.bandwidth() / v : 0; y = f === "angleAxis" && i != null && i.length >= 2 ? an(i[0] - i[1]) * 2 * y : y; var b = m || a; return b ? b.map((_, k) => { var C = s ? s.indexOf(_) : _, T = n.map(C); return xt(T) ? { index: k, coordinate: T + y, value: _, offset: y } : null }).filter(ca) : d && l ? l.map((_, k) => { var C = n.map(_); return xt(C) ? { coordinate: C + y, value: _, index: k, offset: y } : null }).filter(ca) : n.ticks ? n.ticks(g).map((_, k) => { var C = n.map(_); return xt(C) ? { coordinate: C + y, value: _, index: k, offset: y } : null }).filter(ca) : n.domain().map((_, k) => { var C = n.map(_); return xt(C) ? { coordinate: C + y, value: s ? s[_] : _, index: k, offset: y } : null }).filter(ca) } }, h8 = xe([Et, Ku, Ko, tx, tE, A0, nE, aE, pr], OZ), RZ = (e, t, r, n, a, i, s) => { if (!(t == null || r == null || n == null || n[0] === n[1])) { var l = Ei(e, s), { tickCount: f } = t, d = 0; return d = s === "angleAxis" && (n == null ? void 0 : n.length) >= 2 ? an(n[0] - n[1]) * 2 * d : d, l && i ? i.map((h, m) => { var g = r.map(h); return xt(g) ? { coordinate: g + d, value: h, index: m, offset: d } : null }).filter(ca) : r.ticks ? r.ticks(f).map((h, m) => { var g = r.map(h); return xt(g) ? { coordinate: g + d, value: h, index: m, offset: d } : null }).filter(ca) : r.domain().map((h, m) => { var g = r.map(h); return xt(g) ? { coordinate: g + d, value: a ? a[h] : h, index: m, offset: d } : null }).filter(ca) } }, qi = xe([Et, Ku, tx, A0, nE, aE, pr], RZ), Wi = xe(Tr, tx, (e, t) => { if (!(e == null || t == null)) return Mm(Mm({}, e), {}, { scale: t }) }), PZ = xe([Tr, Ko, ZS, s8], QS); xe((e, t, r) => US(e, r), PZ, (e, t) => { if (!(e == null || t == null)) return Mm(Mm({}, e), {}, { scale: t }) }); var DZ = xe([Et, Ig, Og], (e, t, r) => { switch (e) { case "horizontal": return t.some(n => n.reversed) ? "right-to-left" : "left-to-right"; case "vertical": return r.some(n => n.reversed) ? "bottom-to-top" : "top-to-bottom"; case "centric": case "radial": return "left-to-right"; default: return } }), p8 = e => e.options.defaultTooltipEventType, m8 = e => e.options.validateTooltipEventTypes; function g8(e, t, r) { if (e == null) return t; var n = e ? "axis" : "item"; return r == null ? t : r.includes(n) ? n : t } function iE(e, t) { var r = p8(e), n = m8(e); return g8(t, r, n) } function MZ(e) { return We(t => iE(t, e)) } var x8 = (e, t) => { var r, n = Number(t); if (!(bi(n) || t == null)) return n >= 0 ? e == null || (r = e[n]) === null || r === void 0 ? void 0 : r.value : void 0 }, LZ = e => e.tooltip.settings, No = { active: !1, index: null, dataKey: void 0, graphicalItemId: void 0, coordinate: void 0 }, FZ = { itemInteraction: { click: No, hover: No }, axisInteraction: { click: No, hover: No }, keyboardInteraction: No, syncInteraction: { active: !1, index: null, dataKey: void 0, label: void 0, coordinate: void 0, sourceViewBox: void 0, graphicalItemId: void 0 }, tooltipItemPayloads: [], settings: { shared: void 0, trigger: "hover", axisId: 0, active: !1, defaultIndex: void 0 } }, v8 = da({ name: "tooltip", initialState: FZ, reducers: { addTooltipEntrySettings: { reducer(e, t) { e.tooltipItemPayloads.push(t.payload) }, prepare: lr() }, replaceTooltipEntrySettings: { reducer(e, t) { var { prev: r, next: n } = t.payload, a = gi(e).tooltipItemPayloads.indexOf(r); a > -1 && (e.tooltipItemPayloads[a] = n) }, prepare: lr() }, removeTooltipEntrySettings: { reducer(e, t) { var r = gi(e).tooltipItemPayloads.indexOf(t.payload); r > -1 && e.tooltipItemPayloads.splice(r, 1) }, prepare: lr() }, setTooltipSettingsState(e, t) { e.settings = t.payload }, setActiveMouseOverItemIndex(e, t) { e.syncInteraction.active = !1, e.keyboardInteraction.active = !1, e.itemInteraction.hover.active = !0, e.itemInteraction.hover.index = t.payload.activeIndex, e.itemInteraction.hover.dataKey = t.payload.activeDataKey, e.itemInteraction.hover.graphicalItemId = t.payload.activeGraphicalItemId, e.itemInteraction.hover.coordinate = t.payload.activeCoordinate }, mouseLeaveChart(e) { e.itemInteraction.hover.active = !1, e.axisInteraction.hover.active = !1 }, mouseLeaveItem(e) { e.itemInteraction.hover.active = !1 }, setActiveClickItemIndex(e, t) { e.syncInteraction.active = !1, e.itemInteraction.click.active = !0, e.keyboardInteraction.active = !1, e.itemInteraction.click.index = t.payload.activeIndex, e.itemInteraction.click.dataKey = t.payload.activeDataKey, e.itemInteraction.click.graphicalItemId = t.payload.activeGraphicalItemId, e.itemInteraction.click.coordinate = t.payload.activeCoordinate }, setMouseOverAxisIndex(e, t) { e.syncInteraction.active = !1, e.axisInteraction.hover.active = !0, e.keyboardInteraction.active = !1, e.axisInteraction.hover.index = t.payload.activeIndex, e.axisInteraction.hover.dataKey = t.payload.activeDataKey, e.axisInteraction.hover.coordinate = t.payload.activeCoordinate }, setMouseClickAxisIndex(e, t) { e.syncInteraction.active = !1, e.keyboardInteraction.active = !1, e.axisInteraction.click.active = !0, e.axisInteraction.click.index = t.payload.activeIndex, e.axisInteraction.click.dataKey = t.payload.activeDataKey, e.axisInteraction.click.coordinate = t.payload.activeCoordinate }, setSyncInteraction(e, t) { e.syncInteraction = t.payload }, setKeyboardInteraction(e, t) { e.keyboardInteraction.active = t.payload.active, e.keyboardInteraction.index = t.payload.activeIndex, e.keyboardInteraction.coordinate = t.payload.activeCoordinate } } }), { addTooltipEntrySettings: UZ, replaceTooltipEntrySettings: BZ, removeTooltipEntrySettings: $Z, setTooltipSettingsState: zZ, setActiveMouseOverItemIndex: y8, mouseLeaveItem: HZ, mouseLeaveChart: b8, setActiveClickItemIndex: GZ, setMouseOverAxisIndex: w8, setMouseClickAxisIndex: VZ, setSyncInteraction: Hw, setKeyboardInteraction: Gw } = v8.actions, qZ = v8.reducer; function cO(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function gp(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? cO(Object(r), !0).forEach(function (n) { WZ(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : cO(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function WZ(e, t, r) { return (t = KZ(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function KZ(e) { var t = YZ(e, "string"); return typeof t == "symbol" ? t : t + "" } function YZ(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } function XZ(e, t, r) { return t === "axis" ? r === "click" ? e.axisInteraction.click : e.axisInteraction.hover : r === "click" ? e.itemInteraction.click : e.itemInteraction.hover } function JZ(e) { return e.index != null } var _8 = (e, t, r, n) => { if (t == null) return No; var a = XZ(e, t, r); if (a == null) return No; if (a.active) return a; if (e.keyboardInteraction.active) return e.keyboardInteraction; if (e.syncInteraction.active && e.syncInteraction.index != null) return e.syncInteraction; var i = e.settings.active === !0; if (JZ(a)) { if (i) return gp(gp({}, a), {}, { active: !0 }) } else if (n != null) return { active: !0, coordinate: void 0, dataKey: void 0, index: n, graphicalItemId: void 0 }; return gp(gp({}, No), {}, { coordinate: a.coordinate }) }; function ZZ(e) { if (typeof e == "number") return Number.isFinite(e) ? e : void 0; if (e instanceof Date) { var t = e.valueOf(); return Number.isFinite(t) ? t : void 0 } var r = Number(e); return Number.isFinite(r) ? r : void 0 } function QZ(e, t) { var r = ZZ(e), n = t[0], a = t[1]; if (r === void 0) return !1; var i = Math.min(n, a), s = Math.max(n, a); return r >= i && r <= s } function eQ(e, t, r) { if (r == null || t == null) return !0; var n = Ft(e, t); return n == null || !Os(r) ? !0 : QZ(n, r) } var sE = (e, t, r, n) => { var a = e == null ? void 0 : e.index; if (a == null) return null; var i = Number(a); if (!xt(i)) return a; var s = 0, l = 1 / 0; t.length > 0 && (l = t.length - 1); var f = Math.max(s, Math.min(i, l)), d = t[f]; return d == null || eQ(d, r, n) ? String(f) : null }, S8 = (e, t, r, n, a, i, s) => { if (i != null) { var l = s[0], f = l == null ? void 0 : l.getPosition(i); if (f != null) return f; var d = a == null ? void 0 : a[Number(i)]; if (d) switch (r) { case "horizontal": return { x: d.coordinate, y: (n.top + t) / 2 }; default: return { x: (n.left + e) / 2, y: d.coordinate } } } }, E8 = (e, t, r, n) => { if (t === "axis") return e.tooltipItemPayloads; if (e.tooltipItemPayloads.length === 0) return []; var a; if (r === "hover" ? a = e.itemInteraction.hover.graphicalItemId : a = e.itemInteraction.click.graphicalItemId, a == null && n != null) { var i = e.tooltipItemPayloads[0]; return i != null ? [i] : [] } return e.tooltipItemPayloads.filter(s => { var l; return ((l = s.settings) === null || l === void 0 ? void 0 : l.graphicalItemId) === a }) }, k8 = e => e.options.tooltipPayloadSearcher, Xu = e => e.tooltip; function uO(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function dO(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? uO(Object(r), !0).forEach(function (n) { tQ(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : uO(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function tQ(e, t, r) { return (t = rQ(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function rQ(e) { var t = nQ(e, "string"); return typeof t == "symbol" ? t : t + "" } function nQ(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } function aQ(e, t) { return e ?? t } var T8 = (e, t, r, n, a, i, s) => { if (!(t == null || i == null)) { var { chartData: l, computedData: f, dataStartIndex: d, dataEndIndex: h } = r, m = []; return e.reduce((g, v) => { var y, { dataDefinedOnItem: b, settings: _ } = v, k = aQ(b, l), C = Array.isArray(k) ? c3(k, d, h) : k, T = (y = _ == null ? void 0 : _.dataKey) !== null && y !== void 0 ? y : n, j = _ == null ? void 0 : _.nameKey, R; if (n && Array.isArray(C) && !Array.isArray(C[0]) && s === "axis" ? R = xM(C, n, a) : R = i(C, t, f, j), Array.isArray(R)) R.forEach(I => { var H = dO(dO({}, _), {}, { name: I.name, unit: I.unit, color: void 0, fill: void 0 }); g.push(cj({ tooltipEntrySettings: H, dataKey: I.dataKey, payload: I.payload, value: Ft(I.payload, I.dataKey), name: I.name })) }); else { var O; g.push(cj({ tooltipEntrySettings: _, dataKey: T, payload: R, value: Ft(R, T), name: (O = Ft(R, j)) !== null && O !== void 0 ? O : _ == null ? void 0 : _.name })) } return g }, m) } }, oE = xe([Yr, q5, RS], a8), iQ = xe([e => e.graphicalItems.cartesianItems, e => e.graphicalItems.polarItems], (e, t) => [...e, ...t]), sQ = xe([cn, Wu], BS), Ju = xe([iQ, Yr, sQ], $S, { memoizeOptions: { resultEqualityCheck: Zg } }), oQ = xe([Ju], e => e.filter(Xg)), lQ = xe([Ju], zS, { memoizeOptions: { resultEqualityCheck: Zg } }), Zu = xe([lQ, $s], HS), cQ = xe([oQ, $s, Yr], z5), lE = xe([Zu, Yr, Ju], VS), N8 = xe([Yr], qS), uQ = xe([Yr], e => e.allowDataOverflow), A8 = xe([N8, uQ], _5), dQ = xe([Ju], e => e.filter(Xg)), fQ = xe([cQ, dQ, S0, D5], X5), hQ = xe([fQ, $s, cn, A8], J5), pQ = xe([Ju], K5), mQ = xe([Zu, Yr, pQ, ex, cn], YS, { memoizeOptions: { resultEqualityCheck: Jg } }), gQ = xe([Z5, cn, Wu], Yu), xQ = xe([gQ, cn], t8), vQ = xe([Q5, cn, Wu], Yu), yQ = xe([vQ, cn], r8), bQ = xe([e8, cn, Wu], Yu), wQ = xe([bQ, cn], n8), _Q = xe([xQ, wQ, yQ], Fm), SQ = xe([Yr, N8, A8, hQ, mQ, _Q, Et, cn], XS), C0 = xe([Yr, Et, Zu, lE, S0, cn, SQ], JS), EQ = xe([C0, Yr, oE], eE), kQ = xe([Yr, C0, EQ, cn], rE), C8 = e => { var t = cn(e), r = Wu(e), n = !1; return A0(e, t, r, n) }, j8 = xe([Yr, C8], qg), I8 = xe([Yr, oE, kQ, j8], QS), TQ = xe([Et, lE, Yr, cn], d8), NQ = xe([Et, lE, Yr, cn], f8), AQ = (e, t, r, n, a, i, s, l) => { if (t) { var { type: f } = t, d = Ei(e, l); if (n) { var h = r === "scaleBand" && n.bandwidth ? n.bandwidth() / 2 : 2, m = f === "category" && n.bandwidth ? n.bandwidth() / h : 0; return m = l === "angleAxis" && a != null && (a == null ? void 0 : a.length) >= 2 ? an(a[0] - a[1]) * 2 * m : m, d && s ? s.map((g, v) => { var y = n.map(g); return xt(y) ? { coordinate: y + m, value: g, index: v, offset: m } : null }).filter(ca) : n.domain().map((g, v) => { var y = n.map(g); return xt(y) ? { coordinate: y + m, value: i ? i[g] : g, index: v, offset: m } : null }).filter(ca) } } }, Gs = xe([Et, Yr, oE, I8, C8, TQ, NQ, cn], AQ), cE = xe([p8, m8, LZ], (e, t, r) => g8(r.shared, e, t)), O8 = e => e.tooltip.settings.trigger, uE = e => e.tooltip.settings.defaultIndex, j0 = xe([Xu, cE, O8, uE], _8), Uo = xe([j0, Zu, N0, C0], sE), R8 = xe([Gs, Uo], x8), dE = xe([j0], e => { if (e) return e.dataKey }), CQ = xe([j0], e => { if (e) return e.graphicalItemId }), P8 = xe([Xu, cE, O8, uE], E8), jQ = xe([Fs, Us, Et, Wr, Gs, uE, P8], S8), IQ = xe([j0, jQ], (e, t) => e != null && e.coordinate ? e.coordinate : t), OQ = xe([j0], e => { var t; return (t = e == null ? void 0 : e.active) !== null && t !== void 0 ? t : !1 }), RQ = xe([P8, Uo, $s, N0, R8, k8, cE], T8), PQ = xe([RQ], e => { if (e != null) { var t = e.map(r => r.payload).filter(r => r != null); return Array.from(new Set(t)) } }); function fO(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function hO(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? fO(Object(r), !0).forEach(function (n) { DQ(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : fO(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function DQ(e, t, r) { return (t = MQ(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function MQ(e) { var t = LQ(e, "string"); return typeof t == "symbol" ? t : t + "" } function LQ(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } var FQ = () => We(Yr), UQ = () => { var e = FQ(), t = We(Gs), r = We(I8); return Fo(!e || !r ? void 0 : hO(hO({}, e), {}, { scale: r }), t) }; function pO(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function au(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? pO(Object(r), !0).forEach(function (n) { BQ(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : pO(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function BQ(e, t, r) { return (t = $Q(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function $Q(e) { var t = zQ(e, "string"); return typeof t == "symbol" ? t : t + "" } function zQ(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } var HQ = (e, t, r, n) => { var a = t.find(i => i && i.index === r); if (a) { if (e === "horizontal") return { x: a.coordinate, y: n.chartY }; if (e === "vertical") return { x: n.chartX, y: a.coordinate } } return { x: 0, y: 0 } }, GQ = (e, t, r, n) => { var a = t.find(d => d && d.index === r); if (a) { if (e === "centric") { var i = a.coordinate, { radius: s } = n; return au(au(au({}, n), Ur(n.cx, n.cy, s, i)), {}, { angle: i, radius: s }) } var l = a.coordinate, { angle: f } = n; return au(au(au({}, n), Ur(n.cx, n.cy, l, f)), {}, { angle: f, radius: l }) } return { angle: 0, clockWise: !1, cx: 0, cy: 0, endAngle: 0, innerRadius: 0, outerRadius: 0, radius: 0, startAngle: 0, x: 0, y: 0 } }; function VQ(e, t) { var { chartX: r, chartY: n } = e; return r >= t.left && r <= t.left + t.width && n >= t.top && n <= t.top + t.height } var D8 = (e, t, r, n, a) => { var i, s = (i = t == null ? void 0 : t.length) !== null && i !== void 0 ? i : 0; if (s <= 1 || e == null) return 0; if (n === "angleAxis" && a != null && Math.abs(Math.abs(a[1] - a[0]) - 360) <= 1e-6) for (var l = 0; l < s; l++) { var f, d, h, m, g, v = l > 0 ? (f = r[l - 1]) === null || f === void 0 ? void 0 : f.coordinate : (d = r[s - 1]) === null || d === void 0 ? void 0 : d.coordinate, y = (h = r[l]) === null || h === void 0 ? void 0 : h.coordinate, b = l >= s - 1 ? (m = r[0]) === null || m === void 0 ? void 0 : m.coordinate : (g = r[l + 1]) === null || g === void 0 ? void 0 : g.coordinate, _ = void 0; if (!(v == null || y == null || b == null)) if (an(y - v) !== an(b - y)) { var k = []; if (an(b - y) === an(a[1] - a[0])) { _ = b; var C = y + a[1] - a[0]; k[0] = Math.min(C, (C + v) / 2), k[1] = Math.max(C, (C + v) / 2) } else { _ = v; var T = b + a[1] - a[0]; k[0] = Math.min(y, (T + y) / 2), k[1] = Math.max(y, (T + y) / 2) } var j = [Math.min(y, (_ + y) / 2), Math.max(y, (_ + y) / 2)]; if (e > j[0] && e <= j[1] || e >= k[0] && e <= k[1]) { var R; return (R = r[l]) === null || R === void 0 ? void 0 : R.index } } else { var O = Math.min(v, b), I = Math.max(v, b); if (e > (O + y) / 2 && e <= (I + y) / 2) { var H; return (H = r[l]) === null || H === void 0 ? void 0 : H.index } } } else if (t) for (var F = 0; F < s; F++) { var X = t[F]; if (X != null) { var V = t[F + 1], U = t[F - 1]; if (F === 0 && V != null && e <= (X.coordinate + V.coordinate) / 2 || F === s - 1 && U != null && e > (X.coordinate + U.coordinate) / 2 || F > 0 && F < s - 1 && U != null && V != null && e > (X.coordinate + U.coordinate) / 2 && e <= (X.coordinate + V.coordinate) / 2) return X.index } } return -1 }, M8 = () => We(RS), fE = (e, t) => t, L8 = (e, t, r) => r, hE = (e, t, r, n) => n, qQ = xe(Gs, e => wg(e, t => t.coordinate)), pE = xe([Xu, fE, L8, hE], _8), mE = xe([pE, Zu, N0, C0], sE), WQ = (e, t, r) => { if (t != null) { var n = Xu(e); return t === "axis" ? r === "hover" ? n.axisInteraction.hover.dataKey : n.axisInteraction.click.dataKey : r === "hover" ? n.itemInteraction.hover.dataKey : n.itemInteraction.click.dataKey } }, F8 = xe([Xu, fE, L8, hE], E8), Um = xe([Fs, Us, Et, Wr, Gs, hE, F8], S8), KQ = xe([pE, Um], (e, t) => { var r; return (r = e.coordinate) !== null && r !== void 0 ? r : t }), U8 = xe([Gs, mE], x8), YQ = xe([F8, mE, $s, N0, U8, k8, fE], T8), XQ = xe([pE, mE], (e, t) => ({ isActive: e.active && t != null, activeIndex: t })), JQ = (e, t, r, n, a, i, s) => { if (!(!e || !r || !n || !a) && VQ(e, s)) { var l = yq(e, t), f = D8(l, i, a, r, n), d = HQ(t, a, f, e); return { activeIndex: String(f), activeCoordinate: d } } }, ZQ = (e, t, r, n, a, i, s) => { if (!(!e || !n || !a || !i || !r)) { var l = MK(e, r); if (l) { var f = bq(l, t), d = D8(f, s, i, n, a), h = GQ(t, i, d, l); return { activeIndex: String(d), activeCoordinate: h } } } }, QQ = (e, t, r, n, a, i, s, l) => { if (!(!e || !t || !n || !a || !i)) return t === "horizontal" || t === "vertical" ? JQ(e, t, n, a, i, s, l) : ZQ(e, t, r, n, a, i, s) }, eee = xe(e => e.zIndex.zIndexMap, (e, t) => t, (e, t, r) => r, (e, t, r) => { if (t != null) { var n = e[t]; if (n != null) return r ? n.panoramaElement : n.element } }), tee = xe(e => e.zIndex.zIndexMap, e => { var t = Object.keys(e).map(n => parseInt(n, 10)).concat(Object.values(jr)), r = Array.from(new Set(t)); return r.sort((n, a) => n - a) }, { memoizeOptions: { resultEqualityCheck: MJ } }); function mO(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function gO(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? mO(Object(r), !0).forEach(function (n) { ree(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : mO(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function ree(e, t, r) { return (t = nee(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function nee(e) { var t = aee(e, "string"); return typeof t == "symbol" ? t : t + "" } function aee(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } var iee = {}, see = { zIndexMap: Object.values(jr).reduce((e, t) => gO(gO({}, e), {}, { [t]: { element: void 0, panoramaElement: void 0, consumers: 0 } }), iee) }, oee = new Set(Object.values(jr)); function lee(e) { return oee.has(e) } var B8 = da({ name: "zIndex", initialState: see, reducers: { registerZIndexPortal: { reducer: (e, t) => { var { zIndex: r } = t.payload; e.zIndexMap[r] ? e.zIndexMap[r].consumers += 1 : e.zIndexMap[r] = { consumers: 1, element: void 0, panoramaElement: void 0 } }, prepare: lr() }, unregisterZIndexPortal: { reducer: (e, t) => { var { zIndex: r } = t.payload; e.zIndexMap[r] && (e.zIndexMap[r].consumers -= 1, e.zIndexMap[r].consumers <= 0 && !lee(r) && delete e.zIndexMap[r]) }, prepare: lr() }, registerZIndexPortalElement: { reducer: (e, t) => { var { zIndex: r, element: n, isPanorama: a } = t.payload; e.zIndexMap[r] ? a ? e.zIndexMap[r].panoramaElement = n : e.zIndexMap[r].element = n : e.zIndexMap[r] = { consumers: 0, element: a ? void 0 : n, panoramaElement: a ? n : void 0 } }, prepare: lr() }, unregisterZIndexPortalElement: { reducer: (e, t) => { var { zIndex: r } = t.payload; e.zIndexMap[r] && (t.payload.isPanorama ? e.zIndexMap[r].panoramaElement = void 0 : e.zIndexMap[r].element = void 0) }, prepare: lr() } } }), { registerZIndexPortal: cee, unregisterZIndexPortal: uee, registerZIndexPortalElement: dee, unregisterZIndexPortalElement: fee } = B8.actions, hee = B8.reducer; function ea(e) { var { zIndex: t, children: r } = e, n = Jq(), a = n && t !== void 0 && t !== 0, i = on(), s = rr(); A.useLayoutEffect(() => a ? (s(cee({ zIndex: t })), () => { s(uee({ zIndex: t })) }) : Ho, [s, t, a]); var l = We(f => eee(f, t, i)); return a ? l ? $u.createPortal(r, l) : null : r } function Vw() { return Vw = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, Vw.apply(null, arguments) } function xO(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function xp(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? xO(Object(r), !0).forEach(function (n) { pee(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : xO(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function pee(e, t, r) { return (t = mee(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function mee(e) { var t = gee(e, "string"); return typeof t == "symbol" ? t : t + "" } function gee(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } function xee(e) { var { cursor: t, cursorComp: r, cursorProps: n } = e; return A.isValidElement(t) ? A.cloneElement(t, n) : A.createElement(r, n) } function vee(e) { var t, { coordinate: r, payload: n, index: a, offset: i, tooltipAxisBandSize: s, layout: l, cursor: f, tooltipEventType: d, chartName: h } = e, m = r, g = n, v = a; if (!f || !m || h !== "ScatterChart" && d !== "axis") return null; var y, b, _; if (h === "ScatterChart") y = m, b = XW, _ = jr.cursorLine; else if (h === "BarChart") y = JW(l, m, i, s), b = M3, _ = jr.cursorRectangle; else if (l === "radial" && yM(m)) { var { cx: k, cy: C, radius: T, startAngle: j, endAngle: R } = F3(m); y = { cx: k, cy: C, startAngle: j, endAngle: R, innerRadius: T, outerRadius: T }, b = B3, _ = jr.cursorLine } else y = { points: BK(l, m, i) }, b = Eu, _ = jr.cursorLine; var O = typeof f == "object" && "className" in f ? f.className : void 0, I = xp(xp(xp(xp({ stroke: "#ccc", pointerEvents: "none" }, i), y), Vl(f)), {}, { payload: g, payloadIndex: v, className: At("recharts-tooltip-cursor", O) }); return A.createElement(ea, { zIndex: (t = e.zIndex) !== null && t !== void 0 ? t : _ }, A.createElement(xee, { cursor: f, cursorComp: b, cursorProps: I })) } function yee(e) { var t = UQ(), r = y3(), n = Vo(), a = M8(); return t == null || r == null || n == null || a == null ? null : A.createElement(vee, Vw({}, e, { offset: r, layout: n, tooltipAxisBandSize: t, chartName: a })) } var $8 = A.createContext(null), bee = () => A.useContext($8), f1 = { exports: {} }, vO; function wee() { return vO || (vO = 1, (function (e) { var t = Object.prototype.hasOwnProperty, r = "~"; function n() { } Object.create && (n.prototype = Object.create(null), new n().__proto__ || (r = !1)); function a(f, d, h) { this.fn = f, this.context = d, this.once = h || !1 } function i(f, d, h, m, g) { if (typeof h != "function") throw new TypeError("The listener must be a function"); var v = new a(h, m || f, g), y = r ? r + d : d; return f._events[y] ? f._events[y].fn ? f._events[y] = [f._events[y], v] : f._events[y].push(v) : (f._events[y] = v, f._eventsCount++), f } function s(f, d) { --f._eventsCount === 0 ? f._events = new n : delete f._events[d] } function l() { this._events = new n, this._eventsCount = 0 } l.prototype.eventNames = function () { var d = [], h, m; if (this._eventsCount === 0) return d; for (m in h = this._events) t.call(h, m) && d.push(r ? m.slice(1) : m); return Object.getOwnPropertySymbols ? d.concat(Object.getOwnPropertySymbols(h)) : d }, l.prototype.listeners = function (d) { var h = r ? r + d : d, m = this._events[h]; if (!m) return []; if (m.fn) return [m.fn]; for (var g = 0, v = m.length, y = new Array(v); g < v; g++)y[g] = m[g].fn; return y }, l.prototype.listenerCount = function (d) { var h = r ? r + d : d, m = this._events[h]; return m ? m.fn ? 1 : m.length : 0 }, l.prototype.emit = function (d, h, m, g, v, y) { var b = r ? r + d : d; if (!this._events[b]) return !1; var _ = this._events[b], k = arguments.length, C, T; if (_.fn) { switch (_.once && this.removeListener(d, _.fn, void 0, !0), k) { case 1: return _.fn.call(_.context), !0; case 2: return _.fn.call(_.context, h), !0; case 3: return _.fn.call(_.context, h, m), !0; case 4: return _.fn.call(_.context, h, m, g), !0; case 5: return _.fn.call(_.context, h, m, g, v), !0; case 6: return _.fn.call(_.context, h, m, g, v, y), !0 }for (T = 1, C = new Array(k - 1); T < k; T++)C[T - 1] = arguments[T]; _.fn.apply(_.context, C) } else { var j = _.length, R; for (T = 0; T < j; T++)switch (_[T].once && this.removeListener(d, _[T].fn, void 0, !0), k) { case 1: _[T].fn.call(_[T].context); break; case 2: _[T].fn.call(_[T].context, h); break; case 3: _[T].fn.call(_[T].context, h, m); break; case 4: _[T].fn.call(_[T].context, h, m, g); break; default: if (!C) for (R = 1, C = new Array(k - 1); R < k; R++)C[R - 1] = arguments[R]; _[T].fn.apply(_[T].context, C) } } return !0 }, l.prototype.on = function (d, h, m) { return i(this, d, h, m, !1) }, l.prototype.once = function (d, h, m) { return i(this, d, h, m, !0) }, l.prototype.removeListener = function (d, h, m, g) { var v = r ? r + d : d; if (!this._events[v]) return this; if (!h) return s(this, v), this; var y = this._events[v]; if (y.fn) y.fn === h && (!g || y.once) && (!m || y.context === m) && s(this, v); else { for (var b = 0, _ = [], k = y.length; b < k; b++)(y[b].fn !== h || g && !y[b].once || m && y[b].context !== m) && _.push(y[b]); _.length ? this._events[v] = _.length === 1 ? _[0] : _ : s(this, v) } return this }, l.prototype.removeAllListeners = function (d) { var h; return d ? (h = r ? r + d : d, this._events[h] && s(this, h)) : (this._events = new n, this._eventsCount = 0), this }, l.prototype.off = l.prototype.removeListener, l.prototype.addListener = l.prototype.on, l.prefixed = r, l.EventEmitter = l, e.exports = l })(f1)), f1.exports } var _ee = wee(); const See = _i(_ee); var Jf = new See, qw = "recharts.syncEvent.tooltip", yO = "recharts.syncEvent.brush", ax = (e, t) => { if (t && Array.isArray(e)) { var r = Number.parseInt(t, 10); if (!bi(r)) return e[r] } }, Eee = { chartName: "", tooltipPayloadSearcher: () => { }, eventEmitter: void 0, defaultTooltipEventType: "axis" }, z8 = da({ name: "options", initialState: Eee, reducers: { createEventEmitter: e => { e.eventEmitter == null && (e.eventEmitter = Symbol("rechartsEventEmitter")) } } }), kee = z8.reducer, { createEventEmitter: Tee } = z8.actions; function Nee(e) { return e.tooltip.syncInteraction } var Aee = { chartData: void 0, computedData: void 0, dataStartIndex: 0, dataEndIndex: 0 }, H8 = da({ name: "chartData", initialState: Aee, reducers: { setChartData(e, t) { if (e.chartData = t.payload, t.payload == null) { e.dataStartIndex = 0, e.dataEndIndex = 0; return } t.payload.length > 0 && e.dataEndIndex !== t.payload.length - 1 && (e.dataEndIndex = t.payload.length - 1) }, setComputedData(e, t) { e.computedData = t.payload }, setDataStartEndIndexes(e, t) { var { startIndex: r, endIndex: n } = t.payload; r != null && (e.dataStartIndex = r), n != null && (e.dataEndIndex = n) } } }), { setChartData: bO, setDataStartEndIndexes: Cee, setComputedData: nEe } = H8.actions, jee = H8.reducer, Iee = ["x", "y"]; function wO(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function iu(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? wO(Object(r), !0).forEach(function (n) { Oee(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : wO(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function Oee(e, t, r) { return (t = Ree(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function Ree(e) { var t = Pee(e, "string"); return typeof t == "symbol" ? t : t + "" } function Pee(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } function Dee(e, t) { if (e == null) return {}; var r, n, a = Mee(e, t); if (Object.getOwnPropertySymbols) { var i = Object.getOwnPropertySymbols(e); for (n = 0; n < i.length; n++)r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (a[r] = e[r]) } return a } function Mee(e, t) { if (e == null) return {}; var r = {}; for (var n in e) if ({}.hasOwnProperty.call(e, n)) { if (t.indexOf(n) !== -1) continue; r[n] = e[n] } return r } function Lee() { var e = We(PS), t = We(DS), r = rr(), n = We(M5), a = We(Gs), i = Vo(), s = Dg(), l = We(f => f.rootProps.className); A.useEffect(() => { if (e == null) return Ho; var f = (d, h, m) => { if (t !== m && e === d) { if (n === "index") { var g; if (s && h !== null && h !== void 0 && (g = h.payload) !== null && g !== void 0 && g.coordinate && h.payload.sourceViewBox) { var v = h.payload.coordinate, { x: y, y: b } = v, _ = Dee(v, Iee), { x: k, y: C, width: T, height: j } = h.payload.sourceViewBox, R = iu(iu({}, _), {}, { x: s.x + (T ? (y - k) / T : 0) * s.width, y: s.y + (j ? (b - C) / j : 0) * s.height }); r(iu(iu({}, h), {}, { payload: iu(iu({}, h.payload), {}, { coordinate: R }) })) } else r(h); return } if (a != null) { var O; if (typeof n == "function") { var I = { activeTooltipIndex: h.payload.index == null ? void 0 : Number(h.payload.index), isTooltipActive: h.payload.active, activeIndex: h.payload.index == null ? void 0 : Number(h.payload.index), activeLabel: h.payload.label, activeDataKey: h.payload.dataKey, activeCoordinate: h.payload.coordinate }, H = n(a, I); O = a[H] } else n === "value" && (O = a.find(D => String(D.value) === h.payload.label)); var { coordinate: F } = h.payload; if (O == null || h.payload.active === !1 || F == null || s == null) { r(Hw({ active: !1, coordinate: void 0, dataKey: void 0, index: null, label: void 0, sourceViewBox: void 0, graphicalItemId: void 0 })); return } var { x: X, y: V } = F, U = Math.min(X, s.x + s.width), ee = Math.min(V, s.y + s.height), re = { x: i === "horizontal" ? O.coordinate : U, y: i === "horizontal" ? ee : O.coordinate }, de = Hw({ active: h.payload.active, coordinate: re, dataKey: h.payload.dataKey, index: String(O.index), label: h.payload.label, sourceViewBox: h.payload.sourceViewBox, graphicalItemId: h.payload.graphicalItemId }); r(de) } } }; return Jf.on(qw, f), () => { Jf.off(qw, f) } }, [l, r, t, e, n, a, i, s]) } function Fee() { var e = We(PS), t = We(DS), r = rr(); A.useEffect(() => { if (e == null) return Ho; var n = (a, i, s) => { t !== s && e === a && r(Cee(i)) }; return Jf.on(yO, n), () => { Jf.off(yO, n) } }, [r, t, e]) } function Uee() { var e = rr(); A.useEffect(() => { e(Tee()) }, [e]), Lee(), Fee() } function Bee(e, t, r, n, a, i) { var s = We(v => WQ(v, e, t)), l = We(DS), f = We(PS), d = We(M5), h = We(Nee), m = h == null ? void 0 : h.active, g = Dg(); A.useEffect(() => { if (!m && f != null && l != null) { var v = Hw({ active: i, coordinate: r, dataKey: s, index: a, label: typeof n == "number" ? String(n) : n, sourceViewBox: g, graphicalItemId: void 0 }); Jf.emit(qw, f, v, l) } }, [m, r, s, a, n, l, f, d, i, g]) } function _O(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function SO(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? _O(Object(r), !0).forEach(function (n) { $ee(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : _O(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function $ee(e, t, r) { return (t = zee(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function zee(e) { var t = Hee(e, "string"); return typeof t == "symbol" ? t : t + "" } function Hee(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } function Gee(e) { return e.dataKey } function Vee(e, t) { return A.isValidElement(e) ? A.cloneElement(e, t) : typeof e == "function" ? A.createElement(e, t) : A.createElement(CW, t) } var EO = [], qee = { allowEscapeViewBox: { x: !1, y: !1 }, animationDuration: 400, animationEasing: "ease", axisId: 0, contentStyle: {}, cursor: !0, filterNull: !0, includeHidden: !1, isAnimationActive: "auto", itemSorter: "name", itemStyle: {}, labelStyle: {}, offset: 10, reverseDirection: { x: !1, y: !1 }, separator: " : ", trigger: "hover", useTranslate3d: !1, wrapperStyle: {} }; function Al(e) { var t, r, n = kr(e, qee), { active: a, allowEscapeViewBox: i, animationDuration: s, animationEasing: l, content: f, filterNull: d, isAnimationActive: h, offset: m, payloadUniqBy: g, position: v, reverseDirection: y, useTranslate3d: b, wrapperStyle: _, cursor: k, shared: C, trigger: T, defaultIndex: j, portal: R, axisId: O } = n, I = rr(), H = typeof j == "number" ? String(j) : j; A.useEffect(() => { I(zZ({ shared: C, trigger: T, axisId: O, active: a, defaultIndex: H })) }, [I, C, T, O, a, H]); var F = Dg(), X = I3(), V = MZ(C), { activeIndex: U, isActive: ee } = (t = We(fe => XQ(fe, V, T, H))) !== null && t !== void 0 ? t : {}, re = We(fe => YQ(fe, V, T, H)), de = We(fe => U8(fe, V, T, H)), D = We(fe => KQ(fe, V, T, H)), z = re, ie = bee(), M = (r = a ?? ee) !== null && r !== void 0 ? r : !1, [te, G] = RM([z, M]), P = V === "axis" ? de : void 0; Bee(V, T, D, P, U, M); var W = R ?? ie; if (W == null || F == null || V == null) return null; var J = z ?? EO; M || (J = EO), d && J.length && (J = AM(J.filter(fe => fe.value != null && (fe.hide !== !0 || n.includeHidden)), g, Gee)); var B = J.length > 0, ce = A.createElement(MW, { allowEscapeViewBox: i, animationDuration: s, animationEasing: l, isAnimationActive: h, active: M, coordinate: D, hasPayload: B, offset: m, position: v, reverseDirection: y, useTranslate3d: b, viewBox: F, wrapperStyle: _, lastBoundingBox: te, innerRef: G, hasPortalFromProps: !!R }, Vee(f, SO(SO({}, n), {}, { payload: J, label: P, active: M, activeIndex: U, coordinate: D, accessibilityLayer: X }))); return A.createElement(A.Fragment, null, $u.createPortal(ce, W), M && A.createElement(yee, { cursor: k, tooltipEventType: V, coordinate: D, payload: J, index: U })) } var Do = e => null; Do.displayName = "Cell"; function Wee(e, t, r) { return (t = Kee(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function Kee(e) { var t = Yee(e, "string"); return typeof t == "symbol" ? t : t + "" } function Yee(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } class Xee { constructor(t) { Wee(this, "cache", new Map), this.maxSize = t } get(t) { var r = this.cache.get(t); return r !== void 0 && (this.cache.delete(t), this.cache.set(t, r)), r } set(t, r) { if (this.cache.has(t)) this.cache.delete(t); else if (this.cache.size >= this.maxSize) { var n = this.cache.keys().next().value; n != null && this.cache.delete(n) } this.cache.set(t, r) } clear() { this.cache.clear() } size() { return this.cache.size } } function kO(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function Jee(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? kO(Object(r), !0).forEach(function (n) { Zee(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : kO(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function Zee(e, t, r) { return (t = Qee(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function Qee(e) { var t = ete(e, "string"); return typeof t == "symbol" ? t : t + "" } function ete(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } var tte = { cacheSize: 2e3, enableCache: !0 }, G8 = Jee({}, tte), TO = new Xee(G8.cacheSize), rte = { position: "absolute", top: "-20000px", left: 0, padding: 0, margin: 0, border: "none", whiteSpace: "pre" }, NO = "recharts_measurement_span"; function nte(e, t) { var r = t.fontSize || "", n = t.fontFamily || "", a = t.fontWeight || "", i = t.fontStyle || "", s = t.letterSpacing || "", l = t.textTransform || ""; return "".concat(e, "|").concat(r, "|").concat(n, "|").concat(a, "|").concat(i, "|").concat(s, "|").concat(l) } var AO = (e, t) => { try { var r = document.getElementById(NO); r || (r = document.createElement("span"), r.setAttribute("id", NO), r.setAttribute("aria-hidden", "true"), document.body.appendChild(r)), Object.assign(r.style, rte, t), r.textContent = "".concat(e); var n = r.getBoundingClientRect(); return { width: n.width, height: n.height } } catch { return { width: 0, height: 0 } } }, wf = function (t) { var r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}; if (t == null || v0.isSsr) return { width: 0, height: 0 }; if (!G8.enableCache) return AO(t, r); var n = nte(t, r), a = TO.get(n); if (a) return a; var i = AO(t, r); return TO.set(n, i), i }, V8; function ate(e, t, r) { return (t = ite(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function ite(e) { var t = ste(e, "string"); return typeof t == "symbol" ? t : t + "" } function ste(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } var CO = /(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/, jO = /(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/, ote = /^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/, lte = /(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/, cte = { cm: 96 / 2.54, mm: 96 / 25.4, pt: 96 / 72, pc: 96 / 6, in: 96, Q: 96 / (2.54 * 40), px: 1 }, ute = ["cm", "mm", "pt", "pc", "in", "Q", "px"]; function dte(e) { return ute.includes(e) } var xu = "NaN"; function fte(e, t) { return e * cte[t] } class wn { static parse(t) { var r, [, n, a] = (r = lte.exec(t)) !== null && r !== void 0 ? r : []; return n == null ? wn.NaN : new wn(parseFloat(n), a ?? "") } constructor(t, r) { this.num = t, this.unit = r, this.num = t, this.unit = r, bi(t) && (this.unit = ""), r !== "" && !ote.test(r) && (this.num = NaN, this.unit = ""), dte(r) && (this.num = fte(t, r), this.unit = "px") } add(t) { return this.unit !== t.unit ? new wn(NaN, "") : new wn(this.num + t.num, this.unit) } subtract(t) { return this.unit !== t.unit ? new wn(NaN, "") : new wn(this.num - t.num, this.unit) } multiply(t) { return this.unit !== "" && t.unit !== "" && this.unit !== t.unit ? new wn(NaN, "") : new wn(this.num * t.num, this.unit || t.unit) } divide(t) { return this.unit !== "" && t.unit !== "" && this.unit !== t.unit ? new wn(NaN, "") : new wn(this.num / t.num, this.unit || t.unit) } toString() { return "".concat(this.num).concat(this.unit) } isNaN() { return bi(this.num) } } V8 = wn; ate(wn, "NaN", new V8(NaN, "")); function q8(e) { if (e == null || e.includes(xu)) return xu; for (var t = e; t.includes("*") || t.includes("/");) { var r, [, n, a, i] = (r = CO.exec(t)) !== null && r !== void 0 ? r : [], s = wn.parse(n ?? ""), l = wn.parse(i ?? ""), f = a === "*" ? s.multiply(l) : s.divide(l); if (f.isNaN()) return xu; t = t.replace(CO, f.toString()) } for (; t.includes("+") || /.-\d+(?:\.\d+)?/.test(t);) { var d, [, h, m, g] = (d = jO.exec(t)) !== null && d !== void 0 ? d : [], v = wn.parse(h ?? ""), y = wn.parse(g ?? ""), b = m === "+" ? v.add(y) : v.subtract(y); if (b.isNaN()) return xu; t = t.replace(jO, b.toString()) } return t } var IO = /\(([^()]*)\)/; function hte(e) { for (var t = e, r; (r = IO.exec(t)) != null;) { var [, n] = r; t = t.replace(IO, q8(n)) } return t } function pte(e) { var t = e.replace(/\s+/g, ""); return t = hte(t), t = q8(t), t } function mte(e) { try { return pte(e) } catch { return xu } } function h1(e) { var t = mte(e.slice(5, -1)); return t === xu ? "" : t } var gte = ["x", "y", "lineHeight", "capHeight", "fill", "scaleToFit", "textAnchor", "verticalAnchor"], xte = ["dx", "dy", "angle", "className", "breakAll"]; function Ww() { return Ww = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, Ww.apply(null, arguments) } function OO(e, t) { if (e == null) return {}; var r, n, a = vte(e, t); if (Object.getOwnPropertySymbols) { var i = Object.getOwnPropertySymbols(e); for (n = 0; n < i.length; n++)r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (a[r] = e[r]) } return a } function vte(e, t) { if (e == null) return {}; var r = {}; for (var n in e) if ({}.hasOwnProperty.call(e, n)) { if (t.indexOf(n) !== -1) continue; r[n] = e[n] } return r } var W8 = /[ \f\n\r\t\v\u2028\u2029]+/, K8 = e => { var { children: t, breakAll: r, style: n } = e; try { var a = []; fr(t) || (r ? a = t.toString().split("") : a = t.toString().split(W8)); var i = a.map(l => ({ word: l, width: wf(l, n).width })), s = r ? 0 : wf("", n).width; return { wordsWithComputedWidth: i, spaceWidth: s } } catch { return null } }; function yte(e) { return e === "start" || e === "middle" || e === "end" || e === "inherit" } var Y8 = (e, t, r, n) => e.reduce((a, i) => { var { word: s, width: l } = i, f = a[a.length - 1]; if (f && l != null && (t == null || n || f.width + l + r < Number(t))) f.words.push(s), f.width += l + r; else { var d = { words: [s], width: l }; a.push(d) } return a }, []), X8 = e => e.reduce((t, r) => t.width > r.width ? t : r), bte = "", RO = (e, t, r, n, a, i, s, l) => { var f = e.slice(0, t), d = K8({ breakAll: r, style: n, children: f + bte }); if (!d) return [!1, []]; var h = Y8(d.wordsWithComputedWidth, i, s, l), m = h.length > a || X8(h).width > Number(i); return [m, h] }, wte = (e, t, r, n, a) => { var { maxLines: i, children: s, style: l, breakAll: f } = e, d = ze(i), h = String(s), m = Y8(t, n, r, a); if (!d || a) return m; var g = m.length > i || X8(m).width > Number(n); if (!g) return m; for (var v = 0, y = h.length - 1, b = 0, _; v <= y && b <= h.length - 1;) { var k = Math.floor((v + y) / 2), C = k - 1, [T, j] = RO(h, C, f, l, i, n, r, a), [R] = RO(h, k, f, l, i, n, r, a); if (!T && !R && (v = k + 1), T && R && (y = k - 1), !T && R) { _ = j; break } b++ } return _ || m }, PO = e => { var t = fr(e) ? [] : e.toString().split(W8); return [{ words: t, width: void 0 }] }, _te = e => { var { width: t, scaleToFit: r, children: n, style: a, breakAll: i, maxLines: s } = e; if ((t || r) && !v0.isSsr) { var l, f, d = K8({ breakAll: i, children: n, style: a }); if (d) { var { wordsWithComputedWidth: h, spaceWidth: m } = d; l = h, f = m } else return PO(n); return wte({ breakAll: i, children: n, maxLines: s, style: a }, l, f, t, !!r) } return PO(n) }, J8 = "#808080", Ste = { angle: 0, breakAll: !1, capHeight: "0.71em", fill: J8, lineHeight: "1em", scaleToFit: !1, textAnchor: "start", verticalAnchor: "end", x: 0, y: 0 }, ix = A.forwardRef((e, t) => { var r = kr(e, Ste), { x: n, y: a, lineHeight: i, capHeight: s, fill: l, scaleToFit: f, textAnchor: d, verticalAnchor: h } = r, m = OO(r, gte), g = A.useMemo(() => _te({ breakAll: m.breakAll, children: m.children, maxLines: m.maxLines, scaleToFit: f, style: m.style, width: m.width }), [m.breakAll, m.children, m.maxLines, f, m.style, m.width]), { dx: v, dy: y, angle: b, className: _, breakAll: k } = m, C = OO(m, xte); if (!Hi(n) || !Hi(a) || g.length === 0) return null; var T = Number(n) + (ze(v) ? v : 0), j = Number(a) + (ze(y) ? y : 0); if (!xt(T) || !xt(j)) return null; var R; switch (h) { case "start": R = h1("calc(".concat(s, ")")); break; case "middle": R = h1("calc(".concat((g.length - 1) / 2, " * -").concat(i, " + (").concat(s, " / 2))")); break; default: R = h1("calc(".concat(g.length - 1, " * -").concat(i, ")")); break }var O = [], I = g[0]; if (f && I != null) { var H = I.width, { width: F } = m; O.push("scale(".concat(ze(F) && ze(H) ? F / H : 1, ")")) } return b && O.push("rotate(".concat(b, ", ").concat(T, ", ").concat(j, ")")), O.length && (C.transform = O.join(" ")), A.createElement("text", Ww({}, Fn(C), { ref: t, x: T, y: j, className: At("recharts-text", _), textAnchor: d, fill: l.includes("url") ? J8 : l }), g.map((X, V) => { var U = X.words.join(k ? "" : " "); return A.createElement("tspan", { x: T, dy: V === 0 ? R : i, key: "".concat(U, "-").concat(V) }, U) })) }); ix.displayName = "Text"; function DO(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function Di(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? DO(Object(r), !0).forEach(function (n) { Ete(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : DO(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function Ete(e, t, r) { return (t = kte(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function kte(e) { var t = Tte(e, "string"); return typeof t == "symbol" ? t : t + "" } function Tte(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } var Nte = e => { var { viewBox: t, position: r, offset: n = 0, parentViewBox: a } = e, { x: i, y: s, height: l, upperWidth: f, lowerWidth: d } = tS(t), h = i, m = i + (f - d) / 2, g = (h + m) / 2, v = (f + d) / 2, y = h + f / 2, b = l >= 0 ? 1 : -1, _ = b * n, k = b > 0 ? "end" : "start", C = b > 0 ? "start" : "end", T = f >= 0 ? 1 : -1, j = T * n, R = T > 0 ? "end" : "start", O = T > 0 ? "start" : "end", I = a; if (r === "top") { var H = { x: h + f / 2, y: s - _, horizontalAnchor: "middle", verticalAnchor: k }; return I && (H.height = Math.max(s - I.y, 0), H.width = f), H } if (r === "bottom") { var F = { x: m + d / 2, y: s + l + _, horizontalAnchor: "middle", verticalAnchor: C }; return I && (F.height = Math.max(I.y + I.height - (s + l), 0), F.width = d), F } if (r === "left") { var X = { x: g - j, y: s + l / 2, horizontalAnchor: R, verticalAnchor: "middle" }; return I && (X.width = Math.max(X.x - I.x, 0), X.height = l), X } if (r === "right") { var V = { x: g + v + j, y: s + l / 2, horizontalAnchor: O, verticalAnchor: "middle" }; return I && (V.width = Math.max(I.x + I.width - V.x, 0), V.height = l), V } var U = I ? { width: v, height: l } : {}; return r === "insideLeft" ? Di({ x: g + j, y: s + l / 2, horizontalAnchor: O, verticalAnchor: "middle" }, U) : r === "insideRight" ? Di({ x: g + v - j, y: s + l / 2, horizontalAnchor: R, verticalAnchor: "middle" }, U) : r === "insideTop" ? Di({ x: h + f / 2, y: s + _, horizontalAnchor: "middle", verticalAnchor: C }, U) : r === "insideBottom" ? Di({ x: m + d / 2, y: s + l - _, horizontalAnchor: "middle", verticalAnchor: k }, U) : r === "insideTopLeft" ? Di({ x: h + j, y: s + _, horizontalAnchor: O, verticalAnchor: C }, U) : r === "insideTopRight" ? Di({ x: h + f - j, y: s + _, horizontalAnchor: R, verticalAnchor: C }, U) : r === "insideBottomLeft" ? Di({ x: m + j, y: s + l - _, horizontalAnchor: O, verticalAnchor: k }, U) : r === "insideBottomRight" ? Di({ x: m + d - j, y: s + l - _, horizontalAnchor: R, verticalAnchor: k }, U) : r && typeof r == "object" && (ze(r.x) || Kl(r.x)) && (ze(r.y) || Kl(r.y)) ? Di({ x: i + Mn(r.x, v), y: s + Mn(r.y, l), horizontalAnchor: "end", verticalAnchor: "end" }, U) : Di({ x: y, y: s + l / 2, horizontalAnchor: "middle", verticalAnchor: "middle" }, U) }, Ate = ["labelRef"], Cte = ["content"]; function MO(e, t) { if (e == null) return {}; var r, n, a = jte(e, t); if (Object.getOwnPropertySymbols) { var i = Object.getOwnPropertySymbols(e); for (n = 0; n < i.length; n++)r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (a[r] = e[r]) } return a } function jte(e, t) { if (e == null) return {}; var r = {}; for (var n in e) if ({}.hasOwnProperty.call(e, n)) { if (t.indexOf(n) !== -1) continue; r[n] = e[n] } return r } function LO(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function hf(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? LO(Object(r), !0).forEach(function (n) { Ite(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : LO(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function Ite(e, t, r) { return (t = Ote(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function Ote(e) { var t = Rte(e, "string"); return typeof t == "symbol" ? t : t + "" } function Rte(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } function bs() { return bs = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, bs.apply(null, arguments) } var Z8 = A.createContext(null), Pte = e => { var { x: t, y: r, upperWidth: n, lowerWidth: a, width: i, height: s, children: l } = e, f = A.useMemo(() => ({ x: t, y: r, upperWidth: n, lowerWidth: a, width: i, height: s }), [t, r, n, a, i, s]); return A.createElement(Z8.Provider, { value: f }, l) }, Q8 = () => { var e = A.useContext(Z8), t = Dg(); return e || (t ? tS(t) : void 0) }, Dte = A.createContext(null), Mte = () => { var e = A.useContext(Dte), t = We($5); return e || t }, Lte = e => { var { value: t, formatter: r } = e, n = fr(e.children) ? t : e.children; return typeof r == "function" ? r(n) : n }, gE = e => e != null && typeof e == "function", Fte = (e, t) => { var r = an(t - e), n = Math.min(Math.abs(t - e), 360); return r * n }, Ute = (e, t, r, n, a) => {
  var { offset: i, className: s } = e, { cx: l, cy: f, innerRadius: d, outerRadius: h, startAngle: m, endAngle: g, clockWise: v } = a, y = (d + h) / 2, b = Fte(m, g), _ = b >= 0 ? 1 : -1, k, C; switch (t) { case "insideStart": k = m + _ * i, C = v; break; case "insideEnd": k = g - _ * i, C = !v; break; case "end": k = g + _ * i, C = v; break; default: throw new Error("Unsupported position ".concat(t)) }C = b <= 0 ? C : !C; var T = Ur(l, f, y, k), j = Ur(l, f, y, k + (C ? 1 : -1) * 359), R = "M".concat(T.x, ",").concat(T.y, `
    A`).concat(y, ",").concat(y, ",0,1,").concat(C ? 0 : 1, `,
    `).concat(j.x, ",").concat(j.y), O = fr(e.id) ? Ff("recharts-radial-line-") : e.id; return A.createElement("text", bs({}, n, { dominantBaseline: "central", className: At("recharts-radial-bar-label", s) }), A.createElement("defs", null, A.createElement("path", { id: O, d: R })), A.createElement("textPath", { xlinkHref: "#".concat(O) }, r))
}, Bte = (e, t, r) => { var { cx: n, cy: a, innerRadius: i, outerRadius: s, startAngle: l, endAngle: f } = e, d = (l + f) / 2; if (r === "outside") { var { x: h, y: m } = Ur(n, a, s + t, d); return { x: h, y: m, textAnchor: h >= n ? "start" : "end", verticalAnchor: "middle" } } if (r === "center") return { x: n, y: a, textAnchor: "middle", verticalAnchor: "middle" }; if (r === "centerTop") return { x: n, y: a, textAnchor: "middle", verticalAnchor: "start" }; if (r === "centerBottom") return { x: n, y: a, textAnchor: "middle", verticalAnchor: "end" }; var g = (i + s) / 2, { x: v, y } = Ur(n, a, g, d); return { x: v, y, textAnchor: "middle", verticalAnchor: "middle" } }, $p = e => e != null && "cx" in e && ze(e.cx), $te = { angle: 0, offset: 5, zIndex: jr.label, position: "middle", textBreakAll: !1 }; function zte(e) { if (!$p(e)) return e; var { cx: t, cy: r, outerRadius: n } = e, a = n * 2; return { x: t - n, y: r - n, width: a, upperWidth: a, lowerWidth: a, height: a } } function ko(e) { var t = kr(e, $te), { viewBox: r, parentViewBox: n, position: a, value: i, children: s, content: l, className: f = "", textBreakAll: d, labelRef: h } = t, m = Mte(), g = Q8(), v = a === "center" ? g : m ?? g, y, b, _; r == null ? y = v : $p(r) ? y = r : y = tS(r); var k = zte(y); if (!y || fr(i) && fr(s) && !A.isValidElement(l) && typeof l != "function") return null; var C = hf(hf({}, t), {}, { viewBox: y }); if (A.isValidElement(l)) { var { labelRef: T } = C, j = MO(C, Ate); return A.cloneElement(l, j) } if (typeof l == "function") { var { content: R } = C, O = MO(C, Cte); if (b = A.createElement(l, O), A.isValidElement(b)) return b } else b = Lte(t); var I = Fn(t); if ($p(y)) { if (a === "insideStart" || a === "insideEnd" || a === "end") return Ute(t, a, b, I, y); _ = Bte(y, t.offset, t.position) } else { if (!k) return null; var H = Nte({ viewBox: k, position: a, offset: t.offset, parentViewBox: $p(n) ? void 0 : n }); _ = hf(hf({ x: H.x, y: H.y, textAnchor: H.horizontalAnchor, verticalAnchor: H.verticalAnchor }, H.width !== void 0 ? { width: H.width } : {}), H.height !== void 0 ? { height: H.height } : {}) } return A.createElement(ea, { zIndex: t.zIndex }, A.createElement(ix, bs({ ref: h, className: At("recharts-label", f) }, I, _, { textAnchor: yte(I.textAnchor) ? I.textAnchor : _.textAnchor, breakAll: d }), b)) } ko.displayName = "Label"; var Hte = (e, t, r) => { if (!e) return null; var n = { viewBox: t, labelRef: r }; return e === !0 ? A.createElement(ko, bs({ key: "label-implicit" }, n)) : Hi(e) ? A.createElement(ko, bs({ key: "label-implicit", value: e }, n)) : A.isValidElement(e) ? e.type === ko ? A.cloneElement(e, hf({ key: "label-implicit" }, n)) : A.createElement(ko, bs({ key: "label-implicit", content: e }, n)) : gE(e) ? A.createElement(ko, bs({ key: "label-implicit", content: e }, n)) : e && typeof e == "object" ? A.createElement(ko, bs({}, e, { key: "label-implicit" }, n)) : null }; function Gte(e) { var { label: t, labelRef: r } = e, n = Q8(); return Hte(t, n, r) || null } var p1 = {}, m1 = {}, FO; function Vte() { return FO || (FO = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); function t(r) { return r[r.length - 1] } e.last = t })(m1)), m1 } var g1 = {}, UO; function qte() { return UO || (UO = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); function t(r) { return Array.isArray(r) ? r : Array.from(r) } e.toArray = t })(g1)), g1 } var BO; function Wte() { return BO || (BO = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); const t = Vte(), r = qte(), n = G_(); function a(i) { if (n.isArrayLike(i)) return t.last(r.toArray(i)) } e.last = a })(p1)), p1 } var x1, $O; function Kte() { return $O || ($O = 1, x1 = Wte().last), x1 } var Yte = Kte(); const Xte = _i(Yte); var Jte = ["valueAccessor"], Zte = ["dataKey", "clockWise", "id", "textBreakAll", "zIndex"]; function Bm() { return Bm = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, Bm.apply(null, arguments) } function zO(e, t) { if (e == null) return {}; var r, n, a = Qte(e, t); if (Object.getOwnPropertySymbols) { var i = Object.getOwnPropertySymbols(e); for (n = 0; n < i.length; n++)r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (a[r] = e[r]) } return a } function Qte(e, t) { if (e == null) return {}; var r = {}; for (var n in e) if ({}.hasOwnProperty.call(e, n)) { if (t.indexOf(n) !== -1) continue; r[n] = e[n] } return r } var ere = e => Array.isArray(e.value) ? Xte(e.value) : e.value, e6 = A.createContext(void 0), xE = e6.Provider, t6 = A.createContext(void 0), tre = t6.Provider; function rre() { return A.useContext(e6) } function nre() { return A.useContext(t6) } function zp(e) { var { valueAccessor: t = ere } = e, r = zO(e, Jte), { dataKey: n, clockWise: a, id: i, textBreakAll: s, zIndex: l } = r, f = zO(r, Zte), d = rre(), h = nre(), m = d || h; return !m || !m.length ? null : A.createElement(ea, { zIndex: l ?? jr.label }, A.createElement(Sr, { className: "recharts-label-list" }, m.map((g, v) => { var y, b = fr(n) ? t(g, v) : Ft(g.payload, n), _ = fr(i) ? {} : { id: "".concat(i, "-").concat(v) }; return A.createElement(ko, Bm({ key: "label-".concat(v) }, Fn(g), f, _, { fill: (y = r.fill) !== null && y !== void 0 ? y : g.fill, parentViewBox: g.parentViewBox, value: b, textBreakAll: s, viewBox: g.viewBox, index: v, zIndex: 0 })) }))) } zp.displayName = "LabelList"; function sx(e) { var { label: t } = e; return t ? t === !0 ? A.createElement(zp, { key: "labelList-implicit" }) : A.isValidElement(t) || gE(t) ? A.createElement(zp, { key: "labelList-implicit", content: t }) : typeof t == "object" ? A.createElement(zp, Bm({ key: "labelList-implicit" }, t, { type: String(t.type) })) : null : null } function Kw() { return Kw = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, Kw.apply(null, arguments) } var r6 = e => { var { cx: t, cy: r, r: n, className: a } = e, i = At("recharts-dot", a); return ze(t) && ze(r) && ze(n) ? A.createElement("circle", Kw({}, Xn(e), H_(e), { className: i, cx: t, cy: r, r: n })) : null }, n6 = e => e.graphicalItems.polarItems, are = xe([pr, E0], BS), ox = xe([n6, Tr, are], $S), ire = xe([ox], zS), lx = xe([ire, Vg], HS), sre = xe([lx, Tr, ox], VS); xe([lx, Tr, ox], (e, t, r) => r.length > 0 ? e.flatMap(n => r.flatMap(a => { var i, s = Ft(n, (i = t.dataKey) !== null && i !== void 0 ? i : a.dataKey); return { value: s, errorDomain: [] } })).filter(Boolean) : (t == null ? void 0 : t.dataKey) != null ? e.map(n => ({ value: Ft(n, t.dataKey), errorDomain: [] })) : e.map(n => ({ value: n, errorDomain: [] }))); var HO = () => { }, ore = xe([lx, Tr, ox, ex, pr], YS), lre = xe([Tr, WS, KS, HO, ore, HO, Et, pr], XS), a6 = xe([Tr, Et, lx, sre, S0, pr, lre], JS), cre = xe([a6, Ku, Ko], eE), ure = xe([Tr, a6, cre, pr], rE); xe([Ko, ure], H5); var dre = { radiusAxis: {}, angleAxis: {} }, i6 = da({ name: "polarAxis", initialState: dre, reducers: { addRadiusAxis(e, t) { e.radiusAxis[t.payload.id] = t.payload }, removeRadiusAxis(e, t) { delete e.radiusAxis[t.payload.id] }, addAngleAxis(e, t) { e.angleAxis[t.payload.id] = t.payload }, removeAngleAxis(e, t) { delete e.angleAxis[t.payload.id] } } }), { addRadiusAxis: aEe, removeRadiusAxis: iEe, addAngleAxis: sEe, removeAngleAxis: oEe } = i6.actions, fre = i6.reducer; function s6(e) { return e && typeof e == "object" && "className" in e && typeof e.className == "string" ? e.className : "" } function GO(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function VO(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? GO(Object(r), !0).forEach(function (n) { hre(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : GO(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function hre(e, t, r) { return (t = pre(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function pre(e) { var t = mre(e, "string"); return typeof t == "symbol" ? t : t + "" } function mre(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } var gre = (e, t) => t, vE = xe([n6, gre], (e, t) => e.filter(r => r.type === "pie").find(r => r.id === t)), xre = [], yE = (e, t, r) => (r == null ? void 0 : r.length) === 0 ? xre : r, o6 = xe([Vg, vE, yE], (e, t, r) => { var { chartData: n } = e; if (t != null) { var a; if ((t == null ? void 0 : t.data) != null && t.data.length > 0 ? a = t.data : a = n, (!a || !a.length) && r != null && (a = r.map(i => VO(VO({}, t.presentationProps), i.props))), a != null) return a } }), vre = xe([o6, vE, yE], (e, t, r) => { if (!(e == null || t == null)) return e.map((n, a) => { var i, s = Ft(n, t.nameKey, t.name), l; return r != null && (i = r[a]) !== null && i !== void 0 && (i = i.props) !== null && i !== void 0 && i.fill ? l = r[a].props.fill : typeof n == "object" && n != null && "fill" in n ? l = n.fill : l = t.fill, { value: Go(s, t.dataKey), color: l, payload: n, type: t.legendType } }) }), yre = xe([o6, vE, yE, Wr], (e, t, r, n) => { if (!(t == null || e == null)) return bne({ offset: n, pieSettings: t, displayedData: e, cells: r }) }), v1 = { exports: {} }, Wt = {};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qO; function bre() { if (qO) return Wt; qO = 1; var e = Symbol.for("react.transitional.element"), t = Symbol.for("react.portal"), r = Symbol.for("react.fragment"), n = Symbol.for("react.strict_mode"), a = Symbol.for("react.profiler"), i = Symbol.for("react.consumer"), s = Symbol.for("react.context"), l = Symbol.for("react.forward_ref"), f = Symbol.for("react.suspense"), d = Symbol.for("react.suspense_list"), h = Symbol.for("react.memo"), m = Symbol.for("react.lazy"), g = Symbol.for("react.view_transition"), v = Symbol.for("react.client.reference"); function y(b) { if (typeof b == "object" && b !== null) { var _ = b.$$typeof; switch (_) { case e: switch (b = b.type, b) { case r: case a: case n: case f: case d: case g: return b; default: switch (b = b && b.$$typeof, b) { case s: case l: case m: case h: return b; case i: return b; default: return _ } }case t: return _ } } } return Wt.ContextConsumer = i, Wt.ContextProvider = s, Wt.Element = e, Wt.ForwardRef = l, Wt.Fragment = r, Wt.Lazy = m, Wt.Memo = h, Wt.Portal = t, Wt.Profiler = a, Wt.StrictMode = n, Wt.Suspense = f, Wt.SuspenseList = d, Wt.isContextConsumer = function (b) { return y(b) === i }, Wt.isContextProvider = function (b) { return y(b) === s }, Wt.isElement = function (b) { return typeof b == "object" && b !== null && b.$$typeof === e }, Wt.isForwardRef = function (b) { return y(b) === l }, Wt.isFragment = function (b) { return y(b) === r }, Wt.isLazy = function (b) { return y(b) === m }, Wt.isMemo = function (b) { return y(b) === h }, Wt.isPortal = function (b) { return y(b) === t }, Wt.isProfiler = function (b) { return y(b) === a }, Wt.isStrictMode = function (b) { return y(b) === n }, Wt.isSuspense = function (b) { return y(b) === f }, Wt.isSuspenseList = function (b) { return y(b) === d }, Wt.isValidElementType = function (b) { return typeof b == "string" || typeof b == "function" || b === r || b === a || b === n || b === f || b === d || typeof b == "object" && b !== null && (b.$$typeof === m || b.$$typeof === h || b.$$typeof === s || b.$$typeof === i || b.$$typeof === l || b.$$typeof === v || b.getModuleId !== void 0) }, Wt.typeOf = y, Wt } var WO; function wre() { return WO || (WO = 1, v1.exports = bre()), v1.exports } var _re = wre(), KO = e => typeof e == "string" ? e : e ? e.displayName || e.name || "Component" : "", YO = null, y1 = null, l6 = e => { if (e === YO && Array.isArray(y1)) return y1; var t = []; return A.Children.forEach(e, r => { fr(r) || (_re.isFragment(r) ? t = t.concat(l6(r.props.children)) : t.push(r)) }), y1 = t, YO = e, t }; function bE(e, t) { var r = [], n = []; return Array.isArray(t) ? n = t.map(a => KO(a)) : n = [KO(t)], l6(e).forEach(a => { var i = Wl(a, "type.displayName") || Wl(a, "type.name"); i && n.indexOf(i) !== -1 && r.push(a) }), r } var wE = e => e && typeof e == "object" && "clipDot" in e ? !!e.clipDot : !0, b1 = {}, XO; function Sre() { return XO || (XO = 1, (function (e) { Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }); function t(r) { var a; if (typeof r != "object" || r == null) return !1; if (Object.getPrototypeOf(r) === null) return !0; if (Object.prototype.toString.call(r) !== "[object Object]") { const i = r[Symbol.toStringTag]; return i == null || !((a = Object.getOwnPropertyDescriptor(r, Symbol.toStringTag)) != null && a.writable) ? !1 : r.toString() === `[object ${i}]` } let n = r; for (; Object.getPrototypeOf(n) !== null;)n = Object.getPrototypeOf(n); return Object.getPrototypeOf(r) === n } e.isPlainObject = t })(b1)), b1 } var w1, JO; function Ere() { return JO || (JO = 1, w1 = Sre().isPlainObject), w1 } var kre = Ere(); const Tre = _i(kre); var ZO, QO, eR, tR, rR; function nR(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function aR(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? nR(Object(r), !0).forEach(function (n) { Nre(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : nR(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function Nre(e, t, r) { return (t = Are(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function Are(e) { var t = Cre(e, "string"); return typeof t == "symbol" ? t : t + "" } function Cre(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } function $m() { return $m = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, $m.apply(null, arguments) } function of(e, t) { return t || (t = e.slice(0)), Object.freeze(Object.defineProperties(e, { raw: { value: Object.freeze(t) } })) } var iR = (e, t, r, n, a) => { var i = r - n, s; return s = br(ZO || (ZO = of(["M ", ",", ""])), e, t), s += br(QO || (QO = of(["L ", ",", ""])), e + r, t), s += br(eR || (eR = of(["L ", ",", ""])), e + r - i / 2, t + a), s += br(tR || (tR = of(["L ", ",", ""])), e + r - i / 2 - n, t + a), s += br(rR || (rR = of(["L ", ",", " Z"])), e, t), s }, jre = { x: 0, y: 0, upperWidth: 0, lowerWidth: 0, height: 0, isUpdateAnimationActive: !1, animationBegin: 0, animationDuration: 1500, animationEasing: "ease" }, Ire = e => { var t = kr(e, jre), { x: r, y: n, upperWidth: a, lowerWidth: i, height: s, className: l } = t, { animationEasing: f, animationDuration: d, animationBegin: h, isUpdateAnimationActive: m } = t, g = A.useRef(null), [v, y] = A.useState(-1), b = A.useRef(a), _ = A.useRef(i), k = A.useRef(s), C = A.useRef(r), T = A.useRef(n), j = Hu(e, "trapezoid-"); if (A.useEffect(() => { if (g.current && g.current.getTotalLength) try { var re = g.current.getTotalLength(); re && y(re) } catch { } }, []), r !== +r || n !== +n || a !== +a || i !== +i || s !== +s || a === 0 && i === 0 || s === 0) return null; var R = At("recharts-trapezoid", l); if (!m) return A.createElement("g", null, A.createElement("path", $m({}, Fn(t), { className: R, d: iR(r, n, a, i, s) }))); var O = b.current, I = _.current, H = k.current, F = C.current, X = T.current, V = "0px ".concat(v === -1 ? 1 : v, "px"), U = "".concat(v, "px 0px"), ee = O3(["strokeDasharray"], d, f); return A.createElement(zu, { animationId: j, key: j, canBegin: v > 0, duration: d, easing: f, isActive: m, begin: h }, re => { var de = Lt(O, a, re), D = Lt(I, i, re), z = Lt(H, s, re), ie = Lt(F, r, re), M = Lt(X, n, re); g.current && (b.current = de, _.current = D, k.current = z, C.current = ie, T.current = M); var te = re > 0 ? { transition: ee, strokeDasharray: U } : { strokeDasharray: V }; return A.createElement("path", $m({}, Fn(t), { className: R, d: iR(ie, M, de, D, z), ref: g, style: aR(aR({}, te), t.style) })) }) }, Ore = ["option", "shapeType", "activeClassName"]; function Rre(e, t) { if (e == null) return {}; var r, n, a = Pre(e, t); if (Object.getOwnPropertySymbols) { var i = Object.getOwnPropertySymbols(e); for (n = 0; n < i.length; n++)r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (a[r] = e[r]) } return a } function Pre(e, t) { if (e == null) return {}; var r = {}; for (var n in e) if ({}.hasOwnProperty.call(e, n)) { if (t.indexOf(n) !== -1) continue; r[n] = e[n] } return r } function sR(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function zm(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? sR(Object(r), !0).forEach(function (n) { Dre(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : sR(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function Dre(e, t, r) { return (t = Mre(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function Mre(e) { var t = Lre(e, "string"); return typeof t == "symbol" ? t : t + "" } function Lre(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } function Fre(e, t) { return zm(zm({}, t), e) } function Ure(e, t) { return e === "symbols" } function oR(e) { var { shapeType: t, elementProps: r } = e; switch (t) { case "rectangle": return A.createElement(M3, r); case "trapezoid": return A.createElement(Ire, r); case "sector": return A.createElement(B3, r); case "symbols": if (Ure(t)) return A.createElement(z_, r); break; case "curve": return A.createElement(Eu, r); default: return null } } function Bre(e) { return A.isValidElement(e) ? e.props : e } function _E(e) { var { option: t, shapeType: r, activeClassName: n = "recharts-active-shape" } = e, a = Rre(e, Ore), i; if (A.isValidElement(t)) i = A.cloneElement(t, zm(zm({}, a), Bre(t))); else if (typeof t == "function") i = t(a, a.index); else if (Tre(t) && typeof t != "boolean") { var s = Fre(t, a); i = A.createElement(oR, { shapeType: r, elementProps: s }) } else { var l = a; i = A.createElement(oR, { shapeType: r, elementProps: l }) } return a.isActive ? A.createElement(Sr, { className: n }, i) : i } var SE = (e, t, r) => { var n = rr(); return (a, i) => s => { e == null || e(a, i, s), n(y8({ activeIndex: String(i), activeDataKey: t, activeCoordinate: a.tooltipPosition, activeGraphicalItemId: r })) } }, EE = e => { var t = rr(); return (r, n) => a => { e == null || e(r, n, a), t(HZ()) } }, kE = (e, t, r) => { var n = rr(); return (a, i) => s => { e == null || e(a, i, s), n(GZ({ activeIndex: String(i), activeDataKey: t, activeCoordinate: a.tooltipPosition, activeGraphicalItemId: r })) } }; function cx(e) { var { tooltipEntrySettings: t } = e, r = rr(), n = on(), a = A.useRef(null); return A.useLayoutEffect(() => { n || (a.current === null ? r(UZ(t)) : a.current !== t && r(BZ({ prev: a.current, next: t })), a.current = t) }, [t, r, n]), A.useLayoutEffect(() => () => { a.current && (r($Z(a.current)), a.current = null) }, [r]), null } function TE(e) { var { legendPayload: t } = e, r = rr(), n = on(), a = A.useRef(null); return A.useLayoutEffect(() => { n || (a.current === null ? r(A3(t)) : a.current !== t && r(C3({ prev: a.current, next: t })), a.current = t) }, [r, n, t]), A.useLayoutEffect(() => () => { a.current && (r(j3(a.current)), a.current = null) }, [r]), null } function $re(e) { var { legendPayload: t } = e, r = rr(), n = We(Et), a = A.useRef(null); return A.useLayoutEffect(() => { n !== "centric" && n !== "radial" || (a.current === null ? r(A3(t)) : a.current !== t && r(C3({ prev: a.current, next: t })), a.current = t) }, [r, n, t]), A.useLayoutEffect(() => () => { a.current && (r(j3(a.current)), a.current = null) }, [r]), null } var _1, zre = () => { var [e] = A.useState(() => Ff("uid-")); return e }, Hre = (_1 = YB.useId) !== null && _1 !== void 0 ? _1 : zre; function Gre(e, t) { var r = Hre(); return t || (e ? "".concat(e, "-").concat(r) : r) } var Vre = A.createContext(void 0), ux = e => { var { id: t, type: r, children: n } = e, a = Gre("recharts-".concat(r), t); return A.createElement(Vre.Provider, { value: a }, n(a)) }, qre = { cartesianItems: [], polarItems: [] }, c6 = da({ name: "graphicalItems", initialState: qre, reducers: { addCartesianGraphicalItem: { reducer(e, t) { e.cartesianItems.push(t.payload) }, prepare: lr() }, replaceCartesianGraphicalItem: { reducer(e, t) { var { prev: r, next: n } = t.payload, a = gi(e).cartesianItems.indexOf(r); a > -1 && (e.cartesianItems[a] = n) }, prepare: lr() }, removeCartesianGraphicalItem: { reducer(e, t) { var r = gi(e).cartesianItems.indexOf(t.payload); r > -1 && e.cartesianItems.splice(r, 1) }, prepare: lr() }, addPolarGraphicalItem: { reducer(e, t) { e.polarItems.push(t.payload) }, prepare: lr() }, removePolarGraphicalItem: { reducer(e, t) { var r = gi(e).polarItems.indexOf(t.payload); r > -1 && e.polarItems.splice(r, 1) }, prepare: lr() } } }), { addCartesianGraphicalItem: Wre, replaceCartesianGraphicalItem: Kre, removeCartesianGraphicalItem: Yre, addPolarGraphicalItem: Xre, removePolarGraphicalItem: Jre } = c6.actions, Zre = c6.reducer, Qre = e => { var t = rr(), r = A.useRef(null); return A.useLayoutEffect(() => { r.current === null ? t(Wre(e)) : r.current !== e && t(Kre({ prev: r.current, next: e })), r.current = e }, [t, e]), A.useLayoutEffect(() => () => { r.current && (t(Yre(r.current)), r.current = null) }, [t]), null }, NE = A.memo(Qre); function ene(e) { var t = rr(); return A.useLayoutEffect(() => (t(Xre(e)), () => { t(Jre(e)) }), [t, e]), null } var tne = ["key"], rne = ["onMouseEnter", "onClick", "onMouseLeave"], nne = ["id"], ane = ["id"]; function lR(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function wr(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? lR(Object(r), !0).forEach(function (n) { ine(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : lR(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function ine(e, t, r) { return (t = sne(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function sne(e) { var t = one(e, "string"); return typeof t == "symbol" ? t : t + "" } function one(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } function Bo() { return Bo = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, Bo.apply(null, arguments) } function dx(e, t) { if (e == null) return {}; var r, n, a = lne(e, t); if (Object.getOwnPropertySymbols) { var i = Object.getOwnPropertySymbols(e); for (n = 0; n < i.length; n++)r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (a[r] = e[r]) } return a } function lne(e, t) { if (e == null) return {}; var r = {}; for (var n in e) if ({}.hasOwnProperty.call(e, n)) { if (t.indexOf(n) !== -1) continue; r[n] = e[n] } return r } function cne(e) { var t = A.useMemo(() => bE(e.children, Do), [e.children]), r = We(n => vre(n, e.id, t)); return r == null ? null : A.createElement($re, { legendPayload: r }) } var une = A.memo(e => { var { dataKey: t, nameKey: r, sectors: n, stroke: a, strokeWidth: i, fill: s, name: l, hide: f, tooltipType: d, id: h } = e, m = { dataDefinedOnItem: n.map(g => g.tooltipPayload), getPosition: g => { var v; return (v = n[Number(g)]) === null || v === void 0 ? void 0 : v.tooltipPosition }, settings: { stroke: a, strokeWidth: i, fill: s, dataKey: t, nameKey: r, name: Go(l, t), hide: f, type: d, color: s, unit: "", graphicalItemId: h } }; return A.createElement(cx, { tooltipEntrySettings: m }) }), dne = (e, t) => e > t ? "start" : e < t ? "end" : "middle", fne = (e, t, r) => Mn(typeof t == "function" ? t(e) : t, r, r * .8), hne = (e, t, r) => { var { top: n, left: a, width: i, height: s } = t, l = L3(i, s), f = a + Mn(e.cx, i, i / 2), d = n + Mn(e.cy, s, s / 2), h = Mn(e.innerRadius, l, 0), m = fne(r, e.outerRadius, l), g = e.maxRadius || Math.sqrt(i * i + s * s) / 2; return { cx: f, cy: d, innerRadius: h, outerRadius: m, maxRadius: g } }, pne = (e, t) => { var r = an(t - e), n = Math.min(Math.abs(t - e), 360); return r * n }, mne = (e, t) => { if (A.isValidElement(e)) return A.cloneElement(e, t); if (typeof e == "function") return e(t); var r = At("recharts-pie-label-line", typeof e != "boolean" ? e.className : ""), { key: n } = t, a = dx(t, tne); return A.createElement(Eu, Bo({}, a, { type: "linear", className: r })) }, gne = (e, t, r) => { if (A.isValidElement(e)) return A.cloneElement(e, t); var n = r; if (typeof e == "function" && (n = e(t), A.isValidElement(n))) return n; var a = At("recharts-pie-label-text", s6(e)); return A.createElement(ix, Bo({}, t, { alignmentBaseline: "middle", className: a }), n) }; function xne(e) { var { sectors: t, props: r, showLabels: n } = e, { label: a, labelLine: i, dataKey: s } = r; if (!n || !a || !t) return null; var l = Xn(r), f = Vl(a), d = Vl(i), h = typeof a == "object" && "offsetRadius" in a && typeof a.offsetRadius == "number" && a.offsetRadius || 20, m = t.map((g, v) => { var y = (g.startAngle + g.endAngle) / 2, b = Ur(g.cx, g.cy, g.outerRadius + h, y), _ = wr(wr(wr(wr({}, l), g), {}, { stroke: "none" }, f), {}, { index: v, textAnchor: dne(b.x, g.cx) }, b), k = wr(wr(wr(wr({}, l), g), {}, { fill: "none", stroke: g.fill }, d), {}, { index: v, points: [Ur(g.cx, g.cy, g.outerRadius, y), b], key: "line" }); return A.createElement(ea, { zIndex: jr.label, key: "label-".concat(g.startAngle, "-").concat(g.endAngle, "-").concat(g.midAngle, "-").concat(v) }, A.createElement(Sr, null, i && mne(i, k), gne(a, _, Ft(g, s)))) }); return A.createElement(Sr, { className: "recharts-pie-labels" }, m) } function vne(e) { var { sectors: t, props: r, showLabels: n } = e, { label: a } = r; return typeof a == "object" && a != null && "position" in a ? A.createElement(sx, { label: a }) : A.createElement(xne, { sectors: t, props: r, showLabels: n }) } function yne(e) { var { sectors: t, activeShape: r, inactiveShape: n, allOtherPieProps: a, shape: i, id: s } = e, l = We(Uo), f = We(dE), d = We(CQ), { onMouseEnter: h, onClick: m, onMouseLeave: g } = a, v = dx(a, rne), y = SE(h, a.dataKey, s), b = EE(g), _ = kE(m, a.dataKey, s); return t == null || t.length === 0 ? null : A.createElement(A.Fragment, null, t.map((k, C) => { if ((k == null ? void 0 : k.startAngle) === 0 && (k == null ? void 0 : k.endAngle) === 0 && t.length !== 1) return null; var T = d == null || d === s, j = String(C) === l && (f == null || a.dataKey === f) && T, R = l ? n : null, O = r && j ? r : R, I = wr(wr({}, k), {}, { stroke: k.stroke, tabIndex: -1, [p3]: C, [m3]: s }); return A.createElement(Sr, Bo({ key: "sector-".concat(k == null ? void 0 : k.startAngle, "-").concat(k == null ? void 0 : k.endAngle, "-").concat(k.midAngle, "-").concat(C), tabIndex: -1, className: "recharts-pie-sector" }, f0(v, k, C), { onMouseEnter: y(k, C), onMouseLeave: b(k, C), onClick: _(k, C) }), A.createElement(_E, Bo({ option: i ?? O, index: C, shapeType: "sector", isActive: j }, I))) })) } function bne(e) { var t, { pieSettings: r, displayedData: n, cells: a, offset: i } = e, { cornerRadius: s, startAngle: l, endAngle: f, dataKey: d, nameKey: h, tooltipType: m } = r, g = Math.abs(r.minAngle), v = pne(l, f), y = Math.abs(v), b = n.length <= 1 ? 0 : (t = r.paddingAngle) !== null && t !== void 0 ? t : 0, _ = n.filter(O => Ft(O, d, 0) !== 0).length, k = (y >= 360 ? _ : _ - 1) * b, C = y - _ * g - k, T = n.reduce((O, I) => { var H = Ft(I, d, 0); return O + (ze(H) ? H : 0) }, 0), j; if (T > 0) { var R; j = n.map((O, I) => { var H = Ft(O, d, 0), F = Ft(O, h, I), X = hne(r, i, O), V = (ze(H) ? H : 0) / T, U, ee = wr(wr({}, O), a && a[I] && a[I].props); I ? U = R.endAngle + an(v) * b * (H !== 0 ? 1 : 0) : U = l; var re = U + an(v) * ((H !== 0 ? g : 0) + V * C), de = (U + re) / 2, D = (X.innerRadius + X.outerRadius) / 2, z = [{ name: F, value: H, payload: ee, dataKey: d, type: m, graphicalItemId: r.id }], ie = Ur(X.cx, X.cy, D, de); return R = wr(wr(wr(wr({}, r.presentationProps), {}, { percent: V, cornerRadius: typeof s == "string" ? parseFloat(s) : s, name: F, tooltipPayload: z, midAngle: de, middleRadius: D, tooltipPosition: ie }, ee), X), {}, { value: H, dataKey: d, startAngle: U, endAngle: re, payload: ee, paddingAngle: an(v) * b }), R }) } return j } function wne(e) { var { showLabels: t, sectors: r, children: n } = e, a = A.useMemo(() => !t || !r ? [] : r.map(i => ({ value: i.value, payload: i.payload, clockWise: !1, parentViewBox: void 0, viewBox: { cx: i.cx, cy: i.cy, innerRadius: i.innerRadius, outerRadius: i.outerRadius, startAngle: i.startAngle, endAngle: i.endAngle, clockWise: !1 }, fill: i.fill })), [r, t]); return A.createElement(tre, { value: t ? a : void 0 }, n) } function _ne(e) { var { props: t, previousSectorsRef: r, id: n } = e, { sectors: a, isAnimationActive: i, animationBegin: s, animationDuration: l, animationEasing: f, activeShape: d, inactiveShape: h, onAnimationStart: m, onAnimationEnd: g } = t, v = Hu(t, "recharts-pie-"), y = r.current, [b, _] = A.useState(!1), k = A.useCallback(() => { typeof g == "function" && g(), _(!1) }, [g]), C = A.useCallback(() => { typeof m == "function" && m(), _(!0) }, [m]); return A.createElement(wne, { showLabels: !b, sectors: a }, A.createElement(zu, { animationId: v, begin: s, duration: l, isActive: i, easing: f, onAnimationStart: C, onAnimationEnd: k, key: v }, T => { var j, R = [], O = a && a[0], I = (j = O == null ? void 0 : O.startAngle) !== null && j !== void 0 ? j : 0; return a == null || a.forEach((H, F) => { var X = y && y[F], V = F > 0 ? Wl(H, "paddingAngle", 0) : 0; if (X) { var U = Lt(X.endAngle - X.startAngle, H.endAngle - H.startAngle, T), ee = wr(wr({}, H), {}, { startAngle: I + V, endAngle: I + U + V }); R.push(ee), I = ee.endAngle } else { var { endAngle: re, startAngle: de } = H, D = Lt(0, re - de, T), z = wr(wr({}, H), {}, { startAngle: I + V, endAngle: I + D + V }); R.push(z), I = z.endAngle } }), r.current = R, A.createElement(Sr, null, A.createElement(yne, { sectors: R, activeShape: d, inactiveShape: h, allOtherPieProps: t, shape: t.shape, id: n })) }), A.createElement(vne, { showLabels: !b, sectors: a, props: t }), t.children) } var Sne = { animationBegin: 400, animationDuration: 1500, animationEasing: "ease", cx: "50%", cy: "50%", dataKey: "value", endAngle: 360, fill: "#808080", hide: !1, innerRadius: 0, isAnimationActive: "auto", label: !1, labelLine: !0, legendType: "rect", minAngle: 0, nameKey: "name", outerRadius: "80%", paddingAngle: 0, rootTabIndex: 0, startAngle: 0, stroke: "#fff", zIndex: jr.area }; function Ene(e) { var { id: t } = e, r = dx(e, nne), { hide: n, className: a, rootTabIndex: i } = e, s = A.useMemo(() => bE(e.children, Do), [e.children]), l = We(h => yre(h, t, s)), f = A.useRef(null), d = At("recharts-pie", a); return n || l == null ? (f.current = null, A.createElement(Sr, { tabIndex: i, className: d })) : A.createElement(ea, { zIndex: e.zIndex }, A.createElement(une, { dataKey: e.dataKey, nameKey: e.nameKey, sectors: l, stroke: e.stroke, strokeWidth: e.strokeWidth, fill: e.fill, name: e.name, hide: e.hide, tooltipType: e.tooltipType, id: t }), A.createElement(Sr, { tabIndex: i, className: d }, A.createElement(_ne, { props: wr(wr({}, r), {}, { sectors: l }), previousSectorsRef: f, id: t }))) } function u6(e) { var t = kr(e, Sne), { id: r } = t, n = dx(t, ane), a = Xn(n); return A.createElement(ux, { id: r, type: "pie" }, i => A.createElement(A.Fragment, null, A.createElement(ene, { type: "pie", id: i, data: n.data, dataKey: n.dataKey, hide: n.hide, angleAxisId: 0, radiusAxisId: 0, name: n.name, nameKey: n.nameKey, tooltipType: n.tooltipType, legendType: n.legendType, fill: n.fill, cx: n.cx, cy: n.cy, startAngle: n.startAngle, endAngle: n.endAngle, paddingAngle: n.paddingAngle, minAngle: n.minAngle, innerRadius: n.innerRadius, outerRadius: n.outerRadius, cornerRadius: n.cornerRadius, presentationProps: a, maxRadius: t.maxRadius }), A.createElement(cne, Bo({}, n, { id: i })), A.createElement(Ene, Bo({}, n, { id: i })))) } u6.displayName = "Pie"; var kne = ["points"]; function cR(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function S1(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? cR(Object(r), !0).forEach(function (n) { Tne(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : cR(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function Tne(e, t, r) { return (t = Nne(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function Nne(e) { var t = Ane(e, "string"); return typeof t == "symbol" ? t : t + "" } function Ane(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } function Hm() { return Hm = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, Hm.apply(null, arguments) } function Cne(e, t) { if (e == null) return {}; var r, n, a = jne(e, t); if (Object.getOwnPropertySymbols) { var i = Object.getOwnPropertySymbols(e); for (n = 0; n < i.length; n++)r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (a[r] = e[r]) } return a } function jne(e, t) { if (e == null) return {}; var r = {}; for (var n in e) if ({}.hasOwnProperty.call(e, n)) { if (t.indexOf(n) !== -1) continue; r[n] = e[n] } return r } function Ine(e) { var { option: t, dotProps: r, className: n } = e; if (A.isValidElement(t)) return A.cloneElement(t, r); if (typeof t == "function") return t(r); var a = At(n, typeof t != "boolean" ? t.className : ""), i = r ?? {}, { points: s } = i, l = Cne(i, kne); return A.createElement(r6, Hm({}, l, { className: a })) } function One(e, t) { return e == null ? !1 : t ? !0 : e.length === 1 } function d6(e) { var { points: t, dot: r, className: n, dotClassName: a, dataKey: i, baseProps: s, needClip: l, clipPathId: f, zIndex: d = jr.scatter } = e; if (!One(t, r)) return null; var h = wE(r), m = Yz(r), g = t.map((y, b) => { var _, k, C = S1(S1(S1({ r: 3 }, s), m), {}, { index: b, cx: (_ = y.x) !== null && _ !== void 0 ? _ : void 0, cy: (k = y.y) !== null && k !== void 0 ? k : void 0, dataKey: i, value: y.value, payload: y.payload, points: t }); return A.createElement(Ine, { key: "dot-".concat(b), option: r, dotProps: C, className: a }) }), v = {}; return l && f != null && (v.clipPath = "url(#clipPath-".concat(h ? "" : "dots-").concat(f, ")")), A.createElement(ea, { zIndex: d }, A.createElement(Sr, Hm({ className: n }, v), g)) } function uR(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function dR(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? uR(Object(r), !0).forEach(function (n) { Rne(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : uR(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function Rne(e, t, r) { return (t = Pne(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function Pne(e) { var t = Dne(e, "string"); return typeof t == "symbol" ? t : t + "" } function Dne(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } var f6 = 0, Mne = { xAxis: {}, yAxis: {}, zAxis: {} }, h6 = da({ name: "cartesianAxis", initialState: Mne, reducers: { addXAxis: { reducer(e, t) { e.xAxis[t.payload.id] = t.payload }, prepare: lr() }, replaceXAxis: { reducer(e, t) { var { prev: r, next: n } = t.payload; e.xAxis[r.id] !== void 0 && (r.id !== n.id && delete e.xAxis[r.id], e.xAxis[n.id] = n) }, prepare: lr() }, removeXAxis: { reducer(e, t) { delete e.xAxis[t.payload.id] }, prepare: lr() }, addYAxis: { reducer(e, t) { e.yAxis[t.payload.id] = t.payload }, prepare: lr() }, replaceYAxis: { reducer(e, t) { var { prev: r, next: n } = t.payload; e.yAxis[r.id] !== void 0 && (r.id !== n.id && delete e.yAxis[r.id], e.yAxis[n.id] = n) }, prepare: lr() }, removeYAxis: { reducer(e, t) { delete e.yAxis[t.payload.id] }, prepare: lr() }, addZAxis: { reducer(e, t) { e.zAxis[t.payload.id] = t.payload }, prepare: lr() }, replaceZAxis: { reducer(e, t) { var { prev: r, next: n } = t.payload; e.zAxis[r.id] !== void 0 && (r.id !== n.id && delete e.zAxis[r.id], e.zAxis[n.id] = n) }, prepare: lr() }, removeZAxis: { reducer(e, t) { delete e.zAxis[t.payload.id] }, prepare: lr() }, updateYAxisWidth(e, t) { var { id: r, width: n } = t.payload, a = e.yAxis[r]; if (a) { var i, s = a.widthHistory || []; if (s.length === 3 && s[0] === s[2] && n === s[1] && n !== a.width && Math.abs(n - ((i = s[0]) !== null && i !== void 0 ? i : 0)) <= 1) return; var l = [...s, n].slice(-3); e.yAxis[r] = dR(dR({}, a), {}, { width: n, widthHistory: l }) } } } }), { addXAxis: Lne, replaceXAxis: Fne, removeXAxis: Une, addYAxis: Bne, replaceYAxis: $ne, removeYAxis: zne, addZAxis: lEe, replaceZAxis: cEe, removeZAxis: uEe, updateYAxisWidth: Hne } = h6.actions, Gne = h6.reducer, Vne = xe([Wr], e => ({ top: e.top, bottom: e.bottom, left: e.left, right: e.right })), qne = xe([Vne, Fs, Us], (e, t, r) => { if (!(!e || t == null || r == null)) return { x: e.left, y: e.top, width: Math.max(0, t - e.left - e.right), height: Math.max(0, r - e.top - e.bottom) } }), fx = () => We(qne), Wne = () => We(PQ); function fR(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function E1(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? fR(Object(r), !0).forEach(function (n) { Kne(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : fR(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function Kne(e, t, r) { return (t = Yne(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function Yne(e) { var t = Xne(e, "string"); return typeof t == "symbol" ? t : t + "" } function Xne(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } var Jne = e => { var { point: t, childIndex: r, mainColor: n, activeDot: a, dataKey: i, clipPath: s } = e; if (a === !1 || t.x == null || t.y == null) return null; var l = { index: r, dataKey: i, cx: t.x, cy: t.y, r: 4, fill: n ?? "none", strokeWidth: 2, stroke: "#fff", payload: t.payload, value: t.value }, f = E1(E1(E1({}, l), Vl(a)), H_(a)), d; return A.isValidElement(a) ? d = A.cloneElement(a, f) : typeof a == "function" ? d = a(f) : d = A.createElement(r6, f), A.createElement(Sr, { className: "recharts-active-dot", clipPath: s }, d) }; function Yw(e) { var { points: t, mainColor: r, activeDot: n, itemDataKey: a, clipPath: i, zIndex: s = jr.activeDot } = e, l = We(Uo), f = Wne(); if (t == null || f == null) return null; var d = t.find(h => f.includes(h.payload)); return fr(d) ? null : A.createElement(ea, { zIndex: s }, A.createElement(Jne, { point: d, childIndex: Number(l), mainColor: r, dataKey: a, activeDot: n, clipPath: i })) } var hR = (e, t, r) => { var n = r ?? e; if (!fr(n)) return Mn(n, t, 0) }, Zne = (e, t, r) => { var n = {}, a = e.filter(Xg), i = e.filter(d => d.stackId == null), s = a.reduce((d, h) => { var m = d[h.stackId]; return m == null && (m = []), m.push(h), d[h.stackId] = m, d }, n), l = Object.entries(s).map(d => { var h, [m, g] = d, v = g.map(b => b.dataKey), y = hR(t, r, (h = g[0]) === null || h === void 0 ? void 0 : h.barSize); return { stackId: m, dataKeys: v, barSize: y } }), f = i.map(d => { var h = [d.dataKey].filter(g => g != null), m = hR(t, r, d.barSize); return { stackId: void 0, dataKeys: h, barSize: m } }); return [...l, ...f] }; function pR(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function vp(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? pR(Object(r), !0).forEach(function (n) { Qne(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : pR(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function Qne(e, t, r) { return (t = eae(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function eae(e) { var t = tae(e, "string"); return typeof t == "symbol" ? t : t + "" } function tae(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } function rae(e, t, r, n, a) { var i, s = n.length; if (!(s < 1)) { var l = Mn(e, r, 0, !0), f, d = []; if (xt((i = n[0]) === null || i === void 0 ? void 0 : i.barSize)) { var h = !1, m = r / s, g = n.reduce((C, T) => C + (T.barSize || 0), 0); g += (s - 1) * l, g >= r && (g -= (s - 1) * l, l = 0), g >= r && m > 0 && (h = !0, m *= .9, g = s * m); var v = (r - g) / 2 >> 0, y = { offset: v - l, size: 0 }; f = n.reduce((C, T) => { var j, R = { stackId: T.stackId, dataKeys: T.dataKeys, position: { offset: y.offset + y.size + l, size: h ? m : (j = T.barSize) !== null && j !== void 0 ? j : 0 } }, O = [...C, R]; return y = R.position, O }, d) } else { var b = Mn(t, r, 0, !0); r - 2 * b - (s - 1) * l <= 0 && (l = 0); var _ = (r - 2 * b - (s - 1) * l) / s; _ > 1 && (_ >>= 0); var k = xt(a) ? Math.min(_, a) : _; f = n.reduce((C, T, j) => [...C, { stackId: T.stackId, dataKeys: T.dataKeys, position: { offset: b + (_ + l) * j + (_ - k) / 2, size: k } }], d) } return f } } var nae = (e, t, r, n, a, i, s) => { var l = fr(s) ? t : s, f = rae(r, n, a !== i ? a : i, e, l); return a !== i && f != null && (f = f.map(d => vp(vp({}, d), {}, { position: vp(vp({}, d.position), {}, { offset: d.position.offset - a / 2 }) }))), f }, aae = (e, t) => { var r = Yg(t); if (!(!e || r == null || t == null)) { var { stackId: n } = t; if (n != null) { var a = e[n]; if (a) { var { stackedData: i } = a; if (i) return i.find(s => s.key === r) } } } }, iae = (e, t) => { if (!(e == null || t == null)) { var r = e.find(n => n.stackId === t.stackId && t.dataKey != null && n.dataKeys.includes(t.dataKey)); if (r != null) return r.position } }; function sae(e, t) { return e && typeof e == "object" && "zIndex" in e && typeof e.zIndex == "number" && xt(e.zIndex) ? e.zIndex : t } var p6 = e => { var { chartData: t } = e, r = rr(), n = on(); return A.useEffect(() => n ? () => { } : (r(bO(t)), () => { r(bO(void 0)) }), [t, r, n]), null }, mR = { x: 0, y: 0, width: 0, height: 0, padding: { top: 0, right: 0, bottom: 0, left: 0 } }, m6 = da({ name: "brush", initialState: mR, reducers: { setBrushSettings(e, t) { return t.payload == null ? mR : t.payload } } }), { setBrushSettings: dEe } = m6.actions, oae = m6.reducer; function lae(e) { return (e % 180 + 180) % 180 } var cae = function (t) { var { width: r, height: n } = t, a = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0, i = lae(a), s = i * Math.PI / 180, l = Math.atan(n / r), f = s > l && s < Math.PI - l ? n / Math.sin(s) : r / Math.cos(s); return Math.abs(f) }, uae = { dots: [], areas: [], lines: [] }, g6 = da({ name: "referenceElements", initialState: uae, reducers: { addDot: (e, t) => { e.dots.push(t.payload) }, removeDot: (e, t) => { var r = gi(e).dots.findIndex(n => n === t.payload); r !== -1 && e.dots.splice(r, 1) }, addArea: (e, t) => { e.areas.push(t.payload) }, removeArea: (e, t) => { var r = gi(e).areas.findIndex(n => n === t.payload); r !== -1 && e.areas.splice(r, 1) }, addLine: (e, t) => { e.lines.push(t.payload) }, removeLine: (e, t) => { var r = gi(e).lines.findIndex(n => n === t.payload); r !== -1 && e.lines.splice(r, 1) } } }), { addDot: fEe, removeDot: hEe, addArea: pEe, removeArea: mEe, addLine: gEe, removeLine: xEe } = g6.actions, dae = g6.reducer, fae = A.createContext(void 0), hae = e => { var { children: t } = e, [r] = A.useState("".concat(Ff("recharts"), "-clip")), n = fx(); if (n == null) return null; var { x: a, y: i, width: s, height: l } = n; return A.createElement(fae.Provider, { value: r }, A.createElement("defs", null, A.createElement("clipPath", { id: r }, A.createElement("rect", { x: a, y: i, height: l, width: s }))), t) }; function x6(e, t) { if (t < 1) return []; if (t === 1) return e; for (var r = [], n = 0; n < e.length; n += t) { var a = e[n]; a !== void 0 && r.push(a) } return r } function pae(e, t, r) { var n = { width: e.width + t.width, height: e.height + t.height }; return cae(n, r) } function mae(e, t, r) { var n = r === "width", { x: a, y: i, width: s, height: l } = e; return t === 1 ? { start: n ? a : i, end: n ? a + s : i + l } : { start: n ? a + s : i + l, end: n ? a : i } } function Zf(e, t, r, n, a) { if (e * t < e * n || e * t > e * a) return !1; var i = r(); return e * (t - e * i / 2 - n) >= 0 && e * (t + e * i / 2 - a) <= 0 } function gae(e, t) { return x6(e, t + 1) } function xae(e, t, r, n, a) { for (var i = (n || []).slice(), { start: s, end: l } = t, f = 0, d = 1, h = s, m = function () { var y = n == null ? void 0 : n[f]; if (y === void 0) return { v: x6(n, d) }; var b = f, _, k = () => (_ === void 0 && (_ = r(y, b)), _), C = y.coordinate, T = f === 0 || Zf(e, C, k, h, l); T || (f = 0, h = s, d += 1), T && (h = C + e * (k() / 2 + a), f += d) }, g; d <= i.length;)if (g = m(), g) return g.v; return [] } function vae(e, t, r, n, a) { var i = (n || []).slice(), s = i.length; if (s === 0) return []; for (var { start: l, end: f } = t, d = 1; d <= s; d++) { for (var h = (s - 1) % d, m = l, g = !0, v = function () { var j = n[b]; if (j == null) return 0; var R = b, O, I = () => (O === void 0 && (O = r(j, R)), O), H = j.coordinate, F = b === h || Zf(e, H, I, m, f); if (!F) return g = !1, 1; F && (m = H + e * (I() / 2 + a)) }, y, b = h; b < s && (y = v(), !(y !== 0 && y === 1)); b += d); if (g) { for (var _ = [], k = h; k < s; k += d) { var C = n[k]; C != null && _.push(C) } return _ } } return [] } function gR(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function jn(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? gR(Object(r), !0).forEach(function (n) { yae(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : gR(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function yae(e, t, r) { return (t = bae(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function bae(e) { var t = wae(e, "string"); return typeof t == "symbol" ? t : t + "" } function wae(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } function _ae(e, t, r, n, a) { for (var i = (n || []).slice(), s = i.length, { start: l } = t, { end: f } = t, d = function (g) { var v = i[g]; if (v == null) return 1; var y = v, b, _ = () => (b === void 0 && (b = r(v, g)), b); if (g === s - 1) { var k = e * (y.coordinate + e * _() / 2 - f); i[g] = y = jn(jn({}, y), {}, { tickCoord: k > 0 ? y.coordinate - k * e : y.coordinate }) } else i[g] = y = jn(jn({}, y), {}, { tickCoord: y.coordinate }); if (y.tickCoord != null) { var C = Zf(e, y.tickCoord, _, l, f); C && (f = y.tickCoord - e * (_() / 2 + a), i[g] = jn(jn({}, y), {}, { isShow: !0 })) } }, h = s - 1; h >= 0; h--)d(h); return i } function Sae(e, t, r, n, a, i) { var s = (n || []).slice(), l = s.length, { start: f, end: d } = t; if (i) { var h = n[l - 1]; if (h != null) { var m = r(h, l - 1), g = e * (h.coordinate + e * m / 2 - d); if (s[l - 1] = h = jn(jn({}, h), {}, { tickCoord: g > 0 ? h.coordinate - g * e : h.coordinate }), h.tickCoord != null) { var v = Zf(e, h.tickCoord, () => m, f, d); v && (d = h.tickCoord - e * (m / 2 + a), s[l - 1] = jn(jn({}, h), {}, { isShow: !0 })) } } } for (var y = i ? l - 1 : l, b = function (C) { var T = s[C]; if (T == null) return 1; var j = T, R, O = () => (R === void 0 && (R = r(T, C)), R); if (C === 0) { var I = e * (j.coordinate - e * O() / 2 - f); s[C] = j = jn(jn({}, j), {}, { tickCoord: I < 0 ? j.coordinate - I * e : j.coordinate }) } else s[C] = j = jn(jn({}, j), {}, { tickCoord: j.coordinate }); if (j.tickCoord != null) { var H = Zf(e, j.tickCoord, O, f, d); H && (f = j.tickCoord + e * (O() / 2 + a), s[C] = jn(jn({}, j), {}, { isShow: !0 })) } }, _ = 0; _ < y; _++)b(_); return s } function AE(e, t, r) { var { tick: n, ticks: a, viewBox: i, minTickGap: s, orientation: l, interval: f, tickFormatter: d, unit: h, angle: m } = e; if (!a || !a.length || !n) return []; if (ze(f) || v0.isSsr) { var g; return (g = gae(a, ze(f) ? f : 0)) !== null && g !== void 0 ? g : [] } var v = [], y = l === "top" || l === "bottom" ? "width" : "height", b = h && y === "width" ? wf(h, { fontSize: t, letterSpacing: r }) : { width: 0, height: 0 }, _ = (R, O) => { var I = typeof d == "function" ? d(R.value, O) : R.value; return y === "width" ? pae(wf(I, { fontSize: t, letterSpacing: r }), b, m) : wf(I, { fontSize: t, letterSpacing: r })[y] }, k = a[0], C = a[1], T = a.length >= 2 && k != null && C != null ? an(C.coordinate - k.coordinate) : 1, j = mae(i, T, y); return f === "equidistantPreserveStart" ? xae(T, j, _, a, s) : f === "equidistantPreserveEnd" ? vae(T, j, _, a, s) : (f === "preserveStart" || f === "preserveStartEnd" ? v = Sae(T, j, _, a, s, f === "preserveStartEnd") : v = _ae(T, j, _, a, s), v.filter(R => R.isShow)) } var Eae = e => { var { ticks: t, label: r, labelGapWithTick: n = 5, tickSize: a = 0, tickMargin: i = 0 } = e, s = 0; if (t) { Array.from(t).forEach(h => { if (h) { var m = h.getBoundingClientRect(); m.width > s && (s = m.width) } }); var l = r ? r.getBoundingClientRect().width : 0, f = a + i, d = s + f + l + (r ? n : 0); return Math.round(d) } return 0 }, kae = ["axisLine", "width", "height", "className", "hide", "ticks", "axisType"]; function Tae(e, t) { if (e == null) return {}; var r, n, a = Nae(e, t); if (Object.getOwnPropertySymbols) { var i = Object.getOwnPropertySymbols(e); for (n = 0; n < i.length; n++)r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (a[r] = e[r]) } return a } function Nae(e, t) { if (e == null) return {}; var r = {}; for (var n in e) if ({}.hasOwnProperty.call(e, n)) { if (t.indexOf(n) !== -1) continue; r[n] = e[n] } return r } function Ql() { return Ql = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, Ql.apply(null, arguments) } function xR(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function yr(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? xR(Object(r), !0).forEach(function (n) { Aae(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : xR(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function Aae(e, t, r) { return (t = Cae(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function Cae(e) { var t = jae(e, "string"); return typeof t == "symbol" ? t : t + "" } function jae(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } var ks = { x: 0, y: 0, width: 0, height: 0, viewBox: { x: 0, y: 0, width: 0, height: 0 }, orientation: "bottom", ticks: [], stroke: "#666", tickLine: !0, axisLine: !0, tick: !0, mirror: !1, minTickGap: 5, tickSize: 6, tickMargin: 2, interval: "preserveEnd", zIndex: jr.axis }; function Iae(e) { var { x: t, y: r, width: n, height: a, orientation: i, mirror: s, axisLine: l, otherSvgProps: f } = e; if (!l) return null; var d = yr(yr(yr({}, f), Xn(l)), {}, { fill: "none" }); if (i === "top" || i === "bottom") { var h = +(i === "top" && !s || i === "bottom" && s); d = yr(yr({}, d), {}, { x1: t, y1: r + h * a, x2: t + n, y2: r + h * a }) } else { var m = +(i === "left" && !s || i === "right" && s); d = yr(yr({}, d), {}, { x1: t + m * n, y1: r, x2: t + m * n, y2: r + a }) } return A.createElement("line", Ql({}, d, { className: At("recharts-cartesian-axis-line", Wl(l, "className")) })) } function Oae(e, t, r, n, a, i, s, l, f) { var d, h, m, g, v, y, b = l ? -1 : 1, _ = e.tickSize || s, k = ze(e.tickCoord) ? e.tickCoord : e.coordinate; switch (i) { case "top": d = h = e.coordinate, g = r + +!l * a, m = g - b * _, y = m - b * f, v = k; break; case "left": m = g = e.coordinate, h = t + +!l * n, d = h - b * _, v = d - b * f, y = k; break; case "right": m = g = e.coordinate, h = t + +l * n, d = h + b * _, v = d + b * f, y = k; break; default: d = h = e.coordinate, g = r + +l * a, m = g + b * _, y = m + b * f, v = k; break }return { line: { x1: d, y1: m, x2: h, y2: g }, tick: { x: v, y } } } function Rae(e, t) { switch (e) { case "left": return t ? "start" : "end"; case "right": return t ? "end" : "start"; default: return "middle" } } function Pae(e, t) { switch (e) { case "left": case "right": return "middle"; case "top": return t ? "start" : "end"; default: return t ? "end" : "start" } } function Dae(e) { var { option: t, tickProps: r, value: n } = e, a, i = At(r.className, "recharts-cartesian-axis-tick-value"); if (A.isValidElement(t)) a = A.cloneElement(t, yr(yr({}, r), {}, { className: i })); else if (typeof t == "function") a = t(yr(yr({}, r), {}, { className: i })); else { var s = "recharts-cartesian-axis-tick-value"; typeof t != "boolean" && (s = At(s, s6(t))), a = A.createElement(ix, Ql({}, r, { className: s }), n) } return a } var Mae = A.forwardRef((e, t) => { var { ticks: r = [], tick: n, tickLine: a, stroke: i, tickFormatter: s, unit: l, padding: f, tickTextProps: d, orientation: h, mirror: m, x: g, y: v, width: y, height: b, tickSize: _, tickMargin: k, fontSize: C, letterSpacing: T, getTicksConfig: j, events: R, axisType: O } = e, I = AE(yr(yr({}, j), {}, { ticks: r }), C, T), H = Rae(h, m), F = Pae(h, m), X = Xn(j), V = Vl(n), U = {}; typeof a == "object" && (U = a); var ee = yr(yr({}, X), {}, { fill: "none" }, U), re = I.map(z => yr({ entry: z }, Oae(z, g, v, y, b, h, _, m, k))), de = re.map(z => { var { entry: ie, line: M } = z; return A.createElement(Sr, { className: "recharts-cartesian-axis-tick", key: "tick-".concat(ie.value, "-").concat(ie.coordinate, "-").concat(ie.tickCoord) }, a && A.createElement("line", Ql({}, ee, M, { className: At("recharts-cartesian-axis-tick-line", Wl(a, "className")) }))) }), D = re.map((z, ie) => { var M, te, { entry: G, tick: P } = z, W = yr(yr(yr(yr({ verticalAnchor: F }, X), {}, { textAnchor: H, stroke: "none", fill: i }, P), {}, { index: ie, payload: G, visibleTicksCount: I.length, tickFormatter: s, padding: f }, d), {}, { angle: (M = (te = d == null ? void 0 : d.angle) !== null && te !== void 0 ? te : X.angle) !== null && M !== void 0 ? M : 0 }), J = yr(yr({}, W), V); return A.createElement(Sr, Ql({ className: "recharts-cartesian-axis-tick-label", key: "tick-label-".concat(G.value, "-").concat(G.coordinate, "-").concat(G.tickCoord) }, f0(R, G, ie)), n && A.createElement(Dae, { option: n, tickProps: J, value: "".concat(typeof s == "function" ? s(G.value, ie) : G.value).concat(l || "") })) }); return A.createElement("g", { className: "recharts-cartesian-axis-ticks recharts-".concat(O, "-ticks") }, D.length > 0 && A.createElement(ea, { zIndex: jr.label }, A.createElement("g", { className: "recharts-cartesian-axis-tick-labels recharts-".concat(O, "-tick-labels"), ref: t }, D)), de.length > 0 && A.createElement("g", { className: "recharts-cartesian-axis-tick-lines recharts-".concat(O, "-tick-lines") }, de)) }), Lae = A.forwardRef((e, t) => { var { axisLine: r, width: n, height: a, className: i, hide: s, ticks: l, axisType: f } = e, d = Tae(e, kae), [h, m] = A.useState(""), [g, v] = A.useState(""), y = A.useRef(null); A.useImperativeHandle(t, () => ({ getCalculatedWidth: () => { var _; return Eae({ ticks: y.current, label: (_ = e.labelRef) === null || _ === void 0 ? void 0 : _.current, labelGapWithTick: 5, tickSize: e.tickSize, tickMargin: e.tickMargin }) } })); var b = A.useCallback(_ => { if (_) { var k = _.getElementsByClassName("recharts-cartesian-axis-tick-value"); y.current = k; var C = k[0]; if (C) { var T = window.getComputedStyle(C), j = T.fontSize, R = T.letterSpacing; (j !== h || R !== g) && (m(j), v(R)) } } }, [h, g]); return s || n != null && n <= 0 || a != null && a <= 0 ? null : A.createElement(ea, { zIndex: e.zIndex }, A.createElement(Sr, { className: At("recharts-cartesian-axis", i) }, A.createElement(Iae, { x: e.x, y: e.y, width: n, height: a, orientation: e.orientation, mirror: e.mirror, axisLine: r, otherSvgProps: Xn(e) }), A.createElement(Mae, { ref: b, axisType: f, events: d, fontSize: h, getTicksConfig: e, height: e.height, letterSpacing: g, mirror: e.mirror, orientation: e.orientation, padding: e.padding, stroke: e.stroke, tick: e.tick, tickFormatter: e.tickFormatter, tickLine: e.tickLine, tickMargin: e.tickMargin, tickSize: e.tickSize, tickTextProps: e.tickTextProps, ticks: l, unit: e.unit, width: e.width, x: e.x, y: e.y }), A.createElement(Pte, { x: e.x, y: e.y, width: e.width, height: e.height, lowerWidth: e.width, upperWidth: e.width }, A.createElement(Gte, { label: e.label, labelRef: e.labelRef }), e.children))) }), CE = A.forwardRef((e, t) => { var r = kr(e, ks); return A.createElement(Lae, Ql({}, r, { ref: t })) }); CE.displayName = "CartesianAxis"; var Fae = ["x1", "y1", "x2", "y2", "key"], Uae = ["offset"], Bae = ["xAxisId", "yAxisId"], $ae = ["xAxisId", "yAxisId"]; function vR(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function On(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? vR(Object(r), !0).forEach(function (n) { zae(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : vR(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function zae(e, t, r) { return (t = Hae(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function Hae(e) { var t = Gae(e, "string"); return typeof t == "symbol" ? t : t + "" } function Gae(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } function Dl() { return Dl = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, Dl.apply(null, arguments) } function Gm(e, t) { if (e == null) return {}; var r, n, a = Vae(e, t); if (Object.getOwnPropertySymbols) { var i = Object.getOwnPropertySymbols(e); for (n = 0; n < i.length; n++)r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (a[r] = e[r]) } return a } function Vae(e, t) { if (e == null) return {}; var r = {}; for (var n in e) if ({}.hasOwnProperty.call(e, n)) { if (t.indexOf(n) !== -1) continue; r[n] = e[n] } return r } var qae = e => { var { fill: t } = e; if (!t || t === "none") return null; var { fillOpacity: r, x: n, y: a, width: i, height: s, ry: l } = e; return A.createElement("rect", { x: n, y: a, ry: l, width: i, height: s, stroke: "none", fill: t, fillOpacity: r, className: "recharts-cartesian-grid-bg" }) }; function v6(e) { var { option: t, lineItemProps: r } = e, n; if (A.isValidElement(t)) n = A.cloneElement(t, r); else if (typeof t == "function") n = t(r); else { var a, { x1: i, y1: s, x2: l, y2: f, key: d } = r, h = Gm(r, Fae), m = (a = Xn(h)) !== null && a !== void 0 ? a : {}, { offset: g } = m, v = Gm(m, Uae); n = A.createElement("line", Dl({}, v, { x1: i, y1: s, x2: l, y2: f, fill: "none", key: d })) } return n } function Wae(e) { var { x: t, width: r, horizontal: n = !0, horizontalPoints: a } = e; if (!n || !a || !a.length) return null; var { xAxisId: i, yAxisId: s } = e, l = Gm(e, Bae), f = a.map((d, h) => { var m = On(On({}, l), {}, { x1: t, y1: d, x2: t + r, y2: d, key: "line-".concat(h), index: h }); return A.createElement(v6, { key: "line-".concat(h), option: n, lineItemProps: m }) }); return A.createElement("g", { className: "recharts-cartesian-grid-horizontal" }, f) } function Kae(e) { var { y: t, height: r, vertical: n = !0, verticalPoints: a } = e; if (!n || !a || !a.length) return null; var { xAxisId: i, yAxisId: s } = e, l = Gm(e, $ae), f = a.map((d, h) => { var m = On(On({}, l), {}, { x1: d, y1: t, x2: d, y2: t + r, key: "line-".concat(h), index: h }); return A.createElement(v6, { option: n, lineItemProps: m, key: "line-".concat(h) }) }); return A.createElement("g", { className: "recharts-cartesian-grid-vertical" }, f) } function Yae(e) { var { horizontalFill: t, fillOpacity: r, x: n, y: a, width: i, height: s, horizontalPoints: l, horizontal: f = !0 } = e; if (!f || !t || !t.length || l == null) return null; var d = l.map(m => Math.round(m + a - a)).sort((m, g) => m - g); a !== d[0] && d.unshift(0); var h = d.map((m, g) => { var v = d[g + 1], y = v == null, b = y ? a + s - m : v - m; if (b <= 0) return null; var _ = g % t.length; return A.createElement("rect", { key: "react-".concat(g), y: m, x: n, height: b, width: i, stroke: "none", fill: t[_], fillOpacity: r, className: "recharts-cartesian-grid-bg" }) }); return A.createElement("g", { className: "recharts-cartesian-gridstripes-horizontal" }, h) } function Xae(e) { var { vertical: t = !0, verticalFill: r, fillOpacity: n, x: a, y: i, width: s, height: l, verticalPoints: f } = e; if (!t || !r || !r.length) return null; var d = f.map(m => Math.round(m + a - a)).sort((m, g) => m - g); a !== d[0] && d.unshift(0); var h = d.map((m, g) => { var v = d[g + 1], y = v == null, b = y ? a + s - m : v - m; if (b <= 0) return null; var _ = g % r.length; return A.createElement("rect", { key: "react-".concat(g), x: m, y: i, width: b, height: l, stroke: "none", fill: r[_], fillOpacity: n, className: "recharts-cartesian-grid-bg" }) }); return A.createElement("g", { className: "recharts-cartesian-gridstripes-vertical" }, h) } var Jae = (e, t) => { var { xAxis: r, width: n, height: a, offset: i } = e; return u3(AE(On(On(On({}, ks), r), {}, { ticks: d3(r), viewBox: { x: 0, y: 0, width: n, height: a } })), i.left, i.left + i.width, t) }, Zae = (e, t) => { var { yAxis: r, width: n, height: a, offset: i } = e; return u3(AE(On(On(On({}, ks), r), {}, { ticks: d3(r), viewBox: { x: 0, y: 0, width: n, height: a } })), i.top, i.top + i.height, t) }, Qae = { horizontal: !0, vertical: !0, horizontalPoints: [], verticalPoints: [], stroke: "#ccc", fill: "none", verticalFill: [], horizontalFill: [], xAxisId: 0, yAxisId: 0, syncWithTicks: !1, zIndex: jr.grid }; function Ml(e) { var t = rS(), r = nS(), n = y3(), a = On(On({}, kr(e, Qae)), {}, { x: ze(e.x) ? e.x : n.left, y: ze(e.y) ? e.y : n.top, width: ze(e.width) ? e.width : n.width, height: ze(e.height) ? e.height : n.height }), { xAxisId: i, yAxisId: s, x: l, y: f, width: d, height: h, syncWithTicks: m, horizontalValues: g, verticalValues: v } = a, y = on(), b = We(F => lO(F, "xAxis", i, y)), _ = We(F => lO(F, "yAxis", s, y)); if (!Gi(d) || !Gi(h) || !ze(l) || !ze(f)) return null; var k = a.verticalCoordinatesGenerator || Jae, C = a.horizontalCoordinatesGenerator || Zae, { horizontalPoints: T, verticalPoints: j } = a; if ((!T || !T.length) && typeof C == "function") { var R = g && g.length, O = C({ yAxis: _ ? On(On({}, _), {}, { ticks: R ? g : _.ticks }) : void 0, width: t ?? d, height: r ?? h, offset: n }, R ? !0 : m); mm(Array.isArray(O), "horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O, "]")), Array.isArray(O) && (T = O) } if ((!j || !j.length) && typeof k == "function") { var I = v && v.length, H = k({ xAxis: b ? On(On({}, b), {}, { ticks: I ? v : b.ticks }) : void 0, width: t ?? d, height: r ?? h, offset: n }, I ? !0 : m); mm(Array.isArray(H), "verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof H, "]")), Array.isArray(H) && (j = H) } return A.createElement(ea, { zIndex: a.zIndex }, A.createElement("g", { className: "recharts-cartesian-grid" }, A.createElement(qae, { fill: a.fill, fillOpacity: a.fillOpacity, x: a.x, y: a.y, width: a.width, height: a.height, ry: a.ry }), A.createElement(Yae, Dl({}, a, { horizontalPoints: T })), A.createElement(Xae, Dl({}, a, { verticalPoints: j })), A.createElement(Wae, Dl({}, a, { offset: n, horizontalPoints: T, xAxis: b, yAxis: _ })), A.createElement(Kae, Dl({}, a, { offset: n, verticalPoints: j, xAxis: b, yAxis: _ })))) } Ml.displayName = "CartesianGrid"; var eie = {}, y6 = da({ name: "errorBars", initialState: eie, reducers: { addErrorBar: (e, t) => { var { itemId: r, errorBar: n } = t.payload; e[r] || (e[r] = []), e[r].push(n) }, replaceErrorBar: (e, t) => { var { itemId: r, prev: n, next: a } = t.payload; e[r] && (e[r] = e[r].map(i => i.dataKey === n.dataKey && i.direction === n.direction ? a : i)) }, removeErrorBar: (e, t) => { var { itemId: r, errorBar: n } = t.payload; e[r] && (e[r] = e[r].filter(a => a.dataKey !== n.dataKey || a.direction !== n.direction)) } } }), { addErrorBar: vEe, replaceErrorBar: yEe, removeErrorBar: bEe } = y6.actions, tie = y6.reducer, rie = ["children"]; function nie(e, t) { if (e == null) return {}; var r, n, a = aie(e, t); if (Object.getOwnPropertySymbols) { var i = Object.getOwnPropertySymbols(e); for (n = 0; n < i.length; n++)r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (a[r] = e[r]) } return a } function aie(e, t) { if (e == null) return {}; var r = {}; for (var n in e) if ({}.hasOwnProperty.call(e, n)) { if (t.indexOf(n) !== -1) continue; r[n] = e[n] } return r } var iie = { data: [], xAxisId: "xAxis-0", yAxisId: "yAxis-0", dataPointFormatter: () => ({ x: 0, y: 0, value: 0 }), errorBarOffset: 0 }, sie = A.createContext(iie); function b6(e) { var { children: t } = e, r = nie(e, rie); return A.createElement(sie.Provider, { value: r }, t) } function hx(e, t) { var r, n, a = We(d => zs(d, e)), i = We(d => Hs(d, t)), s = (r = a == null ? void 0 : a.allowDataOverflow) !== null && r !== void 0 ? r : en.allowDataOverflow, l = (n = i == null ? void 0 : i.allowDataOverflow) !== null && n !== void 0 ? n : tn.allowDataOverflow, f = s || l; return { needClip: f, needClipX: s, needClipY: l } } function jE(e) { var { xAxisId: t, yAxisId: r, clipPathId: n } = e, a = fx(), { needClipX: i, needClipY: s, needClip: l } = hx(t, r); if (!l || !a) return null; var { x: f, y: d, width: h, height: m } = a; return A.createElement("clipPath", { id: "clipPath-".concat(n) }, A.createElement("rect", { x: i ? f : f - h / 2, y: s ? d : d - m / 2, width: i ? h : h * 2, height: s ? m : m * 2 })) } var w6 = (e, t, r, n) => Wi(e, "xAxis", t, n), _6 = (e, t, r, n) => qi(e, "xAxis", t, n), S6 = (e, t, r, n) => Wi(e, "yAxis", r, n), E6 = (e, t, r, n) => qi(e, "yAxis", r, n), oie = xe([Et, w6, S6, _6, E6], (e, t, r, n, a) => Ei(e, "xAxis") ? Fo(t, n, !1) : Fo(r, a, !1)), lie = (e, t, r, n, a) => a; function cie(e) { return e.type === "line" } var uie = xe([k0, lie], (e, t) => e.filter(cie).find(r => r.id === t)), die = xe([Et, w6, S6, _6, E6, uie, oie, jS], (e, t, r, n, a, i, s, l) => { var { chartData: f, dataStartIndex: d, dataEndIndex: h } = l; if (!(i == null || t == null || r == null || n == null || a == null || n.length === 0 || a.length === 0 || s == null || e !== "horizontal" && e !== "vertical")) { var { dataKey: m, data: g } = i, v; if (g != null && g.length > 0 ? v = g : v = f == null ? void 0 : f.slice(d, h + 1), v != null) return Yie({ layout: e, xAxis: t, yAxis: r, xAxisTicks: n, yAxisTicks: a, dataKey: m, bandSize: s, displayedData: v }) } }); function k6(e) { var t = Vl(e), r = 3, n = 2; if (t != null) { var { r: a, strokeWidth: i } = t, s = Number(a), l = Number(i); return (Number.isNaN(s) || s < 0) && (s = r), (Number.isNaN(l) || l < 0) && (l = n), { r: s, strokeWidth: l } } return { r, strokeWidth: n } } var k1 = { exports: {} }, T1 = {};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yR; function fie() { if (yR) return T1; yR = 1; var e = nc(); function t(f, d) { return f === d && (f !== 0 || 1 / f === 1 / d) || f !== f && d !== d } var r = typeof Object.is == "function" ? Object.is : t, n = e.useSyncExternalStore, a = e.useRef, i = e.useEffect, s = e.useMemo, l = e.useDebugValue; return T1.useSyncExternalStoreWithSelector = function (f, d, h, m, g) { var v = a(null); if (v.current === null) { var y = { hasValue: !1, value: null }; v.current = y } else y = v.current; v = s(function () { function _(R) { if (!k) { if (k = !0, C = R, R = m(R), g !== void 0 && y.hasValue) { var O = y.value; if (g(O, R)) return T = O } return T = R } if (O = T, r(C, R)) return O; var I = m(R); return g !== void 0 && g(O, I) ? (C = R, O) : (C = R, T = I) } var k = !1, C, T, j = h === void 0 ? null : h; return [function () { return _(d()) }, j === null ? void 0 : function () { return _(j()) }] }, [d, h, m, g]); var b = n(f, v[0], v[1]); return i(function () { y.hasValue = !0, y.value = b }, [b]), l(b), b }, T1 } var bR; function hie() { return bR || (bR = 1, k1.exports = fie()), k1.exports } hie(); function pie(e) { e() } function mie() { let e = null, t = null; return { clear() { e = null, t = null }, notify() { pie(() => { let r = e; for (; r;)r.callback(), r = r.next }) }, get() { const r = []; let n = e; for (; n;)r.push(n), n = n.next; return r }, subscribe(r) { let n = !0; const a = t = { callback: r, next: null, prev: t }; return a.prev ? a.prev.next = a : e = a, function () { !n || e === null || (n = !1, a.next ? a.next.prev = a.prev : t = a.prev, a.prev ? a.prev.next = a.next : e = a.next) } } } } var wR = { notify() { }, get: () => [] }; function gie(e, t) { let r, n = wR, a = 0, i = !1; function s(b) { h(); const _ = n.subscribe(b); let k = !1; return () => { k || (k = !0, _(), m()) } } function l() { n.notify() } function f() { y.onStateChange && y.onStateChange() } function d() { return i } function h() { a++, r || (r = e.subscribe(f), n = mie()) } function m() { a--, r && a === 0 && (r(), r = void 0, n.clear(), n = wR) } function g() { i || (i = !0, h()) } function v() { i && (i = !1, m()) } const y = { addNestedSub: s, notifyNestedSubs: l, handleChangeWrapper: f, isSubscribed: d, trySubscribe: g, tryUnsubscribe: v, getListeners: () => n }; return y } var xie = () => typeof window < "u" && typeof window.document < "u" && typeof window.document.createElement < "u", vie = xie(), yie = () => typeof navigator < "u" && navigator.product === "ReactNative", bie = yie(), wie = () => vie || bie ? A.useLayoutEffect : A.useEffect, _ie = wie(); function _R(e, t) { return e === t ? e !== 0 || t !== 0 || 1 / e === 1 / t : e !== e && t !== t } function Sie(e, t) { if (_R(e, t)) return !0; if (typeof e != "object" || e === null || typeof t != "object" || t === null) return !1; const r = Object.keys(e), n = Object.keys(t); if (r.length !== n.length) return !1; for (let a = 0; a < r.length; a++)if (!Object.prototype.hasOwnProperty.call(t, r[a]) || !_R(e[r[a]], t[r[a]])) return !1; return !0 } var N1 = Symbol.for("react-redux-context"), A1 = typeof globalThis < "u" ? globalThis : {}; function Eie() { if (!A.createContext) return {}; const e = A1[N1] ?? (A1[N1] = new Map); let t = e.get(A.createContext); return t || (t = A.createContext(null), e.set(A.createContext, t)), t } var kie = Eie(); function Tie(e) { const { children: t, context: r, serverState: n, store: a } = e, i = A.useMemo(() => { const f = gie(a); return { store: a, subscription: f, getServerState: n ? () => n : void 0 } }, [a, n]), s = A.useMemo(() => a.getState(), [a]); _ie(() => { const { subscription: f } = i; return f.onStateChange = f.notifyNestedSubs, f.trySubscribe(), s !== a.getState() && f.notifyNestedSubs(), () => { f.tryUnsubscribe(), f.onStateChange = void 0 } }, [i, s]); const l = r || kie; return A.createElement(l.Provider, { value: i }, t) } var Nie = Tie, Aie = new Set(["axisLine", "tickLine", "activeBar", "activeDot", "activeLabel", "activeShape", "allowEscapeViewBox", "background", "cursor", "dot", "label", "line", "margin", "padding", "position", "shape", "style", "tick", "wrapperStyle", "radius"]); function Cie(e, t) { return e == null && t == null ? !0 : typeof e == "number" && typeof t == "number" ? e === t || e !== e && t !== t : e === t } function I0(e, t) { var r = new Set([...Object.keys(e), ...Object.keys(t)]); for (var n of r) if (Aie.has(n)) { if (e[n] == null && t[n] == null) continue; if (!Sie(e[n], t[n])) return !1 } else if (!Cie(e[n], t[n])) return !1; return !0 } var jie = ["id"], Iie = ["type", "layout", "connectNulls", "needClip", "shape"], Oie = ["activeDot", "animateNewValues", "animationBegin", "animationDuration", "animationEasing", "connectNulls", "dot", "hide", "isAnimationActive", "label", "legendType", "xAxisId", "yAxisId", "id"]; function Qf() { return Qf = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, Qf.apply(null, arguments) } function SR(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function Ui(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? SR(Object(r), !0).forEach(function (n) { Rie(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : SR(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function Rie(e, t, r) { return (t = Pie(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function Pie(e) { var t = Die(e, "string"); return typeof t == "symbol" ? t : t + "" } function Die(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } function IE(e, t) { if (e == null) return {}; var r, n, a = Mie(e, t); if (Object.getOwnPropertySymbols) { var i = Object.getOwnPropertySymbols(e); for (n = 0; n < i.length; n++)r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (a[r] = e[r]) } return a } function Mie(e, t) { if (e == null) return {}; var r = {}; for (var n in e) if ({}.hasOwnProperty.call(e, n)) { if (t.indexOf(n) !== -1) continue; r[n] = e[n] } return r } var Lie = e => { var { dataKey: t, name: r, stroke: n, legendType: a, hide: i } = e; return [{ inactive: i, dataKey: t, type: a, color: n, value: Go(r, t), payload: e }] }, Fie = A.memo(e => { var { dataKey: t, data: r, stroke: n, strokeWidth: a, fill: i, name: s, hide: l, unit: f, tooltipType: d, id: h } = e, m = { dataDefinedOnItem: r, getPosition: Ho, settings: { stroke: n, strokeWidth: a, fill: i, dataKey: t, nameKey: void 0, name: Go(s, t), hide: l, type: d, color: n, unit: f, graphicalItemId: h } }; return A.createElement(cx, { tooltipEntrySettings: m }) }), T6 = (e, t) => "".concat(t, "px ").concat(e - t, "px"); function Uie(e, t) { for (var r = e.length % 2 !== 0 ? [...e, 0] : e, n = [], a = 0; a < t; ++a)n = [...n, ...r]; return n } var Bie = (e, t, r) => { var n = r.reduce((v, y) => v + y); if (!n) return T6(t, e); for (var a = Math.floor(e / n), i = e % n, s = t - e, l = [], f = 0, d = 0; f < r.length; d += (h = r[f]) !== null && h !== void 0 ? h : 0, ++f) { var h, m = r[f]; if (m != null && d + m > i) { l = [...r.slice(0, f), i - d]; break } } var g = l.length % 2 === 0 ? [0, s] : [s]; return [...Uie(r, a), ...l, ...g].map(v => "".concat(v, "px")).join(", ") }; function $ie(e) { var { clipPathId: t, points: r, props: n } = e, { dot: a, dataKey: i, needClip: s } = n, { id: l } = n, f = IE(n, jie), d = Xn(f); return A.createElement(d6, { points: r, dot: a, className: "recharts-line-dots", dotClassName: "recharts-line-dot", dataKey: i, baseProps: d, needClip: s, clipPathId: t }) } function zie(e) { var { showLabels: t, children: r, points: n } = e, a = A.useMemo(() => n == null ? void 0 : n.map(i => { var s, l, f = { x: (s = i.x) !== null && s !== void 0 ? s : 0, y: (l = i.y) !== null && l !== void 0 ? l : 0, width: 0, lowerWidth: 0, upperWidth: 0, height: 0 }; return Ui(Ui({}, f), {}, { value: i.value, payload: i.payload, viewBox: f, parentViewBox: void 0, fill: void 0 }) }), [n]); return A.createElement(xE, { value: t ? a : void 0 }, r) } function ER(e) { var { clipPathId: t, pathRef: r, points: n, strokeDasharray: a, props: i } = e, { type: s, layout: l, connectNulls: f, needClip: d, shape: h } = i, m = IE(i, Iie), g = Ui(Ui({}, Fn(m)), {}, { fill: "none", className: "recharts-line-curve", clipPath: d ? "url(#clipPath-".concat(t, ")") : void 0, points: n, type: s, layout: l, connectNulls: f, strokeDasharray: a ?? i.strokeDasharray }); return A.createElement(A.Fragment, null, (n == null ? void 0 : n.length) > 1 && A.createElement(_E, Qf({ shapeType: "curve", option: h }, g, { pathRef: r })), A.createElement($ie, { points: n, clipPathId: t, props: i })) } function Hie(e) { try { return e && e.getTotalLength && e.getTotalLength() || 0 } catch { return 0 } } function Gie(e) { var { clipPathId: t, props: r, pathRef: n, previousPointsRef: a, longestAnimatedLengthRef: i } = e, { points: s, strokeDasharray: l, isAnimationActive: f, animationBegin: d, animationDuration: h, animationEasing: m, animateNewValues: g, width: v, height: y, onAnimationEnd: b, onAnimationStart: _ } = r, k = a.current, C = Hu(s, "recharts-line-"), T = A.useRef(C), [j, R] = A.useState(!1), O = !j, I = A.useCallback(() => { typeof b == "function" && b(), R(!1) }, [b]), H = A.useCallback(() => { typeof _ == "function" && _(), R(!0) }, [_]), F = Hie(n.current), X = A.useRef(0); T.current !== C && (X.current = i.current, T.current = C); var V = X.current; return A.createElement(zie, { points: s, showLabels: O }, r.children, A.createElement(zu, { animationId: C, begin: d, duration: h, isActive: f, easing: m, onAnimationEnd: I, onAnimationStart: H, key: C }, U => { var ee = Lt(V, F + V, U), re = Math.min(ee, F), de; if (f) if (l) { var D = "".concat(l).split(/[,\s]+/gim).map(M => parseFloat(M)); de = Bie(re, F, D) } else de = T6(F, re); else de = l == null ? void 0 : String(l); if (U > 0 && F > 0 && (a.current = s, i.current = Math.max(i.current, re)), k) { var z = k.length / s.length, ie = U === 1 ? s : s.map((M, te) => { var G = Math.floor(te * z); if (k[G]) { var P = k[G]; return Ui(Ui({}, M), {}, { x: Lt(P.x, M.x, U), y: Lt(P.y, M.y, U) }) } return g ? Ui(Ui({}, M), {}, { x: Lt(v * 2, M.x, U), y: Lt(y / 2, M.y, U) }) : Ui(Ui({}, M), {}, { x: M.x, y: M.y }) }); return a.current = ie, A.createElement(ER, { props: r, points: ie, clipPathId: t, pathRef: n, strokeDasharray: de }) } return A.createElement(ER, { props: r, points: s, clipPathId: t, pathRef: n, strokeDasharray: de }) }), A.createElement(sx, { label: r.label })) } function Vie(e) { var { clipPathId: t, props: r } = e, n = A.useRef(null), a = A.useRef(0), i = A.useRef(null); return A.createElement(Gie, { props: r, clipPathId: t, previousPointsRef: n, longestAnimatedLengthRef: a, pathRef: i }) } var qie = (e, t) => { var r, n; return { x: (r = e.x) !== null && r !== void 0 ? r : void 0, y: (n = e.y) !== null && n !== void 0 ? n : void 0, value: e.value, errorVal: Ft(e.payload, t) } }; class Wie extends A.Component { render() { var { hide: t, dot: r, points: n, className: a, xAxisId: i, yAxisId: s, top: l, left: f, width: d, height: h, id: m, needClip: g, zIndex: v } = this.props; if (t) return null; var y = At("recharts-line", a), b = m, { r: _, strokeWidth: k } = k6(r), C = wE(r), T = _ * 2 + k, j = g ? "url(#clipPath-".concat(C ? "" : "dots-").concat(b, ")") : void 0; return A.createElement(ea, { zIndex: v }, A.createElement(Sr, { className: y }, g && A.createElement("defs", null, A.createElement(jE, { clipPathId: b, xAxisId: i, yAxisId: s }), !C && A.createElement("clipPath", { id: "clipPath-dots-".concat(b) }, A.createElement("rect", { x: f - T / 2, y: l - T / 2, width: d + T, height: h + T }))), A.createElement(b6, { xAxisId: i, yAxisId: s, data: n, dataPointFormatter: qie, errorBarOffset: 0 }, A.createElement(Vie, { props: this.props, clipPathId: b }))), A.createElement(Yw, { activeDot: this.props.activeDot, points: n, mainColor: this.props.stroke, itemDataKey: this.props.dataKey, clipPath: j })) } } var N6 = { activeDot: !0, animateNewValues: !0, animationBegin: 0, animationDuration: 1500, animationEasing: "ease", connectNulls: !1, dot: !0, fill: "#fff", hide: !1, isAnimationActive: "auto", label: !1, legendType: "line", stroke: "#3182bd", strokeWidth: 1, xAxisId: 0, yAxisId: 0, zIndex: jr.line, type: "linear" }; function Kie(e) { var t = kr(e, N6), { activeDot: r, animateNewValues: n, animationBegin: a, animationDuration: i, animationEasing: s, connectNulls: l, dot: f, hide: d, isAnimationActive: h, label: m, legendType: g, xAxisId: v, yAxisId: y, id: b } = t, _ = IE(t, Oie), { needClip: k } = hx(v, y), C = fx(), T = Vo(), j = on(), R = We(X => die(X, v, y, j, b)); if (T !== "horizontal" && T !== "vertical" || R == null || C == null) return null; var { height: O, width: I, x: H, y: F } = C; return A.createElement(Wie, Qf({}, _, { id: b, connectNulls: l, dot: f, activeDot: r, animateNewValues: n, animationBegin: a, animationDuration: i, animationEasing: s, isAnimationActive: h, hide: d, label: m, legendType: g, xAxisId: v, yAxisId: y, points: R, layout: T, height: O, width: I, left: H, top: F, needClip: k })) } function Yie(e) { var { layout: t, xAxis: r, yAxis: n, xAxisTicks: a, yAxisTicks: i, dataKey: s, bandSize: l, displayedData: f } = e; return f.map((d, h) => { var m = Ft(d, s); if (t === "horizontal") { var g = pm({ axis: r, ticks: a, bandSize: l, entry: d, index: h }), v = fr(m) ? null : n.scale.map(m); return { x: g, y: v ?? null, value: m, payload: d } } var y = fr(m) ? null : r.scale.map(m), b = pm({ axis: n, ticks: i, bandSize: l, entry: d, index: h }); return y == null || b == null ? null : { x: y, y: b, value: m, payload: d } }).filter(Boolean) } function Xie(e) { var t = kr(e, N6), r = on(); return A.createElement(ux, { id: t.id, type: "line" }, n => A.createElement(A.Fragment, null, A.createElement(TE, { legendPayload: Lie(t) }), A.createElement(Fie, { dataKey: t.dataKey, data: t.data, stroke: t.stroke, strokeWidth: t.strokeWidth, fill: t.fill, name: t.name, hide: t.hide, unit: t.unit, tooltipType: t.tooltipType, id: n }), A.createElement(NE, { type: "line", id: n, data: t.data, xAxisId: t.xAxisId, yAxisId: t.yAxisId, zAxisId: 0, dataKey: t.dataKey, hide: t.hide, isPanorama: r }), A.createElement(Kie, Qf({}, t, { id: n })))) } var A6 = A.memo(Xie, I0); A6.displayName = "Line"; function Yi(e, t) { var r, n; return (r = (n = e.graphicalItems.cartesianItems.find(a => a.id === t)) === null || n === void 0 ? void 0 : n.xAxisId) !== null && r !== void 0 ? r : f6 } function Xi(e, t) { var r, n; return (r = (n = e.graphicalItems.cartesianItems.find(a => a.id === t)) === null || n === void 0 ? void 0 : n.yAxisId) !== null && r !== void 0 ? r : f6 } var C6 = (e, t, r) => Wi(e, "xAxis", Yi(e, t), r), j6 = (e, t, r) => qi(e, "xAxis", Yi(e, t), r), I6 = (e, t, r) => Wi(e, "yAxis", Xi(e, t), r), O6 = (e, t, r) => qi(e, "yAxis", Xi(e, t), r), Jie = xe([Et, C6, I6, j6, O6], (e, t, r, n, a) => Ei(e, "xAxis") ? Fo(t, n, !1) : Fo(r, a, !1)), Zie = (e, t) => t, R6 = xe([k0, Zie], (e, t) => e.filter(r => r.type === "area").find(r => r.id === t)), P6 = e => { var t = Et(e), r = Ei(t, "xAxis"); return r ? "yAxis" : "xAxis" }, Qie = (e, t) => { var r = P6(e); return r === "yAxis" ? Xi(e, t) : Yi(e, t) }, ese = (e, t, r) => Lm(e, P6(e), Qie(e, t), r), tse = xe([R6, ese], (e, t) => { var r; if (!(e == null || t == null)) { var { stackId: n } = e, a = Yg(e); if (!(n == null || a == null)) { var i = (r = t[n]) === null || r === void 0 ? void 0 : r.stackedData, s = i == null ? void 0 : i.find(l => l.key === a); if (s != null) return s.map(l => [l[0], l[1]]) } } }), rse = xe([Et, C6, I6, j6, O6, tse, w5, Jie, R6, CJ], (e, t, r, n, a, i, s, l, f, d) => { var { chartData: h, dataStartIndex: m, dataEndIndex: g } = s; if (!(f == null || e !== "horizontal" && e !== "vertical" || t == null || r == null || n == null || a == null || n.length === 0 || a.length === 0 || l == null)) { var { data: v } = f, y; if (v && v.length > 0 ? y = v : y = h == null ? void 0 : h.slice(m, g + 1), y != null) return wse({ layout: e, xAxis: t, yAxis: r, xAxisTicks: n, yAxisTicks: a, dataStartIndex: m, areaSettings: f, stackedData: i, displayedData: y, chartBaseValue: d, bandSize: l }) } }), nse = ["id"], ase = ["activeDot", "animationBegin", "animationDuration", "animationEasing", "connectNulls", "dot", "fill", "fillOpacity", "hide", "isAnimationActive", "legendType", "stroke", "xAxisId", "yAxisId"]; function zl() { return zl = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, zl.apply(null, arguments) } function D6(e, t) { if (e == null) return {}; var r, n, a = ise(e, t); if (Object.getOwnPropertySymbols) { var i = Object.getOwnPropertySymbols(e); for (n = 0; n < i.length; n++)r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (a[r] = e[r]) } return a } function ise(e, t) { if (e == null) return {}; var r = {}; for (var n in e) if ({}.hasOwnProperty.call(e, n)) { if (t.indexOf(n) !== -1) continue; r[n] = e[n] } return r } function kR(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function vu(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? kR(Object(r), !0).forEach(function (n) { sse(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : kR(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function sse(e, t, r) { return (t = ose(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function ose(e) { var t = lse(e, "string"); return typeof t == "symbol" ? t : t + "" } function lse(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } function Vm(e, t) { return e && e !== "none" ? e : t } var cse = e => { var { dataKey: t, name: r, stroke: n, fill: a, legendType: i, hide: s } = e; return [{ inactive: s, dataKey: t, type: i, color: Vm(n, a), value: Go(r, t), payload: e }] }, use = A.memo(e => { var { dataKey: t, data: r, stroke: n, strokeWidth: a, fill: i, name: s, hide: l, unit: f, tooltipType: d, id: h } = e, m = { dataDefinedOnItem: r, getPosition: Ho, settings: { stroke: n, strokeWidth: a, fill: i, dataKey: t, nameKey: void 0, name: Go(s, t), hide: l, type: d, color: Vm(n, i), unit: f, graphicalItemId: h } }; return A.createElement(cx, { tooltipEntrySettings: m }) }); function dse(e) { var { clipPathId: t, points: r, props: n } = e, { needClip: a, dot: i, dataKey: s } = n, l = Xn(n); return A.createElement(d6, { points: r, dot: i, className: "recharts-area-dots", dotClassName: "recharts-area-dot", dataKey: s, baseProps: l, needClip: a, clipPathId: t }) } function fse(e) { var { showLabels: t, children: r, points: n } = e, a = n.map(i => { var s, l, f = { x: (s = i.x) !== null && s !== void 0 ? s : 0, y: (l = i.y) !== null && l !== void 0 ? l : 0, width: 0, lowerWidth: 0, upperWidth: 0, height: 0 }; return vu(vu({}, f), {}, { value: i.value, payload: i.payload, parentViewBox: void 0, viewBox: f, fill: void 0 }) }); return A.createElement(xE, { value: t ? a : void 0 }, r) } function TR(e) { var { points: t, baseLine: r, needClip: n, clipPathId: a, props: i } = e, { layout: s, type: l, stroke: f, connectNulls: d, isRange: h } = i, { id: m } = i, g = D6(i, nse), v = Xn(g), y = Fn(g); return A.createElement(A.Fragment, null, (t == null ? void 0 : t.length) > 1 && A.createElement(Sr, { clipPath: n ? "url(#clipPath-".concat(a, ")") : void 0 }, A.createElement(Eu, zl({}, y, { id: m, points: t, connectNulls: d, type: l, baseLine: r, layout: s, stroke: "none", className: "recharts-area-area" })), f !== "none" && A.createElement(Eu, zl({}, v, { className: "recharts-area-curve", layout: s, type: l, connectNulls: d, fill: "none", points: t })), f !== "none" && h && A.createElement(Eu, zl({}, v, { className: "recharts-area-curve", layout: s, type: l, connectNulls: d, fill: "none", points: r }))), A.createElement(dse, { points: t, props: g, clipPathId: a })) } function hse(e) { var t, r, { alpha: n, baseLine: a, points: i, strokeWidth: s } = e, l = (t = i[0]) === null || t === void 0 ? void 0 : t.y, f = (r = i[i.length - 1]) === null || r === void 0 ? void 0 : r.y; if (!xt(l) || !xt(f)) return null; var d = n * Math.abs(l - f), h = Math.max(...i.map(m => m.x || 0)); return ze(a) ? h = Math.max(a, h) : a && Array.isArray(a) && a.length && (h = Math.max(...a.map(m => m.x || 0), h)), ze(h) ? A.createElement("rect", { x: 0, y: l < f ? l : l - d, width: h + (s ? parseInt("".concat(s), 10) : 1), height: Math.floor(d) }) : null } function pse(e) { var t, r, { alpha: n, baseLine: a, points: i, strokeWidth: s } = e, l = (t = i[0]) === null || t === void 0 ? void 0 : t.x, f = (r = i[i.length - 1]) === null || r === void 0 ? void 0 : r.x; if (!xt(l) || !xt(f)) return null; var d = n * Math.abs(l - f), h = Math.max(...i.map(m => m.y || 0)); return ze(a) ? h = Math.max(a, h) : a && Array.isArray(a) && a.length && (h = Math.max(...a.map(m => m.y || 0), h)), ze(h) ? A.createElement("rect", { x: l < f ? l : l - d, y: 0, width: d, height: Math.floor(h + (s ? parseInt("".concat(s), 10) : 1)) }) : null } function mse(e) { var { alpha: t, layout: r, points: n, baseLine: a, strokeWidth: i } = e; return r === "vertical" ? A.createElement(hse, { alpha: t, points: n, baseLine: a, strokeWidth: i }) : A.createElement(pse, { alpha: t, points: n, baseLine: a, strokeWidth: i }) } function gse(e) { var { needClip: t, clipPathId: r, props: n, previousPointsRef: a, previousBaselineRef: i } = e, { points: s, baseLine: l, isAnimationActive: f, animationBegin: d, animationDuration: h, animationEasing: m, onAnimationStart: g, onAnimationEnd: v } = n, y = A.useMemo(() => ({ points: s, baseLine: l }), [s, l]), b = Hu(y, "recharts-area-"), _ = aS(), [k, C] = A.useState(!1), T = !k, j = A.useCallback(() => { typeof v == "function" && v(), C(!1) }, [v]), R = A.useCallback(() => { typeof g == "function" && g(), C(!0) }, [g]); if (_ == null) return null; var O = a.current, I = i.current; return A.createElement(fse, { showLabels: T, points: s }, n.children, A.createElement(zu, { animationId: b, begin: d, duration: h, isActive: f, easing: m, onAnimationEnd: j, onAnimationStart: R, key: b }, H => { if (O) { var F = O.length / s.length, X = H === 1 ? s : s.map((U, ee) => { var re = Math.floor(ee * F); if (O[re]) { var de = O[re]; return vu(vu({}, U), {}, { x: Lt(de.x, U.x, H), y: Lt(de.y, U.y, H) }) } return U }), V; return ze(l) ? V = Lt(I, l, H) : fr(l) || bi(l) ? V = Lt(I, 0, H) : V = l.map((U, ee) => { var re = Math.floor(ee * F); if (Array.isArray(I) && I[re]) { var de = I[re]; return vu(vu({}, U), {}, { x: Lt(de.x, U.x, H), y: Lt(de.y, U.y, H) }) } return U }), H > 0 && (a.current = X, i.current = V), A.createElement(TR, { points: X, baseLine: V, needClip: t, clipPathId: r, props: n }) } return H > 0 && (a.current = s, i.current = l), A.createElement(Sr, null, f && A.createElement("defs", null, A.createElement("clipPath", { id: "animationClipPath-".concat(r) }, A.createElement(mse, { alpha: H, points: s, baseLine: l, layout: _, strokeWidth: n.strokeWidth }))), A.createElement(Sr, { clipPath: "url(#animationClipPath-".concat(r, ")") }, A.createElement(TR, { points: s, baseLine: l, needClip: t, clipPathId: r, props: n }))) }), A.createElement(sx, { label: n.label })) } function xse(e) { var { needClip: t, clipPathId: r, props: n } = e, a = A.useRef(null), i = A.useRef(); return A.createElement(gse, { needClip: t, clipPathId: r, props: n, previousPointsRef: a, previousBaselineRef: i }) } class vse extends A.PureComponent { render() { var { hide: t, dot: r, points: n, className: a, top: i, left: s, needClip: l, xAxisId: f, yAxisId: d, width: h, height: m, id: g, baseLine: v, zIndex: y } = this.props; if (t) return null; var b = At("recharts-area", a), _ = g, { r: k, strokeWidth: C } = k6(r), T = wE(r), j = k * 2 + C, R = l ? "url(#clipPath-".concat(T ? "" : "dots-").concat(_, ")") : void 0; return A.createElement(ea, { zIndex: y }, A.createElement(Sr, { className: b }, l && A.createElement("defs", null, A.createElement(jE, { clipPathId: _, xAxisId: f, yAxisId: d }), !T && A.createElement("clipPath", { id: "clipPath-dots-".concat(_) }, A.createElement("rect", { x: s - j / 2, y: i - j / 2, width: h + j, height: m + j }))), A.createElement(xse, { needClip: l, clipPathId: _, props: this.props })), A.createElement(Yw, { points: n, mainColor: Vm(this.props.stroke, this.props.fill), itemDataKey: this.props.dataKey, activeDot: this.props.activeDot, clipPath: R }), this.props.isRange && Array.isArray(v) && A.createElement(Yw, { points: v, mainColor: Vm(this.props.stroke, this.props.fill), itemDataKey: this.props.dataKey, activeDot: this.props.activeDot, clipPath: R })) } } var M6 = { activeDot: !0, animationBegin: 0, animationDuration: 1500, animationEasing: "ease", connectNulls: !1, dot: !1, fill: "#3182bd", fillOpacity: .6, hide: !1, isAnimationActive: "auto", legendType: "line", stroke: "#3182bd", strokeWidth: 1, type: "linear", label: !1, xAxisId: 0, yAxisId: 0, zIndex: jr.area }; function yse(e) { var t, r = kr(e, M6), { activeDot: n, animationBegin: a, animationDuration: i, animationEasing: s, connectNulls: l, dot: f, fill: d, fillOpacity: h, hide: m, isAnimationActive: g, legendType: v, stroke: y, xAxisId: b, yAxisId: _ } = r, k = D6(r, ase), C = Vo(), T = M8(), { needClip: j } = hx(b, _), R = on(), { points: O, isRange: I, baseLine: H } = (t = We(re => rse(re, e.id, R))) !== null && t !== void 0 ? t : {}, F = fx(); if (C !== "horizontal" && C !== "vertical" || F == null || T !== "AreaChart" && T !== "ComposedChart") return null; var { height: X, width: V, x: U, y: ee } = F; return !O || !O.length ? null : A.createElement(vse, zl({}, k, { activeDot: n, animationBegin: a, animationDuration: i, animationEasing: s, baseLine: H, connectNulls: l, dot: f, fill: d, fillOpacity: h, height: X, hide: m, layout: C, isAnimationActive: g === "auto" ? !v0.isSsr : g, isRange: I, legendType: v, needClip: j, points: O, stroke: y, width: V, left: U, top: ee, xAxisId: b, yAxisId: _ })) } var bse = (e, t, r, n, a) => { var i = r ?? t; if (ze(i)) return i; var s = e === "horizontal" ? a : n, l = s.scale.domain(); if (s.type === "number") { var f = Math.max(l[0], l[1]), d = Math.min(l[0], l[1]); return i === "dataMin" ? d : i === "dataMax" || f < 0 ? f : Math.max(Math.min(l[0], l[1]), 0) } return i === "dataMin" ? l[0] : i === "dataMax" ? l[1] : l[0] }; function wse(e) { var { areaSettings: { connectNulls: t, baseValue: r, dataKey: n }, stackedData: a, layout: i, chartBaseValue: s, xAxis: l, yAxis: f, displayedData: d, dataStartIndex: h, xAxisTicks: m, yAxisTicks: g, bandSize: v } = e, y = a && a.length, b = bse(i, s, r, l, f), _ = i === "horizontal", k = !1, C = d.map((j, R) => { var O, I, H, F; if (y) F = a[h + R]; else { var X = Ft(j, n); Array.isArray(X) ? (F = X, k = !0) : F = [b, X] } var V = (O = (I = F) === null || I === void 0 ? void 0 : I[1]) !== null && O !== void 0 ? O : null, U = V == null || y && !t && Ft(j, n) == null; if (_) { var ee; return { x: pm({ axis: l, ticks: m, bandSize: v, entry: j, index: R }), y: U ? null : (ee = f.scale.map(V)) !== null && ee !== void 0 ? ee : null, value: F, payload: j } } return { x: U ? null : (H = l.scale.map(V)) !== null && H !== void 0 ? H : null, y: pm({ axis: f, ticks: g, bandSize: v, entry: j, index: R }), value: F, payload: j } }), T; return y || k ? T = C.map(j => { var R, O = Array.isArray(j.value) ? j.value[0] : null; if (_) { var I; return { x: j.x, y: O != null && j.y != null && (I = f.scale.map(O)) !== null && I !== void 0 ? I : null, payload: j.payload } } return { x: O != null && (R = l.scale.map(O)) !== null && R !== void 0 ? R : null, y: j.y, payload: j.payload } }) : T = _ ? f.scale.map(b) : l.scale.map(b), { points: C, baseLine: T ?? 0, isRange: k } } function _se(e) { var t = kr(e, M6), r = on(); return A.createElement(ux, { id: t.id, type: "area" }, n => A.createElement(A.Fragment, null, A.createElement(TE, { legendPayload: cse(t) }), A.createElement(use, { dataKey: t.dataKey, data: t.data, stroke: t.stroke, strokeWidth: t.strokeWidth, fill: t.fill, name: t.name, hide: t.hide, unit: t.unit, tooltipType: t.tooltipType, id: n }), A.createElement(NE, { type: "area", id: n, data: t.data, dataKey: t.dataKey, xAxisId: t.xAxisId, yAxisId: t.yAxisId, zAxisId: 0, stackId: f3(t.stackId), hide: t.hide, barSize: void 0, baseValue: t.baseValue, isPanorama: r, connectNulls: t.connectNulls }), A.createElement(yse, zl({}, t, { id: n })))) } var OE = A.memo(_se, I0); OE.displayName = "Area"; var Sse = "Invariant failed"; function Ese(e, t) { throw new Error(Sse) } function Xw() { return Xw = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, Xw.apply(null, arguments) } function qm(e) { return A.createElement(_E, Xw({ shapeType: "rectangle", activeClassName: "recharts-active-bar" }, e)) } var kse = function (t) { var r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0; return (n, a) => { if (ze(t)) return t; var i = ze(n) || fr(n); return i ? t(n, a) : (i || Ese(), r) } }, Tse = (e, t, r) => r, Nse = (e, t) => t, O0 = xe([k0, Nse], (e, t) => e.filter(r => r.type === "bar").find(r => r.id === t)), Ase = xe([O0], e => e == null ? void 0 : e.maxBarSize), Cse = (e, t, r, n) => n, jse = xe([Et, k0, Yi, Xi, Tse], (e, t, r, n, a) => t.filter(i => e === "horizontal" ? i.xAxisId === r : i.yAxisId === n).filter(i => i.isPanorama === a).filter(i => i.hide === !1).filter(i => i.type === "bar")), Ise = (e, t, r) => { var n = Et(e), a = Yi(e, t), i = Xi(e, t); if (!(a == null || i == null)) return n === "horizontal" ? Lm(e, "yAxis", i, r) : Lm(e, "xAxis", a, r) }, Ose = (e, t) => { var r = Et(e), n = Yi(e, t), a = Xi(e, t); if (!(n == null || a == null)) return r === "horizontal" ? oO(e, "xAxis", n) : oO(e, "yAxis", a) }, Rse = xe([jse, AJ, Ose], Zne), Pse = (e, t, r) => { var n, a, i = O0(e, t); if (i == null) return 0; var s = Yi(e, t), l = Xi(e, t); if (s == null || l == null) return 0; var f = Et(e), d = R5(e), { maxBarSize: h } = i, m = fr(h) ? d : h, g, v; return f === "horizontal" ? (g = Wi(e, "xAxis", s, r), v = qi(e, "xAxis", s, r)) : (g = Wi(e, "yAxis", l, r), v = qi(e, "yAxis", l, r)), (n = (a = Fo(g, v, !0)) !== null && a !== void 0 ? a : m) !== null && n !== void 0 ? n : 0 }, L6 = (e, t, r) => { var n = Et(e), a = Yi(e, t), i = Xi(e, t); if (!(a == null || i == null)) { var s, l; return n === "horizontal" ? (s = Wi(e, "xAxis", a, r), l = qi(e, "xAxis", a, r)) : (s = Wi(e, "yAxis", i, r), l = qi(e, "yAxis", i, r)), Fo(s, l) } }, Dse = xe([Rse, R5, NJ, P5, Pse, L6, Ase], nae), Mse = (e, t, r) => { var n = Yi(e, t); if (n != null) return Wi(e, "xAxis", n, r) }, Lse = (e, t, r) => { var n = Xi(e, t); if (n != null) return Wi(e, "yAxis", n, r) }, Fse = (e, t, r) => { var n = Yi(e, t); if (n != null) return qi(e, "xAxis", n, r) }, Use = (e, t, r) => { var n = Xi(e, t); if (n != null) return qi(e, "yAxis", n, r) }, Bse = xe([Dse, O0], iae), $se = xe([Ise, O0], aae), zse = xe([Wr, Q_, Mse, Lse, Fse, Use, Bse, Et, w5, L6, $se, O0, Cse], (e, t, r, n, a, i, s, l, f, d, h, m, g) => { var { chartData: v, dataStartIndex: y, dataEndIndex: b } = f; if (!(m == null || s == null || t == null || l !== "horizontal" && l !== "vertical" || r == null || n == null || a == null || i == null || d == null)) { var { data: _ } = m, k; if (_ != null && _.length > 0 ? k = _ : k = v == null ? void 0 : v.slice(y, b + 1), k != null) return goe({ layout: l, barSettings: m, pos: s, parentViewBox: t, bandSize: d, xAxis: r, yAxis: n, xAxisTicks: a, yAxisTicks: i, stackedData: h, displayedData: k, offset: e, cells: g, dataStartIndex: y }) } }), Hse = ["index"]; function Jw() { return Jw = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, Jw.apply(null, arguments) } function Gse(e, t) { if (e == null) return {}; var r, n, a = Vse(e, t); if (Object.getOwnPropertySymbols) { var i = Object.getOwnPropertySymbols(e); for (n = 0; n < i.length; n++)r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (a[r] = e[r]) } return a } function Vse(e, t) { if (e == null) return {}; var r = {}; for (var n in e) if ({}.hasOwnProperty.call(e, n)) { if (t.indexOf(n) !== -1) continue; r[n] = e[n] } return r } var F6 = A.createContext(void 0), qse = e => { var t = A.useContext(F6); if (t != null) return t.stackId; if (e != null) return f3(e) }, Wse = (e, t) => "recharts-bar-stack-clip-path-".concat(e, "-").concat(t), Kse = e => { var t = A.useContext(F6); if (t != null) { var { stackId: r } = t; return "url(#".concat(Wse(r, e), ")") } }, U6 = e => { var { index: t } = e, r = Gse(e, Hse), n = Kse(t); return A.createElement(Sr, Jw({ className: "recharts-bar-stack-layer", clipPath: n }, r)) }, Yse = ["onMouseEnter", "onMouseLeave", "onClick"], Xse = ["value", "background", "tooltipPosition"], Jse = ["id"], Zse = ["onMouseEnter", "onClick", "onMouseLeave"]; function Ps() { return Ps = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, Ps.apply(null, arguments) } function NR(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function Vn(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? NR(Object(r), !0).forEach(function (n) { Qse(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : NR(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function Qse(e, t, r) { return (t = eoe(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function eoe(e) { var t = toe(e, "string"); return typeof t == "symbol" ? t : t + "" } function toe(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } function Wm(e, t) { if (e == null) return {}; var r, n, a = roe(e, t); if (Object.getOwnPropertySymbols) { var i = Object.getOwnPropertySymbols(e); for (n = 0; n < i.length; n++)r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (a[r] = e[r]) } return a } function roe(e, t) { if (e == null) return {}; var r = {}; for (var n in e) if ({}.hasOwnProperty.call(e, n)) { if (t.indexOf(n) !== -1) continue; r[n] = e[n] } return r } var noe = e => { var { dataKey: t, name: r, fill: n, legendType: a, hide: i } = e; return [{ inactive: i, dataKey: t, type: a, color: n, value: Go(r, t), payload: e }] }, aoe = A.memo(e => { var { dataKey: t, stroke: r, strokeWidth: n, fill: a, name: i, hide: s, unit: l, tooltipType: f, id: d } = e, h = { dataDefinedOnItem: void 0, getPosition: Ho, settings: { stroke: r, strokeWidth: n, fill: a, dataKey: t, nameKey: void 0, name: Go(i, t), hide: s, type: f, color: a, unit: l, graphicalItemId: d } }; return A.createElement(cx, { tooltipEntrySettings: h }) }); function ioe(e) { var t = We(Uo), { data: r, dataKey: n, background: a, allOtherBarProps: i } = e, { onMouseEnter: s, onMouseLeave: l, onClick: f } = i, d = Wm(i, Yse), h = SE(s, n, i.id), m = EE(l), g = kE(f, n, i.id); if (!a || r == null) return null; var v = Vl(a); return A.createElement(ea, { zIndex: sae(a, jr.barBackground) }, r.map((y, b) => { var { value: _, background: k, tooltipPosition: C } = y, T = Wm(y, Xse); if (!k) return null; var j = h(y, b), R = m(y, b), O = g(y, b), I = Vn(Vn(Vn(Vn(Vn({ option: a, isActive: String(b) === t }, T), {}, { fill: "#eee" }, k), v), f0(d, y, b)), {}, { onMouseEnter: j, onMouseLeave: R, onClick: O, dataKey: n, index: b, className: "recharts-bar-background-rectangle" }); return A.createElement(qm, Ps({ key: "background-bar-".concat(b) }, I)) })) } function soe(e) { var { showLabels: t, children: r, rects: n } = e, a = n == null ? void 0 : n.map(i => { var s = { x: i.x, y: i.y, width: i.width, lowerWidth: i.width, upperWidth: i.width, height: i.height }; return Vn(Vn({}, s), {}, { value: i.value, payload: i.payload, parentViewBox: i.parentViewBox, viewBox: s, fill: i.fill }) }); return A.createElement(xE, { value: t ? a : void 0 }, r) } function ooe(e) { var { shape: t, activeBar: r, baseProps: n, entry: a, index: i, dataKey: s } = e, l = We(Uo), f = We(dE), d = r && String(i) === l && (f == null || s === f), h = d ? r : t; return d ? A.createElement(ea, { zIndex: jr.activeBar }, A.createElement(U6, { index: i }, A.createElement(qm, Ps({}, n, { name: String(n.name) }, a, { isActive: d, option: h, index: i, dataKey: s })))) : A.createElement(qm, Ps({}, n, { name: String(n.name) }, a, { isActive: d, option: h, index: i, dataKey: s })) } function loe(e) { var { shape: t, baseProps: r, entry: n, index: a, dataKey: i } = e; return A.createElement(qm, Ps({}, r, { name: String(r.name) }, n, { isActive: !1, option: t, index: a, dataKey: i })) } function coe(e) { var t, { data: r, props: n } = e, a = (t = Xn(n)) !== null && t !== void 0 ? t : {}, { id: i } = a, s = Wm(a, Jse), { shape: l, dataKey: f, activeBar: d } = n, { onMouseEnter: h, onClick: m, onMouseLeave: g } = n, v = Wm(n, Zse), y = SE(h, f, i), b = EE(g), _ = kE(m, f, i); return r ? A.createElement(A.Fragment, null, r.map((k, C) => A.createElement(U6, Ps({ index: C, key: "rectangle-".concat(k == null ? void 0 : k.x, "-").concat(k == null ? void 0 : k.y, "-").concat(k == null ? void 0 : k.value, "-").concat(C), className: "recharts-bar-rectangle" }, f0(v, k, C), { onMouseEnter: y(k, C), onMouseLeave: b(k, C), onClick: _(k, C) }), d ? A.createElement(ooe, { shape: l, activeBar: d, baseProps: s, entry: k, index: C, dataKey: f }) : A.createElement(loe, { shape: l, baseProps: s, entry: k, index: C, dataKey: f })))) : null } function uoe(e) { var { props: t, previousRectanglesRef: r } = e, { data: n, layout: a, isAnimationActive: i, animationBegin: s, animationDuration: l, animationEasing: f, onAnimationEnd: d, onAnimationStart: h } = t, m = r.current, g = Hu(t, "recharts-bar-"), [v, y] = A.useState(!1), b = !v, _ = A.useCallback(() => { typeof d == "function" && d(), y(!1) }, [d]), k = A.useCallback(() => { typeof h == "function" && h(), y(!0) }, [h]); return A.createElement(soe, { showLabels: b, rects: n }, A.createElement(zu, { animationId: g, begin: s, duration: l, isActive: i, easing: f, onAnimationEnd: _, onAnimationStart: k, key: g }, C => { var T = C === 1 ? n : n == null ? void 0 : n.map((j, R) => { var O = m && m[R]; if (O) return Vn(Vn({}, j), {}, { x: Lt(O.x, j.x, C), y: Lt(O.y, j.y, C), width: Lt(O.width, j.width, C), height: Lt(O.height, j.height, C) }); if (a === "horizontal") { var I = Lt(0, j.height, C), H = Lt(j.stackedBarStart, j.y, C); return Vn(Vn({}, j), {}, { y: H, height: I }) } var F = Lt(0, j.width, C), X = Lt(j.stackedBarStart, j.x, C); return Vn(Vn({}, j), {}, { width: F, x: X }) }); return C > 0 && (r.current = T ?? null), T == null ? null : A.createElement(Sr, null, A.createElement(coe, { props: t, data: T })) }), A.createElement(sx, { label: t.label }), t.children) } function doe(e) { var t = A.useRef(null); return A.createElement(uoe, { previousRectanglesRef: t, props: e }) } var B6 = 0, foe = (e, t) => { var r = Array.isArray(e.value) ? e.value[1] : e.value; return { x: e.x, y: e.y, value: r, errorVal: Ft(e, t) } }; class hoe extends A.PureComponent { render() { var { hide: t, data: r, dataKey: n, className: a, xAxisId: i, yAxisId: s, needClip: l, background: f, id: d } = this.props; if (t || r == null) return null; var h = At("recharts-bar", a), m = d; return A.createElement(Sr, { className: h, id: d }, l && A.createElement("defs", null, A.createElement(jE, { clipPathId: m, xAxisId: i, yAxisId: s })), A.createElement(Sr, { className: "recharts-bar-rectangles", clipPath: l ? "url(#clipPath-".concat(m, ")") : void 0 }, A.createElement(ioe, { data: r, dataKey: n, background: f, allOtherBarProps: this.props }), A.createElement(doe, this.props))) } } var poe = { activeBar: !1, animationBegin: 0, animationDuration: 400, animationEasing: "ease", background: !1, hide: !1, isAnimationActive: "auto", label: !1, legendType: "rect", minPointSize: B6, xAxisId: 0, yAxisId: 0, zIndex: jr.bar }; function moe(e) { var { xAxisId: t, yAxisId: r, hide: n, legendType: a, minPointSize: i, activeBar: s, animationBegin: l, animationDuration: f, animationEasing: d, isAnimationActive: h } = e, { needClip: m } = hx(t, r), g = Vo(), v = on(), y = bE(e.children, Do), b = We(C => zse(C, e.id, v, y)); if (g !== "vertical" && g !== "horizontal") return null; var _, k = b == null ? void 0 : b[0]; return k == null || k.height == null || k.width == null ? _ = 0 : _ = g === "vertical" ? k.height / 2 : k.width / 2, A.createElement(b6, { xAxisId: t, yAxisId: r, data: b, dataPointFormatter: foe, errorBarOffset: _ }, A.createElement(hoe, Ps({}, e, { layout: g, needClip: m, data: b, xAxisId: t, yAxisId: r, hide: n, legendType: a, minPointSize: i, activeBar: s, animationBegin: l, animationDuration: f, animationEasing: d, isAnimationActive: h }))) } function goe(e) { var { layout: t, barSettings: { dataKey: r, minPointSize: n }, pos: a, bandSize: i, xAxis: s, yAxis: l, xAxisTicks: f, yAxisTicks: d, stackedData: h, displayedData: m, offset: g, cells: v, parentViewBox: y, dataStartIndex: b } = e, _ = t === "horizontal" ? l : s, k = h ? _.scale.domain() : null, C = mq({ numericAxis: _ }), T = _.scale.map(C); return m.map((j, R) => { var O, I, H, F, X, V; if (h) { var U = h[R + b]; if (U == null) return null; O = uq(U, k) } else O = Ft(j, r), Array.isArray(O) || (O = [C, O]); var ee = kse(n, B6)(O[1], R); if (t === "horizontal") { var re, de = l.scale.map(O[0]), D = l.scale.map(O[1]); if (de == null || D == null) return null; I = sj({ axis: s, ticks: f, bandSize: i, offset: a.offset, entry: j, index: R }), H = (re = D ?? de) !== null && re !== void 0 ? re : void 0, F = a.size; var z = de - D; if (X = bi(z) ? 0 : z, V = { x: I, y: g.top, width: F, height: g.height }, Math.abs(ee) > 0 && Math.abs(X) < Math.abs(ee)) { var ie = an(X || ee) * (Math.abs(ee) - Math.abs(X)); H -= ie, X += ie } } else { var M = s.scale.map(O[0]), te = s.scale.map(O[1]); if (M == null || te == null) return null; if (I = M, H = sj({ axis: l, ticks: d, bandSize: i, offset: a.offset, entry: j, index: R }), F = te - M, X = a.size, V = { x: g.left, y: H, width: g.width, height: X }, Math.abs(ee) > 0 && Math.abs(F) < Math.abs(ee)) { var G = an(F || ee) * (Math.abs(ee) - Math.abs(F)); F += G } } if (I == null || H == null || F == null || X == null) return null; var P = Vn(Vn({}, j), {}, { stackedBarStart: T, x: I, y: H, width: F, height: X, value: h ? O : O[1], payload: j, background: V, tooltipPosition: { x: I + F / 2, y: H + X / 2 }, parentViewBox: y }, v && v[R] && v[R].props); return P }).filter(Boolean) } function xoe(e) { var t = kr(e, poe), r = qse(t.stackId), n = on(); return A.createElement(ux, { id: t.id, type: "bar" }, a => A.createElement(A.Fragment, null, A.createElement(TE, { legendPayload: noe(t) }), A.createElement(aoe, { dataKey: t.dataKey, stroke: t.stroke, strokeWidth: t.strokeWidth, fill: t.fill, name: t.name, hide: t.hide, unit: t.unit, tooltipType: t.tooltipType, id: a }), A.createElement(NE, { type: "bar", id: a, data: void 0, xAxisId: t.xAxisId, yAxisId: t.yAxisId, zAxisId: 0, dataKey: t.dataKey, stackId: r, hide: t.hide, barSize: t.barSize, minPointSize: t.minPointSize, maxBarSize: t.maxBarSize, isPanorama: n }), A.createElement(ea, { zIndex: t.zIndex }, A.createElement(moe, Ps({}, t, { id: a }))))) } var _f = A.memo(xoe, I0); _f.displayName = "Bar"; var voe = ["domain", "range"], yoe = ["domain", "range"]; function AR(e, t) { if (e == null) return {}; var r, n, a = boe(e, t); if (Object.getOwnPropertySymbols) { var i = Object.getOwnPropertySymbols(e); for (n = 0; n < i.length; n++)r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (a[r] = e[r]) } return a } function boe(e, t) { if (e == null) return {}; var r = {}; for (var n in e) if ({}.hasOwnProperty.call(e, n)) { if (t.indexOf(n) !== -1) continue; r[n] = e[n] } return r } function CR(e, t) { return e === t ? !0 : Array.isArray(e) && e.length === 2 && Array.isArray(t) && t.length === 2 ? e[0] === t[0] && e[1] === t[1] : !1 } function $6(e, t) { if (e === t) return !0; var { domain: r, range: n } = e, a = AR(e, voe), { domain: i, range: s } = t, l = AR(t, yoe); return !CR(r, i) || !CR(n, s) ? !1 : I0(a, l) } var woe = ["type"], _oe = ["dangerouslySetInnerHTML", "ticks", "scale"], Soe = ["id", "scale"]; function Zw() { return Zw = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, Zw.apply(null, arguments) } function jR(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function IR(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? jR(Object(r), !0).forEach(function (n) { Eoe(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : jR(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function Eoe(e, t, r) { return (t = koe(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function koe(e) { var t = Toe(e, "string"); return typeof t == "symbol" ? t : t + "" } function Toe(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } function Qw(e, t) { if (e == null) return {}; var r, n, a = Noe(e, t); if (Object.getOwnPropertySymbols) { var i = Object.getOwnPropertySymbols(e); for (n = 0; n < i.length; n++)r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (a[r] = e[r]) } return a } function Noe(e, t) { if (e == null) return {}; var r = {}; for (var n in e) if ({}.hasOwnProperty.call(e, n)) { if (t.indexOf(n) !== -1) continue; r[n] = e[n] } return r } function Aoe(e) { var t = rr(), r = A.useRef(null), n = aS(), { type: a } = e, i = Qw(e, woe), s = Wg(n, "xAxis", a), l = A.useMemo(() => { if (s != null) return IR(IR({}, i), {}, { type: s }) }, [i, s]); return A.useLayoutEffect(() => { l != null && (r.current === null ? t(Lne(l)) : r.current !== l && t(Fne({ prev: r.current, next: l })), r.current = l) }, [l, t]), A.useLayoutEffect(() => () => { r.current && (t(Une(r.current)), r.current = null) }, [t]), null } var Coe = e => { var { xAxisId: t, className: r } = e, n = We(Q_), a = on(), i = "xAxis", s = We(k => h8(k, i, t, a)), l = We(k => c8(k, t)), f = We(k => CZ(k, t)), d = We(k => G5(k, t)); if (l == null || f == null || d == null) return null; var { dangerouslySetInnerHTML: h, ticks: m, scale: g } = e, v = Qw(e, _oe), { id: y, scale: b } = d, _ = Qw(d, Soe); return A.createElement(CE, Zw({}, v, _, { x: f.x, y: f.y, width: l.width, height: l.height, className: At("recharts-".concat(i, " ").concat(i), r), viewBox: n, ticks: s, axisType: i })) }, joe = { allowDataOverflow: en.allowDataOverflow, allowDecimals: en.allowDecimals, allowDuplicatedCategory: en.allowDuplicatedCategory, angle: en.angle, axisLine: ks.axisLine, height: en.height, hide: !1, includeHidden: en.includeHidden, interval: en.interval, label: !1, minTickGap: en.minTickGap, mirror: en.mirror, orientation: en.orientation, padding: en.padding, reversed: en.reversed, scale: en.scale, tick: en.tick, tickCount: en.tickCount, tickLine: ks.tickLine, tickSize: ks.tickSize, type: en.type, xAxisId: 0 }, Ioe = e => { var t = kr(e, joe); return A.createElement(A.Fragment, null, A.createElement(Aoe, { allowDataOverflow: t.allowDataOverflow, allowDecimals: t.allowDecimals, allowDuplicatedCategory: t.allowDuplicatedCategory, angle: t.angle, dataKey: t.dataKey, domain: t.domain, height: t.height, hide: t.hide, id: t.xAxisId, includeHidden: t.includeHidden, interval: t.interval, minTickGap: t.minTickGap, mirror: t.mirror, name: t.name, orientation: t.orientation, padding: t.padding, reversed: t.reversed, scale: t.scale, tick: t.tick, tickCount: t.tickCount, tickFormatter: t.tickFormatter, ticks: t.ticks, type: t.type, unit: t.unit }), A.createElement(Coe, t)) }, Ll = A.memo(Ioe, $6); Ll.displayName = "XAxis"; var Ooe = ["type"], Roe = ["dangerouslySetInnerHTML", "ticks", "scale"], Poe = ["id", "scale"]; function e_() { return e_ = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, e_.apply(null, arguments) } function OR(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function RR(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? OR(Object(r), !0).forEach(function (n) { Doe(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : OR(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function Doe(e, t, r) { return (t = Moe(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function Moe(e) { var t = Loe(e, "string"); return typeof t == "symbol" ? t : t + "" } function Loe(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } function t_(e, t) { if (e == null) return {}; var r, n, a = Foe(e, t); if (Object.getOwnPropertySymbols) { var i = Object.getOwnPropertySymbols(e); for (n = 0; n < i.length; n++)r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (a[r] = e[r]) } return a } function Foe(e, t) { if (e == null) return {}; var r = {}; for (var n in e) if ({}.hasOwnProperty.call(e, n)) { if (t.indexOf(n) !== -1) continue; r[n] = e[n] } return r } function Uoe(e) { var t = rr(), r = A.useRef(null), n = aS(), { type: a } = e, i = t_(e, Ooe), s = Wg(n, "yAxis", a), l = A.useMemo(() => { if (s != null) return RR(RR({}, i), {}, { type: s }) }, [s, i]); return A.useLayoutEffect(() => { l != null && (r.current === null ? t(Bne(l)) : r.current !== l && t($ne({ prev: r.current, next: l })), r.current = l) }, [l, t]), A.useLayoutEffect(() => () => { r.current && (t(zne(r.current)), r.current = null) }, [t]), null } function Boe(e) { var { yAxisId: t, className: r, width: n, label: a } = e, i = A.useRef(null), s = A.useRef(null), l = We(Q_), f = on(), d = rr(), h = "yAxis", m = We(O => u8(O, t)), g = We(O => IZ(O, t)), v = We(O => h8(O, h, t, f)), y = We(O => V5(O, t)); if (A.useLayoutEffect(() => { if (!(n !== "auto" || !m || gE(a) || A.isValidElement(a) || y == null)) { var O = i.current; if (O) { var I = O.getCalculatedWidth(); Math.round(m.width) !== Math.round(I) && d(Hne({ id: t, width: I })) } } }, [v, m, d, a, t, n, y]), m == null || g == null || y == null) return null; var { dangerouslySetInnerHTML: b, ticks: _, scale: k } = e, C = t_(e, Roe), { id: T, scale: j } = y, R = t_(y, Poe); return A.createElement(CE, e_({}, C, R, { ref: i, labelRef: s, x: g.x, y: g.y, tickTextProps: n === "auto" ? { width: void 0 } : { width: n }, width: m.width, height: m.height, className: At("recharts-".concat(h, " ").concat(h), r), viewBox: l, ticks: v, axisType: h })) } var $oe = { allowDataOverflow: tn.allowDataOverflow, allowDecimals: tn.allowDecimals, allowDuplicatedCategory: tn.allowDuplicatedCategory, angle: tn.angle, axisLine: ks.axisLine, hide: !1, includeHidden: tn.includeHidden, interval: tn.interval, label: !1, minTickGap: tn.minTickGap, mirror: tn.mirror, orientation: tn.orientation, padding: tn.padding, reversed: tn.reversed, scale: tn.scale, tick: tn.tick, tickCount: tn.tickCount, tickLine: ks.tickLine, tickSize: ks.tickSize, type: tn.type, width: tn.width, yAxisId: 0 }, zoe = e => { var t = kr(e, $oe); return A.createElement(A.Fragment, null, A.createElement(Uoe, { interval: t.interval, id: t.yAxisId, scale: t.scale, type: t.type, domain: t.domain, allowDataOverflow: t.allowDataOverflow, dataKey: t.dataKey, allowDuplicatedCategory: t.allowDuplicatedCategory, allowDecimals: t.allowDecimals, tickCount: t.tickCount, padding: t.padding, includeHidden: t.includeHidden, reversed: t.reversed, ticks: t.ticks, width: t.width, orientation: t.orientation, mirror: t.mirror, hide: t.hide, unit: t.unit, name: t.name, angle: t.angle, minTickGap: t.minTickGap, tick: t.tick, tickFormatter: t.tickFormatter }), A.createElement(Boe, t)) }, Ao = A.memo(zoe, $6); Ao.displayName = "YAxis"; var Hoe = (e, t) => t, RE = xe([Hoe, Et, $5, cn, j8, Gs, qQ, Wr], QQ), PE = e => { var t = e.currentTarget.getBoundingClientRect(), r = t.width / e.currentTarget.offsetWidth, n = t.height / e.currentTarget.offsetHeight; return { chartX: Math.round((e.clientX - t.left) / r), chartY: Math.round((e.clientY - t.top) / n) } }, z6 = Ka("mouseClick"), H6 = p0(); H6.startListening({ actionCreator: z6, effect: (e, t) => { var r = e.payload, n = RE(t.getState(), PE(r)); (n == null ? void 0 : n.activeIndex) != null && t.dispatch(VZ({ activeIndex: n.activeIndex, activeDataKey: void 0, activeCoordinate: n.activeCoordinate })) } }); var r_ = Ka("mouseMove"), G6 = p0(), yp = null; G6.startListening({ actionCreator: r_, effect: (e, t) => { var r = e.payload; yp !== null && cancelAnimationFrame(yp); var n = PE(r); yp = requestAnimationFrame(() => { var a = t.getState(), i = iE(a, a.tooltip.settings.shared); if (i === "axis") { var s = RE(a, n); (s == null ? void 0 : s.activeIndex) != null ? t.dispatch(w8({ activeIndex: s.activeIndex, activeDataKey: void 0, activeCoordinate: s.activeCoordinate })) : t.dispatch(b8()) } yp = null }) } }); function Goe(e, t) { return t instanceof HTMLElement ? "HTMLElement <".concat(t.tagName, ' class="').concat(t.className, '">') : t === window ? "global.window" : e === "children" && typeof t == "object" && t !== null ? "<<CHILDREN>>" : t } var PR = { accessibilityLayer: !0, barCategoryGap: "10%", barGap: 4, barSize: void 0, className: void 0, maxBarSize: void 0, stackOffset: "none", syncId: void 0, syncMethod: "index", baseValue: void 0, reverseStackOrder: !1 }, V6 = da({ name: "rootProps", initialState: PR, reducers: { updateOptions: (e, t) => { var r; e.accessibilityLayer = t.payload.accessibilityLayer, e.barCategoryGap = t.payload.barCategoryGap, e.barGap = (r = t.payload.barGap) !== null && r !== void 0 ? r : PR.barGap, e.barSize = t.payload.barSize, e.maxBarSize = t.payload.maxBarSize, e.stackOffset = t.payload.stackOffset, e.syncId = t.payload.syncId, e.syncMethod = t.payload.syncMethod, e.className = t.payload.className, e.baseValue = t.payload.baseValue, e.reverseStackOrder = t.payload.reverseStackOrder } } }), Voe = V6.reducer, { updateOptions: qoe } = V6.actions, Woe = null, Koe = { updatePolarOptions: (e, t) => t.payload }, q6 = da({ name: "polarOptions", initialState: Woe, reducers: Koe }), { updatePolarOptions: Yoe } = q6.actions, Xoe = q6.reducer, W6 = Ka("keyDown"), K6 = Ka("focus"), DE = p0(); DE.startListening({ actionCreator: W6, effect: (e, t) => { var r = t.getState(), n = r.rootProps.accessibilityLayer !== !1; if (n) { var { keyboardInteraction: a } = r.tooltip, i = e.payload; if (!(i !== "ArrowRight" && i !== "ArrowLeft" && i !== "Enter")) { var s = sE(a, Zu(r), N0(r), C0(r)), l = s == null ? -1 : Number(s); if (!(!Number.isFinite(l) || l < 0)) { var f = Gs(r); if (i === "Enter") { var d = Um(r, "axis", "hover", String(a.index)); t.dispatch(Gw({ active: !a.active, activeIndex: a.index, activeCoordinate: d })); return } var h = DZ(r), m = h === "left-to-right" ? 1 : -1, g = i === "ArrowRight" ? 1 : -1, v = l + g * m; if (!(f == null || v >= f.length || v < 0)) { var y = Um(r, "axis", "hover", String(v)); t.dispatch(Gw({ active: !0, activeIndex: v.toString(), activeCoordinate: y })) } } } } } }); DE.startListening({ actionCreator: K6, effect: (e, t) => { var r = t.getState(), n = r.rootProps.accessibilityLayer !== !1; if (n) { var { keyboardInteraction: a } = r.tooltip; if (!a.active && a.index == null) { var i = "0", s = Um(r, "axis", "hover", String(i)); t.dispatch(Gw({ active: !0, activeIndex: i, activeCoordinate: s })) } } } }); var za = Ka("externalEvent"), Y6 = p0(), C1 = new Map; Y6.startListening({ actionCreator: za, effect: (e, t) => { var { handler: r, reactEvent: n } = e.payload; if (r != null) { n.persist(); var a = n.type, i = C1.get(a); i !== void 0 && cancelAnimationFrame(i); var s = requestAnimationFrame(() => { try { var l = t.getState(), f = { activeCoordinate: IQ(l), activeDataKey: dE(l), activeIndex: Uo(l), activeLabel: R8(l), activeTooltipIndex: Uo(l), isTooltipActive: OQ(l) }; r(f, n) } finally { C1.delete(a) } }); C1.set(a, s) } } }); var Joe = xe([Xu], e => e.tooltipItemPayloads), Zoe = xe([Joe, (e, t) => t, (e, t, r) => r], (e, t, r) => { if (t != null) { var n = e.find(i => i.settings.graphicalItemId === r); if (n != null) { var { getPosition: a } = n; if (a != null) return a(t) } } }), X6 = Ka("touchMove"), J6 = p0(); J6.startListening({ actionCreator: X6, effect: (e, t) => { var r = e.payload; if (!(r.touches == null || r.touches.length === 0)) { var n = t.getState(), a = iE(n, n.tooltip.settings.shared); if (a === "axis") { var i = r.touches[0]; if (i == null) return; var s = RE(n, PE({ clientX: i.clientX, clientY: i.clientY, currentTarget: r.currentTarget })); (s == null ? void 0 : s.activeIndex) != null && t.dispatch(w8({ activeIndex: s.activeIndex, activeDataKey: void 0, activeCoordinate: s.activeCoordinate })) } else if (a === "item") { var l, f = r.touches[0]; if (document.elementFromPoint == null || f == null) return; var d = document.elementFromPoint(f.clientX, f.clientY); if (!d || !d.getAttribute) return; var h = d.getAttribute(p3), m = (l = d.getAttribute(m3)) !== null && l !== void 0 ? l : void 0, g = Ju(n).find(b => b.id === m); if (h == null || g == null || m == null) return; var { dataKey: v } = g, y = Zoe(n, h, m); t.dispatch(y8({ activeDataKey: v, activeIndex: h, activeCoordinate: y, activeGraphicalItemId: m })) } } } }); var Qoe = DM({ brush: oae, cartesianAxis: Gne, chartData: jee, errorBars: tie, graphicalItems: Zre, layout: iq, legend: dW, options: kee, polarAxis: fre, polarOptions: Xoe, referenceElements: dae, rootProps: Voe, tooltip: qZ, zIndex: hee }), ele = function (t) { var r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "Chart"; return jV({ reducer: Qoe, preloadedState: t, middleware: n => { var a; return n({ serializableCheck: !1, immutableCheck: !["commonjs", "es6", "production"].includes((a = "es6") !== null && a !== void 0 ? a : "") }).concat([H6.middleware, G6.middleware, DE.middleware, Y6.middleware, J6.middleware]) }, enhancers: n => { var a = n; return typeof n == "function" && (a = n()), a.concat(XM({ type: "raf" })) }, devTools: { serialize: { replacer: Goe }, name: "recharts-".concat(r) } }) }; function Z6(e) { var { preloadedState: t, children: r, reduxStoreName: n } = e, a = on(), i = A.useRef(null); if (a) return r; i.current == null && (i.current = ele(t, n)); var s = q_; return A.createElement(Nie, { context: s, store: i.current }, r) } function tle(e) { var { layout: t, margin: r } = e, n = rr(), a = on(); return A.useEffect(() => { a || (n(rq(t)), n(tq(r))) }, [n, a, t, r]), null } var Q6 = A.memo(tle, I0); function eL(e) { var t = rr(); return A.useEffect(() => { t(qoe(e)) }, [t, e]), null } function DR(e) { var { zIndex: t, isPanorama: r } = e, n = A.useRef(null), a = rr(); return A.useLayoutEffect(() => (n.current && a(dee({ zIndex: t, element: n.current, isPanorama: r })), () => { a(fee({ zIndex: t, isPanorama: r })) }), [a, t, r]), A.createElement("g", { tabIndex: -1, ref: n }) } function MR(e) { var { children: t, isPanorama: r } = e, n = We(tee); if (!n || n.length === 0) return t; var a = n.filter(s => s < 0), i = n.filter(s => s > 0); return A.createElement(A.Fragment, null, a.map(s => A.createElement(DR, { key: s, zIndex: s, isPanorama: r })), t, i.map(s => A.createElement(DR, { key: s, zIndex: s, isPanorama: r }))) } var rle = ["children"]; function nle(e, t) { if (e == null) return {}; var r, n, a = ale(e, t); if (Object.getOwnPropertySymbols) { var i = Object.getOwnPropertySymbols(e); for (n = 0; n < i.length; n++)r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (a[r] = e[r]) } return a } function ale(e, t) { if (e == null) return {}; var r = {}; for (var n in e) if ({}.hasOwnProperty.call(e, n)) { if (t.indexOf(n) !== -1) continue; r[n] = e[n] } return r } function Km() { return Km = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, Km.apply(null, arguments) } var ile = { width: "100%", height: "100%", display: "block" }, sle = A.forwardRef((e, t) => { var r = rS(), n = nS(), a = I3(); if (!Gi(r) || !Gi(n)) return null; var { children: i, otherAttributes: s, title: l, desc: f } = e, d, h; return s != null && (typeof s.tabIndex == "number" ? d = s.tabIndex : d = a ? 0 : void 0, typeof s.role == "string" ? h = s.role : h = a ? "application" : void 0), A.createElement(D_, Km({}, s, { title: l, desc: f, role: h, tabIndex: d, width: r, height: n, style: ile, ref: t }), i) }), ole = e => { var { children: t } = e, r = We(Pg); if (!r) return null; var { width: n, height: a, y: i, x: s } = r; return A.createElement(D_, { width: n, height: a, x: s, y: i }, t) }, LR = A.forwardRef((e, t) => { var { children: r } = e, n = nle(e, rle), a = on(); return a ? A.createElement(ole, null, A.createElement(MR, { isPanorama: !0 }, r)) : A.createElement(sle, Km({ ref: t }, n), A.createElement(MR, { isPanorama: !1 }, r)) }); function lle() { var e = rr(), [t, r] = A.useState(null), n = We(wq); return A.useEffect(() => { if (t != null) { var a = t.getBoundingClientRect(), i = a.width / t.offsetWidth; xt(i) && i !== n && e(aq(i)) } }, [t, e, n]), r } function FR(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function cle(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? FR(Object(r), !0).forEach(function (n) { ule(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : FR(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function ule(e, t, r) { return (t = dle(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function dle(e) { var t = fle(e, "string"); return typeof t == "symbol" ? t : t + "" } function fle(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } function Mo() { return Mo = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, Mo.apply(null, arguments) } var hle = () => (Uee(), null); function Ym(e) { if (typeof e == "number") return e; if (typeof e == "string") { var t = parseFloat(e); if (!Number.isNaN(t)) return t } return 0 } var ple = A.forwardRef((e, t) => { var r, n, a = A.useRef(null), [i, s] = A.useState({ containerWidth: Ym((r = e.style) === null || r === void 0 ? void 0 : r.width), containerHeight: Ym((n = e.style) === null || n === void 0 ? void 0 : n.height) }), l = A.useCallback((d, h) => { s(m => { var g = Math.round(d), v = Math.round(h); return m.containerWidth === g && m.containerHeight === v ? m : { containerWidth: g, containerHeight: v } }) }, []), f = A.useCallback(d => { if (typeof t == "function" && t(d), d != null && typeof ResizeObserver < "u") { var { width: h, height: m } = d.getBoundingClientRect(); l(h, m); var g = y => { var b = y[0]; if (b != null) { var { width: _, height: k } = b.contentRect; l(_, k) } }, v = new ResizeObserver(g); v.observe(d), a.current = v } }, [t, l]); return A.useEffect(() => () => { var d = a.current; d != null && d.disconnect() }, [l]), A.createElement(A.Fragment, null, A.createElement(g0, { width: i.containerWidth, height: i.containerHeight }), A.createElement("div", Mo({ ref: f }, e))) }), mle = A.forwardRef((e, t) => { var { width: r, height: n } = e, [a, i] = A.useState({ containerWidth: Ym(r), containerHeight: Ym(n) }), s = A.useCallback((f, d) => { i(h => { var m = Math.round(f), g = Math.round(d); return h.containerWidth === m && h.containerHeight === g ? h : { containerWidth: m, containerHeight: g } }) }, []), l = A.useCallback(f => { if (typeof t == "function" && t(f), f != null) { var { width: d, height: h } = f.getBoundingClientRect(); s(d, h) } }, [t, s]); return A.createElement(A.Fragment, null, A.createElement(g0, { width: a.containerWidth, height: a.containerHeight }), A.createElement("div", Mo({ ref: l }, e))) }), gle = A.forwardRef((e, t) => { var { width: r, height: n } = e; return A.createElement(A.Fragment, null, A.createElement(g0, { width: r, height: n }), A.createElement("div", Mo({ ref: t }, e))) }), xle = A.forwardRef((e, t) => { var { width: r, height: n } = e; return typeof r == "string" || typeof n == "string" ? A.createElement(mle, Mo({}, e, { ref: t })) : typeof r == "number" && typeof n == "number" ? A.createElement(gle, Mo({}, e, { width: r, height: n, ref: t })) : A.createElement(A.Fragment, null, A.createElement(g0, { width: r, height: n }), A.createElement("div", Mo({ ref: t }, e))) }); function vle(e) { return e ? ple : xle } var yle = A.forwardRef((e, t) => { var { children: r, className: n, height: a, onClick: i, onContextMenu: s, onDoubleClick: l, onMouseDown: f, onMouseEnter: d, onMouseLeave: h, onMouseMove: m, onMouseUp: g, onTouchEnd: v, onTouchMove: y, onTouchStart: b, style: _, width: k, responsive: C, dispatchTouchEvents: T = !0 } = e, j = A.useRef(null), R = rr(), [O, I] = A.useState(null), [H, F] = A.useState(null), X = lle(), V = eS(), U = (V == null ? void 0 : V.width) > 0 ? V.width : k, ee = (V == null ? void 0 : V.height) > 0 ? V.height : a, re = A.useCallback(oe => { X(oe), typeof t == "function" && t(oe), I(oe), F(oe), oe != null && (j.current = oe) }, [X, t, I, F]), de = A.useCallback(oe => { R(z6(oe)), R(za({ handler: i, reactEvent: oe })) }, [R, i]), D = A.useCallback(oe => { R(r_(oe)), R(za({ handler: d, reactEvent: oe })) }, [R, d]), z = A.useCallback(oe => { R(b8()), R(za({ handler: h, reactEvent: oe })) }, [R, h]), ie = A.useCallback(oe => { R(r_(oe)), R(za({ handler: m, reactEvent: oe })) }, [R, m]), M = A.useCallback(() => { R(K6()) }, [R]), te = A.useCallback(oe => { R(W6(oe.key)) }, [R]), G = A.useCallback(oe => { R(za({ handler: s, reactEvent: oe })) }, [R, s]), P = A.useCallback(oe => { R(za({ handler: l, reactEvent: oe })) }, [R, l]), W = A.useCallback(oe => { R(za({ handler: f, reactEvent: oe })) }, [R, f]), J = A.useCallback(oe => { R(za({ handler: g, reactEvent: oe })) }, [R, g]), B = A.useCallback(oe => { R(za({ handler: b, reactEvent: oe })) }, [R, b]), ce = A.useCallback(oe => { T && R(X6(oe)), R(za({ handler: y, reactEvent: oe })) }, [R, T, y]), fe = A.useCallback(oe => { R(za({ handler: v, reactEvent: oe })) }, [R, v]), le = vle(C); return A.createElement($8.Provider, { value: O }, A.createElement(Z4.Provider, { value: H }, A.createElement(le, { width: U ?? (_ == null ? void 0 : _.width), height: ee ?? (_ == null ? void 0 : _.height), className: At("recharts-wrapper", n), style: cle({ position: "relative", cursor: "default", width: U, height: ee }, _), onClick: de, onContextMenu: G, onDoubleClick: P, onFocus: M, onKeyDown: te, onMouseDown: W, onMouseEnter: D, onMouseLeave: z, onMouseMove: ie, onMouseUp: J, onTouchEnd: fe, onTouchMove: ce, onTouchStart: B, ref: re }, A.createElement(hle, null), r))) }), ble = ["width", "height", "responsive", "children", "className", "style", "compact", "title", "desc"]; function wle(e, t) { if (e == null) return {}; var r, n, a = _le(e, t); if (Object.getOwnPropertySymbols) { var i = Object.getOwnPropertySymbols(e); for (n = 0; n < i.length; n++)r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (a[r] = e[r]) } return a } function _le(e, t) { if (e == null) return {}; var r = {}; for (var n in e) if ({}.hasOwnProperty.call(e, n)) { if (t.indexOf(n) !== -1) continue; r[n] = e[n] } return r } var tL = A.forwardRef((e, t) => { var { width: r, height: n, responsive: a, children: i, className: s, style: l, compact: f, title: d, desc: h } = e, m = wle(e, ble), g = Xn(m); return f ? A.createElement(A.Fragment, null, A.createElement(g0, { width: r, height: n }), A.createElement(LR, { otherAttributes: g, title: d, desc: h }, i)) : A.createElement(yle, { className: s, style: l, width: r, height: n, responsive: a ?? !1, onClick: e.onClick, onMouseLeave: e.onMouseLeave, onMouseEnter: e.onMouseEnter, onMouseMove: e.onMouseMove, onMouseDown: e.onMouseDown, onMouseUp: e.onMouseUp, onContextMenu: e.onContextMenu, onDoubleClick: e.onDoubleClick, onTouchStart: e.onTouchStart, onTouchMove: e.onTouchMove, onTouchEnd: e.onTouchEnd }, A.createElement(LR, { otherAttributes: g, title: d, desc: h, ref: t }, A.createElement(hae, null, i))) }); function n_() { return n_ = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, n_.apply(null, arguments) } var Sle = { top: 5, right: 5, bottom: 5, left: 5 }, Ele = { accessibilityLayer: !0, barCategoryGap: "10%", barGap: 4, layout: "horizontal", margin: Sle, responsive: !1, reverseStackOrder: !1, stackOffset: "none", syncMethod: "index" }, ME = A.forwardRef(function (t, r) { var n, a = kr(t.categoricalChartProps, Ele), { chartName: i, defaultTooltipEventType: s, validateTooltipEventTypes: l, tooltipPayloadSearcher: f, categoricalChartProps: d } = t, h = { chartName: i, defaultTooltipEventType: s, validateTooltipEventTypes: l, tooltipPayloadSearcher: f, eventEmitter: void 0 }; return A.createElement(Z6, { preloadedState: { options: h }, reduxStoreName: (n = d.id) !== null && n !== void 0 ? n : i }, A.createElement(p6, { chartData: d.data }), A.createElement(Q6, { layout: a.layout, margin: a.margin }), A.createElement(eL, { baseValue: a.baseValue, accessibilityLayer: a.accessibilityLayer, barCategoryGap: a.barCategoryGap, maxBarSize: a.maxBarSize, stackOffset: a.stackOffset, barGap: a.barGap, barSize: a.barSize, syncId: a.syncId, syncMethod: a.syncMethod, className: a.className, reverseStackOrder: a.reverseStackOrder }), A.createElement(tL, n_({}, a, { ref: r }))) }), kle = ["axis", "item"], Hp = A.forwardRef((e, t) => A.createElement(ME, { chartName: "BarChart", defaultTooltipEventType: "axis", validateTooltipEventTypes: kle, tooltipPayloadSearcher: ax, categoricalChartProps: e, ref: t })); function Tle(e) { var t = rr(); return A.useEffect(() => { t(Yoe(e)) }, [t, e]), null } var Nle = ["layout"]; function a_() { return a_ = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) ({}).hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, a_.apply(null, arguments) } function Ale(e, t) { if (e == null) return {}; var r, n, a = Cle(e, t); if (Object.getOwnPropertySymbols) { var i = Object.getOwnPropertySymbols(e); for (n = 0; n < i.length; n++)r = i[n], t.indexOf(r) === -1 && {}.propertyIsEnumerable.call(e, r) && (a[r] = e[r]) } return a } function Cle(e, t) { if (e == null) return {}; var r = {}; for (var n in e) if ({}.hasOwnProperty.call(e, n)) { if (t.indexOf(n) !== -1) continue; r[n] = e[n] } return r } var jle = { top: 5, right: 5, bottom: 5, left: 5 }, rL = { accessibilityLayer: !0, stackOffset: "none", barCategoryGap: "10%", barGap: 4, margin: jle, reverseStackOrder: !1, syncMethod: "index", layout: "radial", responsive: !1, cx: "50%", cy: "50%", innerRadius: 0, outerRadius: "80%" }, Ile = A.forwardRef(function (t, r) { var n, a = kr(t.categoricalChartProps, rL), { layout: i } = a, s = Ale(a, Nle), { chartName: l, defaultTooltipEventType: f, validateTooltipEventTypes: d, tooltipPayloadSearcher: h } = t, m = { chartName: l, defaultTooltipEventType: f, validateTooltipEventTypes: d, tooltipPayloadSearcher: h, eventEmitter: void 0 }; return A.createElement(Z6, { preloadedState: { options: m }, reduxStoreName: (n = a.id) !== null && n !== void 0 ? n : l }, A.createElement(p6, { chartData: a.data }), A.createElement(Q6, { layout: i, margin: a.margin }), A.createElement(eL, { baseValue: void 0, accessibilityLayer: a.accessibilityLayer, barCategoryGap: a.barCategoryGap, maxBarSize: a.maxBarSize, stackOffset: a.stackOffset, barGap: a.barGap, barSize: a.barSize, syncId: a.syncId, syncMethod: a.syncMethod, className: a.className, reverseStackOrder: a.reverseStackOrder }), A.createElement(Tle, { cx: a.cx, cy: a.cy, startAngle: a.startAngle, endAngle: a.endAngle, innerRadius: a.innerRadius, outerRadius: a.outerRadius }), A.createElement(tL, a_({}, s, { ref: r }))) }); function UR(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (a) { return Object.getOwnPropertyDescriptor(e, a).enumerable })), r.push.apply(r, n) } return r } function BR(e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t] != null ? arguments[t] : {}; t % 2 ? UR(Object(r), !0).forEach(function (n) { Ole(e, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : UR(Object(r)).forEach(function (n) { Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n)) }) } return e } function Ole(e, t, r) { return (t = Rle(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function Rle(e) { var t = Ple(e, "string"); return typeof t == "symbol" ? t : t + "" } function Ple(e, t) { if (typeof e != "object" || !e) return e; var r = e[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(e, t); if (typeof n != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (t === "string" ? String : Number)(e) } var Dle = ["item"], Mle = BR(BR({}, rL), {}, { layout: "centric", startAngle: 0, endAngle: 360 }), Lle = A.forwardRef((e, t) => { var r = kr(e, Mle); return A.createElement(Ile, { chartName: "PieChart", defaultTooltipEventType: "item", validateTooltipEventTypes: Dle, tooltipPayloadSearcher: ax, categoricalChartProps: r, ref: t }) }), Fle = ["axis"], Ule = A.forwardRef((e, t) => A.createElement(ME, { chartName: "AreaChart", defaultTooltipEventType: "axis", validateTooltipEventTypes: Fle, tooltipPayloadSearcher: ax, categoricalChartProps: e, ref: t })), Ble = ["axis"], $le = A.forwardRef((e, t) => A.createElement(ME, { chartName: "ComposedChart", defaultTooltipEventType: "axis", validateTooltipEventTypes: Ble, tooltipPayloadSearcher: ax, categoricalChartProps: e, ref: t })); const zle = ({ currentRange: e, onRangeChange: t }) => c.jsxs("div", { className: "flex bg-slate-100 dark:bg-slate-800 p-1 rounded-xl", children: [c.jsx("button", { onClick: () => t("month"), className: `px-4 py-1.5 rounded-lg text-sm font-medium transition-all ${e === "month" ? "bg-white dark:bg-slate-700 text-slate-900 dark:text-white shadow-sm" : "text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`, children: "Month" }), c.jsx("button", { onClick: () => t("semester"), className: `px-4 py-1.5 rounded-lg text-sm font-medium transition-all ${e === "semester" ? "bg-white dark:bg-slate-700 text-slate-900 dark:text-white shadow-sm" : "text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`, children: "Semester" }), c.jsx("button", { onClick: () => t("year"), className: `px-4 py-1.5 rounded-lg text-sm font-medium transition-all ${e === "year" ? "bg-white dark:bg-slate-700 text-slate-900 dark:text-white shadow-sm" : "text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`, children: "Year" })] }), bo = ({ label: e, value: t, icon: r, color: n, trend: a, onClick: i, className: s = "" }) => { const l = { emerald: "bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400", blue: "bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400", amber: "bg-amber-50 dark:bg-amber-900/20 text-amber-600 dark:text-amber-400", purple: "bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400", red: "bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400", indigo: "bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400", teal: "bg-teal-50 dark:bg-teal-900/20 text-teal-600 dark:text-teal-400" }; return c.jsxs("div", { onClick: i, className: `glass-panel p-5 relative overflow-hidden group transition-all duration-300 hover:scale-[1.02] ${i ? "cursor-pointer" : ""} ${s}`, children: [c.jsxs("div", { className: "flex justify-between items-start mb-4", children: [c.jsx("div", { className: `w-12 h-12 rounded-xl flex items-center justify-center text-xl ${l[n]}`, children: c.jsx("i", { className: `fa-solid ${r}` }) }), a && c.jsxs("div", { className: `text-xs font-semibold px-2 py-1 rounded-full flex items-center gap-1 ${a.isPositive ? "bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400" : "bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`, children: [c.jsx("i", { className: `fa-solid fa-arrow-${a.isPositive ? "up" : "down"}` }), Math.abs(a.value), "%"] })] }), c.jsxs("div", { children: [c.jsx("div", { className: "text-3xl font-bold text-slate-800 dark:text-white mb-1 group-hover:translate-x-1 transition-transform", children: t }), c.jsxs("div", { className: "text-sm font-medium text-slate-500 dark:text-slate-400", children: [e, (a == null ? void 0 : a.label) && c.jsxs("span", { className: "opacity-70 ml-1 font-normal", children: ["- ", a.label] })] })] }), c.jsx("div", { className: `absolute -right-6 -bottom-6 w-24 h-24 rounded-full opacity-0 group-hover:opacity-10 transition-opacity blur-2xl ${l[n].replace("text-", "bg-").split(" ")[0]}` })] }) }, su = ["#10b981", "#3b82f6", "#f59e0b", "#8b5cf6", "#ef4444", "#6366f1", "#14b8a6"], Hle = ({ dailyReports: e, inventory: t, orders: r, users: n, t: a, onNavigate: i }) => { const [s, l] = A.useState("month"), f = A.useMemo(() => { const D = new Date; let z = new Date; return s === "month" ? z = new Date(D.getFullYear(), D.getMonth(), 1) : s === "semester" ? z.setMonth(D.getMonth() - 6) : s === "year" && z.setFullYear(D.getFullYear() - 1), e.filter(ie => new Date(ie.timestamp) >= z).sort((ie, M) => new Date(ie.timestamp).getTime() - new Date(M.timestamp).getTime()) }, [e, s]), d = A.useMemo(() => { const D = new Date; let z = new Date; return s === "month" ? z = new Date(D.getFullYear(), D.getMonth(), 1) : s === "semester" ? z.setMonth(D.getMonth() - 6) : s === "year" && z.setFullYear(D.getFullYear() - 1), r.filter(ie => new Date(ie.orderDate) >= z) }, [r, s]), h = f.reduce((D, z) => { var ie; return D + (((ie = z.totals) == null ? void 0 : ie.revenue) || 0) }, 0), m = f.reduce((D, z) => { var ie; return D + (((ie = z.totals) == null ? void 0 : ie.patients) || 0) }, 0), g = d.reduce((D, z) => D + (z.grandTotal || 0), 0), v = h - g, y = f.reduce((D, z) => { var ie; return D + (((ie = z.stats) == null ? void 0 : ie.newPts) || 0) }, 0), b = f.reduce((D, z) => { var ie; return D + (((ie = z.stats) == null ? void 0 : ie.estPts) || 0) }, 0), _ = f.reduce((D, z) => { var ie; return D + (((ie = z.stats) == null ? void 0 : ie.xrays) || 0) }, 0), k = f.reduce((D, z) => { var ie; return D + (((ie = z.operational) == null ? void 0 : ie.nurseVisits) || 0) }, 0), C = f.reduce((D, z) => { var ie, M, te, G, P, W, J, B; return D.cash += ((M = (ie = z.financials) == null ? void 0 : ie.methods) == null ? void 0 : M.cash) || 0, D.credit += ((G = (te = z.financials) == null ? void 0 : te.methods) == null ? void 0 : G.credit) || 0, D.check += ((W = (P = z.financials) == null ? void 0 : P.methods) == null ? void 0 : W.check) || 0, D.moneyOrder += ((B = (J = z.financials) == null ? void 0 : J.methods) == null ? void 0 : B.moneyOrder) || 0, D }, { cash: 0, credit: 0, check: 0, moneyOrder: 0 }), T = f.reduce((D, z) => (z.insurances && Object.keys(z.insurances).forEach(ie => { D[ie] = (D[ie] || 0) + z.insurances[ie] }), D), {}), j = f.reduce((D, z) => { var ie; return (ie = z.operational) != null && ie.providerVisits && Object.entries(z.operational.providerVisits).forEach(([M, te]) => { D[M] = (D[M] || 0) + te }), D }, {}), R = d.reduce((D, z) => { var M; const ie = ((M = n.find(te => te.id === z.createdBy)) == null ? void 0 : M.username) || "Unknown"; return D[ie] = (D[ie] || 0) + z.grandTotal, D }, {}), O = t.filter(D => D.stock <= D.minStock).length, I = t.filter(D => { if (!D.expiryDate) return !1; const z = new Date, ie = new Date(D.expiryDate), M = new Date; return M.setDate(z.getDate() + 30), ie >= z && ie <= M }).length, H = t.filter(D => D.expiryDate ? new Date(D.expiryDate) < new Date : !1).length, F = [...t].sort((D, z) => z.averageCost - D.averageCost).slice(0, 5), X = f.map(D => { var z, ie; return { date: new Date(D.timestamp).toLocaleDateString(void 0, { month: "short", day: "numeric" }), revenue: ((z = D.totals) == null ? void 0 : z.revenue) || 0, patients: ((ie = D.totals) == null ? void 0 : ie.patients) || 0 } }), V = A.useMemo(() => (X.length <= 31 || X.forEach(D => { new Date(D.date) }), X), [X]), U = [{ name: "Cash", value: C.cash }, { name: "Credit", value: C.credit }, { name: "Check", value: C.check }, { name: "Money Order", value: C.moneyOrder }], ee = Object.entries(T).map(([D, z]) => ({ name: D.replace(/([A-Z])/g, " $1").trim(), value: z })).filter(D => D.value > 0), re = Object.entries(j).map(([D, z]) => { const ie = n.find(M => M.id === D); return { name: ie ? ie.username : D, value: z } }).filter(D => D.value > 0), de = Object.entries(R).map(([D, z]) => ({ name: D, value: z })).sort((D, z) => z.value - D.value); return c.jsxs("div", { className: "space-y-6 animate-fade-in-up", children: [c.jsxs("div", { className: "flex flex-col md:flex-row justify-between items-center gap-4", children: [c.jsxs("div", { children: [c.jsx("h2", { className: "text-2xl font-bold text-slate-800 dark:text-white", children: "Analytics Overview" }), c.jsx("p", { className: "text-slate-500 text-sm", children: "Real-time performance metrics" })] }), c.jsx(zle, { currentRange: s, onRangeChange: l })] }), c.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4", children: [c.jsx(bo, { label: "Total Revenue", value: `$${h.toLocaleString()}`, icon: "fa-sack-dollar", color: "emerald" }), c.jsx(bo, { label: "Net Income", value: `$${v.toLocaleString()}`, icon: "fa-scale-balanced", color: "indigo" }), c.jsx(bo, { label: "Total Spend", value: `$${g.toLocaleString()}`, icon: "fa-money-bill-transfer", color: "red" }), c.jsx(bo, { label: "Total Patients", value: m.toLocaleString(), icon: "fa-users", color: "blue" }), c.jsx(bo, { label: "New Patients", value: y.toLocaleString(), icon: "fa-user-plus", color: "amber" }), c.jsx(bo, { label: "Est. Patients", value: b.toLocaleString(), icon: "fa-user-check", color: "teal" }), c.jsx(bo, { label: "Nurse Visits", value: k.toLocaleString(), icon: "fa-user-nurse", color: "purple" }), c.jsx(bo, { label: "X-Rays", value: _.toLocaleString(), icon: "fa-bone", color: "indigo" })] }), c.jsxs("div", { className: "grid grid-cols-1 lg:grid-cols-3 gap-6", children: [c.jsxs("div", { className: "lg:col-span-2 glass-panel p-6", children: [c.jsxs("h3", { className: "section-title mb-6", children: [c.jsx("span", { className: "section-title-bar" }), "Revenue & Patient Trend"] }), c.jsx("div", { className: "h-80 w-full", children: c.jsx(Nl, { width: "100%", height: "100%", children: c.jsxs($le, { data: V, children: [c.jsx("defs", { children: c.jsxs("linearGradient", { id: "colorRev", x1: "0", y1: "0", x2: "0", y2: "1", children: [c.jsx("stop", { offset: "5%", stopColor: "#10b981", stopOpacity: .2 }), c.jsx("stop", { offset: "95%", stopColor: "#10b981", stopOpacity: 0 })] }) }), c.jsx(Ml, { strokeDasharray: "3 3", vertical: !1, stroke: "#E2E8F0", opacity: .5 }), c.jsx(Ll, { dataKey: "date", axisLine: !1, tickLine: !1, tick: { fill: "#64748B", fontSize: 12 }, dy: 10, minTickGap: 30 }), c.jsx(Ao, { yAxisId: "left", axisLine: !1, tickLine: !1, tick: { fill: "#64748B", fontSize: 12 }, tickFormatter: D => `$${D / 1e3}k` }), c.jsx(Ao, { yAxisId: "right", orientation: "right", axisLine: !1, tickLine: !1, tick: { fill: "#64748B", fontSize: 12 } }), c.jsx(Al, { contentStyle: { borderRadius: "12px", border: "none", boxShadow: "0 4px 6px -1px rgb(0 0 0 / 0.1)" }, cursor: { stroke: "#94A3B8", strokeWidth: 1, strokeDasharray: "4 4" } }), c.jsx(Aw, {}), c.jsx(OE, { yAxisId: "left", type: "monotone", dataKey: "revenue", name: "Revenue", stroke: "#10b981", strokeWidth: 3, fillOpacity: 1, fill: "url(#colorRev)" }), c.jsx(A6, { yAxisId: "right", type: "monotone", dataKey: "patients", name: "Patients", stroke: "#3b82f6", strokeWidth: 3, dot: !1 })] }) }) })] }), c.jsxs("div", { className: "glass-panel p-6", children: [c.jsxs("h3", { className: "section-title mb-6", children: [c.jsx("span", { className: "section-title-bar" }), "Collections by Method"] }), c.jsx("div", { className: "h-80 w-full", children: c.jsx(Nl, { width: "100%", height: "100%", children: c.jsxs(Lle, { children: [c.jsx(u6, { data: U, cx: "50%", cy: "50%", innerRadius: 60, outerRadius: 80, paddingAngle: 5, dataKey: "value", children: U.map((D, z) => c.jsx(Do, { fill: su[z % su.length] }, `cell-${z}`)) }), c.jsx(Al, {}), c.jsx(Aw, { verticalAlign: "bottom", height: 36 })] }) }) })] })] }), c.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [c.jsxs("div", { className: "glass-panel p-6", children: [c.jsxs("h3", { className: "section-title mb-6", children: [c.jsx("span", { className: "section-title-bar" }), "Patients by Insurance"] }), c.jsx("div", { className: "h-64 w-full", children: c.jsx(Nl, { width: "100%", height: "100%", children: c.jsxs(Hp, { layout: "vertical", data: ee, margin: { left: 20 }, children: [c.jsx(Ml, { strokeDasharray: "3 3", horizontal: !0, vertical: !1, opacity: .3 }), c.jsx(Ll, { type: "number", hide: !0 }), c.jsx(Ao, { type: "category", dataKey: "name", width: 100, tick: { fontSize: 12 } }), c.jsx(Al, { cursor: { fill: "transparent" } }), c.jsx(_f, { dataKey: "value", name: "Patients", radius: [0, 4, 4, 0], children: ee.map((D, z) => c.jsx(Do, { fill: su[z % su.length] }, `cell-${z}`)) })] }) }) })] }), c.jsxs("div", { className: "glass-panel p-6", children: [c.jsxs("h3", { className: "section-title mb-6", children: [c.jsx("span", { className: "section-title-bar" }), "Patients by Provider"] }), c.jsx("div", { className: "h-64 w-full", children: c.jsx(Nl, { width: "100%", height: "100%", children: c.jsxs(Hp, { data: re, children: [c.jsx(Ml, { strokeDasharray: "3 3", vertical: !1, opacity: .3 }), c.jsx(Ll, { dataKey: "name", tick: { fontSize: 12 } }), c.jsx(Ao, {}), c.jsx(Al, { cursor: { fill: "transparent" } }), c.jsx(_f, { dataKey: "value", name: "Patients", fill: "#8b5cf6", radius: [4, 4, 0, 0] })] }) }) })] })] }), c.jsxs("div", { className: "grid grid-cols-1 lg:grid-cols-3 gap-6", children: [c.jsxs("div", { className: "glass-panel p-6", children: [c.jsxs("h3", { className: "section-title mb-4", children: [c.jsx("span", { className: "section-title-bar" }), "Inventory Health"] }), c.jsxs("div", { className: "space-y-4", children: [c.jsxs("div", { className: "flex justify-between items-center p-3 bg-red-50 dark:bg-red-900/10 rounded-xl", children: [c.jsxs("div", { className: "flex items-center gap-3", children: [c.jsx("div", { className: "w-10 h-10 rounded-lg bg-red-100 dark:bg-red-800 text-red-600 dark:text-red-200 flex items-center justify-center", children: c.jsx("i", { className: "fa-solid fa-triangle-exclamation" }) }), c.jsx("span", { className: "font-medium text-slate-700 dark:text-slate-200", children: "Below Minimum" })] }), c.jsx("span", { className: "text-xl font-bold text-slate-900 dark:text-white", children: O })] }), c.jsxs("div", { className: "flex justify-between items-center p-3 bg-amber-50 dark:bg-amber-900/10 rounded-xl", children: [c.jsxs("div", { className: "flex items-center gap-3", children: [c.jsx("div", { className: "w-10 h-10 rounded-lg bg-amber-100 dark:bg-amber-800 text-amber-600 dark:text-amber-200 flex items-center justify-center", children: c.jsx("i", { className: "fa-solid fa-clock" }) }), c.jsx("span", { className: "font-medium text-slate-700 dark:text-slate-200", children: "Expiring (30d)" })] }), c.jsx("span", { className: "text-xl font-bold text-slate-900 dark:text-white", children: I })] }), c.jsxs("div", { className: "flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-800 rounded-xl", children: [c.jsxs("div", { className: "flex items-center gap-3", children: [c.jsx("div", { className: "w-10 h-10 rounded-lg bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-300 flex items-center justify-center", children: c.jsx("i", { className: "fa-solid fa-ban" }) }), c.jsx("span", { className: "font-medium text-slate-700 dark:text-slate-200", children: "Expired" })] }), c.jsx("span", { className: "text-xl font-bold text-slate-900 dark:text-white", children: H })] })] }), c.jsx("h4", { className: "text-sm font-semibold text-slate-500 mt-6 mb-2 uppercase tracking-wider", children: "Most Expensive Items" }), c.jsx("div", { className: "space-y-3", children: F.map(D => c.jsxs("div", { className: "flex justify-between text-sm", children: [c.jsx("span", { className: "text-slate-700 dark:text-slate-300 truncate max-w-[70%]", children: D.name }), c.jsxs("span", { className: "font-mono font-medium", children: ["$", D.averageCost.toFixed(2)] })] }, D.id)) })] }), c.jsxs("div", { className: "glass-panel p-6 lg:col-span-2", children: [c.jsxs("h3", { className: "section-title mb-6", children: [c.jsx("span", { className: "section-title-bar" }), "Inventory Spend by Provider"] }), c.jsx("div", { className: "h-64 w-full", children: c.jsx(Nl, { width: "100%", height: "100%", children: c.jsxs(Hp, { layout: "vertical", data: de, margin: { left: 40 }, children: [c.jsx(Ml, { strokeDasharray: "3 3", horizontal: !0, vertical: !1, opacity: .3 }), c.jsx(Ll, { type: "number", tickFormatter: D => `$${D}` }), c.jsx(Ao, { type: "category", dataKey: "name", width: 100, tick: { fontSize: 12 } }), c.jsx(Al, { formatter: D => `$${D.toFixed(2)}`, cursor: { fill: "transparent" } }), c.jsx(_f, { dataKey: "value", name: "Total Spend", radius: [0, 4, 4, 0], children: de.map((D, z) => c.jsx(Do, { fill: su[(z + 2) % su.length] }, `cell-${z}`)) })] }) }) })] })] })] }) }, Gle = ({ inventory: e, dailyReports: t, pettyCashHistory: r, orders: n = [], users: a = [], t: i, onNavigate: s }) => { const l = () => { const d = new Date().getHours(); return d < 12 ? "Good morning" : d < 18 ? "Good afternoon" : "Good evening" }, f = [{ icon: "fa-boxes-stacked", label: "Inventory", route: mt.INVENTORY, color: "text-blue-500" }, { icon: "fa-truck", label: "Orders", route: mt.ORDERS, color: "text-amber-500" }, { icon: "fa-file-invoice-dollar", label: "Billing", route: mt.BILLING_WIZARD, color: "text-emerald-500" }, { icon: "fa-chart-pie", label: "Reports", route: mt.REPORTS, color: "text-purple-500" }]; return c.jsxs("div", { className: "page-container space-y-8 pb-24 md:pb-8", children: [c.jsxs("header", { className: "flex flex-col md:flex-row md:items-center justify-between gap-4", children: [c.jsxs("div", { children: [c.jsx("h1", { className: "text-display text-slate-900 dark:text-white", children: l() }), c.jsxs("p", { className: "text-subheading text-slate-500 dark:text-slate-400 mt-1", children: ["Your clinic is ", c.jsx("span", { className: "text-emerald-500 font-semibold", children: "online" }), "  ", e.length, " items tracked"] })] }), c.jsx("div", { className: "flex gap-3", children: c.jsxs("button", { onClick: () => s(mt.INVENTORY), className: "btn-primary flex items-center gap-2", children: [c.jsx("i", { className: "fa-solid fa-plus text-sm" }), "Add Item"] }) })] }), c.jsx(Hle, { dailyReports: t, inventory: e, orders: n, users: a, t: i, onNavigate: s }), c.jsxs("div", { className: "glass-panel p-6", children: [c.jsxs("div", { className: "section-title mb-5", children: [c.jsx("span", { className: "section-title-bar" }), c.jsx("span", { className: "text-slate-900 dark:text-white", children: "Quick Actions" })] }), c.jsx("div", { className: "grid grid-cols-2 md:grid-cols-4 gap-3", children: f.map(d => c.jsxs("button", { onClick: () => s(d.route), className: "flex flex-col items-center gap-3 p-5 rounded-2xl bg-slate-50 dark:bg-slate-800/50 hover:bg-slate-100 dark:hover:bg-slate-700/50 transition-colors group", children: [c.jsx("div", { className: "w-12 h-12 rounded-2xl bg-white dark:bg-slate-900 shadow-sm flex items-center justify-center group-hover:scale-110 transition-transform", children: c.jsx("i", { className: `fa-solid ${d.icon} ${d.color}` }) }), c.jsx("span", { className: "text-sm font-semibold text-slate-600 dark:text-slate-300", children: d.label })] }, d.route)) })] })] }) }, nL = ["Surgical", "PPE", "Pharma", "General", "Diagnostics", "Uncategorized"], Vle = ["unit_each", "unit_box", "unit_pack", "unit_bottle", "unit_vial", "unit_tube", "unit_roll", "unit_kit", "unit_ream", "unit_liter", "unit_gallon", "unit_ampoule"], aL = ["Front Desk", "Managers Office", "Nursing Station / Provider Station", "Exam Rooms", "Soiled Utility Room", "Break Room", "Laboratory"], qle = ({ items: e, user: t, hasPermission: r, onAddItem: n, onEditItem: a, onUpdateItem: i, onDeleteItem: s, onAuditItem: l, onScanClick: f, onImport: d, onMergeDuplicates: h, searchOverride: m, t: g }) => { const [v, y] = A.useState(""), [b, _] = A.useState("All"), [k, C] = A.useState("name"), [T, j] = A.useState(!1), [R, O] = A.useState(null), [I, H] = A.useState({}), F = A.useRef(null), [X, V] = A.useState(0), [U, ee] = A.useState(!1), [re, de] = A.useState(new Set), D = async (B, ce) => { de(fe => new Set(fe).add(B)); try { await ce() } finally { de(fe => { const le = new Set(fe); return le.delete(B), le }) } }; A.useEffect(() => { const B = {}; e.forEach(ce => { const fe = `${ce.name.toLowerCase()}-${ce.batchNumber}`; B[fe] = (B[fe] || 0) + 1 }), V(Object.values(B).filter(ce => ce > 1).length) }, [e]), A.useEffect(() => { m && y(m) }, [m]); const z = ["All", ...Array.from(new Set(e.map(B => B.category)))], ie = e.filter(B => { const ce = B.name.toLowerCase().includes(v.toLowerCase()) || B.batchNumber.toLowerCase().includes(v.toLowerCase()), fe = b === "All" || B.category === b; return ce && fe }), M = [...ie].sort((B, ce) => { switch (k) { case "name": return B.name.localeCompare(ce.name); case "stockAsc": return B.stock - ce.stock; case "stockDesc": return ce.stock - B.stock; case "expiry": return B.expiryDate ? ce.expiryDate ? new Date(B.expiryDate).getTime() - new Date(ce.expiryDate).getTime() : -1 : 1; default: return 0 } }), te = B => B.stock <= B.minStock ? "critical" : B.stock <= B.minStock * 1.5 ? "warning" : "healthy", G = B => { const ce = te(B); return ce === "critical" ? "bg-red-50 text-red-600 border-red-200 dark:bg-red-900/20 dark:text-red-400 dark:border-red-800" : ce === "warning" ? "bg-amber-50 text-amber-600 border-amber-200 dark:bg-amber-900/20 dark:text-amber-400 dark:border-amber-800" : "bg-emerald-50 text-emerald-600 border-emerald-200 dark:bg-emerald-900/20 dark:text-emerald-400 dark:border-emerald-800" }, P = B => { if (!B) return !1; const ce = new Date().toISOString().split("T")[0]; return B.startsWith(ce) }, W = B => { var fe; const ce = (fe = B.target.files) == null ? void 0 : fe[0]; ce && (d(ce), B.target.value = "") }, J = { total: e.length, lowStock: e.filter(B => B.stock <= B.minStock).length, expiring: e.filter(B => B.expiryDate && new Date(B.expiryDate).getTime() < new Date().getTime() + 720 * 60 * 60 * 1e3).length }; return c.jsxs("div", { className: "space-y-10 animate-fade-in-up", children: [c.jsx("input", { type: "file", ref: F, onChange: W, className: "hidden", accept: ".xlsx,.xls,.csv" }), c.jsxs("header", { className: "flex flex-col lg:flex-row lg:items-center justify-between gap-6 mb-6", children: [c.jsxs("div", { className: "flex items-center gap-4", children: [c.jsx("div", { className: "w-12 h-12 rounded-2xl bg-medical-500 flex items-center justify-center shadow-lg shadow-medical-500/20", children: c.jsx("i", { className: "fa-solid fa-box-open text-xl text-white" }) }), c.jsxs("div", { children: [c.jsx("h2", { className: "text-display text-slate-900 dark:text-white", children: g("inv_title") }), c.jsx("p", { className: "text-caption mt-0.5", children: g("inv_subtitle") })] })] }), c.jsxs("div", { className: "flex flex-wrap gap-4 pt-4", children: [c.jsxs("div", { className: "glass-panel px-6 py-3 rounded-2xl flex items-center gap-3 border shadow-sm group hover:scale-105 transition-transform", children: [c.jsx("div", { className: "w-10 h-10 rounded-xl bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-slate-500 dark:text-slate-400", children: c.jsx("i", { className: "fa-solid fa-layer-group" }) }), c.jsxs("div", { children: [c.jsx("div", { className: "text-[10px] font-black uppercase tracking-widest text-slate-400", children: "Total Items" }), c.jsx("div", { className: "text-lg font-black text-slate-900 dark:text-white leading-none", children: J.total })] })] }), J.lowStock > 0 && c.jsxs("div", { className: "glass-panel px-6 py-3 rounded-2xl flex items-center gap-3 border border-amber-200/50 bg-amber-50/10 dark:border-amber-900/30 group hover:scale-105 transition-transform", children: [c.jsx("div", { className: "w-10 h-10 rounded-xl bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center text-amber-600 dark:text-amber-400", children: c.jsx("i", { className: "fa-solid fa-triangle-exclamation" }) }), c.jsxs("div", { children: [c.jsx("div", { className: "text-[10px] font-black uppercase tracking-widest text-amber-500", children: "Low Stock" }), c.jsx("div", { className: "text-lg font-black text-amber-600 dark:text-amber-400 leading-none", children: J.lowStock })] })] }), J.expiring > 0 && c.jsxs("div", { className: "glass-panel px-6 py-3 rounded-2xl flex items-center gap-3 border border-red-200/50 bg-red-50/10 dark:border-red-900/30 group hover:scale-105 transition-transform", children: [c.jsx("div", { className: "w-10 h-10 rounded-xl bg-red-100 dark:bg-red-900/30 flex items-center justify-center text-red-600 dark:text-red-400", children: c.jsx("i", { className: "fa-solid fa-clock-rotate-left" }) }), c.jsxs("div", { children: [c.jsx("div", { className: "text-[10px] font-black uppercase tracking-widest text-red-500", children: "Expiring Soon" }), c.jsx("div", { className: "text-lg font-black text-red-600 dark:text-red-400 leading-none", children: J.expiring })] })] })] }), c.jsxs("div", { className: "flex flex-wrap gap-4 items-center", children: [r("inventory.audit") && c.jsxs("button", { onClick: () => j(!T), className: `h-14 px-8 rounded-2xl font-bold shadow-xl flex items-center gap-4 transition-all active:scale-95 group relative overflow-hidden ${T ? "bg-medical-600 text-white shadow-medical-500/30" : "glass-panel text-slate-900 dark:text-white"}`, children: [c.jsx("i", { className: `fa-solid ${T ? "fa-check-double" : "fa-clipboard-check"} text-xl group-hover:rotate-12 transition-transform` }), c.jsx("span", { className: "tracking-tight font-extrabold", children: g(T ? "btn_exit_audit" : "btn_audit_mode") }), T && c.jsx("span", { className: "absolute -top-1 -right-1 w-4 h-4 bg-emerald-500 border-2 border-white dark:border-slate-900 rounded-full animate-pulse" })] }), c.jsxs("div", { className: "flex gap-2", children: [r("inventory.edit") && !T && c.jsx("button", { onClick: () => { var B; return (B = F.current) == null ? void 0 : B.click() }, className: "w-14 h-14 glass-panel text-slate-900 dark:text-white rounded-2xl font-bold shadow-lg flex items-center justify-center transition-all hover:scale-110 active:scale-95 hover:bg-slate-50 dark:hover:bg-slate-700", title: g("btn_import"), children: c.jsx("i", { className: "fa-solid fa-file-import text-xl text-medical-600" }) }), r("inventory.edit") && !T && c.jsxs("button", { onClick: f, className: "h-14 px-6 glass-panel text-slate-900 dark:text-white rounded-2xl font-bold shadow-lg flex items-center gap-3 transition-all hover:scale-105 active:scale-95 group bg-gradient-to-r from-medical-50 to-teal-50 dark:from-medical-900/10 dark:to-teal-900/10 border-medical-200/40 dark:border-medical-800/40", title: "AI Scan", children: [c.jsx("i", { className: "fa-solid fa-wand-magic-sparkles text-xl text-medical-600 dark:text-medical-400 group-hover:rotate-12 transition-transform" }), c.jsx("span", { className: "tracking-tight font-extrabold hidden sm:inline text-medical-700 dark:text-medical-300", children: "Scan" })] }), r("inventory.edit") && !T && c.jsxs("button", { onClick: n, className: "h-14 px-8 bg-medical-600 text-white rounded-2xl font-bold shadow-2xl shadow-medical-500/40 flex items-center gap-3 transition-all hover:scale-105 active:scale-95 group", children: [c.jsx("i", { className: "fa-solid fa-plus text-xl group-hover:rotate-90 transition-transform" }), c.jsx("span", { className: "tracking-tight font-extrabold", children: g("btn_add") })] })] })] })] }), c.jsx("div", { className: "sticky top-4 z-40 mx-[-1rem] px-4 md:mx-0 md:px-0", children: c.jsxs("div", { className: "glass-panel p-3 rounded-[2.5rem] luxury-shadow flex flex-col md:flex-row gap-3 border-white/50 dark:border-slate-800/80", children: [c.jsxs("div", { className: "relative flex-1 group", children: [c.jsx("div", { className: "absolute left-6 top-1/2 -translate-y-1/2 pointer-events-none transition-transform group-focus-within:scale-110", children: c.jsx("i", { className: "fa-solid fa-magnifying-glass text-xl text-slate-400 group-focus-within:text-medical-500 transition-colors" }) }), c.jsx("input", { type: "text", placeholder: g("search_placeholder"), value: v, onChange: B => y(B.target.value), className: "w-full pl-16 pr-8 h-14 bg-slate-50/50 dark:bg-slate-900/50 text-slate-900 dark:text-white focus:outline-none font-bold text-lg placeholder-slate-400 rounded-[1.5rem] border-none focus:ring-4 ring-medical-500/10 transition-all font-sans" })] }), c.jsxs("div", { className: "flex gap-3 overflow-x-auto pb-1 md:pb-0 px-1 custom-scrollbar", children: [c.jsxs("div", { className: "relative min-w-[180px]", children: [c.jsx("i", { className: "fa-solid fa-filter absolute left-5 top-1/2 -translate-y-1/2 text-slate-400" }), c.jsxs("select", { value: b, onChange: B => _(B.target.value), className: "w-full h-14 pl-12 pr-10 bg-slate-50/50 dark:bg-slate-900/50 border-none rounded-[1.5rem] text-sm font-bold text-slate-700 dark:text-slate-200 focus:outline-none cursor-pointer appearance-none ring-medical-500/10 focus:ring-4 transition-all", children: [c.jsx("option", { value: "All", children: g("cat_all") }), z.filter(B => B !== "All").map(B => c.jsx("option", { value: B, children: B }, B))] }), c.jsx("i", { className: "fa-solid fa-chevron-down absolute right-5 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none text-[10px]" })] }), c.jsxs("div", { className: "relative min-w-[180px]", children: [c.jsx("i", { className: "fa-solid fa-sort absolute left-5 top-1/2 -translate-y-1/2 text-slate-400" }), c.jsxs("select", { value: k, onChange: B => C(B.target.value), className: "w-full h-14 pl-12 pr-10 bg-slate-50/50 dark:bg-slate-900/50 border-none rounded-[1.5rem] text-sm font-bold text-slate-700 dark:text-slate-200 focus:outline-none cursor-pointer appearance-none ring-medical-500/10 focus:ring-4 transition-all", children: [c.jsx("option", { value: "name", children: "Name (A-Z)" }), c.jsx("option", { value: "stockAsc", children: "Low Stock First" }), c.jsx("option", { value: "stockDesc", children: "High Stock First" }), c.jsx("option", { value: "expiry", children: "Expiry Date" })] }), c.jsx("i", { className: "fa-solid fa-chevron-down absolute right-5 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none text-[10px]" })] })] })] }) }), c.jsx("div", { className: "hidden md:block glass-panel rounded-[2rem] luxury-shadow overflow-hidden border-white/40 dark:border-slate-800/50", children: c.jsxs("table", { className: "w-full text-left border-separate border-spacing-0", children: [c.jsx("thead", { className: "text-[11px] font-black text-slate-400 uppercase tracking-[0.2em] bg-slate-50/50 dark:bg-slate-900/50 border-b border-slate-200 dark:border-slate-800", children: c.jsxs("tr", { children: [c.jsx("th", { className: "px-8 py-6", children: g("th_details") }), c.jsx("th", { className: "px-8 py-6", children: g("th_category") }), c.jsx("th", { className: "px-8 py-6", children: g("th_batch") }), c.jsx("th", { className: "px-8 py-6 text-center", children: g("th_expiry") }), c.jsx("th", { className: "px-8 py-6 text-center", children: g("th_stock") }), c.jsx("th", { className: "px-8 py-6 text-right", children: g(T ? "th_status" : "th_controls") })] }) }), c.jsx("tbody", { className: "divide-y divide-slate-100 dark:divide-slate-800/50", children: M.map((B, ce) => c.jsxs("tr", { className: `group hover:bg-white/70 dark:hover:bg-slate-800/40 transition-all duration-300 ${R === B.id ? "bg-indigo-50/50 dark:bg-indigo-900/20" : ""}`, style: { animationDelay: `${ce * 30}ms` }, children: [c.jsx("td", { className: "px-8 py-6 cursor-pointer", onClick: () => { R !== B.id && (O(B.id), H({ ...B })) }, children: R === B.id ? c.jsxs("div", { className: "space-y-2 max-w-[200px]", children: [c.jsx("input", { type: "text", value: I.name || "", onChange: fe => H({ ...I, name: fe.target.value }), className: "w-full px-4 py-2 rounded-xl border border-medical-200 dark:border-medical-800 bg-white dark:bg-slate-800 text-sm font-bold shadow-inner focus:ring-2 focus:ring-medical-500 transition-all", autoFocus: !0, onClick: fe => fe.stopPropagation() }), c.jsx("select", { value: I.location || "", onChange: fe => H({ ...I, location: fe.target.value }), className: "w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-[10px] font-extrabold focus:ring-2 focus:ring-medical-500 appearance-none", onClick: fe => fe.stopPropagation(), children: aL.map(fe => c.jsx("option", { value: fe, children: fe }, fe)) })] }) : c.jsxs("div", { className: "flex items-center gap-4", children: [c.jsx("div", { className: `w-2 h-12 rounded-full ${te(B) === "critical" ? "bg-red-500" : te(B) === "warning" ? "bg-amber-500" : "bg-emerald-500"} opacity-20 group-hover:opacity-100 transition-opacity` }), c.jsxs("div", { children: [c.jsx("div", { className: "font-extrabold text-slate-900 dark:text-white text-lg tracking-tight group-hover:text-medical-600 transition-colors", children: B.name }), c.jsxs("div", { className: "text-[10px] font-extrabold text-slate-400 mt-1 uppercase tracking-widest flex items-center gap-1.5 pt-1", children: [c.jsx("i", { className: "fa-solid fa-location-dot text-medical-500/60" }), " ", B.location] })] })] }) }), c.jsx("td", { className: "px-8 py-6", children: R === B.id ? c.jsx("select", { value: I.category || "", onChange: fe => H({ ...I, category: fe.target.value }), className: "w-full px-4 py-2 rounded-xl border border-indigo-200 dark:border-indigo-800 bg-white dark:bg-slate-800 text-xs font-bold focus:ring-2 focus:ring-indigo-500 appearance-none", onClick: fe => fe.stopPropagation(), children: nL.map(fe => c.jsx("option", { value: fe, children: fe }, fe)) }) : c.jsx("span", { className: "px-4 py-1.5 rounded-xl text-[10px] font-black uppercase tracking-wider bg-slate-100 dark:bg-slate-800 text-slate-500 dark:text-slate-400 border border-slate-200/50 dark:border-slate-700/50", children: B.category }) }), c.jsx("td", { className: "px-8 py-6", children: R === B.id ? c.jsx("input", { type: "text", value: I.batchNumber || "", onChange: fe => H({ ...I, batchNumber: fe.target.value }), className: "w-full px-4 py-2 rounded-xl border border-indigo-200 dark:border-indigo-800 bg-white dark:bg-slate-800 text-xs font-mono font-bold focus:ring-2 focus:ring-indigo-500", onClick: fe => fe.stopPropagation() }) : c.jsx("span", { className: "text-xs font-bold text-slate-400 font-mono tracking-tighter bg-slate-50 dark:bg-slate-900/50 px-3 py-1 rounded-lg border border-slate-100 dark:border-slate-800", children: B.batchNumber }) }), c.jsx("td", { className: "px-8 py-6 text-center", children: R === B.id ? c.jsx("input", { type: "date", value: I.expiryDate ? new Date(I.expiryDate).toISOString().split("T")[0] : "", onChange: fe => H({ ...I, expiryDate: fe.target.value }), className: "w-full px-3 py-2 rounded-xl border border-indigo-200 dark:border-indigo-800 bg-white dark:bg-slate-800 text-[10px] font-bold focus:ring-2 focus:ring-indigo-500", onClick: fe => fe.stopPropagation() }) : B.expiryDate ? c.jsxs("div", { className: "flex flex-col items-center gap-1", children: [c.jsx("span", { className: `text-[10px] font-black px-3 py-1.5 rounded-xl tracking-tighter uppercase ${new Date(B.expiryDate) < new Date ? "bg-red-500 text-white shadow-lg shadow-red-500/20" : "bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300"}`, children: new Date(B.expiryDate).toLocaleDateString(void 0, { month: "short", day: "numeric", year: "numeric" }) }), new Date(B.expiryDate) < new Date && c.jsx("span", { className: "text-[8px] font-black text-red-500 uppercase tracking-widest animate-pulse", children: "Expired" })] }) : c.jsx("span", { className: "text-slate-300", children: "-" }) }), c.jsx("td", { className: "px-8 py-6 text-center", children: R === B.id ? c.jsx("input", { type: "number", value: I.stock || 0, onChange: fe => H({ ...I, stock: parseInt(fe.target.value) || 0 }), className: "w-24 px-4 py-2 rounded-xl border border-indigo-200 dark:border-indigo-800 bg-white dark:bg-slate-800 text-center text-lg font-black focus:ring-2 focus:ring-indigo-500 shadow-inner", onClick: fe => fe.stopPropagation() }) : c.jsxs("div", { className: "flex flex-col items-center gap-2 group/stock", children: [c.jsxs("div", { className: `inline-flex items-center gap-3 px-6 py-3 rounded-[1.5rem] border shadow-sm transition-all group-hover/stock:scale-110 ${G(B)}`, children: [c.jsx("span", { className: "font-black text-2xl leading-none tracking-tighter", children: B.stock }), c.jsx("span", { className: "text-[10px] uppercase font-black tracking-widest opacity-60", children: g(B.unit || "unit_each") })] }), c.jsxs("div", { className: "flex items-center gap-2", children: [c.jsx("div", { className: `w-2.5 h-2.5 rounded-full ${te(B) === "critical" ? "bg-red-500 shadow-[0_0_10px_rgba(239,68,68,0.6)] animate-pulse" : te(B) === "warning" ? "bg-amber-500 shadow-[0_0_10px_rgba(245,158,11,0.4)]" : "bg-emerald-500 shadow-[0_0_10px_rgba(16,185,129,0.3)]"}` }), c.jsx("span", { className: `text-[10px] font-black uppercase tracking-tighter ${te(B) === "critical" ? "text-red-600" : te(B) === "warning" ? "text-amber-600" : "text-emerald-600"}`, children: te(B) === "critical" ? "Critical" : te(B) === "warning" ? "Low" : "Healthy" })] })] }) }), c.jsx("td", { className: "px-8 py-6 text-right", children: c.jsx("div", { className: "flex flex-col items-end gap-4", children: R === B.id ? c.jsxs("div", { className: "flex items-center gap-3", children: [c.jsx("button", { onClick: () => { i(B.id, I), O(null) }, className: "w-12 h-12 rounded-2xl bg-emerald-500 text-white flex items-center justify-center hover:bg-emerald-600 shadow-xl shadow-emerald-500/30 transition-all hover:scale-110 active:scale-95", children: c.jsx("i", { className: "fa-solid fa-check text-lg" }) }), c.jsx("button", { onClick: () => O(null), className: "w-12 h-12 rounded-2xl bg-slate-100 dark:bg-slate-800 text-slate-500 flex items-center justify-center hover:bg-slate-200 transition-all active:scale-95", children: c.jsx("i", { className: "fa-solid fa-xmark text-lg" }) })] }) : c.jsxs("div", { className: "flex items-center justify-end gap-3", children: [T && c.jsx("div", { className: "mr-4", children: B.lastChecked && P(B.lastChecked) && B.stock > B.minStock ? c.jsxs("div", { className: "flex flex-col items-end gap-2 group/audit", children: [c.jsxs("div", { className: "flex items-center gap-2 bg-emerald-50 dark:bg-emerald-900/20 px-4 py-2 rounded-xl border border-emerald-100 dark:border-emerald-800 shadow-sm animate-fade-in", children: [c.jsx("i", { className: "fa-solid fa-check-double text-emerald-500 text-xs" }), c.jsxs("div", { className: "text-right", children: [c.jsx("div", { className: "text-[9px] font-black text-emerald-600 dark:text-emerald-400 uppercase tracking-widest leading-none", children: "Verified" }), c.jsxs("div", { className: "text-[8px] font-bold text-slate-400 uppercase tracking-tight mt-0.5 whitespace-nowrap", children: [B.lastCheckedBy, " @ ", new Date(B.lastChecked).toLocaleTimeString([], { hour: "2-digit", minute: "2-digit" })] })] })] }), c.jsxs("button", { onClick: () => l(B.id), className: "text-[9px] font-black text-slate-400 hover:text-indigo-600 transition-colors uppercase tracking-widest flex items-center gap-1.5 px-2 active:scale-95", children: [c.jsx("i", { className: "fa-solid fa-rotate-right text-[8px]" }), g("btn_reverify")] })] }) : c.jsxs("button", { onClick: () => D(B.id, async () => l(B.id)), disabled: re.has(B.id), className: `h-11 px-6 text-white rounded-xl text-[11px] font-black shadow-lg active:scale-95 transition-all flex items-center gap-3 relative overflow-hidden group/auditbtn ${te(B) === "critical" ? "bg-red-600 hover:bg-red-700 shadow-red-500/30" : "bg-indigo-600 hover:bg-indigo-700 shadow-indigo-500/20"} ${re.has(B.id) ? "opacity-75 cursor-wait" : ""}`, children: [re.has(B.id) ? c.jsx("i", { className: "fa-solid fa-circle-notch fa-spin text-base" }) : c.jsxs(c.Fragment, { children: [c.jsx("div", { className: "absolute inset-0 bg-white/10 translate-x-[-100%] group-hover/auditbtn:translate-x-[100%] transition-transform duration-1000" }), c.jsx("i", { className: `fa-solid ${te(B) === "critical" ? "fa-triangle-exclamation animate-bounce" : "fa-clipboard-check"} text-base` })] }), c.jsx("span", { className: "tracking-widest uppercase", children: re.has(B.id) ? "Saving..." : te(B) === "critical" ? "Verify Now" : g("btn_verify_now") || "Verify Now" })] }) }), c.jsxs("div", { className: "flex items-center gap-1 bg-slate-50 dark:bg-slate-900/50 p-1.5 rounded-[1.5rem] border border-slate-100 dark:border-slate-800", children: [c.jsx("button", { onClick: () => D(B.id, async () => i(B.id, { stock: Math.max(0, B.stock - 1) })), disabled: re.has(B.id), className: "w-10 h-10 rounded-xl hover:bg-red-500 hover:text-white flex items-center justify-center transition-all text-sm active:scale-90 disabled:opacity-50", children: c.jsx("i", { className: "fa-solid fa-minus" }) }), c.jsx("button", { onClick: () => D(B.id, async () => i(B.id, { stock: B.stock + 1 })), disabled: re.has(B.id), className: "w-10 h-10 rounded-xl hover:bg-emerald-500 hover:text-white flex items-center justify-center transition-all text-sm active:scale-90 disabled:opacity-50", children: c.jsx("i", { className: "fa-solid fa-plus" }) }), r("inventory.edit") && c.jsx("button", { onClick: () => a(B), className: "w-10 h-10 rounded-xl bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 hover:bg-indigo-600 hover:text-white flex items-center justify-center transition-all text-sm active:scale-90 ml-1", children: c.jsx("i", { className: "fa-solid fa-pen-to-square" }) })] })] }) }) })] }, B.id)) })] }) }), c.jsx("div", { className: "md:hidden grid grid-cols-1 sm:grid-cols-2 gap-6 pb-24", children: ie.map((B, ce) => c.jsxs("div", { className: "glass-panel rounded-[2.5rem] luxury-shadow overflow-hidden border-white/50 dark:border-slate-800/60 p-6 flex flex-col gap-6 animate-fade-in", style: { animationDelay: `${ce * 50}ms` }, children: [c.jsxs("div", { className: "flex justify-between items-start", children: [c.jsxs("div", { className: "flex gap-5", children: [c.jsxs("div", { className: `w-16 h-16 rounded-[2rem] flex flex-col items-center justify-center shrink-0 border-2 relative ${G(B)}`, children: [c.jsx("div", { className: `w-3 h-3 rounded-full absolute -top-1 -right-1 border-2 border-white dark:border-slate-900 ${te(B) === "critical" ? "bg-red-500 animate-pulse shadow-[0_0_10px_rgba(239,68,68,0.6)]" : te(B) === "warning" ? "bg-amber-500 shadow-[0_0_10px_rgba(245,158,11,0.4)]" : "bg-emerald-500 shadow-[0_0_10px_rgba(16,185,129,0.3)]"}` }), c.jsx("span", { className: "text-2xl font-black leading-none tracking-tighter", children: B.stock }), c.jsx("span", { className: "text-[9px] uppercase font-black opacity-60 mt-1 tracking-widest", children: g(B.unit || "unit_each").slice(0, 3) })] }), c.jsxs("div", { children: [c.jsx("h3", { className: "text-xl font-black text-slate-800 dark:text-white leading-tight tracking-tight", children: B.name }), c.jsxs("div", { className: "flex flex-wrap gap-2 mt-2", children: [c.jsx("span", { className: "px-3 py-1 bg-slate-100 dark:bg-slate-800 text-[9px] font-black uppercase tracking-wider text-slate-500 rounded-lg border border-slate-200/50 dark:border-slate-700/50", children: B.category }), c.jsxs("span", { className: "px-3 py-1 bg-indigo-50 dark:bg-indigo-900/20 text-[9px] font-black uppercase tracking-wider text-indigo-500 rounded-lg border border-indigo-100 dark:border-indigo-900/50", children: [c.jsx("i", { className: "fa-solid fa-location-dot mr-1" }), " ", B.location] })] })] })] }), r("inventory.edit") && c.jsx("button", { onClick: () => a(B), className: "w-10 h-10 glass-panel rounded-xl flex items-center justify-center text-slate-400 hover:text-indigo-500 transition-all active:scale-95", children: c.jsx("i", { className: "fa-solid fa-ellipsis-vertical" }) })] }), c.jsxs("div", { className: "grid grid-cols-2 gap-4", children: [c.jsxs("div", { className: "bg-slate-50/50 dark:bg-slate-900/50 p-4 rounded-2xl border border-slate-100 dark:border-slate-800 flex flex-col", children: [c.jsx("span", { className: "text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1", children: "Batch #" }), c.jsx("span", { className: "text-xs font-black text-slate-700 dark:text-slate-300 font-mono italic", children: B.batchNumber || "N/A" })] }), c.jsxs("div", { className: "bg-slate-50/50 dark:bg-slate-900/50 p-4 rounded-2xl border border-slate-100 dark:border-slate-800 flex flex-col", children: [c.jsx("span", { className: "text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1", children: "Expiry" }), c.jsx("span", { className: `text-xs font-black ${B.expiryDate && new Date(B.expiryDate) < new Date ? "text-red-500 animate-pulse" : "text-slate-700 dark:text-slate-300"}`, children: B.expiryDate ? new Date(B.expiryDate).toLocaleDateString(void 0, { month: "short", year: "numeric" }) : "N/A" })] })] }), c.jsxs("div", { className: "flex items-center gap-3", children: [c.jsx("button", { onClick: () => D(B.id, async () => i(B.id, { stock: Math.max(0, B.stock - 1) })), disabled: re.has(B.id), className: "flex-1 h-14 bg-white dark:bg-slate-800 rounded-2xl text-slate-400 hover:text-red-500 hover:bg-red-50 transition-all active:scale-95 flex items-center justify-center border border-slate-100 dark:border-slate-700 shadow-sm disabled:opacity-50", children: c.jsx("i", { className: "fa-solid fa-minus text-lg" }) }), c.jsx("button", { onClick: () => D(B.id, async () => i(B.id, { stock: B.stock + 1 })), disabled: re.has(B.id), className: "flex-1 h-14 bg-white dark:bg-slate-800 rounded-2xl text-slate-400 hover:text-emerald-500 hover:bg-emerald-50 transition-all active:scale-95 flex items-center justify-center border border-slate-100 dark:border-slate-700 shadow-sm disabled:opacity-50", children: c.jsx("i", { className: "fa-solid fa-plus text-lg" }) })] }), T && c.jsx("div", { className: "pt-2", children: B.lastChecked && P(B.lastChecked) && B.stock > B.minStock ? c.jsxs("div", { className: "space-y-3", children: [c.jsxs("div", { className: "w-full py-5 flex flex-col items-center justify-center bg-emerald-50 dark:bg-emerald-900/10 text-emerald-600 dark:text-emerald-400 rounded-3xl border border-emerald-100 dark:border-emerald-800 shadow-inner group/verified", children: [c.jsxs("div", { className: "flex items-center gap-2 mb-1", children: [c.jsx("i", { className: "fa-solid fa-check-circle text-2xl animate-pulse" }), c.jsx("span", { className: "font-black text-sm uppercase tracking-widest text-emerald-700 dark:text-emerald-300", children: "Verified Today" })] }), c.jsxs("span", { className: "text-[10px] font-bold opacity-80 italic", children: [B.lastCheckedBy, " at ", new Date(B.lastChecked).toLocaleTimeString([], { hour: "2-digit", minute: "2-digit" })] })] }), c.jsxs("button", { onClick: () => D(B.id, async () => l(B.id)), disabled: re.has(B.id), className: "w-full h-12 bg-white dark:bg-slate-800 text-slate-500 dark:text-slate-400 border border-slate-200 dark:border-slate-700 rounded-2xl font-black text-xs flex items-center justify-center gap-3 hover:bg-slate-50 transition-all active:scale-95 disabled:opacity-75 disabled:cursor-wait", children: [re.has(B.id) ? c.jsx("i", { className: "fa-solid fa-circle-notch fa-spin" }) : c.jsx("i", { className: "fa-solid fa-rotate-right" }), re.has(B.id) ? "Saving..." : g("btn_reverify")] })] }) : c.jsxs("button", { onClick: () => D(B.id, async () => l(B.id)), disabled: re.has(B.id), className: `w-full h-16 text-white rounded-3xl font-black text-base shadow-2xl active:scale-95 transition-all flex items-center justify-center gap-4 relative overflow-hidden group/mbaudit ${te(B) === "critical" ? "bg-red-600 shadow-red-500/40" : "bg-indigo-600 shadow-indigo-500/40"} ${re.has(B.id) ? "opacity-75 cursor-wait" : ""}`, children: [re.has(B.id) ? c.jsx("i", { className: "fa-solid fa-circle-notch fa-spin text-xl" }) : c.jsxs(c.Fragment, { children: [c.jsx("div", { className: "absolute inset-0 bg-white/20 translate-x-[-100%] group-hover/mbaudit:translate-x-[100%] transition-transform duration-1000" }), c.jsx("i", { className: `fa-solid ${te(B) === "critical" ? "fa-triangle-exclamation animate-bounce text-xl" : "fa-clipboard-check text-xl"}` })] }), c.jsx("span", { className: "uppercase tracking-widest", children: re.has(B.id) ? "Saving..." : te(B) === "critical" ? "Critical: Verify Now" : g("btn_verify_now") || "Mark Verified" })] }) })] }, B.id)) })] }) }, Wle = ({ data: e }) => { const { inventory: t, logs: r, startDate: n, endDate: a, author: i, facilityName: s } = e, l = t.length, f = t.reduce((h, m) => h + m.stock, 0), d = t.filter(h => h.stock <= h.minStock).length; return c.jsxs("div", { id: "inventory-report-document", className: "bg-white text-slate-900 font-sans box-border relative leading-normal", style: { width: "215.9mm", minHeight: "279.4mm", margin: "0", padding: "0", backgroundColor: "#ffffff" }, children: [c.jsxs("div", { className: "bg-slate-900 text-white px-12 py-8 flex justify-between items-center print-color-adjust", style: { backgroundColor: "#0f172a", color: "white", WebkitPrintColorAdjust: "exact" }, children: [c.jsxs("div", { children: [c.jsxs("h1", { className: "text-3xl font-black tracking-tight uppercase m-0 leading-none", children: ["Health", c.jsx("span", { className: "text-sky-400", style: { color: "#38bdf8" }, children: "Axis" }), " Inventory"] }), c.jsx("p", { className: "text-[10px] font-bold tracking-[0.2em] uppercase text-slate-400 mt-2", children: "Professional Inventory & Audit Report" })] }), c.jsxs("div", { className: "text-right", children: [c.jsx("div", { className: "text-[10px] font-bold text-slate-500 uppercase tracking-wider", children: "Facility" }), c.jsx("div", { className: "text-lg font-bold text-white uppercase", children: s || "Main Clinic" })] })] }), c.jsxs("div", { className: "bg-slate-100 border-b border-slate-200 px-12 py-3 flex justify-between text-[10px] uppercase font-bold tracking-wide text-slate-500", style: { backgroundColor: "#f1f5f9", borderBottom: "1px solid #e2e8f0" }, children: [c.jsxs("div", { children: ["Period: ", c.jsxs("span", { className: "text-slate-900 ml-2", children: [n, "  ", a] })] }), c.jsxs("div", { children: ["Author: ", c.jsx("span", { className: "text-slate-900 ml-2", children: i })] }), c.jsxs("div", { children: ["Generated: ", c.jsx("span", { className: "text-slate-900 ml-2", children: new Date().toLocaleString() })] })] }), c.jsxs("div", { className: "p-12", children: [c.jsxs("div", { className: "flex justify-between gap-6 mb-10", children: [c.jsxs("div", { className: "w-[32%] bg-slate-50 border border-slate-200 rounded-lg p-4", style: { backgroundColor: "#f8fafc", border: "1px solid #e2e8f0" }, children: [c.jsx("div", { className: "text-[9px] font-bold text-slate-400 uppercase tracking-wider", children: "Total SKUs" }), c.jsx("div", { className: "text-3xl font-black text-slate-900 mt-1", children: l })] }), c.jsxs("div", { className: "w-[32%] bg-slate-50 border border-slate-200 rounded-lg p-4", style: { backgroundColor: "#f8fafc", border: "1px solid #e2e8f0" }, children: [c.jsx("div", { className: "text-[9px] font-bold text-slate-400 uppercase tracking-wider", children: "Total Units" }), c.jsx("div", { className: "text-3xl font-black text-slate-900 mt-1", children: f })] }), c.jsxs("div", { className: `w-[32%] border rounded-lg p-4 flex flex-col justify-center ${d > 0 ? "bg-red-50 border-red-200" : "bg-emerald-50 border-emerald-200"}`, style: { backgroundColor: d > 0 ? "#fef2f2" : "#ecfdf5", borderColor: d > 0 ? "#fecaca" : "#a7f3d0" }, children: [c.jsx("div", { className: `text-[10px] font-bold uppercase tracking-wider ${d > 0 ? "text-red-600" : "text-emerald-600"}`, style: { color: d > 0 ? "#dc2626" : "#059669" }, children: "Critical Alerts" }), c.jsxs("div", { className: `text-xl font-black mt-1 flex items-center gap-2 ${d > 0 ? "text-red-700" : "text-emerald-700"}`, style: { color: d > 0 ? "#b91c1c" : "#047857" }, children: [d, " LOW STOCK"] })] })] }), c.jsxs("div", { className: "mb-10", children: [c.jsxs("div", { className: "flex items-center gap-3 border-b-2 border-slate-900 pb-2 mb-4", children: [c.jsx("div", { className: "w-6 h-6 bg-slate-900 text-white flex items-center justify-center text-xs font-bold rounded", style: { backgroundColor: "#0f172a", color: "white" }, children: "1" }), c.jsx("h3", { className: "text-sm font-bold uppercase tracking-wide text-slate-900", children: "Current Inventory Status" })] }), c.jsxs("table", { className: "w-full text-[10px] border-collapse", children: [c.jsx("thead", { children: c.jsxs("tr", { className: "border-b border-slate-300", children: [c.jsx("th", { className: "text-left py-2 font-bold text-slate-500 uppercase", children: "Item Name" }), c.jsx("th", { className: "text-left py-2 font-bold text-slate-500 uppercase", children: "Category" }), c.jsx("th", { className: "text-left py-2 font-bold text-slate-500 uppercase", children: "Batch / Lot" }), c.jsx("th", { className: "text-right py-2 font-bold text-slate-500 uppercase", children: "Stock" }), c.jsx("th", { className: "text-right py-2 font-bold text-slate-500 uppercase", children: "Min" })] }) }), c.jsxs("tbody", { children: [t.slice(0, 15).map(h => c.jsxs("tr", { className: "border-b border-slate-100", children: [c.jsx("td", { className: "py-2 pr-4 font-bold text-slate-900", children: h.name }), c.jsx("td", { className: "py-2 pr-4 text-slate-600", children: h.category }), c.jsx("td", { className: "py-2 pr-4 font-mono text-slate-500", children: h.batchNumber }), c.jsx("td", { className: `py-2 text-right font-black ${h.stock <= h.minStock ? "text-red-600" : "text-slate-900"}`, children: h.stock }), c.jsx("td", { className: "py-2 text-right text-slate-400", children: h.minStock })] }, h.id)), t.length > 15 && c.jsx("tr", { children: c.jsxs("td", { colSpan: 5, className: "py-2 text-center text-slate-400 italic", children: ["... showing first 15 items (", t.length, " total) ..."] }) })] })] })] }), c.jsxs("div", { className: "mb-10 px-0", children: [c.jsxs("div", { className: "flex items-center gap-3 border-b-2 border-slate-900 pb-2 mb-4", children: [c.jsx("div", { className: "w-6 h-6 bg-slate-900 text-white flex items-center justify-center text-xs font-bold rounded", style: { backgroundColor: "#0f172a", color: "white" }, children: "2" }), c.jsx("h3", { className: "text-sm font-bold uppercase tracking-wide text-slate-900", children: "Activity Log (Audit Trail)" })] }), r.length === 0 ? c.jsx("p", { className: "text-slate-400 italic text-xs", children: "No activity recorded for this period." }) : c.jsxs("div", { className: "space-y-3", children: [r.slice(0, 20).map(h => c.jsxs("div", { className: "flex gap-4 text-[10px] items-start border-l-2 border-slate-200 pl-4 py-1", children: [c.jsx("div", { className: "w-24 shrink-0 font-mono text-slate-400", children: new Date(h.timestamp).toLocaleDateString() }), c.jsx("div", { className: "w-20 shrink-0", children: c.jsx("span", { className: "px-1.5 py-0.5 rounded bg-slate-100 text-slate-600 font-bold uppercase text-[8px]", children: h.action }) }), c.jsx("div", { className: "flex-1 text-slate-800 font-medium", children: h.details }), c.jsx("div", { className: "w-24 shrink-0 text-right text-slate-500 font-bold", children: h.user })] }, h.id)), r.length > 20 && c.jsxs("div", { className: "text-center text-slate-400 italic py-2", children: ["... showing last 20 actions (", r.length, " total) ..."] })] })] }), c.jsxs("div", { className: "flex justify-between items-end mt-16 pt-8 border-t border-slate-200", style: { borderTop: "1px solid #e2e8f0" }, children: [c.jsxs("div", { className: "w-[40%]", children: [c.jsx("div", { className: "border-b border-slate-400 mb-2", style: { borderBottom: "1px solid #94a3b8" } }), c.jsxs("div", { className: "text-[10px] font-bold uppercase text-slate-500", children: ["Inventory Coordinator: ", i] })] }), c.jsxs("div", { className: "w-[40%]", children: [c.jsx("div", { className: "border-b border-slate-400 mb-2", style: { borderBottom: "1px solid #94a3b8" } }), c.jsx("div", { className: "text-[10px] font-bold uppercase text-slate-500", children: "Management Approval" })] })] })] }), c.jsxs("div", { className: "absolute bottom-0 left-0 right-0 bg-slate-50 border-t border-slate-200 px-12 py-4 flex justify-between text-[9px] text-slate-400 font-medium uppercase tracking-wider", style: { backgroundColor: "#f8fafc", borderTop: "1px solid #e2e8f0" }, children: [c.jsx("div", { children: "Confidential Medical Inventory Records  Internal Use Only" }), c.jsxs("div", { children: ["ID: ", Math.random().toString(36).substr(2, 9).toUpperCase(), "  Page 1 of 1"] })] })] }) }, Kle = ({ inventory: e, logs: t, user: r, t: n, hasPermission: a, onNavigate: i, onUpdateLog: s, onDeleteLog: l, initialTab: f }) => { const [d, h] = A.useState("alerts"), [m, g] = A.useState(null), [v, y] = A.useState(""), [b, _] = A.useState(!1), [k, C] = A.useState(() => { const U = new Date; return U.setDate(U.getDate() - 30), U.toISOString().split("T")[0] }), [T, j] = A.useState(() => new Date().toISOString().split("T")[0]), R = A.useRef(null); A.useEffect(() => { f && (f === "alerts" || f === "history" || f === "expiring") && h(f) }, [f]); const O = e.filter(U => U.stock <= U.minStock), I = e.filter(U => { if (!U.expiryDate) return !1; const ee = new Date, de = new Date(U.expiryDate).getTime() - ee.getTime(), D = Math.ceil(de / (1e3 * 60 * 60 * 24)); return D <= 30 && D >= -1 }).sort((U, ee) => new Date(U.expiryDate).getTime() - new Date(ee.expiryDate).getTime()), H = U => { switch (U) { case "ADDED": return "bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400"; case "REMOVED": return "bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"; case "UPDATED": return "bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"; case "CONSUMED": return "bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400"; case "RESTOCKED": return "bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-400"; case "AUDITED": return "bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400"; case "DAILY_CLOSE": return "bg-gray-900 text-white dark:bg-white dark:text-gray-900"; default: return "bg-gray-100 text-gray-700" } }, F = U => { const ee = new Date, de = new Date(U).getTime() - ee.getTime(); return Math.ceil(de / (1e3 * 60 * 60 * 24)) }, X = t.filter(U => { const ee = new Date(U.timestamp).toISOString().split("T")[0]; return ee >= k && ee <= T }), V = () => { if (!R.current || !window.html2pdf) { alert("PDF generator not ready. Please wait."); return } _(!0), setTimeout(() => { const U = { margin: 0, filename: `InventoryReport_${k}_to_${T}.pdf`, image: { type: "jpeg", quality: .98 }, html2canvas: { scale: 2, useCORS: !0, letterRendering: !0 }, jsPDF: { unit: "mm", format: "letter", orientation: "portrait" } }; window.html2pdf().set(U).from(R.current).save().then(() => { _(!1) }) }, 100) }; return c.jsxs("div", { className: "space-y-6 pb-20 md:pb-10 animate-fade-in-up", children: [c.jsxs("header", { className: "flex flex-col md:flex-row md:items-center justify-between gap-6", children: [c.jsxs("div", { className: "flex items-center gap-4", children: [c.jsx("div", { className: "w-12 h-12 rounded-2xl bg-medical-500 flex items-center justify-center shadow-lg shadow-medical-500/20", children: c.jsx("i", { className: "fa-solid fa-chart-column text-xl text-white" }) }), c.jsxs("div", { children: [c.jsx("h2", { className: "text-display text-slate-900 dark:text-white", children: n("rep_title") }), c.jsx("p", { className: "text-caption mt-0.5", children: n("rep_subtitle") })] })] }), c.jsx("div", { className: "flex flex-wrap items-center gap-3", children: (r.role === it.OWNER || r.role === it.MANAGER) && c.jsx("button", { onClick: V, disabled: b, className: "h-12 px-6 bg-medical-600 hover:bg-medical-500 text-white rounded-2xl font-bold shadow-xl shadow-medical-500/30 transition-all flex items-center gap-2 disabled:opacity-50 hover:scale-105 active:scale-95", children: b ? c.jsxs(c.Fragment, { children: [c.jsx("i", { className: "fa-solid fa-circle-notch animate-spin" }), "Generating..."] }) : c.jsxs(c.Fragment, { children: [c.jsx("i", { className: "fa-solid fa-file-pdf" }), "Export PDF"] }) }) })] }), c.jsxs("div", { className: "glass-panel p-1.5 rounded-2xl flex w-full md:w-fit overflow-x-auto shadow-sm", children: [c.jsxs("button", { onClick: () => h("alerts"), className: `flex-1 md:flex-none px-6 py-3 rounded-xl text-sm font-bold transition-all whitespace-nowrap ${d === "alerts" ? "bg-white dark:bg-slate-800 shadow-sm text-red-500" : "text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`, children: [c.jsx("i", { className: "fa-solid fa-triangle-exclamation mr-2" }), " ", n("tab_alerts"), O.length > 0 && c.jsx("span", { className: "ml-2 px-2 py-0.5 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-full text-xs font-bold", children: O.length })] }), c.jsxs("button", { onClick: () => h("expiring"), className: `flex-1 md:flex-none px-6 py-3 rounded-xl text-sm font-bold transition-all whitespace-nowrap ${d === "expiring" ? "bg-white dark:bg-slate-800 shadow-sm text-orange-500" : "text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`, children: [c.jsx("i", { className: "fa-solid fa-hourglass-end mr-2" }), " Expiring Soon", I.length > 0 && c.jsx("span", { className: "ml-2 px-2 py-0.5 bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 rounded-full text-xs font-bold", children: I.length })] }), c.jsxs("button", { onClick: () => h("history"), className: `flex-1 md:flex-none px-6 py-3 rounded-xl text-sm font-bold transition-all whitespace-nowrap ${d === "history" ? "bg-white dark:bg-slate-800 shadow-sm text-indigo-500" : "text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`, children: [c.jsx("i", { className: "fa-solid fa-clock-rotate-left mr-2" }), " ", n("tab_history")] })] }), c.jsxs("div", { className: "glass-panel p-4 rounded-[2rem] flex flex-col md:flex-row md:items-center gap-4 luxury-shadow", children: [c.jsxs("div", { className: "flex items-center gap-3 px-4 py-2 bg-slate-50/50 dark:bg-slate-900/50 rounded-2xl flex-1", children: [c.jsx("i", { className: "fa-solid fa-calendar text-slate-400" }), c.jsxs("div", { className: "flex-1", children: [c.jsx("div", { className: "text-[10px] font-bold text-slate-400 uppercase tracking-widest leading-none mb-1", children: "From Date" }), c.jsx("input", { type: "date", value: k, onChange: U => C(U.target.value), className: "bg-transparent w-full text-sm font-bold text-slate-900 dark:text-white outline-none" })] })] }), c.jsxs("div", { className: "flex items-center gap-3 px-4 py-2 bg-slate-50/50 dark:bg-slate-900/50 rounded-2xl flex-1", children: [c.jsx("i", { className: "fa-solid fa-calendar-check text-slate-400" }), c.jsxs("div", { className: "flex-1", children: [c.jsx("div", { className: "text-[10px] font-bold text-slate-400 uppercase tracking-widest leading-none mb-1", children: "To Date" }), c.jsx("input", { type: "date", value: T, onChange: U => j(U.target.value), className: "bg-transparent w-full text-sm font-bold text-slate-900 dark:text-white outline-none" })] })] }), c.jsx("div", { className: "hidden md:block w-px h-10 bg-slate-200 dark:bg-slate-700 mx-2" }), c.jsxs("div", { className: "text-sm text-slate-500 px-4", children: ["Showing ", c.jsx("span", { className: "font-bold text-slate-900 dark:text-white", children: X.length }), " actions"] })] }), c.jsxs("div", { className: "glass-panel rounded-[2rem] luxury-shadow overflow-hidden", children: [d === "alerts" && c.jsx("div", { className: "overflow-x-auto", children: O.length === 0 ? c.jsxs("div", { className: "flex flex-col items-center justify-center py-20 text-center", children: [c.jsx("div", { className: "w-20 h-20 bg-emerald-100 dark:bg-emerald-900/20 rounded-full flex items-center justify-center mb-4", children: c.jsx("i", { className: "fa-solid fa-check text-3xl text-emerald-500" }) }), c.jsx("h3", { className: "text-xl font-bold text-gray-900 dark:text-white", children: n("msg_no_alerts") }), c.jsx("p", { className: "text-gray-500 mt-2", children: "Inventory levels are healthy." })] }) : c.jsxs("table", { className: "w-full text-left border-collapse", children: [c.jsx("thead", { className: "bg-gray-50 dark:bg-gray-800/50 border-b border-gray-100 dark:border-gray-800", children: c.jsxs("tr", { children: [c.jsx("th", { className: "p-6 text-xs font-extrabold text-gray-400 uppercase tracking-wider", children: n("col_item") }), c.jsx("th", { className: "p-6 text-xs font-extrabold text-gray-400 uppercase tracking-wider", children: n("col_status") }), c.jsx("th", { className: "p-6 text-xs font-extrabold text-gray-400 uppercase tracking-wider", children: n("th_location") })] }) }), c.jsx("tbody", { className: "divide-y divide-gray-50 dark:divide-gray-800", children: O.map(U => c.jsxs("tr", { className: "hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors", children: [c.jsxs("td", { className: "p-6", children: [c.jsx("div", { className: "font-bold text-gray-900 dark:text-white text-lg", children: U.name }), c.jsxs("div", { className: "text-xs text-gray-400 mt-1 font-mono", children: [n("lbl_batch"), ": ", U.batchNumber] })] }), c.jsx("td", { className: "p-6", children: c.jsxs("div", { className: "flex items-center gap-4", children: [c.jsxs("div", { className: "flex-1 max-w-[200px]", children: [c.jsxs("div", { className: "flex justify-between text-xs font-bold mb-1", children: [c.jsxs("span", { className: "text-red-500", children: [U.stock, " ", n("lbl_units")] }), c.jsxs("span", { className: "text-gray-400", children: [n("lbl_min"), ": ", U.minStock] })] }), c.jsx("div", { className: "h-2 bg-gray-100 dark:bg-gray-700 rounded-full overflow-hidden", children: c.jsx("div", { className: "h-full bg-red-500 rounded-full animate-pulse", style: { width: `${Math.min(100, U.stock / U.minStock * 100)}%` } }) })] }), c.jsx("span", { className: "px-3 py-1 bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400 rounded-lg text-xs font-bold whitespace-nowrap", children: n("msg_alert_low") })] }) }), c.jsxs("td", { className: "p-6 text-sm font-bold text-gray-600 dark:text-gray-300", children: [c.jsx("i", { className: "fa-solid fa-location-dot text-gray-400 mr-2" }), U.location] })] }, U.id)) })] }) }), d === "expiring" && c.jsx("div", { className: "overflow-x-auto", children: I.length === 0 ? c.jsxs("div", { className: "flex flex-col items-center justify-center py-20 text-center", children: [c.jsx("div", { className: "w-20 h-20 bg-emerald-100 dark:bg-emerald-900/20 rounded-full flex items-center justify-center mb-4", children: c.jsx("i", { className: "fa-solid fa-calendar-check text-3xl text-emerald-500" }) }), c.jsx("h3", { className: "text-xl font-bold text-gray-900 dark:text-white", children: "No Upcoming Expirations" }), c.jsx("p", { className: "text-gray-500 mt-2", children: "Nothing expires within the next 30 days." })] }) : c.jsxs("table", { className: "w-full text-left border-collapse", children: [c.jsx("thead", { className: "bg-gray-50 dark:bg-gray-800/50 border-b border-gray-100 dark:border-gray-800", children: c.jsxs("tr", { children: [c.jsx("th", { className: "p-6 text-xs font-extrabold text-gray-400 uppercase tracking-wider", children: n("col_item") }), c.jsx("th", { className: "p-6 text-xs font-extrabold text-gray-400 uppercase tracking-wider", children: "Expiration Date" }), c.jsx("th", { className: "p-6 text-xs font-extrabold text-gray-400 uppercase tracking-wider", children: "Days Remaining" }), c.jsx("th", { className: "p-6 text-xs font-extrabold text-gray-400 uppercase tracking-wider", children: n("th_stock") })] }) }), c.jsx("tbody", { className: "divide-y divide-gray-50 dark:divide-gray-800", children: I.map(U => { const ee = F(U.expiryDate), re = ee <= 7 ? "text-red-600 bg-red-50" : "text-orange-600 bg-orange-50"; return c.jsxs("tr", { className: "hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors", children: [c.jsxs("td", { className: "p-6", children: [c.jsx("div", { className: "font-bold text-gray-900 dark:text-white text-lg", children: U.name }), c.jsxs("div", { className: "text-xs text-gray-400 mt-1 font-mono", children: [n("lbl_batch"), ": ", U.batchNumber] })] }), c.jsx("td", { className: "p-6", children: c.jsx("div", { className: "font-mono font-bold text-gray-700 dark:text-gray-300", children: new Date(U.expiryDate).toLocaleDateString() }) }), c.jsx("td", { className: "p-6", children: c.jsxs("span", { className: `inline-flex items-center gap-2 px-3 py-1 rounded-lg font-bold text-sm ${re} dark:bg-opacity-20`, children: [c.jsx("i", { className: "fa-solid fa-clock" }), ee <= 0 ? "EXPIRED" : `${ee} days`] }) }), c.jsxs("td", { className: "p-6", children: [c.jsx("span", { className: "font-black text-lg", children: U.stock }), " ", c.jsx("span", { className: "text-xs text-gray-400", children: n(U.unit) })] })] }, U.id) }) })] }) }), d === "history" && c.jsx("div", { className: "overflow-x-auto max-h-[600px] custom-scrollbar", children: c.jsxs("table", { className: "w-full text-left border-collapse", children: [c.jsx("thead", { className: "bg-gray-50 dark:bg-gray-800/50 border-b border-gray-100 dark:border-gray-800 sticky top-0 z-10", children: c.jsxs("tr", { children: [c.jsx("th", { className: "p-6 text-xs font-extrabold text-gray-400 uppercase tracking-wider", children: n("col_action") }), c.jsx("th", { className: "p-6 text-xs font-extrabold text-gray-400 uppercase tracking-wider", children: "Details" }), c.jsx("th", { className: "p-6 text-xs font-extrabold text-gray-400 uppercase tracking-wider", children: n("col_user") })] }) }), c.jsx("tbody", { className: "divide-y divide-gray-50 dark:divide-gray-800", children: X.length === 0 ? c.jsx("tr", { children: c.jsx("td", { colSpan: 3, className: "p-12 text-center text-gray-500 italic", children: "No activity for the selected dates." }) }) : X.map(U => c.jsxs("tr", { className: "hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors group/row", children: [c.jsxs("td", { className: "p-6", children: [c.jsx("span", { className: `inline-block px-3 py-1 rounded-md text-xs font-bold mb-1 ${H(U.action)}`, children: U.action }), c.jsxs("div", { className: "text-xs text-gray-400 font-mono", children: [U.timestamp.toLocaleDateString(), " ", U.timestamp.toLocaleTimeString([], { hour: "2-digit", minute: "2-digit" })] })] }), c.jsx("td", { className: "p-6 text-sm font-medium text-gray-700 dark:text-gray-300", children: m === U.id ? c.jsxs("div", { className: "flex gap-2", children: [c.jsx("input", { type: "text", value: v, onChange: ee => y(ee.target.value), className: "flex-1 px-3 py-1.5 bg-white dark:bg-gray-800 border border-indigo-300 dark:border-indigo-500 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none", autoFocus: !0, onKeyDown: ee => { ee.key === "Enter" ? (s == null || s(U.id, v), g(null)) : ee.key === "Escape" && g(null) } }), c.jsx("button", { onClick: () => { s == null || s(U.id, v), g(null) }, className: "w-8 h-8 rounded-lg bg-emerald-500 text-white flex items-center justify-center hover:bg-emerald-600 shadow-sm", children: c.jsx("i", { className: "fa-solid fa-check" }) }), c.jsx("button", { onClick: () => g(null), className: "w-8 h-8 rounded-lg bg-gray-200 dark:bg-gray-700 text-gray-500 flex items-center justify-center hover:bg-gray-300 dark:hover:bg-gray-600 shadow-sm", children: c.jsx("i", { className: "fa-solid fa-xmark" }) })] }) : c.jsxs("div", { className: "flex items-center justify-between group/detail min-h-[1.5rem]", children: [c.jsx("span", { children: U.details }), (r.role === it.OWNER || r.role === it.MANAGER) && c.jsxs("div", { className: "flex items-center gap-1 opacity-0 group-hover/row:opacity-100 transition-all", children: [c.jsx("button", { onClick: () => { g(U.id), y(U.details) }, className: "p-2 text-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded-lg transition-all", title: "Edit Log Entry", children: c.jsx("i", { className: "fa-solid fa-pen-to-square text-xs" }) }), c.jsx("button", { onClick: () => { window.confirm("Are you sure you want to delete this log entry?") && (l == null || l(U.id)) }, className: "p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-all", title: "Delete Log Entry", children: c.jsx("i", { className: "fa-solid fa-trash-can text-xs" }) })] })] }) }), c.jsx("td", { className: "p-6 text-sm font-bold text-gray-900 dark:text-white", children: c.jsxs("div", { className: "flex items-center gap-2", children: [c.jsx("div", { className: "w-6 h-6 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-xs", children: U.user.charAt(0).toUpperCase() }), U.user] }) })] }, U.id)) })] }) })] }), c.jsx("div", { style: { position: "absolute", top: "-10000px", left: "-10000px" }, children: c.jsx("div", { ref: R, children: c.jsx(Wle, { data: { inventory: e, logs: X, startDate: new Date(k).toLocaleDateString(), endDate: new Date(T).toLocaleDateString(), author: r.username, facilityName: "HealthAxis Medical Group" } }) }) })] }) }; var Yle = {};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Xle, Jle; function Zle() { return { geminiUrl: Xle, vertexUrl: Jle } } function Qle(e, t, r, n) { var a, i; if (!(e != null && e.baseUrl)) { const s = Zle(); return t ? (a = s.vertexUrl) !== null && a !== void 0 ? a : r : (i = s.geminiUrl) !== null && i !== void 0 ? i : n } return e.baseUrl }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vs { } function $e(e, t) { const r = /\{([^}]+)\}/g; return e.replace(r, (n, a) => { if (Object.prototype.hasOwnProperty.call(t, a)) { const i = t[a]; return i != null ? String(i) : "" } else throw new Error(`Key '${a}' not found in valueMap.`) }) } function S(e, t, r) { for (let i = 0; i < t.length - 1; i++) { const s = t[i]; if (s.endsWith("[]")) { const l = s.slice(0, -2); if (!(l in e)) if (Array.isArray(r)) e[l] = Array.from({ length: r.length }, () => ({})); else throw new Error(`Value must be a list given an array path ${s}`); if (Array.isArray(e[l])) { const f = e[l]; if (Array.isArray(r)) for (let d = 0; d < f.length; d++) { const h = f[d]; S(h, t.slice(i + 1), r[d]) } else for (const d of f) S(d, t.slice(i + 1), r) } return } else if (s.endsWith("[0]")) { const l = s.slice(0, -3); l in e || (e[l] = [{}]); const f = e[l]; S(f[0], t.slice(i + 1), r); return } (!e[s] || typeof e[s] != "object") && (e[s] = {}), e = e[s] } const n = t[t.length - 1], a = e[n]; if (a !== void 0) { if (!r || typeof r == "object" && Object.keys(r).length === 0 || r === a) return; if (typeof a == "object" && typeof r == "object" && a !== null && r !== null) Object.assign(a, r); else throw new Error(`Cannot set value for an existing key. Key: ${n}`) } else n === "_self" && typeof r == "object" && r !== null && !Array.isArray(r) ? Object.assign(e, r) : e[n] = r } function w(e, t, r = void 0) { try { if (t.length === 1 && t[0] === "_self") return e; for (let n = 0; n < t.length; n++) { if (typeof e != "object" || e === null) return r; const a = t[n]; if (a.endsWith("[]")) { const i = a.slice(0, -2); if (i in e) { const s = e[i]; return Array.isArray(s) ? s.map(l => w(l, t.slice(n + 1), r)) : r } else return r } else e = e[a] } return e } catch (n) { if (n instanceof TypeError) return r; throw n } } function ece(e, t) { for (const [r, n] of Object.entries(t)) { const a = r.split("."), i = n.split("."), s = new Set; let l = -1; for (let f = 0; f < a.length; f++)if (a[f] === "*") { l = f; break } if (l !== -1 && i.length > l) for (let f = l; f < i.length; f++) { const d = i[f]; d !== "*" && !d.endsWith("[]") && !d.endsWith("[0]") && s.add(d) } i_(e, a, i, 0, s) } } function i_(e, t, r, n, a) { if (n >= t.length || typeof e != "object" || e === null) return; const i = t[n]; if (i.endsWith("[]")) { const s = i.slice(0, -2), l = e; if (s in l && Array.isArray(l[s])) for (const f of l[s]) i_(f, t, r, n + 1, a) } else if (i === "*") { if (typeof e == "object" && e !== null && !Array.isArray(e)) { const s = e, l = Object.keys(s).filter(d => !d.startsWith("_") && !a.has(d)), f = {}; for (const d of l) f[d] = s[d]; for (const [d, h] of Object.entries(f)) { const m = []; for (const g of r.slice(n)) g === "*" ? m.push(d) : m.push(g); S(s, m, h) } for (const d of l) delete s[d] } } else { const s = e; i in s && i_(s[i], t, r, n + 1, a) } }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LE(e) { if (typeof e != "string") throw new Error("fromImageBytes must be a string"); return e }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tce(e) { const t = {}, r = w(e, ["operationName"]); r != null && S(t, ["operationName"], r); const n = w(e, ["resourceName"]); return n != null && S(t, ["_url", "resourceName"], n), t } function rce(e) { const t = {}, r = w(e, ["name"]); r != null && S(t, ["name"], r); const n = w(e, ["metadata"]); n != null && S(t, ["metadata"], n); const a = w(e, ["done"]); a != null && S(t, ["done"], a); const i = w(e, ["error"]); i != null && S(t, ["error"], i); const s = w(e, ["response", "generateVideoResponse"]); return s != null && S(t, ["response"], ace(s)), t } function nce(e) { const t = {}, r = w(e, ["name"]); r != null && S(t, ["name"], r); const n = w(e, ["metadata"]); n != null && S(t, ["metadata"], n); const a = w(e, ["done"]); a != null && S(t, ["done"], a); const i = w(e, ["error"]); i != null && S(t, ["error"], i); const s = w(e, ["response"]); return s != null && S(t, ["response"], ice(s)), t } function ace(e) { const t = {}, r = w(e, ["generatedSamples"]); if (r != null) { let i = r; Array.isArray(i) && (i = i.map(s => sce(s))), S(t, ["generatedVideos"], i) } const n = w(e, ["raiMediaFilteredCount"]); n != null && S(t, ["raiMediaFilteredCount"], n); const a = w(e, ["raiMediaFilteredReasons"]); return a != null && S(t, ["raiMediaFilteredReasons"], a), t } function ice(e) { const t = {}, r = w(e, ["videos"]); if (r != null) { let i = r; Array.isArray(i) && (i = i.map(s => oce(s))), S(t, ["generatedVideos"], i) } const n = w(e, ["raiMediaFilteredCount"]); n != null && S(t, ["raiMediaFilteredCount"], n); const a = w(e, ["raiMediaFilteredReasons"]); return a != null && S(t, ["raiMediaFilteredReasons"], a), t } function sce(e) { const t = {}, r = w(e, ["video"]); return r != null && S(t, ["video"], hce(r)), t } function oce(e) { const t = {}, r = w(e, ["_self"]); return r != null && S(t, ["video"], pce(r)), t } function lce(e) { const t = {}, r = w(e, ["operationName"]); return r != null && S(t, ["_url", "operationName"], r), t } function cce(e) { const t = {}, r = w(e, ["operationName"]); return r != null && S(t, ["_url", "operationName"], r), t } function uce(e) { const t = {}, r = w(e, ["name"]); r != null && S(t, ["name"], r); const n = w(e, ["metadata"]); n != null && S(t, ["metadata"], n); const a = w(e, ["done"]); a != null && S(t, ["done"], a); const i = w(e, ["error"]); i != null && S(t, ["error"], i); const s = w(e, ["response"]); return s != null && S(t, ["response"], dce(s)), t } function dce(e) { const t = {}, r = w(e, ["sdkHttpResponse"]); r != null && S(t, ["sdkHttpResponse"], r); const n = w(e, ["parent"]); n != null && S(t, ["parent"], n); const a = w(e, ["documentName"]); return a != null && S(t, ["documentName"], a), t } function iL(e) { const t = {}, r = w(e, ["name"]); r != null && S(t, ["name"], r); const n = w(e, ["metadata"]); n != null && S(t, ["metadata"], n); const a = w(e, ["done"]); a != null && S(t, ["done"], a); const i = w(e, ["error"]); i != null && S(t, ["error"], i); const s = w(e, ["response"]); return s != null && S(t, ["response"], fce(s)), t } function fce(e) { const t = {}, r = w(e, ["sdkHttpResponse"]); r != null && S(t, ["sdkHttpResponse"], r); const n = w(e, ["parent"]); n != null && S(t, ["parent"], n); const a = w(e, ["documentName"]); return a != null && S(t, ["documentName"], a), t } function hce(e) { const t = {}, r = w(e, ["uri"]); r != null && S(t, ["uri"], r); const n = w(e, ["encodedVideo"]); n != null && S(t, ["videoBytes"], LE(n)); const a = w(e, ["encoding"]); return a != null && S(t, ["mimeType"], a), t } function pce(e) { const t = {}, r = w(e, ["gcsUri"]); r != null && S(t, ["uri"], r); const n = w(e, ["bytesBase64Encoded"]); n != null && S(t, ["videoBytes"], LE(n)); const a = w(e, ["mimeType"]); return a != null && S(t, ["mimeType"], a), t }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $R; (function (e) { e.OUTCOME_UNSPECIFIED = "OUTCOME_UNSPECIFIED", e.OUTCOME_OK = "OUTCOME_OK", e.OUTCOME_FAILED = "OUTCOME_FAILED", e.OUTCOME_DEADLINE_EXCEEDED = "OUTCOME_DEADLINE_EXCEEDED" })($R || ($R = {})); var zR; (function (e) { e.LANGUAGE_UNSPECIFIED = "LANGUAGE_UNSPECIFIED", e.PYTHON = "PYTHON" })(zR || (zR = {})); var HR; (function (e) { e.SCHEDULING_UNSPECIFIED = "SCHEDULING_UNSPECIFIED", e.SILENT = "SILENT", e.WHEN_IDLE = "WHEN_IDLE", e.INTERRUPT = "INTERRUPT" })(HR || (HR = {})); var pt; (function (e) { e.TYPE_UNSPECIFIED = "TYPE_UNSPECIFIED", e.STRING = "STRING", e.NUMBER = "NUMBER", e.INTEGER = "INTEGER", e.BOOLEAN = "BOOLEAN", e.ARRAY = "ARRAY", e.OBJECT = "OBJECT", e.NULL = "NULL" })(pt || (pt = {})); var GR; (function (e) { e.API_SPEC_UNSPECIFIED = "API_SPEC_UNSPECIFIED", e.SIMPLE_SEARCH = "SIMPLE_SEARCH", e.ELASTIC_SEARCH = "ELASTIC_SEARCH" })(GR || (GR = {})); var VR; (function (e) { e.AUTH_TYPE_UNSPECIFIED = "AUTH_TYPE_UNSPECIFIED", e.NO_AUTH = "NO_AUTH", e.API_KEY_AUTH = "API_KEY_AUTH", e.HTTP_BASIC_AUTH = "HTTP_BASIC_AUTH", e.GOOGLE_SERVICE_ACCOUNT_AUTH = "GOOGLE_SERVICE_ACCOUNT_AUTH", e.OAUTH = "OAUTH", e.OIDC_AUTH = "OIDC_AUTH" })(VR || (VR = {})); var qR; (function (e) { e.HTTP_IN_UNSPECIFIED = "HTTP_IN_UNSPECIFIED", e.HTTP_IN_QUERY = "HTTP_IN_QUERY", e.HTTP_IN_HEADER = "HTTP_IN_HEADER", e.HTTP_IN_PATH = "HTTP_IN_PATH", e.HTTP_IN_BODY = "HTTP_IN_BODY", e.HTTP_IN_COOKIE = "HTTP_IN_COOKIE" })(qR || (qR = {})); var WR; (function (e) { e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED = "PHISH_BLOCK_THRESHOLD_UNSPECIFIED", e.BLOCK_LOW_AND_ABOVE = "BLOCK_LOW_AND_ABOVE", e.BLOCK_MEDIUM_AND_ABOVE = "BLOCK_MEDIUM_AND_ABOVE", e.BLOCK_HIGH_AND_ABOVE = "BLOCK_HIGH_AND_ABOVE", e.BLOCK_HIGHER_AND_ABOVE = "BLOCK_HIGHER_AND_ABOVE", e.BLOCK_VERY_HIGH_AND_ABOVE = "BLOCK_VERY_HIGH_AND_ABOVE", e.BLOCK_ONLY_EXTREMELY_HIGH = "BLOCK_ONLY_EXTREMELY_HIGH" })(WR || (WR = {})); var KR; (function (e) { e.UNSPECIFIED = "UNSPECIFIED", e.BLOCKING = "BLOCKING", e.NON_BLOCKING = "NON_BLOCKING" })(KR || (KR = {})); var YR; (function (e) { e.MODE_UNSPECIFIED = "MODE_UNSPECIFIED", e.MODE_DYNAMIC = "MODE_DYNAMIC" })(YR || (YR = {})); var XR; (function (e) { e.MODE_UNSPECIFIED = "MODE_UNSPECIFIED", e.AUTO = "AUTO", e.ANY = "ANY", e.NONE = "NONE", e.VALIDATED = "VALIDATED" })(XR || (XR = {})); var JR; (function (e) { e.THINKING_LEVEL_UNSPECIFIED = "THINKING_LEVEL_UNSPECIFIED", e.LOW = "LOW", e.MEDIUM = "MEDIUM", e.HIGH = "HIGH", e.MINIMAL = "MINIMAL" })(JR || (JR = {})); var ZR; (function (e) { e.HARM_CATEGORY_UNSPECIFIED = "HARM_CATEGORY_UNSPECIFIED", e.HARM_CATEGORY_HARASSMENT = "HARM_CATEGORY_HARASSMENT", e.HARM_CATEGORY_HATE_SPEECH = "HARM_CATEGORY_HATE_SPEECH", e.HARM_CATEGORY_SEXUALLY_EXPLICIT = "HARM_CATEGORY_SEXUALLY_EXPLICIT", e.HARM_CATEGORY_DANGEROUS_CONTENT = "HARM_CATEGORY_DANGEROUS_CONTENT", e.HARM_CATEGORY_CIVIC_INTEGRITY = "HARM_CATEGORY_CIVIC_INTEGRITY", e.HARM_CATEGORY_IMAGE_HATE = "HARM_CATEGORY_IMAGE_HATE", e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT = "HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT", e.HARM_CATEGORY_IMAGE_HARASSMENT = "HARM_CATEGORY_IMAGE_HARASSMENT", e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT = "HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT", e.HARM_CATEGORY_JAILBREAK = "HARM_CATEGORY_JAILBREAK" })(ZR || (ZR = {})); var QR; (function (e) { e.HARM_BLOCK_METHOD_UNSPECIFIED = "HARM_BLOCK_METHOD_UNSPECIFIED", e.SEVERITY = "SEVERITY", e.PROBABILITY = "PROBABILITY" })(QR || (QR = {})); var eP; (function (e) { e.HARM_BLOCK_THRESHOLD_UNSPECIFIED = "HARM_BLOCK_THRESHOLD_UNSPECIFIED", e.BLOCK_LOW_AND_ABOVE = "BLOCK_LOW_AND_ABOVE", e.BLOCK_MEDIUM_AND_ABOVE = "BLOCK_MEDIUM_AND_ABOVE", e.BLOCK_ONLY_HIGH = "BLOCK_ONLY_HIGH", e.BLOCK_NONE = "BLOCK_NONE", e.OFF = "OFF" })(eP || (eP = {})); var tP; (function (e) { e.FINISH_REASON_UNSPECIFIED = "FINISH_REASON_UNSPECIFIED", e.STOP = "STOP", e.MAX_TOKENS = "MAX_TOKENS", e.SAFETY = "SAFETY", e.RECITATION = "RECITATION", e.LANGUAGE = "LANGUAGE", e.OTHER = "OTHER", e.BLOCKLIST = "BLOCKLIST", e.PROHIBITED_CONTENT = "PROHIBITED_CONTENT", e.SPII = "SPII", e.MALFORMED_FUNCTION_CALL = "MALFORMED_FUNCTION_CALL", e.IMAGE_SAFETY = "IMAGE_SAFETY", e.UNEXPECTED_TOOL_CALL = "UNEXPECTED_TOOL_CALL", e.IMAGE_PROHIBITED_CONTENT = "IMAGE_PROHIBITED_CONTENT", e.NO_IMAGE = "NO_IMAGE", e.IMAGE_RECITATION = "IMAGE_RECITATION", e.IMAGE_OTHER = "IMAGE_OTHER" })(tP || (tP = {})); var rP; (function (e) { e.HARM_PROBABILITY_UNSPECIFIED = "HARM_PROBABILITY_UNSPECIFIED", e.NEGLIGIBLE = "NEGLIGIBLE", e.LOW = "LOW", e.MEDIUM = "MEDIUM", e.HIGH = "HIGH" })(rP || (rP = {})); var nP; (function (e) { e.HARM_SEVERITY_UNSPECIFIED = "HARM_SEVERITY_UNSPECIFIED", e.HARM_SEVERITY_NEGLIGIBLE = "HARM_SEVERITY_NEGLIGIBLE", e.HARM_SEVERITY_LOW = "HARM_SEVERITY_LOW", e.HARM_SEVERITY_MEDIUM = "HARM_SEVERITY_MEDIUM", e.HARM_SEVERITY_HIGH = "HARM_SEVERITY_HIGH" })(nP || (nP = {})); var aP; (function (e) { e.URL_RETRIEVAL_STATUS_UNSPECIFIED = "URL_RETRIEVAL_STATUS_UNSPECIFIED", e.URL_RETRIEVAL_STATUS_SUCCESS = "URL_RETRIEVAL_STATUS_SUCCESS", e.URL_RETRIEVAL_STATUS_ERROR = "URL_RETRIEVAL_STATUS_ERROR", e.URL_RETRIEVAL_STATUS_PAYWALL = "URL_RETRIEVAL_STATUS_PAYWALL", e.URL_RETRIEVAL_STATUS_UNSAFE = "URL_RETRIEVAL_STATUS_UNSAFE" })(aP || (aP = {})); var iP; (function (e) { e.BLOCKED_REASON_UNSPECIFIED = "BLOCKED_REASON_UNSPECIFIED", e.SAFETY = "SAFETY", e.OTHER = "OTHER", e.BLOCKLIST = "BLOCKLIST", e.PROHIBITED_CONTENT = "PROHIBITED_CONTENT", e.IMAGE_SAFETY = "IMAGE_SAFETY", e.MODEL_ARMOR = "MODEL_ARMOR", e.JAILBREAK = "JAILBREAK" })(iP || (iP = {})); var sP; (function (e) { e.TRAFFIC_TYPE_UNSPECIFIED = "TRAFFIC_TYPE_UNSPECIFIED", e.ON_DEMAND = "ON_DEMAND", e.PROVISIONED_THROUGHPUT = "PROVISIONED_THROUGHPUT" })(sP || (sP = {})); var Xm; (function (e) { e.MODALITY_UNSPECIFIED = "MODALITY_UNSPECIFIED", e.TEXT = "TEXT", e.IMAGE = "IMAGE", e.AUDIO = "AUDIO" })(Xm || (Xm = {})); var oP; (function (e) { e.MEDIA_RESOLUTION_UNSPECIFIED = "MEDIA_RESOLUTION_UNSPECIFIED", e.MEDIA_RESOLUTION_LOW = "MEDIA_RESOLUTION_LOW", e.MEDIA_RESOLUTION_MEDIUM = "MEDIA_RESOLUTION_MEDIUM", e.MEDIA_RESOLUTION_HIGH = "MEDIA_RESOLUTION_HIGH" })(oP || (oP = {})); var lP; (function (e) { e.TUNING_MODE_UNSPECIFIED = "TUNING_MODE_UNSPECIFIED", e.TUNING_MODE_FULL = "TUNING_MODE_FULL", e.TUNING_MODE_PEFT_ADAPTER = "TUNING_MODE_PEFT_ADAPTER" })(lP || (lP = {})); var cP; (function (e) { e.ADAPTER_SIZE_UNSPECIFIED = "ADAPTER_SIZE_UNSPECIFIED", e.ADAPTER_SIZE_ONE = "ADAPTER_SIZE_ONE", e.ADAPTER_SIZE_TWO = "ADAPTER_SIZE_TWO", e.ADAPTER_SIZE_FOUR = "ADAPTER_SIZE_FOUR", e.ADAPTER_SIZE_EIGHT = "ADAPTER_SIZE_EIGHT", e.ADAPTER_SIZE_SIXTEEN = "ADAPTER_SIZE_SIXTEEN", e.ADAPTER_SIZE_THIRTY_TWO = "ADAPTER_SIZE_THIRTY_TWO" })(cP || (cP = {})); var s_; (function (e) { e.JOB_STATE_UNSPECIFIED = "JOB_STATE_UNSPECIFIED", e.JOB_STATE_QUEUED = "JOB_STATE_QUEUED", e.JOB_STATE_PENDING = "JOB_STATE_PENDING", e.JOB_STATE_RUNNING = "JOB_STATE_RUNNING", e.JOB_STATE_SUCCEEDED = "JOB_STATE_SUCCEEDED", e.JOB_STATE_FAILED = "JOB_STATE_FAILED", e.JOB_STATE_CANCELLING = "JOB_STATE_CANCELLING", e.JOB_STATE_CANCELLED = "JOB_STATE_CANCELLED", e.JOB_STATE_PAUSED = "JOB_STATE_PAUSED", e.JOB_STATE_EXPIRED = "JOB_STATE_EXPIRED", e.JOB_STATE_UPDATING = "JOB_STATE_UPDATING", e.JOB_STATE_PARTIALLY_SUCCEEDED = "JOB_STATE_PARTIALLY_SUCCEEDED" })(s_ || (s_ = {})); var uP; (function (e) { e.TUNING_TASK_UNSPECIFIED = "TUNING_TASK_UNSPECIFIED", e.TUNING_TASK_I2V = "TUNING_TASK_I2V", e.TUNING_TASK_T2V = "TUNING_TASK_T2V", e.TUNING_TASK_R2V = "TUNING_TASK_R2V" })(uP || (uP = {})); var dP; (function (e) { e.MEDIA_RESOLUTION_UNSPECIFIED = "MEDIA_RESOLUTION_UNSPECIFIED", e.MEDIA_RESOLUTION_LOW = "MEDIA_RESOLUTION_LOW", e.MEDIA_RESOLUTION_MEDIUM = "MEDIA_RESOLUTION_MEDIUM", e.MEDIA_RESOLUTION_HIGH = "MEDIA_RESOLUTION_HIGH", e.MEDIA_RESOLUTION_ULTRA_HIGH = "MEDIA_RESOLUTION_ULTRA_HIGH" })(dP || (dP = {})); var o_; (function (e) { e.COLLECTION = "COLLECTION" })(o_ || (o_ = {})); var fP; (function (e) { e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED = "FEATURE_SELECTION_PREFERENCE_UNSPECIFIED", e.PRIORITIZE_QUALITY = "PRIORITIZE_QUALITY", e.BALANCED = "BALANCED", e.PRIORITIZE_COST = "PRIORITIZE_COST" })(fP || (fP = {})); var hP; (function (e) { e.ENVIRONMENT_UNSPECIFIED = "ENVIRONMENT_UNSPECIFIED", e.ENVIRONMENT_BROWSER = "ENVIRONMENT_BROWSER" })(hP || (hP = {})); var pP; (function (e) { e.BLOCK_LOW_AND_ABOVE = "BLOCK_LOW_AND_ABOVE", e.BLOCK_MEDIUM_AND_ABOVE = "BLOCK_MEDIUM_AND_ABOVE", e.BLOCK_ONLY_HIGH = "BLOCK_ONLY_HIGH", e.BLOCK_NONE = "BLOCK_NONE" })(pP || (pP = {})); var mP; (function (e) { e.DONT_ALLOW = "DONT_ALLOW", e.ALLOW_ADULT = "ALLOW_ADULT", e.ALLOW_ALL = "ALLOW_ALL" })(mP || (mP = {})); var gP; (function (e) { e.auto = "auto", e.en = "en", e.ja = "ja", e.ko = "ko", e.hi = "hi", e.zh = "zh", e.pt = "pt", e.es = "es" })(gP || (gP = {})); var xP; (function (e) { e.MASK_MODE_DEFAULT = "MASK_MODE_DEFAULT", e.MASK_MODE_USER_PROVIDED = "MASK_MODE_USER_PROVIDED", e.MASK_MODE_BACKGROUND = "MASK_MODE_BACKGROUND", e.MASK_MODE_FOREGROUND = "MASK_MODE_FOREGROUND", e.MASK_MODE_SEMANTIC = "MASK_MODE_SEMANTIC" })(xP || (xP = {})); var vP; (function (e) { e.CONTROL_TYPE_DEFAULT = "CONTROL_TYPE_DEFAULT", e.CONTROL_TYPE_CANNY = "CONTROL_TYPE_CANNY", e.CONTROL_TYPE_SCRIBBLE = "CONTROL_TYPE_SCRIBBLE", e.CONTROL_TYPE_FACE_MESH = "CONTROL_TYPE_FACE_MESH" })(vP || (vP = {})); var yP; (function (e) { e.SUBJECT_TYPE_DEFAULT = "SUBJECT_TYPE_DEFAULT", e.SUBJECT_TYPE_PERSON = "SUBJECT_TYPE_PERSON", e.SUBJECT_TYPE_ANIMAL = "SUBJECT_TYPE_ANIMAL", e.SUBJECT_TYPE_PRODUCT = "SUBJECT_TYPE_PRODUCT" })(yP || (yP = {})); var bP; (function (e) { e.EDIT_MODE_DEFAULT = "EDIT_MODE_DEFAULT", e.EDIT_MODE_INPAINT_REMOVAL = "EDIT_MODE_INPAINT_REMOVAL", e.EDIT_MODE_INPAINT_INSERTION = "EDIT_MODE_INPAINT_INSERTION", e.EDIT_MODE_OUTPAINT = "EDIT_MODE_OUTPAINT", e.EDIT_MODE_CONTROLLED_EDITING = "EDIT_MODE_CONTROLLED_EDITING", e.EDIT_MODE_STYLE = "EDIT_MODE_STYLE", e.EDIT_MODE_BGSWAP = "EDIT_MODE_BGSWAP", e.EDIT_MODE_PRODUCT_IMAGE = "EDIT_MODE_PRODUCT_IMAGE" })(bP || (bP = {})); var wP; (function (e) { e.FOREGROUND = "FOREGROUND", e.BACKGROUND = "BACKGROUND", e.PROMPT = "PROMPT", e.SEMANTIC = "SEMANTIC", e.INTERACTIVE = "INTERACTIVE" })(wP || (wP = {})); var _P; (function (e) { e.ASSET = "ASSET", e.STYLE = "STYLE" })(_P || (_P = {})); var SP; (function (e) { e.INSERT = "INSERT", e.REMOVE = "REMOVE", e.REMOVE_STATIC = "REMOVE_STATIC", e.OUTPAINT = "OUTPAINT" })(SP || (SP = {})); var EP; (function (e) { e.OPTIMIZED = "OPTIMIZED", e.LOSSLESS = "LOSSLESS" })(EP || (EP = {})); var kP; (function (e) { e.SUPERVISED_FINE_TUNING = "SUPERVISED_FINE_TUNING", e.PREFERENCE_TUNING = "PREFERENCE_TUNING" })(kP || (kP = {})); var TP; (function (e) { e.STATE_UNSPECIFIED = "STATE_UNSPECIFIED", e.STATE_PENDING = "STATE_PENDING", e.STATE_ACTIVE = "STATE_ACTIVE", e.STATE_FAILED = "STATE_FAILED" })(TP || (TP = {})); var NP; (function (e) { e.STATE_UNSPECIFIED = "STATE_UNSPECIFIED", e.PROCESSING = "PROCESSING", e.ACTIVE = "ACTIVE", e.FAILED = "FAILED" })(NP || (NP = {})); var AP; (function (e) { e.SOURCE_UNSPECIFIED = "SOURCE_UNSPECIFIED", e.UPLOADED = "UPLOADED", e.GENERATED = "GENERATED", e.REGISTERED = "REGISTERED" })(AP || (AP = {})); var CP; (function (e) { e.TURN_COMPLETE_REASON_UNSPECIFIED = "TURN_COMPLETE_REASON_UNSPECIFIED", e.MALFORMED_FUNCTION_CALL = "MALFORMED_FUNCTION_CALL", e.RESPONSE_REJECTED = "RESPONSE_REJECTED", e.NEED_MORE_INPUT = "NEED_MORE_INPUT" })(CP || (CP = {})); var jP; (function (e) { e.MODALITY_UNSPECIFIED = "MODALITY_UNSPECIFIED", e.TEXT = "TEXT", e.IMAGE = "IMAGE", e.VIDEO = "VIDEO", e.AUDIO = "AUDIO", e.DOCUMENT = "DOCUMENT" })(jP || (jP = {})); var IP; (function (e) { e.VAD_SIGNAL_TYPE_UNSPECIFIED = "VAD_SIGNAL_TYPE_UNSPECIFIED", e.VAD_SIGNAL_TYPE_SOS = "VAD_SIGNAL_TYPE_SOS", e.VAD_SIGNAL_TYPE_EOS = "VAD_SIGNAL_TYPE_EOS" })(IP || (IP = {})); var OP; (function (e) { e.TYPE_UNSPECIFIED = "TYPE_UNSPECIFIED", e.ACTIVITY_START = "ACTIVITY_START", e.ACTIVITY_END = "ACTIVITY_END" })(OP || (OP = {})); var RP; (function (e) { e.START_SENSITIVITY_UNSPECIFIED = "START_SENSITIVITY_UNSPECIFIED", e.START_SENSITIVITY_HIGH = "START_SENSITIVITY_HIGH", e.START_SENSITIVITY_LOW = "START_SENSITIVITY_LOW" })(RP || (RP = {})); var PP; (function (e) { e.END_SENSITIVITY_UNSPECIFIED = "END_SENSITIVITY_UNSPECIFIED", e.END_SENSITIVITY_HIGH = "END_SENSITIVITY_HIGH", e.END_SENSITIVITY_LOW = "END_SENSITIVITY_LOW" })(PP || (PP = {})); var DP; (function (e) { e.ACTIVITY_HANDLING_UNSPECIFIED = "ACTIVITY_HANDLING_UNSPECIFIED", e.START_OF_ACTIVITY_INTERRUPTS = "START_OF_ACTIVITY_INTERRUPTS", e.NO_INTERRUPTION = "NO_INTERRUPTION" })(DP || (DP = {})); var MP; (function (e) { e.TURN_COVERAGE_UNSPECIFIED = "TURN_COVERAGE_UNSPECIFIED", e.TURN_INCLUDES_ONLY_ACTIVITY = "TURN_INCLUDES_ONLY_ACTIVITY", e.TURN_INCLUDES_ALL_INPUT = "TURN_INCLUDES_ALL_INPUT" })(MP || (MP = {})); var LP; (function (e) { e.SCALE_UNSPECIFIED = "SCALE_UNSPECIFIED", e.C_MAJOR_A_MINOR = "C_MAJOR_A_MINOR", e.D_FLAT_MAJOR_B_FLAT_MINOR = "D_FLAT_MAJOR_B_FLAT_MINOR", e.D_MAJOR_B_MINOR = "D_MAJOR_B_MINOR", e.E_FLAT_MAJOR_C_MINOR = "E_FLAT_MAJOR_C_MINOR", e.E_MAJOR_D_FLAT_MINOR = "E_MAJOR_D_FLAT_MINOR", e.F_MAJOR_D_MINOR = "F_MAJOR_D_MINOR", e.G_FLAT_MAJOR_E_FLAT_MINOR = "G_FLAT_MAJOR_E_FLAT_MINOR", e.G_MAJOR_E_MINOR = "G_MAJOR_E_MINOR", e.A_FLAT_MAJOR_F_MINOR = "A_FLAT_MAJOR_F_MINOR", e.A_MAJOR_G_FLAT_MINOR = "A_MAJOR_G_FLAT_MINOR", e.B_FLAT_MAJOR_G_MINOR = "B_FLAT_MAJOR_G_MINOR", e.B_MAJOR_A_FLAT_MINOR = "B_MAJOR_A_FLAT_MINOR" })(LP || (LP = {})); var FP; (function (e) { e.MUSIC_GENERATION_MODE_UNSPECIFIED = "MUSIC_GENERATION_MODE_UNSPECIFIED", e.QUALITY = "QUALITY", e.DIVERSITY = "DIVERSITY", e.VOCALIZATION = "VOCALIZATION" })(FP || (FP = {})); var yu; (function (e) { e.PLAYBACK_CONTROL_UNSPECIFIED = "PLAYBACK_CONTROL_UNSPECIFIED", e.PLAY = "PLAY", e.PAUSE = "PAUSE", e.STOP = "STOP", e.RESET_CONTEXT = "RESET_CONTEXT" })(yu || (yu = {})); class l_ { constructor(t) { const r = {}; for (const n of t.headers.entries()) r[n[0]] = n[1]; this.headers = r, this.responseInternal = t } json() { return this.responseInternal.json() } } class lf { get text() { var t, r, n, a, i, s, l, f; if (((a = (n = (r = (t = this.candidates) === null || t === void 0 ? void 0 : t[0]) === null || r === void 0 ? void 0 : r.content) === null || n === void 0 ? void 0 : n.parts) === null || a === void 0 ? void 0 : a.length) === 0) return; this.candidates && this.candidates.length > 1 && console.warn("there are multiple candidates in the response, returning text from the first one."); let d = "", h = !1; const m = []; for (const g of (f = (l = (s = (i = this.candidates) === null || i === void 0 ? void 0 : i[0]) === null || s === void 0 ? void 0 : s.content) === null || l === void 0 ? void 0 : l.parts) !== null && f !== void 0 ? f : []) { for (const [v, y] of Object.entries(g)) v !== "text" && v !== "thought" && v !== "thoughtSignature" && (y !== null || y !== void 0) && m.push(v); if (typeof g.text == "string") { if (typeof g.thought == "boolean" && g.thought) continue; h = !0, d += g.text } } return m.length > 0 && console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`), h ? d : void 0 } get data() { var t, r, n, a, i, s, l, f; if (((a = (n = (r = (t = this.candidates) === null || t === void 0 ? void 0 : t[0]) === null || r === void 0 ? void 0 : r.content) === null || n === void 0 ? void 0 : n.parts) === null || a === void 0 ? void 0 : a.length) === 0) return; this.candidates && this.candidates.length > 1 && console.warn("there are multiple candidates in the response, returning data from the first one."); let d = ""; const h = []; for (const m of (f = (l = (s = (i = this.candidates) === null || i === void 0 ? void 0 : i[0]) === null || s === void 0 ? void 0 : s.content) === null || l === void 0 ? void 0 : l.parts) !== null && f !== void 0 ? f : []) { for (const [g, v] of Object.entries(m)) g !== "inlineData" && (v !== null || v !== void 0) && h.push(g); m.inlineData && typeof m.inlineData.data == "string" && (d += atob(m.inlineData.data)) } return h.length > 0 && console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`), d.length > 0 ? btoa(d) : void 0 } get functionCalls() { var t, r, n, a, i, s, l, f; if (((a = (n = (r = (t = this.candidates) === null || t === void 0 ? void 0 : t[0]) === null || r === void 0 ? void 0 : r.content) === null || n === void 0 ? void 0 : n.parts) === null || a === void 0 ? void 0 : a.length) === 0) return; this.candidates && this.candidates.length > 1 && console.warn("there are multiple candidates in the response, returning function calls from the first one."); const d = (f = (l = (s = (i = this.candidates) === null || i === void 0 ? void 0 : i[0]) === null || s === void 0 ? void 0 : s.content) === null || l === void 0 ? void 0 : l.parts) === null || f === void 0 ? void 0 : f.filter(h => h.functionCall).map(h => h.functionCall).filter(h => h !== void 0); if ((d == null ? void 0 : d.length) !== 0) return d } get executableCode() { var t, r, n, a, i, s, l, f, d; if (((a = (n = (r = (t = this.candidates) === null || t === void 0 ? void 0 : t[0]) === null || r === void 0 ? void 0 : r.content) === null || n === void 0 ? void 0 : n.parts) === null || a === void 0 ? void 0 : a.length) === 0) return; this.candidates && this.candidates.length > 1 && console.warn("there are multiple candidates in the response, returning executable code from the first one."); const h = (f = (l = (s = (i = this.candidates) === null || i === void 0 ? void 0 : i[0]) === null || s === void 0 ? void 0 : s.content) === null || l === void 0 ? void 0 : l.parts) === null || f === void 0 ? void 0 : f.filter(m => m.executableCode).map(m => m.executableCode).filter(m => m !== void 0); if ((h == null ? void 0 : h.length) !== 0) return (d = h == null ? void 0 : h[0]) === null || d === void 0 ? void 0 : d.code } get codeExecutionResult() { var t, r, n, a, i, s, l, f, d; if (((a = (n = (r = (t = this.candidates) === null || t === void 0 ? void 0 : t[0]) === null || r === void 0 ? void 0 : r.content) === null || n === void 0 ? void 0 : n.parts) === null || a === void 0 ? void 0 : a.length) === 0) return; this.candidates && this.candidates.length > 1 && console.warn("there are multiple candidates in the response, returning code execution result from the first one."); const h = (f = (l = (s = (i = this.candidates) === null || i === void 0 ? void 0 : i[0]) === null || s === void 0 ? void 0 : s.content) === null || l === void 0 ? void 0 : l.parts) === null || f === void 0 ? void 0 : f.filter(m => m.codeExecutionResult).map(m => m.codeExecutionResult).filter(m => m !== void 0); if ((h == null ? void 0 : h.length) !== 0) return (d = h == null ? void 0 : h[0]) === null || d === void 0 ? void 0 : d.output } } class UP { } class BP { } class mce { } class gce { } class xce { } class vce { } class $P { } class zP { } class HP { } class yce { } class Jm { _fromAPIResponse({ apiResponse: t, _isVertexAI: r }) { const n = new Jm; let a; const i = t; return r ? a = nce(i) : a = rce(i), Object.assign(n, a), n } } class GP { } class VP { } class qP { } class WP { } class bce { } class wce { } class _ce { } class FE { _fromAPIResponse({ apiResponse: t, _isVertexAI: r }) { const n = new FE, i = uce(t); return Object.assign(n, i), n } } class Sce { } class Ece { } class kce { } class KP { } class Tce { get text() { var t, r, n; let a = "", i = !1; const s = []; for (const l of (n = (r = (t = this.serverContent) === null || t === void 0 ? void 0 : t.modelTurn) === null || r === void 0 ? void 0 : r.parts) !== null && n !== void 0 ? n : []) { for (const [f, d] of Object.entries(l)) f !== "text" && f !== "thought" && d !== null && s.push(f); if (typeof l.text == "string") { if (typeof l.thought == "boolean" && l.thought) continue; i = !0, a += l.text } } return s.length > 0 && console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`), i ? a : void 0 } get data() { var t, r, n; let a = ""; const i = []; for (const s of (n = (r = (t = this.serverContent) === null || t === void 0 ? void 0 : t.modelTurn) === null || r === void 0 ? void 0 : r.parts) !== null && n !== void 0 ? n : []) { for (const [l, f] of Object.entries(s)) l !== "inlineData" && f !== null && i.push(l); s.inlineData && typeof s.inlineData.data == "string" && (a += atob(s.inlineData.data)) } return i.length > 0 && console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`), a.length > 0 ? btoa(a) : void 0 } } class Nce { get audioChunk() { if (this.serverContent && this.serverContent.audioChunks && this.serverContent.audioChunks.length > 0) return this.serverContent.audioChunks[0] } } class UE { _fromAPIResponse({ apiResponse: t, _isVertexAI: r }) { const n = new UE, i = iL(t); return Object.assign(n, i), n } }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rt(e, t) { if (!t || typeof t != "string") throw new Error("model is required and must be a string"); if (t.includes("..") || t.includes("?") || t.includes("&")) throw new Error("invalid model parameter"); if (e.isVertexAI()) { if (t.startsWith("publishers/") || t.startsWith("projects/") || t.startsWith("models/")) return t; if (t.indexOf("/") >= 0) { const r = t.split("/", 2); return `publishers/${r[0]}/models/${r[1]}` } else return `publishers/google/models/${t}` } else return t.startsWith("models/") || t.startsWith("tunedModels/") ? t : `models/${t}` } function sL(e, t) { const r = Rt(e, t); return r ? r.startsWith("publishers/") && e.isVertexAI() ? `projects/${e.getProject()}/locations/${e.getLocation()}/${r}` : r.startsWith("models/") && e.isVertexAI() ? `projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${r}` : r : "" } function oL(e) { return Array.isArray(e) ? e.map(t => Zm(t)) : [Zm(e)] } function Zm(e) { if (typeof e == "object" && e !== null) return e; throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`) } function lL(e) { const t = Zm(e); if (t.mimeType && t.mimeType.startsWith("image/")) return t; throw new Error(`Unsupported mime type: ${t.mimeType}`) } function cL(e) { const t = Zm(e); if (t.mimeType && t.mimeType.startsWith("audio/")) return t; throw new Error(`Unsupported mime type: ${t.mimeType}`) } function YP(e) { if (e == null) throw new Error("PartUnion is required"); if (typeof e == "object") return e; if (typeof e == "string") return { text: e }; throw new Error(`Unsupported part type: ${typeof e}`) } function uL(e) { if (e == null || Array.isArray(e) && e.length === 0) throw new Error("PartListUnion is required"); return Array.isArray(e) ? e.map(t => YP(t)) : [YP(e)] } function c_(e) { return e != null && typeof e == "object" && "parts" in e && Array.isArray(e.parts) } function XP(e) { return e != null && typeof e == "object" && "functionCall" in e } function JP(e) { return e != null && typeof e == "object" && "functionResponse" in e } function Pn(e) { if (e == null) throw new Error("ContentUnion is required"); return c_(e) ? e : { role: "user", parts: uL(e) } } function BE(e, t) { if (!t) return []; if (e.isVertexAI() && Array.isArray(t)) return t.flatMap(r => { const n = Pn(r); return n.parts && n.parts.length > 0 && n.parts[0].text !== void 0 ? [n.parts[0].text] : [] }); if (e.isVertexAI()) { const r = Pn(t); return r.parts && r.parts.length > 0 && r.parts[0].text !== void 0 ? [r.parts[0].text] : [] } return Array.isArray(t) ? t.map(r => Pn(r)) : [Pn(t)] } function Wa(e) { if (e == null || Array.isArray(e) && e.length === 0) throw new Error("contents are required"); if (!Array.isArray(e)) { if (XP(e) || JP(e)) throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them"); return [Pn(e)] } const t = [], r = [], n = c_(e[0]); for (const a of e) { const i = c_(a); if (i != n) throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them"); if (i) t.push(a); else { if (XP(a) || JP(a)) throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them"); r.push(a) } } return n || t.push({ role: "user", parts: uL(r) }), t } function Ace(e, t) { e.includes("null") && (t.nullable = !0); const r = e.filter(n => n !== "null"); if (r.length === 1) t.type = Object.values(pt).includes(r[0].toUpperCase()) ? r[0].toUpperCase() : pt.TYPE_UNSPECIFIED; else { t.anyOf = []; for (const n of r) t.anyOf.push({ type: Object.values(pt).includes(n.toUpperCase()) ? n.toUpperCase() : pt.TYPE_UNSPECIFIED }) } } function Tu(e) { const t = {}, r = ["items"], n = ["anyOf"], a = ["properties"]; if (e.type && e.anyOf) throw new Error("type and anyOf cannot be both populated."); const i = e.anyOf; i != null && i.length == 2 && (i[0].type === "null" ? (t.nullable = !0, e = i[1]) : i[1].type === "null" && (t.nullable = !0, e = i[0])), e.type instanceof Array && Ace(e.type, t); for (const [s, l] of Object.entries(e)) if (l != null) if (s == "type") { if (l === "null") throw new Error("type: null can not be the only possible type for the field."); if (l instanceof Array) continue; t.type = Object.values(pt).includes(l.toUpperCase()) ? l.toUpperCase() : pt.TYPE_UNSPECIFIED } else if (r.includes(s)) t[s] = Tu(l); else if (n.includes(s)) { const f = []; for (const d of l) { if (d.type == "null") { t.nullable = !0; continue } f.push(Tu(d)) } t[s] = f } else if (a.includes(s)) { const f = {}; for (const [d, h] of Object.entries(l)) f[d] = Tu(h); t[s] = f } else { if (s === "additionalProperties") continue; t[s] = l } return t } function $E(e) { return Tu(e) } function zE(e) { if (typeof e == "object") return e; if (typeof e == "string") return { voiceConfig: { prebuiltVoiceConfig: { voiceName: e } } }; throw new Error(`Unsupported speechConfig type: ${typeof e}`) } function HE(e) { if ("multiSpeakerVoiceConfig" in e) throw new Error("multiSpeakerVoiceConfig is not supported in the live API."); return e } function Qu(e) { if (e.functionDeclarations) for (const t of e.functionDeclarations) t.parameters && (Object.keys(t.parameters).includes("$schema") ? t.parametersJsonSchema || (t.parametersJsonSchema = t.parameters, delete t.parameters) : t.parameters = Tu(t.parameters)), t.response && (Object.keys(t.response).includes("$schema") ? t.responseJsonSchema || (t.responseJsonSchema = t.response, delete t.response) : t.response = Tu(t.response)); return e } function ed(e) { if (e == null) throw new Error("tools is required"); if (!Array.isArray(e)) throw new Error("tools is required and must be an array of Tools"); const t = []; for (const r of e) t.push(r); return t } function Cce(e, t, r, n = 1) { const a = !t.startsWith(`${r}/`) && t.split("/").length === n; return e.isVertexAI() ? t.startsWith("projects/") ? t : t.startsWith("locations/") ? `projects/${e.getProject()}/${t}` : t.startsWith(`${r}/`) ? `projects/${e.getProject()}/locations/${e.getLocation()}/${t}` : a ? `projects/${e.getProject()}/locations/${e.getLocation()}/${r}/${t}` : t : a ? `${r}/${t}` : t } function qs(e, t) { if (typeof t != "string") throw new Error("name must be a string"); return Cce(e, t, "cachedContents") } function dL(e) { switch (e) { case "STATE_UNSPECIFIED": return "JOB_STATE_UNSPECIFIED"; case "CREATING": return "JOB_STATE_RUNNING"; case "ACTIVE": return "JOB_STATE_SUCCEEDED"; case "FAILED": return "JOB_STATE_FAILED"; default: return e } } function Yo(e) { return LE(e) } function jce(e) { return e != null && typeof e == "object" && "name" in e } function Ice(e) { return e != null && typeof e == "object" && "video" in e } function Oce(e) { return e != null && typeof e == "object" && "uri" in e } function fL(e) { var t; let r; if (jce(e) && (r = e.name), !(Oce(e) && (r = e.uri, r === void 0)) && !(Ice(e) && (r = (t = e.video) === null || t === void 0 ? void 0 : t.uri, r === void 0))) { if (typeof e == "string" && (r = e), r === void 0) throw new Error("Could not extract file name from the provided input."); if (r.startsWith("https://")) { const a = r.split("files/")[1].match(/[a-z0-9]+/); if (a === null) throw new Error(`Could not extract file name from URI ${r}`); r = a[0] } else r.startsWith("files/") && (r = r.split("files/")[1]); return r } } function hL(e, t) { let r; return e.isVertexAI() ? r = t ? "publishers/google/models" : "models" : r = t ? "models" : "tunedModels", r } function pL(e) { for (const t of ["models", "tunedModels", "publisherModels"]) if (Rce(e, t)) return e[t]; return [] } function Rce(e, t) { return e !== null && typeof e == "object" && t in e } function Pce(e, t = {}) { const r = e, n = { name: r.name, description: r.description, parametersJsonSchema: r.inputSchema }; return r.outputSchema && (n.responseJsonSchema = r.outputSchema), t.behavior && (n.behavior = t.behavior), { functionDeclarations: [n] } } function Dce(e, t = {}) { const r = [], n = new Set; for (const a of e) { const i = a.name; if (n.has(i)) throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`); n.add(i); const s = Pce(a, t); s.functionDeclarations && r.push(...s.functionDeclarations) } return { functionDeclarations: r } } function mL(e, t) { let r; if (typeof t == "string") if (e.isVertexAI()) if (t.startsWith("gs://")) r = { format: "jsonl", gcsUri: [t] }; else if (t.startsWith("bq://")) r = { format: "bigquery", bigqueryUri: t }; else throw new Error(`Unsupported string source for Vertex AI: ${t}`); else if (t.startsWith("files/")) r = { fileName: t }; else throw new Error(`Unsupported string source for Gemini API: ${t}`); else if (Array.isArray(t)) { if (e.isVertexAI()) throw new Error("InlinedRequest[] is not supported in Vertex AI."); r = { inlinedRequests: t } } else r = t; const n = [r.gcsUri, r.bigqueryUri].filter(Boolean).length, a = [r.inlinedRequests, r.fileName].filter(Boolean).length; if (e.isVertexAI()) { if (a > 0 || n !== 1) throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.") } else if (n > 0 || a !== 1) throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API."); return r } function Mce(e) { if (typeof e != "string") return e; const t = e; if (t.startsWith("gs://")) return { format: "jsonl", gcsUri: t }; if (t.startsWith("bq://")) return { format: "bigquery", bigqueryUri: t }; throw new Error(`Unsupported destination: ${t}`) } function gL(e) { if (typeof e != "object" || e === null) return {}; const t = e, r = t.inlinedResponses; if (typeof r != "object" || r === null) return e; const a = r.inlinedResponses; if (!Array.isArray(a) || a.length === 0) return e; let i = !1; for (const s of a) { if (typeof s != "object" || s === null) continue; const f = s.response; if (typeof f != "object" || f === null) continue; if (f.embedding !== void 0) { i = !0; break } } return i && (t.inlinedEmbedContentResponses = t.inlinedResponses, delete t.inlinedResponses), e } function td(e, t) { const r = t; if (!e.isVertexAI()) { if (/batches\/[^/]+$/.test(r)) return r.split("/").pop(); throw new Error(`Invalid batch job name: ${r}.`) } if (/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(r)) return r.split("/").pop(); if (/^\d+$/.test(r)) return r; throw new Error(`Invalid batch job name: ${r}.`) } function xL(e) { const t = e; return t === "BATCH_STATE_UNSPECIFIED" ? "JOB_STATE_UNSPECIFIED" : t === "BATCH_STATE_PENDING" ? "JOB_STATE_PENDING" : t === "BATCH_STATE_RUNNING" ? "JOB_STATE_RUNNING" : t === "BATCH_STATE_SUCCEEDED" ? "JOB_STATE_SUCCEEDED" : t === "BATCH_STATE_FAILED" ? "JOB_STATE_FAILED" : t === "BATCH_STATE_CANCELLED" ? "JOB_STATE_CANCELLED" : t === "BATCH_STATE_EXPIRED" ? "JOB_STATE_EXPIRED" : t }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lce(e) { const t = {}, r = w(e, ["responsesFile"]); r != null && S(t, ["fileName"], r); const n = w(e, ["inlinedResponses", "inlinedResponses"]); if (n != null) { let i = n; Array.isArray(i) && (i = i.map(s => xue(s))), S(t, ["inlinedResponses"], i) } const a = w(e, ["inlinedEmbedContentResponses", "inlinedResponses"]); if (a != null) { let i = a; Array.isArray(i) && (i = i.map(s => s)), S(t, ["inlinedEmbedContentResponses"], i) } return t } function Fce(e) { const t = {}, r = w(e, ["predictionsFormat"]); r != null && S(t, ["format"], r); const n = w(e, ["gcsDestination", "outputUriPrefix"]); n != null && S(t, ["gcsUri"], n); const a = w(e, ["bigqueryDestination", "outputUri"]); return a != null && S(t, ["bigqueryUri"], a), t } function Uce(e) { const t = {}, r = w(e, ["format"]); r != null && S(t, ["predictionsFormat"], r); const n = w(e, ["gcsUri"]); n != null && S(t, ["gcsDestination", "outputUriPrefix"], n); const a = w(e, ["bigqueryUri"]); if (a != null && S(t, ["bigqueryDestination", "outputUri"], a), w(e, ["fileName"]) !== void 0) throw new Error("fileName parameter is not supported in Vertex AI."); if (w(e, ["inlinedResponses"]) !== void 0) throw new Error("inlinedResponses parameter is not supported in Vertex AI."); if (w(e, ["inlinedEmbedContentResponses"]) !== void 0) throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI."); return t } function Gp(e) { const t = {}, r = w(e, ["name"]); r != null && S(t, ["name"], r); const n = w(e, ["metadata", "displayName"]); n != null && S(t, ["displayName"], n); const a = w(e, ["metadata", "state"]); a != null && S(t, ["state"], xL(a)); const i = w(e, ["metadata", "createTime"]); i != null && S(t, ["createTime"], i); const s = w(e, ["metadata", "endTime"]); s != null && S(t, ["endTime"], s); const l = w(e, ["metadata", "updateTime"]); l != null && S(t, ["updateTime"], l); const f = w(e, ["metadata", "model"]); f != null && S(t, ["model"], f); const d = w(e, ["metadata", "output"]); return d != null && S(t, ["dest"], Lce(gL(d))), t } function u_(e) { const t = {}, r = w(e, ["name"]); r != null && S(t, ["name"], r); const n = w(e, ["displayName"]); n != null && S(t, ["displayName"], n); const a = w(e, ["state"]); a != null && S(t, ["state"], xL(a)); const i = w(e, ["error"]); i != null && S(t, ["error"], i); const s = w(e, ["createTime"]); s != null && S(t, ["createTime"], s); const l = w(e, ["startTime"]); l != null && S(t, ["startTime"], l); const f = w(e, ["endTime"]); f != null && S(t, ["endTime"], f); const d = w(e, ["updateTime"]); d != null && S(t, ["updateTime"], d); const h = w(e, ["model"]); h != null && S(t, ["model"], h); const m = w(e, ["inputConfig"]); m != null && S(t, ["src"], Bce(m)); const g = w(e, ["outputConfig"]); g != null && S(t, ["dest"], Fce(gL(g))); const v = w(e, ["completionStats"]); return v != null && S(t, ["completionStats"], v), t } function Bce(e) { const t = {}, r = w(e, ["instancesFormat"]); r != null && S(t, ["format"], r); const n = w(e, ["gcsSource", "uris"]); n != null && S(t, ["gcsUri"], n); const a = w(e, ["bigquerySource", "inputUri"]); return a != null && S(t, ["bigqueryUri"], a), t } function $ce(e, t) { const r = {}; if (w(t, ["format"]) !== void 0) throw new Error("format parameter is not supported in Gemini API."); if (w(t, ["gcsUri"]) !== void 0) throw new Error("gcsUri parameter is not supported in Gemini API."); if (w(t, ["bigqueryUri"]) !== void 0) throw new Error("bigqueryUri parameter is not supported in Gemini API."); const n = w(t, ["fileName"]); n != null && S(r, ["fileName"], n); const a = w(t, ["inlinedRequests"]); if (a != null) { let i = a; Array.isArray(i) && (i = i.map(s => gue(e, s))), S(r, ["requests", "requests"], i) } return r } function zce(e) { const t = {}, r = w(e, ["format"]); r != null && S(t, ["instancesFormat"], r); const n = w(e, ["gcsUri"]); n != null && S(t, ["gcsSource", "uris"], n); const a = w(e, ["bigqueryUri"]); if (a != null && S(t, ["bigquerySource", "inputUri"], a), w(e, ["fileName"]) !== void 0) throw new Error("fileName parameter is not supported in Vertex AI."); if (w(e, ["inlinedRequests"]) !== void 0) throw new Error("inlinedRequests parameter is not supported in Vertex AI."); return t } function Hce(e) { const t = {}, r = w(e, ["data"]); if (r != null && S(t, ["data"], r), w(e, ["displayName"]) !== void 0) throw new Error("displayName parameter is not supported in Gemini API."); const n = w(e, ["mimeType"]); return n != null && S(t, ["mimeType"], n), t } function Gce(e, t) { const r = {}, n = w(t, ["name"]); return n != null && S(r, ["_url", "name"], td(e, n)), r } function Vce(e, t) { const r = {}, n = w(t, ["name"]); return n != null && S(r, ["_url", "name"], td(e, n)), r } function qce(e) { const t = {}, r = w(e, ["content"]); r != null && S(t, ["content"], r); const n = w(e, ["citationMetadata"]); n != null && S(t, ["citationMetadata"], Wce(n)); const a = w(e, ["tokenCount"]); a != null && S(t, ["tokenCount"], a); const i = w(e, ["finishReason"]); i != null && S(t, ["finishReason"], i); const s = w(e, ["avgLogprobs"]); s != null && S(t, ["avgLogprobs"], s); const l = w(e, ["groundingMetadata"]); l != null && S(t, ["groundingMetadata"], l); const f = w(e, ["index"]); f != null && S(t, ["index"], f); const d = w(e, ["logprobsResult"]); d != null && S(t, ["logprobsResult"], d); const h = w(e, ["safetyRatings"]); if (h != null) { let g = h; Array.isArray(g) && (g = g.map(v => v)), S(t, ["safetyRatings"], g) } const m = w(e, ["urlContextMetadata"]); return m != null && S(t, ["urlContextMetadata"], m), t } function Wce(e) { const t = {}, r = w(e, ["citationSources"]); if (r != null) { let n = r; Array.isArray(n) && (n = n.map(a => a)), S(t, ["citations"], n) } return t } function vL(e) { const t = {}, r = w(e, ["parts"]); if (r != null) { let a = r; Array.isArray(a) && (a = a.map(i => Eue(i))), S(t, ["parts"], a) } const n = w(e, ["role"]); return n != null && S(t, ["role"], n), t } function Kce(e, t) { const r = {}, n = w(e, ["displayName"]); if (t !== void 0 && n != null && S(t, ["batch", "displayName"], n), w(e, ["dest"]) !== void 0) throw new Error("dest parameter is not supported in Gemini API."); return r } function Yce(e, t) { const r = {}, n = w(e, ["displayName"]); t !== void 0 && n != null && S(t, ["displayName"], n); const a = w(e, ["dest"]); return t !== void 0 && a != null && S(t, ["outputConfig"], Uce(Mce(a))), r } function ZP(e, t) { const r = {}, n = w(t, ["model"]); n != null && S(r, ["_url", "model"], Rt(e, n)); const a = w(t, ["src"]); a != null && S(r, ["batch", "inputConfig"], $ce(e, mL(e, a))); const i = w(t, ["config"]); return i != null && Kce(i, r), r } function Xce(e, t) { const r = {}, n = w(t, ["model"]); n != null && S(r, ["model"], Rt(e, n)); const a = w(t, ["src"]); a != null && S(r, ["inputConfig"], zce(mL(e, a))); const i = w(t, ["config"]); return i != null && Yce(i, r), r } function Jce(e, t) { const r = {}, n = w(e, ["displayName"]); return t !== void 0 && n != null && S(t, ["batch", "displayName"], n), r } function Zce(e, t) { const r = {}, n = w(t, ["model"]); n != null && S(r, ["_url", "model"], Rt(e, n)); const a = w(t, ["src"]); a != null && S(r, ["batch", "inputConfig"], iue(e, a)); const i = w(t, ["config"]); return i != null && Jce(i, r), r } function Qce(e, t) { const r = {}, n = w(t, ["name"]); return n != null && S(r, ["_url", "name"], td(e, n)), r } function eue(e, t) { const r = {}, n = w(t, ["name"]); return n != null && S(r, ["_url", "name"], td(e, n)), r } function tue(e) { const t = {}, r = w(e, ["sdkHttpResponse"]); r != null && S(t, ["sdkHttpResponse"], r); const n = w(e, ["name"]); n != null && S(t, ["name"], n); const a = w(e, ["done"]); a != null && S(t, ["done"], a); const i = w(e, ["error"]); return i != null && S(t, ["error"], i), t } function rue(e) { const t = {}, r = w(e, ["sdkHttpResponse"]); r != null && S(t, ["sdkHttpResponse"], r); const n = w(e, ["name"]); n != null && S(t, ["name"], n); const a = w(e, ["done"]); a != null && S(t, ["done"], a); const i = w(e, ["error"]); return i != null && S(t, ["error"], i), t } function nue(e, t) { const r = {}, n = w(t, ["contents"]); if (n != null) { let i = BE(e, n); Array.isArray(i) && (i = i.map(s => s)), S(r, ["requests[]", "request", "content"], i) } const a = w(t, ["config"]); return a != null && (S(r, ["_self"], aue(a, r)), ece(r, { "requests[].*": "requests[].request.*" })), r } function aue(e, t) { const r = {}, n = w(e, ["taskType"]); t !== void 0 && n != null && S(t, ["requests[]", "taskType"], n); const a = w(e, ["title"]); t !== void 0 && a != null && S(t, ["requests[]", "title"], a); const i = w(e, ["outputDimensionality"]); if (t !== void 0 && i != null && S(t, ["requests[]", "outputDimensionality"], i), w(e, ["mimeType"]) !== void 0) throw new Error("mimeType parameter is not supported in Gemini API."); if (w(e, ["autoTruncate"]) !== void 0) throw new Error("autoTruncate parameter is not supported in Gemini API."); return r } function iue(e, t) { const r = {}, n = w(t, ["fileName"]); n != null && S(r, ["file_name"], n); const a = w(t, ["inlinedRequests"]); return a != null && S(r, ["requests"], nue(e, a)), r } function sue(e) { const t = {}; if (w(e, ["displayName"]) !== void 0) throw new Error("displayName parameter is not supported in Gemini API."); const r = w(e, ["fileUri"]); r != null && S(t, ["fileUri"], r); const n = w(e, ["mimeType"]); return n != null && S(t, ["mimeType"], n), t } function oue(e) { const t = {}, r = w(e, ["id"]); r != null && S(t, ["id"], r); const n = w(e, ["args"]); n != null && S(t, ["args"], n); const a = w(e, ["name"]); if (a != null && S(t, ["name"], a), w(e, ["partialArgs"]) !== void 0) throw new Error("partialArgs parameter is not supported in Gemini API."); if (w(e, ["willContinue"]) !== void 0) throw new Error("willContinue parameter is not supported in Gemini API."); return t } function lue(e) { const t = {}, r = w(e, ["allowedFunctionNames"]); r != null && S(t, ["allowedFunctionNames"], r); const n = w(e, ["mode"]); if (n != null && S(t, ["mode"], n), w(e, ["streamFunctionCallArguments"]) !== void 0) throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API."); return t } function cue(e, t, r) { const n = {}, a = w(t, ["systemInstruction"]); r !== void 0 && a != null && S(r, ["systemInstruction"], vL(Pn(a))); const i = w(t, ["temperature"]); i != null && S(n, ["temperature"], i); const s = w(t, ["topP"]); s != null && S(n, ["topP"], s); const l = w(t, ["topK"]); l != null && S(n, ["topK"], l); const f = w(t, ["candidateCount"]); f != null && S(n, ["candidateCount"], f); const d = w(t, ["maxOutputTokens"]); d != null && S(n, ["maxOutputTokens"], d); const h = w(t, ["stopSequences"]); h != null && S(n, ["stopSequences"], h); const m = w(t, ["responseLogprobs"]); m != null && S(n, ["responseLogprobs"], m); const g = w(t, ["logprobs"]); g != null && S(n, ["logprobs"], g); const v = w(t, ["presencePenalty"]); v != null && S(n, ["presencePenalty"], v); const y = w(t, ["frequencyPenalty"]); y != null && S(n, ["frequencyPenalty"], y); const b = w(t, ["seed"]); b != null && S(n, ["seed"], b); const _ = w(t, ["responseMimeType"]); _ != null && S(n, ["responseMimeType"], _); const k = w(t, ["responseSchema"]); k != null && S(n, ["responseSchema"], $E(k)); const C = w(t, ["responseJsonSchema"]); if (C != null && S(n, ["responseJsonSchema"], C), w(t, ["routingConfig"]) !== void 0) throw new Error("routingConfig parameter is not supported in Gemini API."); if (w(t, ["modelSelectionConfig"]) !== void 0) throw new Error("modelSelectionConfig parameter is not supported in Gemini API."); const T = w(t, ["safetySettings"]); if (r !== void 0 && T != null) { let ee = T; Array.isArray(ee) && (ee = ee.map(re => kue(re))), S(r, ["safetySettings"], ee) } const j = w(t, ["tools"]); if (r !== void 0 && j != null) { let ee = ed(j); Array.isArray(ee) && (ee = ee.map(re => Nue(Qu(re)))), S(r, ["tools"], ee) } const R = w(t, ["toolConfig"]); if (r !== void 0 && R != null && S(r, ["toolConfig"], Tue(R)), w(t, ["labels"]) !== void 0) throw new Error("labels parameter is not supported in Gemini API."); const O = w(t, ["cachedContent"]); r !== void 0 && O != null && S(r, ["cachedContent"], qs(e, O)); const I = w(t, ["responseModalities"]); I != null && S(n, ["responseModalities"], I); const H = w(t, ["mediaResolution"]); H != null && S(n, ["mediaResolution"], H); const F = w(t, ["speechConfig"]); if (F != null && S(n, ["speechConfig"], zE(F)), w(t, ["audioTimestamp"]) !== void 0) throw new Error("audioTimestamp parameter is not supported in Gemini API."); const X = w(t, ["thinkingConfig"]); X != null && S(n, ["thinkingConfig"], X); const V = w(t, ["imageConfig"]); V != null && S(n, ["imageConfig"], mue(V)); const U = w(t, ["enableEnhancedCivicAnswers"]); if (U != null && S(n, ["enableEnhancedCivicAnswers"], U), w(t, ["modelArmorConfig"]) !== void 0) throw new Error("modelArmorConfig parameter is not supported in Gemini API."); return n } function uue(e) { const t = {}, r = w(e, ["sdkHttpResponse"]); r != null && S(t, ["sdkHttpResponse"], r); const n = w(e, ["candidates"]); if (n != null) { let f = n; Array.isArray(f) && (f = f.map(d => qce(d))), S(t, ["candidates"], f) } const a = w(e, ["modelVersion"]); a != null && S(t, ["modelVersion"], a); const i = w(e, ["promptFeedback"]); i != null && S(t, ["promptFeedback"], i); const s = w(e, ["responseId"]); s != null && S(t, ["responseId"], s); const l = w(e, ["usageMetadata"]); return l != null && S(t, ["usageMetadata"], l), t } function due(e, t) { const r = {}, n = w(t, ["name"]); return n != null && S(r, ["_url", "name"], td(e, n)), r } function fue(e, t) { const r = {}, n = w(t, ["name"]); return n != null && S(r, ["_url", "name"], td(e, n)), r } function hue(e) { const t = {}; if (w(e, ["authConfig"]) !== void 0) throw new Error("authConfig parameter is not supported in Gemini API."); const r = w(e, ["enableWidget"]); return r != null && S(t, ["enableWidget"], r), t } function pue(e) { const t = {}; if (w(e, ["excludeDomains"]) !== void 0) throw new Error("excludeDomains parameter is not supported in Gemini API."); if (w(e, ["blockingConfidence"]) !== void 0) throw new Error("blockingConfidence parameter is not supported in Gemini API."); const r = w(e, ["timeRangeFilter"]); return r != null && S(t, ["timeRangeFilter"], r), t } function mue(e) { const t = {}, r = w(e, ["aspectRatio"]); r != null && S(t, ["aspectRatio"], r); const n = w(e, ["imageSize"]); if (n != null && S(t, ["imageSize"], n), w(e, ["personGeneration"]) !== void 0) throw new Error("personGeneration parameter is not supported in Gemini API."); if (w(e, ["outputMimeType"]) !== void 0) throw new Error("outputMimeType parameter is not supported in Gemini API."); if (w(e, ["outputCompressionQuality"]) !== void 0) throw new Error("outputCompressionQuality parameter is not supported in Gemini API."); return t } function gue(e, t) { const r = {}, n = w(t, ["model"]); n != null && S(r, ["request", "model"], Rt(e, n)); const a = w(t, ["contents"]); if (a != null) { let l = Wa(a); Array.isArray(l) && (l = l.map(f => vL(f))), S(r, ["request", "contents"], l) } const i = w(t, ["metadata"]); i != null && S(r, ["metadata"], i); const s = w(t, ["config"]); return s != null && S(r, ["request", "generationConfig"], cue(e, s, w(r, ["request"], {}))), r } function xue(e) { const t = {}, r = w(e, ["response"]); r != null && S(t, ["response"], uue(r)); const n = w(e, ["error"]); return n != null && S(t, ["error"], n), t } function vue(e, t) { const r = {}, n = w(e, ["pageSize"]); t !== void 0 && n != null && S(t, ["_query", "pageSize"], n); const a = w(e, ["pageToken"]); if (t !== void 0 && a != null && S(t, ["_query", "pageToken"], a), w(e, ["filter"]) !== void 0) throw new Error("filter parameter is not supported in Gemini API."); return r } function yue(e, t) { const r = {}, n = w(e, ["pageSize"]); t !== void 0 && n != null && S(t, ["_query", "pageSize"], n); const a = w(e, ["pageToken"]); t !== void 0 && a != null && S(t, ["_query", "pageToken"], a); const i = w(e, ["filter"]); return t !== void 0 && i != null && S(t, ["_query", "filter"], i), r } function bue(e) { const t = {}, r = w(e, ["config"]); return r != null && vue(r, t), t } function wue(e) { const t = {}, r = w(e, ["config"]); return r != null && yue(r, t), t } function _ue(e) { const t = {}, r = w(e, ["sdkHttpResponse"]); r != null && S(t, ["sdkHttpResponse"], r); const n = w(e, ["nextPageToken"]); n != null && S(t, ["nextPageToken"], n); const a = w(e, ["operations"]); if (a != null) { let i = a; Array.isArray(i) && (i = i.map(s => Gp(s))), S(t, ["batchJobs"], i) } return t } function Sue(e) { const t = {}, r = w(e, ["sdkHttpResponse"]); r != null && S(t, ["sdkHttpResponse"], r); const n = w(e, ["nextPageToken"]); n != null && S(t, ["nextPageToken"], n); const a = w(e, ["batchPredictionJobs"]); if (a != null) { let i = a; Array.isArray(i) && (i = i.map(s => u_(s))), S(t, ["batchJobs"], i) } return t } function Eue(e) { const t = {}, r = w(e, ["mediaResolution"]); r != null && S(t, ["mediaResolution"], r); const n = w(e, ["codeExecutionResult"]); n != null && S(t, ["codeExecutionResult"], n); const a = w(e, ["executableCode"]); a != null && S(t, ["executableCode"], a); const i = w(e, ["fileData"]); i != null && S(t, ["fileData"], sue(i)); const s = w(e, ["functionCall"]); s != null && S(t, ["functionCall"], oue(s)); const l = w(e, ["functionResponse"]); l != null && S(t, ["functionResponse"], l); const f = w(e, ["inlineData"]); f != null && S(t, ["inlineData"], Hce(f)); const d = w(e, ["text"]); d != null && S(t, ["text"], d); const h = w(e, ["thought"]); h != null && S(t, ["thought"], h); const m = w(e, ["thoughtSignature"]); m != null && S(t, ["thoughtSignature"], m); const g = w(e, ["videoMetadata"]); return g != null && S(t, ["videoMetadata"], g), t } function kue(e) { const t = {}, r = w(e, ["category"]); if (r != null && S(t, ["category"], r), w(e, ["method"]) !== void 0) throw new Error("method parameter is not supported in Gemini API."); const n = w(e, ["threshold"]); return n != null && S(t, ["threshold"], n), t } function Tue(e) { const t = {}, r = w(e, ["retrievalConfig"]); r != null && S(t, ["retrievalConfig"], r); const n = w(e, ["functionCallingConfig"]); return n != null && S(t, ["functionCallingConfig"], lue(n)), t } function Nue(e) { const t = {}; if (w(e, ["retrieval"]) !== void 0) throw new Error("retrieval parameter is not supported in Gemini API."); const r = w(e, ["computerUse"]); r != null && S(t, ["computerUse"], r); const n = w(e, ["fileSearch"]); n != null && S(t, ["fileSearch"], n); const a = w(e, ["codeExecution"]); if (a != null && S(t, ["codeExecution"], a), w(e, ["enterpriseWebSearch"]) !== void 0) throw new Error("enterpriseWebSearch parameter is not supported in Gemini API."); const i = w(e, ["functionDeclarations"]); if (i != null) { let h = i; Array.isArray(h) && (h = h.map(m => m)), S(t, ["functionDeclarations"], h) } const s = w(e, ["googleMaps"]); s != null && S(t, ["googleMaps"], hue(s)); const l = w(e, ["googleSearch"]); l != null && S(t, ["googleSearch"], pue(l)); const f = w(e, ["googleSearchRetrieval"]); f != null && S(t, ["googleSearchRetrieval"], f); const d = w(e, ["urlContext"]); return d != null && S(t, ["urlContext"], d), t }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ds; (function (e) { e.PAGED_ITEM_BATCH_JOBS = "batchJobs", e.PAGED_ITEM_MODELS = "models", e.PAGED_ITEM_TUNING_JOBS = "tuningJobs", e.PAGED_ITEM_FILES = "files", e.PAGED_ITEM_CACHED_CONTENTS = "cachedContents", e.PAGED_ITEM_FILE_SEARCH_STORES = "fileSearchStores", e.PAGED_ITEM_DOCUMENTS = "documents" })(Ds || (Ds = {})); class sc { constructor(t, r, n, a) { this.pageInternal = [], this.paramsInternal = {}, this.requestInternal = r, this.init(t, n, a) } init(t, r, n) { var a, i; this.nameInternal = t, this.pageInternal = r[this.nameInternal] || [], this.sdkHttpResponseInternal = r == null ? void 0 : r.sdkHttpResponse, this.idxInternal = 0; let s = { config: {} }; !n || Object.keys(n).length === 0 ? s = { config: {} } : typeof n == "object" ? s = Object.assign({}, n) : s = n, s.config && (s.config.pageToken = r.nextPageToken), this.paramsInternal = s, this.pageInternalSize = (i = (a = s.config) === null || a === void 0 ? void 0 : a.pageSize) !== null && i !== void 0 ? i : this.pageInternal.length } initNextPage(t) { this.init(this.nameInternal, t, this.paramsInternal) } get page() { return this.pageInternal } get name() { return this.nameInternal } get pageSize() { return this.pageInternalSize } get sdkHttpResponse() { return this.sdkHttpResponseInternal } get params() { return this.paramsInternal } get pageLength() { return this.pageInternal.length } getItem(t) { return this.pageInternal[t] } [Symbol.asyncIterator]() { return { next: async () => { if (this.idxInternal >= this.pageLength) if (this.hasNextPage()) await this.nextPage(); else return { value: void 0, done: !0 }; const t = this.getItem(this.idxInternal); return this.idxInternal += 1, { value: t, done: !1 } }, return: async () => ({ value: void 0, done: !0 }) } } async nextPage() { if (!this.hasNextPage()) throw new Error("No more pages to fetch."); const t = await this.requestInternal(this.params); return this.initNextPage(t), this.page } hasNextPage() { var t; return ((t = this.params.config) === null || t === void 0 ? void 0 : t.pageToken) !== void 0 } }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Aue extends Vs { constructor(t) { super(), this.apiClient = t, this.list = async (r = {}) => new sc(Ds.PAGED_ITEM_BATCH_JOBS, n => this.listInternal(n), await this.listInternal(r), r), this.create = async r => (this.apiClient.isVertexAI() && (r.config = this.formatDestination(r.src, r.config)), this.createInternal(r)), this.createEmbeddings = async r => { if (console.warn("batches.createEmbeddings() is experimental and may change without notice."), this.apiClient.isVertexAI()) throw new Error("Vertex AI does not support batches.createEmbeddings."); return this.createEmbeddingsInternal(r) } } createInlinedGenerateContentRequest(t) { const r = ZP(this.apiClient, t), n = r._url, a = $e("{model}:batchGenerateContent", n), l = r.batch.inputConfig.requests, f = l.requests, d = []; for (const h of f) { const m = Object.assign({}, h); if (m.systemInstruction) { const g = m.systemInstruction; delete m.systemInstruction; const v = m.request; v.systemInstruction = g, m.request = v } d.push(m) } return l.requests = d, delete r.config, delete r._url, delete r._query, { path: a, body: r } } getGcsUri(t) { if (typeof t == "string") return t.startsWith("gs://") ? t : void 0; if (!Array.isArray(t) && t.gcsUri && t.gcsUri.length > 0) return t.gcsUri[0] } getBigqueryUri(t) { if (typeof t == "string") return t.startsWith("bq://") ? t : void 0; if (!Array.isArray(t)) return t.bigqueryUri } formatDestination(t, r) { const n = r ? Object.assign({}, r) : {}, a = Date.now().toString(); if (n.displayName || (n.displayName = `genaiBatchJob_${a}`), n.dest === void 0) { const i = this.getGcsUri(t), s = this.getBigqueryUri(t); if (i) i.endsWith(".jsonl") ? n.dest = `${i.slice(0, -6)}/dest` : n.dest = `${i}_dest_${a}`; else if (s) n.dest = `${s}_dest_${a}`; else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.") } return n } async createInternal(t) { var r, n, a, i; let s, l = "", f = {}; if (this.apiClient.isVertexAI()) { const d = Xce(this.apiClient, t); return l = $e("batchPredictionJobs", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "POST", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(h => h.json()), s.then(h => u_(h)) } else { const d = ZP(this.apiClient, t); return l = $e("{model}:batchGenerateContent", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "POST", httpOptions: (a = t.config) === null || a === void 0 ? void 0 : a.httpOptions, abortSignal: (i = t.config) === null || i === void 0 ? void 0 : i.abortSignal }).then(h => h.json()), s.then(h => Gp(h)) } } async createEmbeddingsInternal(t) { var r, n; let a, i = "", s = {}; if (this.apiClient.isVertexAI()) throw new Error("This method is only supported by the Gemini Developer API."); { const l = Zce(this.apiClient, t); return i = $e("{model}:asyncBatchEmbedContent", l._url), s = l._query, delete l._url, delete l._query, a = this.apiClient.request({ path: i, queryParams: s, body: JSON.stringify(l), httpMethod: "POST", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(f => f.json()), a.then(f => Gp(f)) } } async get(t) { var r, n, a, i; let s, l = "", f = {}; if (this.apiClient.isVertexAI()) { const d = fue(this.apiClient, t); return l = $e("batchPredictionJobs/{name}", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "GET", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(h => h.json()), s.then(h => u_(h)) } else { const d = due(this.apiClient, t); return l = $e("batches/{name}", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "GET", httpOptions: (a = t.config) === null || a === void 0 ? void 0 : a.httpOptions, abortSignal: (i = t.config) === null || i === void 0 ? void 0 : i.abortSignal }).then(h => h.json()), s.then(h => Gp(h)) } } async cancel(t) { var r, n, a, i; let s = "", l = {}; if (this.apiClient.isVertexAI()) { const f = Vce(this.apiClient, t); s = $e("batchPredictionJobs/{name}:cancel", f._url), l = f._query, delete f._url, delete f._query, await this.apiClient.request({ path: s, queryParams: l, body: JSON.stringify(f), httpMethod: "POST", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }) } else { const f = Gce(this.apiClient, t); s = $e("batches/{name}:cancel", f._url), l = f._query, delete f._url, delete f._query, await this.apiClient.request({ path: s, queryParams: l, body: JSON.stringify(f), httpMethod: "POST", httpOptions: (a = t.config) === null || a === void 0 ? void 0 : a.httpOptions, abortSignal: (i = t.config) === null || i === void 0 ? void 0 : i.abortSignal }) } } async listInternal(t) { var r, n, a, i; let s, l = "", f = {}; if (this.apiClient.isVertexAI()) { const d = wue(t); return l = $e("batchPredictionJobs", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "GET", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(h => h.json().then(m => { const g = m; return g.sdkHttpResponse = { headers: h.headers }, g })), s.then(h => { const m = Sue(h), g = new KP; return Object.assign(g, m), g }) } else { const d = bue(t); return l = $e("batches", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "GET", httpOptions: (a = t.config) === null || a === void 0 ? void 0 : a.httpOptions, abortSignal: (i = t.config) === null || i === void 0 ? void 0 : i.abortSignal }).then(h => h.json().then(m => { const g = m; return g.sdkHttpResponse = { headers: h.headers }, g })), s.then(h => { const m = _ue(h), g = new KP; return Object.assign(g, m), g }) } } async delete(t) { var r, n, a, i; let s, l = "", f = {}; if (this.apiClient.isVertexAI()) { const d = eue(this.apiClient, t); return l = $e("batchPredictionJobs/{name}", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "DELETE", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(h => h.json().then(m => { const g = m; return g.sdkHttpResponse = { headers: h.headers }, g })), s.then(h => rue(h)) } else { const d = Qce(this.apiClient, t); return l = $e("batches/{name}", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "DELETE", httpOptions: (a = t.config) === null || a === void 0 ? void 0 : a.httpOptions, abortSignal: (i = t.config) === null || i === void 0 ? void 0 : i.abortSignal }).then(h => h.json().then(m => { const g = m; return g.sdkHttpResponse = { headers: h.headers }, g })), s.then(h => tue(h)) } } }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cue(e) { const t = {}, r = w(e, ["data"]); if (r != null && S(t, ["data"], r), w(e, ["displayName"]) !== void 0) throw new Error("displayName parameter is not supported in Gemini API."); const n = w(e, ["mimeType"]); return n != null && S(t, ["mimeType"], n), t } function QP(e) { const t = {}, r = w(e, ["parts"]); if (r != null) { let a = r; Array.isArray(a) && (a = a.map(i => Zue(i))), S(t, ["parts"], a) } const n = w(e, ["role"]); return n != null && S(t, ["role"], n), t } function jue(e, t) { const r = {}, n = w(e, ["ttl"]); t !== void 0 && n != null && S(t, ["ttl"], n); const a = w(e, ["expireTime"]); t !== void 0 && a != null && S(t, ["expireTime"], a); const i = w(e, ["displayName"]); t !== void 0 && i != null && S(t, ["displayName"], i); const s = w(e, ["contents"]); if (t !== void 0 && s != null) { let h = Wa(s); Array.isArray(h) && (h = h.map(m => QP(m))), S(t, ["contents"], h) } const l = w(e, ["systemInstruction"]); t !== void 0 && l != null && S(t, ["systemInstruction"], QP(Pn(l))); const f = w(e, ["tools"]); if (t !== void 0 && f != null) { let h = f; Array.isArray(h) && (h = h.map(m => ede(m))), S(t, ["tools"], h) } const d = w(e, ["toolConfig"]); if (t !== void 0 && d != null && S(t, ["toolConfig"], Que(d)), w(e, ["kmsKeyName"]) !== void 0) throw new Error("kmsKeyName parameter is not supported in Gemini API."); return r } function Iue(e, t) { const r = {}, n = w(e, ["ttl"]); t !== void 0 && n != null && S(t, ["ttl"], n); const a = w(e, ["expireTime"]); t !== void 0 && a != null && S(t, ["expireTime"], a); const i = w(e, ["displayName"]); t !== void 0 && i != null && S(t, ["displayName"], i); const s = w(e, ["contents"]); if (t !== void 0 && s != null) { let m = Wa(s); Array.isArray(m) && (m = m.map(g => g)), S(t, ["contents"], m) } const l = w(e, ["systemInstruction"]); t !== void 0 && l != null && S(t, ["systemInstruction"], Pn(l)); const f = w(e, ["tools"]); if (t !== void 0 && f != null) { let m = f; Array.isArray(m) && (m = m.map(g => tde(g))), S(t, ["tools"], m) } const d = w(e, ["toolConfig"]); t !== void 0 && d != null && S(t, ["toolConfig"], d); const h = w(e, ["kmsKeyName"]); return t !== void 0 && h != null && S(t, ["encryption_spec", "kmsKeyName"], h), r } function Oue(e, t) { const r = {}, n = w(t, ["model"]); n != null && S(r, ["model"], sL(e, n)); const a = w(t, ["config"]); return a != null && jue(a, r), r } function Rue(e, t) { const r = {}, n = w(t, ["model"]); n != null && S(r, ["model"], sL(e, n)); const a = w(t, ["config"]); return a != null && Iue(a, r), r } function Pue(e, t) { const r = {}, n = w(t, ["name"]); return n != null && S(r, ["_url", "name"], qs(e, n)), r } function Due(e, t) { const r = {}, n = w(t, ["name"]); return n != null && S(r, ["_url", "name"], qs(e, n)), r } function Mue(e) { const t = {}, r = w(e, ["sdkHttpResponse"]); return r != null && S(t, ["sdkHttpResponse"], r), t } function Lue(e) { const t = {}, r = w(e, ["sdkHttpResponse"]); return r != null && S(t, ["sdkHttpResponse"], r), t } function Fue(e) { const t = {}; if (w(e, ["displayName"]) !== void 0) throw new Error("displayName parameter is not supported in Gemini API."); const r = w(e, ["fileUri"]); r != null && S(t, ["fileUri"], r); const n = w(e, ["mimeType"]); return n != null && S(t, ["mimeType"], n), t } function Uue(e) { const t = {}, r = w(e, ["id"]); r != null && S(t, ["id"], r); const n = w(e, ["args"]); n != null && S(t, ["args"], n); const a = w(e, ["name"]); if (a != null && S(t, ["name"], a), w(e, ["partialArgs"]) !== void 0) throw new Error("partialArgs parameter is not supported in Gemini API."); if (w(e, ["willContinue"]) !== void 0) throw new Error("willContinue parameter is not supported in Gemini API."); return t } function Bue(e) { const t = {}, r = w(e, ["allowedFunctionNames"]); r != null && S(t, ["allowedFunctionNames"], r); const n = w(e, ["mode"]); if (n != null && S(t, ["mode"], n), w(e, ["streamFunctionCallArguments"]) !== void 0) throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API."); return t } function $ue(e) { const t = {}, r = w(e, ["description"]); r != null && S(t, ["description"], r); const n = w(e, ["name"]); n != null && S(t, ["name"], n); const a = w(e, ["parameters"]); a != null && S(t, ["parameters"], a); const i = w(e, ["parametersJsonSchema"]); i != null && S(t, ["parametersJsonSchema"], i); const s = w(e, ["response"]); s != null && S(t, ["response"], s); const l = w(e, ["responseJsonSchema"]); if (l != null && S(t, ["responseJsonSchema"], l), w(e, ["behavior"]) !== void 0) throw new Error("behavior parameter is not supported in Vertex AI."); return t } function zue(e, t) { const r = {}, n = w(t, ["name"]); return n != null && S(r, ["_url", "name"], qs(e, n)), r } function Hue(e, t) { const r = {}, n = w(t, ["name"]); return n != null && S(r, ["_url", "name"], qs(e, n)), r } function Gue(e) { const t = {}; if (w(e, ["authConfig"]) !== void 0) throw new Error("authConfig parameter is not supported in Gemini API."); const r = w(e, ["enableWidget"]); return r != null && S(t, ["enableWidget"], r), t } function Vue(e) { const t = {}; if (w(e, ["excludeDomains"]) !== void 0) throw new Error("excludeDomains parameter is not supported in Gemini API."); if (w(e, ["blockingConfidence"]) !== void 0) throw new Error("blockingConfidence parameter is not supported in Gemini API."); const r = w(e, ["timeRangeFilter"]); return r != null && S(t, ["timeRangeFilter"], r), t } function que(e, t) { const r = {}, n = w(e, ["pageSize"]); t !== void 0 && n != null && S(t, ["_query", "pageSize"], n); const a = w(e, ["pageToken"]); return t !== void 0 && a != null && S(t, ["_query", "pageToken"], a), r } function Wue(e, t) { const r = {}, n = w(e, ["pageSize"]); t !== void 0 && n != null && S(t, ["_query", "pageSize"], n); const a = w(e, ["pageToken"]); return t !== void 0 && a != null && S(t, ["_query", "pageToken"], a), r } function Kue(e) { const t = {}, r = w(e, ["config"]); return r != null && que(r, t), t } function Yue(e) { const t = {}, r = w(e, ["config"]); return r != null && Wue(r, t), t } function Xue(e) { const t = {}, r = w(e, ["sdkHttpResponse"]); r != null && S(t, ["sdkHttpResponse"], r); const n = w(e, ["nextPageToken"]); n != null && S(t, ["nextPageToken"], n); const a = w(e, ["cachedContents"]); if (a != null) { let i = a; Array.isArray(i) && (i = i.map(s => s)), S(t, ["cachedContents"], i) } return t } function Jue(e) { const t = {}, r = w(e, ["sdkHttpResponse"]); r != null && S(t, ["sdkHttpResponse"], r); const n = w(e, ["nextPageToken"]); n != null && S(t, ["nextPageToken"], n); const a = w(e, ["cachedContents"]); if (a != null) { let i = a; Array.isArray(i) && (i = i.map(s => s)), S(t, ["cachedContents"], i) } return t } function Zue(e) { const t = {}, r = w(e, ["mediaResolution"]); r != null && S(t, ["mediaResolution"], r); const n = w(e, ["codeExecutionResult"]); n != null && S(t, ["codeExecutionResult"], n); const a = w(e, ["executableCode"]); a != null && S(t, ["executableCode"], a); const i = w(e, ["fileData"]); i != null && S(t, ["fileData"], Fue(i)); const s = w(e, ["functionCall"]); s != null && S(t, ["functionCall"], Uue(s)); const l = w(e, ["functionResponse"]); l != null && S(t, ["functionResponse"], l); const f = w(e, ["inlineData"]); f != null && S(t, ["inlineData"], Cue(f)); const d = w(e, ["text"]); d != null && S(t, ["text"], d); const h = w(e, ["thought"]); h != null && S(t, ["thought"], h); const m = w(e, ["thoughtSignature"]); m != null && S(t, ["thoughtSignature"], m); const g = w(e, ["videoMetadata"]); return g != null && S(t, ["videoMetadata"], g), t } function Que(e) { const t = {}, r = w(e, ["retrievalConfig"]); r != null && S(t, ["retrievalConfig"], r); const n = w(e, ["functionCallingConfig"]); return n != null && S(t, ["functionCallingConfig"], Bue(n)), t } function ede(e) { const t = {}; if (w(e, ["retrieval"]) !== void 0) throw new Error("retrieval parameter is not supported in Gemini API."); const r = w(e, ["computerUse"]); r != null && S(t, ["computerUse"], r); const n = w(e, ["fileSearch"]); n != null && S(t, ["fileSearch"], n); const a = w(e, ["codeExecution"]); if (a != null && S(t, ["codeExecution"], a), w(e, ["enterpriseWebSearch"]) !== void 0) throw new Error("enterpriseWebSearch parameter is not supported in Gemini API."); const i = w(e, ["functionDeclarations"]); if (i != null) { let h = i; Array.isArray(h) && (h = h.map(m => m)), S(t, ["functionDeclarations"], h) } const s = w(e, ["googleMaps"]); s != null && S(t, ["googleMaps"], Gue(s)); const l = w(e, ["googleSearch"]); l != null && S(t, ["googleSearch"], Vue(l)); const f = w(e, ["googleSearchRetrieval"]); f != null && S(t, ["googleSearchRetrieval"], f); const d = w(e, ["urlContext"]); return d != null && S(t, ["urlContext"], d), t } function tde(e) { const t = {}, r = w(e, ["retrieval"]); r != null && S(t, ["retrieval"], r); const n = w(e, ["computerUse"]); if (n != null && S(t, ["computerUse"], n), w(e, ["fileSearch"]) !== void 0) throw new Error("fileSearch parameter is not supported in Vertex AI."); const a = w(e, ["codeExecution"]); a != null && S(t, ["codeExecution"], a); const i = w(e, ["enterpriseWebSearch"]); i != null && S(t, ["enterpriseWebSearch"], i); const s = w(e, ["functionDeclarations"]); if (s != null) { let m = s; Array.isArray(m) && (m = m.map(g => $ue(g))), S(t, ["functionDeclarations"], m) } const l = w(e, ["googleMaps"]); l != null && S(t, ["googleMaps"], l); const f = w(e, ["googleSearch"]); f != null && S(t, ["googleSearch"], f); const d = w(e, ["googleSearchRetrieval"]); d != null && S(t, ["googleSearchRetrieval"], d); const h = w(e, ["urlContext"]); return h != null && S(t, ["urlContext"], h), t } function rde(e, t) { const r = {}, n = w(e, ["ttl"]); t !== void 0 && n != null && S(t, ["ttl"], n); const a = w(e, ["expireTime"]); return t !== void 0 && a != null && S(t, ["expireTime"], a), r } function nde(e, t) { const r = {}, n = w(e, ["ttl"]); t !== void 0 && n != null && S(t, ["ttl"], n); const a = w(e, ["expireTime"]); return t !== void 0 && a != null && S(t, ["expireTime"], a), r } function ade(e, t) { const r = {}, n = w(t, ["name"]); n != null && S(r, ["_url", "name"], qs(e, n)); const a = w(t, ["config"]); return a != null && rde(a, r), r } function ide(e, t) { const r = {}, n = w(t, ["name"]); n != null && S(r, ["_url", "name"], qs(e, n)); const a = w(t, ["config"]); return a != null && nde(a, r), r }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sde extends Vs { constructor(t) { super(), this.apiClient = t, this.list = async (r = {}) => new sc(Ds.PAGED_ITEM_CACHED_CONTENTS, n => this.listInternal(n), await this.listInternal(r), r) } async create(t) { var r, n, a, i; let s, l = "", f = {}; if (this.apiClient.isVertexAI()) { const d = Rue(this.apiClient, t); return l = $e("cachedContents", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "POST", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(h => h.json()), s.then(h => h) } else { const d = Oue(this.apiClient, t); return l = $e("cachedContents", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "POST", httpOptions: (a = t.config) === null || a === void 0 ? void 0 : a.httpOptions, abortSignal: (i = t.config) === null || i === void 0 ? void 0 : i.abortSignal }).then(h => h.json()), s.then(h => h) } } async get(t) { var r, n, a, i; let s, l = "", f = {}; if (this.apiClient.isVertexAI()) { const d = Hue(this.apiClient, t); return l = $e("{name}", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "GET", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(h => h.json()), s.then(h => h) } else { const d = zue(this.apiClient, t); return l = $e("{name}", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "GET", httpOptions: (a = t.config) === null || a === void 0 ? void 0 : a.httpOptions, abortSignal: (i = t.config) === null || i === void 0 ? void 0 : i.abortSignal }).then(h => h.json()), s.then(h => h) } } async delete(t) { var r, n, a, i; let s, l = "", f = {}; if (this.apiClient.isVertexAI()) { const d = Due(this.apiClient, t); return l = $e("{name}", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "DELETE", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(h => h.json().then(m => { const g = m; return g.sdkHttpResponse = { headers: h.headers }, g })), s.then(h => { const m = Lue(h), g = new qP; return Object.assign(g, m), g }) } else { const d = Pue(this.apiClient, t); return l = $e("{name}", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "DELETE", httpOptions: (a = t.config) === null || a === void 0 ? void 0 : a.httpOptions, abortSignal: (i = t.config) === null || i === void 0 ? void 0 : i.abortSignal }).then(h => h.json().then(m => { const g = m; return g.sdkHttpResponse = { headers: h.headers }, g })), s.then(h => { const m = Mue(h), g = new qP; return Object.assign(g, m), g }) } } async update(t) { var r, n, a, i; let s, l = "", f = {}; if (this.apiClient.isVertexAI()) { const d = ide(this.apiClient, t); return l = $e("{name}", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "PATCH", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(h => h.json()), s.then(h => h) } else { const d = ade(this.apiClient, t); return l = $e("{name}", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "PATCH", httpOptions: (a = t.config) === null || a === void 0 ? void 0 : a.httpOptions, abortSignal: (i = t.config) === null || i === void 0 ? void 0 : i.abortSignal }).then(h => h.json()), s.then(h => h) } } async listInternal(t) { var r, n, a, i; let s, l = "", f = {}; if (this.apiClient.isVertexAI()) { const d = Yue(t); return l = $e("cachedContents", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "GET", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(h => h.json().then(m => { const g = m; return g.sdkHttpResponse = { headers: h.headers }, g })), s.then(h => { const m = Jue(h), g = new WP; return Object.assign(g, m), g }) } else { const d = Kue(t); return l = $e("cachedContents", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "GET", httpOptions: (a = t.config) === null || a === void 0 ? void 0 : a.httpOptions, abortSignal: (i = t.config) === null || i === void 0 ? void 0 : i.abortSignal }).then(h => h.json().then(m => { const g = m; return g.sdkHttpResponse = { headers: h.headers }, g })), s.then(h => { const m = Xue(h), g = new WP; return Object.assign(g, m), g }) } } } function Qm(e, t) { var r = {}; for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && t.indexOf(n) < 0 && (r[n] = e[n]); if (e != null && typeof Object.getOwnPropertySymbols == "function") for (var a = 0, n = Object.getOwnPropertySymbols(e); a < n.length; a++)t.indexOf(n[a]) < 0 && Object.prototype.propertyIsEnumerable.call(e, n[a]) && (r[n[a]] = e[n[a]]); return r } function eD(e) { var t = typeof Symbol == "function" && Symbol.iterator, r = t && e[t], n = 0; if (r) return r.call(e); if (e && typeof e.length == "number") return { next: function () { return e && n >= e.length && (e = void 0), { value: e && e[n++], done: !e } } }; throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.") } function st(e) { return this instanceof st ? (this.v = e, this) : new st(e) } function xi(e, t, r) { if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined."); var n = r.apply(e, t || []), a, i = []; return a = Object.create((typeof AsyncIterator == "function" ? AsyncIterator : Object).prototype), l("next"), l("throw"), l("return", s), a[Symbol.asyncIterator] = function () { return this }, a; function s(v) { return function (y) { return Promise.resolve(y).then(v, m) } } function l(v, y) { n[v] && (a[v] = function (b) { return new Promise(function (_, k) { i.push([v, b, _, k]) > 1 || f(v, b) }) }, y && (a[v] = y(a[v]))) } function f(v, y) { try { d(n[v](y)) } catch (b) { g(i[0][3], b) } } function d(v) { v.value instanceof st ? Promise.resolve(v.value.v).then(h, m) : g(i[0][2], v) } function h(v) { f("next", v) } function m(v) { f("throw", v) } function g(v, y) { v(y), i.shift(), i.length && f(i[0][0], i[0][1]) } } function vi(e) { if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined."); var t = e[Symbol.asyncIterator], r; return t ? t.call(e) : (e = typeof eD == "function" ? eD(e) : e[Symbol.iterator](), r = {}, n("next"), n("throw"), n("return"), r[Symbol.asyncIterator] = function () { return this }, r); function n(i) { r[i] = e[i] && function (s) { return new Promise(function (l, f) { s = e[i](s), a(l, f, s.done, s.value) }) } } function a(i, s, l, f) { Promise.resolve(f).then(function (d) { i({ value: d, done: l }) }, s) } }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ode(e) { var t; if (e.candidates == null || e.candidates.length === 0) return !1; const r = (t = e.candidates[0]) === null || t === void 0 ? void 0 : t.content; return r === void 0 ? !1 : yL(r) } function yL(e) { if (e.parts === void 0 || e.parts.length === 0) return !1; for (const t of e.parts) if (t === void 0 || Object.keys(t).length === 0) return !1; return !0 } function lde(e) { if (e.length !== 0) { for (const t of e) if (t.role !== "user" && t.role !== "model") throw new Error(`Role must be user or model, but got ${t.role}.`) } } function tD(e) { if (e === void 0 || e.length === 0) return []; const t = [], r = e.length; let n = 0; for (; n < r;)if (e[n].role === "user") t.push(e[n]), n++; else { const a = []; let i = !0; for (; n < r && e[n].role === "model";)a.push(e[n]), i && !yL(e[n]) && (i = !1), n++; i ? t.push(...a) : t.pop() } return t } class cde { constructor(t, r) { this.modelsModule = t, this.apiClient = r } create(t) { return new ude(this.apiClient, this.modelsModule, t.model, t.config, structuredClone(t.history)) } } class ude { constructor(t, r, n, a = {}, i = []) { this.apiClient = t, this.modelsModule = r, this.model = n, this.config = a, this.history = i, this.sendPromise = Promise.resolve(), lde(i) } async sendMessage(t) { var r; await this.sendPromise; const n = Pn(t.message), a = this.modelsModule.generateContent({ model: this.model, contents: this.getHistory(!0).concat(n), config: (r = t.config) !== null && r !== void 0 ? r : this.config }); return this.sendPromise = (async () => { var i, s, l; const f = await a, d = (s = (i = f.candidates) === null || i === void 0 ? void 0 : i[0]) === null || s === void 0 ? void 0 : s.content, h = f.automaticFunctionCallingHistory, m = this.getHistory(!0).length; let g = []; h != null && (g = (l = h.slice(m)) !== null && l !== void 0 ? l : []); const v = d ? [d] : []; this.recordHistory(n, v, g) })(), await this.sendPromise.catch(() => { this.sendPromise = Promise.resolve() }), a } async sendMessageStream(t) { var r; await this.sendPromise; const n = Pn(t.message), a = this.modelsModule.generateContentStream({ model: this.model, contents: this.getHistory(!0).concat(n), config: (r = t.config) !== null && r !== void 0 ? r : this.config }); this.sendPromise = a.then(() => { }).catch(() => { }); const i = await a; return this.processStreamResponse(i, n) } getHistory(t = !1) { const r = t ? tD(this.history) : this.history; return structuredClone(r) } processStreamResponse(t, r) { return xi(this, arguments, function* () { var a, i, s, l, f, d; const h = []; try { for (var m = !0, g = vi(t), v; v = yield st(g.next()), a = v.done, !a; m = !0) { l = v.value, m = !1; const y = l; if (ode(y)) { const b = (d = (f = y.candidates) === null || f === void 0 ? void 0 : f[0]) === null || d === void 0 ? void 0 : d.content; b !== void 0 && h.push(b) } yield yield st(y) } } catch (y) { i = { error: y } } finally { try { !m && !a && (s = g.return) && (yield st(s.call(g))) } finally { if (i) throw i.error } } this.recordHistory(r, h) }) } recordHistory(t, r, n) { let a = []; r.length > 0 && r.every(i => i.role !== void 0) ? a = r : a.push({ role: "model", parts: [] }), n && n.length > 0 ? this.history.push(...tD(n)) : this.history.push(t), this.history.push(...a) } }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class e0 extends Error { constructor(t) { super(t.message), this.name = "ApiError", this.status = t.status, Object.setPrototypeOf(this, e0.prototype) } }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dde(e) { const t = {}, r = w(e, ["file"]); return r != null && S(t, ["file"], r), t } function fde(e) { const t = {}, r = w(e, ["sdkHttpResponse"]); return r != null && S(t, ["sdkHttpResponse"], r), t } function hde(e) { const t = {}, r = w(e, ["name"]); return r != null && S(t, ["_url", "file"], fL(r)), t } function pde(e) { const t = {}, r = w(e, ["sdkHttpResponse"]); return r != null && S(t, ["sdkHttpResponse"], r), t } function mde(e) { const t = {}, r = w(e, ["name"]); return r != null && S(t, ["_url", "file"], fL(r)), t } function gde(e, t) { const r = {}, n = w(e, ["pageSize"]); t !== void 0 && n != null && S(t, ["_query", "pageSize"], n); const a = w(e, ["pageToken"]); return t !== void 0 && a != null && S(t, ["_query", "pageToken"], a), r } function xde(e) { const t = {}, r = w(e, ["config"]); return r != null && gde(r, t), t } function vde(e) { const t = {}, r = w(e, ["sdkHttpResponse"]); r != null && S(t, ["sdkHttpResponse"], r); const n = w(e, ["nextPageToken"]); n != null && S(t, ["nextPageToken"], n); const a = w(e, ["files"]); if (a != null) { let i = a; Array.isArray(i) && (i = i.map(s => s)), S(t, ["files"], i) } return t }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yde extends Vs { constructor(t) { super(), this.apiClient = t, this.list = async (r = {}) => new sc(Ds.PAGED_ITEM_FILES, n => this.listInternal(n), await this.listInternal(r), r) } async upload(t) { if (this.apiClient.isVertexAI()) throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket."); return this.apiClient.uploadFile(t.file, t.config).then(r => r) } async download(t) { await this.apiClient.downloadFile(t) } async listInternal(t) { var r, n; let a, i = "", s = {}; if (this.apiClient.isVertexAI()) throw new Error("This method is only supported by the Gemini Developer API."); { const l = xde(t); return i = $e("files", l._url), s = l._query, delete l._url, delete l._query, a = this.apiClient.request({ path: i, queryParams: s, body: JSON.stringify(l), httpMethod: "GET", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(f => f.json().then(d => { const h = d; return h.sdkHttpResponse = { headers: f.headers }, h })), a.then(f => { const d = vde(f), h = new Sce; return Object.assign(h, d), h }) } } async createInternal(t) { var r, n; let a, i = "", s = {}; if (this.apiClient.isVertexAI()) throw new Error("This method is only supported by the Gemini Developer API."); { const l = dde(t); return i = $e("upload/v1beta/files", l._url), s = l._query, delete l._url, delete l._query, a = this.apiClient.request({ path: i, queryParams: s, body: JSON.stringify(l), httpMethod: "POST", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(f => f.json()), a.then(f => { const d = fde(f), h = new Ece; return Object.assign(h, d), h }) } } async get(t) { var r, n; let a, i = "", s = {}; if (this.apiClient.isVertexAI()) throw new Error("This method is only supported by the Gemini Developer API."); { const l = mde(t); return i = $e("files/{file}", l._url), s = l._query, delete l._url, delete l._query, a = this.apiClient.request({ path: i, queryParams: s, body: JSON.stringify(l), httpMethod: "GET", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(f => f.json()), a.then(f => f) } } async delete(t) { var r, n; let a, i = "", s = {}; if (this.apiClient.isVertexAI()) throw new Error("This method is only supported by the Gemini Developer API."); { const l = hde(t); return i = $e("files/{file}", l._url), s = l._query, delete l._url, delete l._query, a = this.apiClient.request({ path: i, queryParams: s, body: JSON.stringify(l), httpMethod: "DELETE", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(f => f.json().then(d => { const h = d; return h.sdkHttpResponse = { headers: f.headers }, h })), a.then(f => { const d = pde(f), h = new kce; return Object.assign(h, d), h }) } } }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vp(e) { const t = {}, r = w(e, ["data"]); if (r != null && S(t, ["data"], r), w(e, ["displayName"]) !== void 0) throw new Error("displayName parameter is not supported in Gemini API."); const n = w(e, ["mimeType"]); return n != null && S(t, ["mimeType"], n), t } function bde(e) { const t = {}, r = w(e, ["parts"]); if (r != null) { let a = r; Array.isArray(a) && (a = a.map(i => Mde(i))), S(t, ["parts"], a) } const n = w(e, ["role"]); return n != null && S(t, ["role"], n), t } function wde(e) { const t = {}; if (w(e, ["displayName"]) !== void 0) throw new Error("displayName parameter is not supported in Gemini API."); const r = w(e, ["fileUri"]); r != null && S(t, ["fileUri"], r); const n = w(e, ["mimeType"]); return n != null && S(t, ["mimeType"], n), t } function _de(e) { const t = {}, r = w(e, ["id"]); r != null && S(t, ["id"], r); const n = w(e, ["args"]); n != null && S(t, ["args"], n); const a = w(e, ["name"]); if (a != null && S(t, ["name"], a), w(e, ["partialArgs"]) !== void 0) throw new Error("partialArgs parameter is not supported in Gemini API."); if (w(e, ["willContinue"]) !== void 0) throw new Error("willContinue parameter is not supported in Gemini API."); return t } function Sde(e) { const t = {}, r = w(e, ["description"]); r != null && S(t, ["description"], r); const n = w(e, ["name"]); n != null && S(t, ["name"], n); const a = w(e, ["parameters"]); a != null && S(t, ["parameters"], a); const i = w(e, ["parametersJsonSchema"]); i != null && S(t, ["parametersJsonSchema"], i); const s = w(e, ["response"]); s != null && S(t, ["response"], s); const l = w(e, ["responseJsonSchema"]); if (l != null && S(t, ["responseJsonSchema"], l), w(e, ["behavior"]) !== void 0) throw new Error("behavior parameter is not supported in Vertex AI."); return t } function Ede(e) { const t = {}, r = w(e, ["modelSelectionConfig"]); r != null && S(t, ["modelConfig"], r); const n = w(e, ["responseJsonSchema"]); n != null && S(t, ["responseJsonSchema"], n); const a = w(e, ["audioTimestamp"]); a != null && S(t, ["audioTimestamp"], a); const i = w(e, ["candidateCount"]); i != null && S(t, ["candidateCount"], i); const s = w(e, ["enableAffectiveDialog"]); s != null && S(t, ["enableAffectiveDialog"], s); const l = w(e, ["frequencyPenalty"]); l != null && S(t, ["frequencyPenalty"], l); const f = w(e, ["logprobs"]); f != null && S(t, ["logprobs"], f); const d = w(e, ["maxOutputTokens"]); d != null && S(t, ["maxOutputTokens"], d); const h = w(e, ["mediaResolution"]); h != null && S(t, ["mediaResolution"], h); const m = w(e, ["presencePenalty"]); m != null && S(t, ["presencePenalty"], m); const g = w(e, ["responseLogprobs"]); g != null && S(t, ["responseLogprobs"], g); const v = w(e, ["responseMimeType"]); v != null && S(t, ["responseMimeType"], v); const y = w(e, ["responseModalities"]); y != null && S(t, ["responseModalities"], y); const b = w(e, ["responseSchema"]); b != null && S(t, ["responseSchema"], b); const _ = w(e, ["routingConfig"]); _ != null && S(t, ["routingConfig"], _); const k = w(e, ["seed"]); k != null && S(t, ["seed"], k); const C = w(e, ["speechConfig"]); C != null && S(t, ["speechConfig"], C); const T = w(e, ["stopSequences"]); T != null && S(t, ["stopSequences"], T); const j = w(e, ["temperature"]); j != null && S(t, ["temperature"], j); const R = w(e, ["thinkingConfig"]); R != null && S(t, ["thinkingConfig"], R); const O = w(e, ["topK"]); O != null && S(t, ["topK"], O); const I = w(e, ["topP"]); if (I != null && S(t, ["topP"], I), w(e, ["enableEnhancedCivicAnswers"]) !== void 0) throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI."); return t } function kde(e) { const t = {}; if (w(e, ["authConfig"]) !== void 0) throw new Error("authConfig parameter is not supported in Gemini API."); const r = w(e, ["enableWidget"]); return r != null && S(t, ["enableWidget"], r), t } function Tde(e) { const t = {}; if (w(e, ["excludeDomains"]) !== void 0) throw new Error("excludeDomains parameter is not supported in Gemini API."); if (w(e, ["blockingConfidence"]) !== void 0) throw new Error("blockingConfidence parameter is not supported in Gemini API."); const r = w(e, ["timeRangeFilter"]); return r != null && S(t, ["timeRangeFilter"], r), t } function Nde(e, t) { const r = {}, n = w(e, ["generationConfig"]); t !== void 0 && n != null && S(t, ["setup", "generationConfig"], n); const a = w(e, ["responseModalities"]); t !== void 0 && a != null && S(t, ["setup", "generationConfig", "responseModalities"], a); const i = w(e, ["temperature"]); t !== void 0 && i != null && S(t, ["setup", "generationConfig", "temperature"], i); const s = w(e, ["topP"]); t !== void 0 && s != null && S(t, ["setup", "generationConfig", "topP"], s); const l = w(e, ["topK"]); t !== void 0 && l != null && S(t, ["setup", "generationConfig", "topK"], l); const f = w(e, ["maxOutputTokens"]); t !== void 0 && f != null && S(t, ["setup", "generationConfig", "maxOutputTokens"], f); const d = w(e, ["mediaResolution"]); t !== void 0 && d != null && S(t, ["setup", "generationConfig", "mediaResolution"], d); const h = w(e, ["seed"]); t !== void 0 && h != null && S(t, ["setup", "generationConfig", "seed"], h); const m = w(e, ["speechConfig"]); t !== void 0 && m != null && S(t, ["setup", "generationConfig", "speechConfig"], HE(m)); const g = w(e, ["thinkingConfig"]); t !== void 0 && g != null && S(t, ["setup", "generationConfig", "thinkingConfig"], g); const v = w(e, ["enableAffectiveDialog"]); t !== void 0 && v != null && S(t, ["setup", "generationConfig", "enableAffectiveDialog"], v); const y = w(e, ["systemInstruction"]); t !== void 0 && y != null && S(t, ["setup", "systemInstruction"], bde(Pn(y))); const b = w(e, ["tools"]); if (t !== void 0 && b != null) { let O = ed(b); Array.isArray(O) && (O = O.map(I => Fde(Qu(I)))), S(t, ["setup", "tools"], O) } const _ = w(e, ["sessionResumption"]); t !== void 0 && _ != null && S(t, ["setup", "sessionResumption"], Lde(_)); const k = w(e, ["inputAudioTranscription"]); t !== void 0 && k != null && S(t, ["setup", "inputAudioTranscription"], k); const C = w(e, ["outputAudioTranscription"]); t !== void 0 && C != null && S(t, ["setup", "outputAudioTranscription"], C); const T = w(e, ["realtimeInputConfig"]); t !== void 0 && T != null && S(t, ["setup", "realtimeInputConfig"], T); const j = w(e, ["contextWindowCompression"]); t !== void 0 && j != null && S(t, ["setup", "contextWindowCompression"], j); const R = w(e, ["proactivity"]); if (t !== void 0 && R != null && S(t, ["setup", "proactivity"], R), w(e, ["explicitVadSignal"]) !== void 0) throw new Error("explicitVadSignal parameter is not supported in Gemini API."); return r } function Ade(e, t) { const r = {}, n = w(e, ["generationConfig"]); t !== void 0 && n != null && S(t, ["setup", "generationConfig"], Ede(n)); const a = w(e, ["responseModalities"]); t !== void 0 && a != null && S(t, ["setup", "generationConfig", "responseModalities"], a); const i = w(e, ["temperature"]); t !== void 0 && i != null && S(t, ["setup", "generationConfig", "temperature"], i); const s = w(e, ["topP"]); t !== void 0 && s != null && S(t, ["setup", "generationConfig", "topP"], s); const l = w(e, ["topK"]); t !== void 0 && l != null && S(t, ["setup", "generationConfig", "topK"], l); const f = w(e, ["maxOutputTokens"]); t !== void 0 && f != null && S(t, ["setup", "generationConfig", "maxOutputTokens"], f); const d = w(e, ["mediaResolution"]); t !== void 0 && d != null && S(t, ["setup", "generationConfig", "mediaResolution"], d); const h = w(e, ["seed"]); t !== void 0 && h != null && S(t, ["setup", "generationConfig", "seed"], h); const m = w(e, ["speechConfig"]); t !== void 0 && m != null && S(t, ["setup", "generationConfig", "speechConfig"], HE(m)); const g = w(e, ["thinkingConfig"]); t !== void 0 && g != null && S(t, ["setup", "generationConfig", "thinkingConfig"], g); const v = w(e, ["enableAffectiveDialog"]); t !== void 0 && v != null && S(t, ["setup", "generationConfig", "enableAffectiveDialog"], v); const y = w(e, ["systemInstruction"]); t !== void 0 && y != null && S(t, ["setup", "systemInstruction"], Pn(y)); const b = w(e, ["tools"]); if (t !== void 0 && b != null) { let I = ed(b); Array.isArray(I) && (I = I.map(H => Ude(Qu(H)))), S(t, ["setup", "tools"], I) } const _ = w(e, ["sessionResumption"]); t !== void 0 && _ != null && S(t, ["setup", "sessionResumption"], _); const k = w(e, ["inputAudioTranscription"]); t !== void 0 && k != null && S(t, ["setup", "inputAudioTranscription"], k); const C = w(e, ["outputAudioTranscription"]); t !== void 0 && C != null && S(t, ["setup", "outputAudioTranscription"], C); const T = w(e, ["realtimeInputConfig"]); t !== void 0 && T != null && S(t, ["setup", "realtimeInputConfig"], T); const j = w(e, ["contextWindowCompression"]); t !== void 0 && j != null && S(t, ["setup", "contextWindowCompression"], j); const R = w(e, ["proactivity"]); t !== void 0 && R != null && S(t, ["setup", "proactivity"], R); const O = w(e, ["explicitVadSignal"]); return t !== void 0 && O != null && S(t, ["setup", "explicitVadSignal"], O), r } function Cde(e, t) { const r = {}, n = w(t, ["model"]); n != null && S(r, ["setup", "model"], Rt(e, n)); const a = w(t, ["config"]); return a != null && S(r, ["config"], Nde(a, r)), r } function jde(e, t) { const r = {}, n = w(t, ["model"]); n != null && S(r, ["setup", "model"], Rt(e, n)); const a = w(t, ["config"]); return a != null && S(r, ["config"], Ade(a, r)), r } function Ide(e) { const t = {}, r = w(e, ["musicGenerationConfig"]); return r != null && S(t, ["musicGenerationConfig"], r), t } function Ode(e) { const t = {}, r = w(e, ["weightedPrompts"]); if (r != null) { let n = r; Array.isArray(n) && (n = n.map(a => a)), S(t, ["weightedPrompts"], n) } return t } function Rde(e) { const t = {}, r = w(e, ["media"]); if (r != null) { let d = oL(r); Array.isArray(d) && (d = d.map(h => Vp(h))), S(t, ["mediaChunks"], d) } const n = w(e, ["audio"]); n != null && S(t, ["audio"], Vp(cL(n))); const a = w(e, ["audioStreamEnd"]); a != null && S(t, ["audioStreamEnd"], a); const i = w(e, ["video"]); i != null && S(t, ["video"], Vp(lL(i))); const s = w(e, ["text"]); s != null && S(t, ["text"], s); const l = w(e, ["activityStart"]); l != null && S(t, ["activityStart"], l); const f = w(e, ["activityEnd"]); return f != null && S(t, ["activityEnd"], f), t } function Pde(e) { const t = {}, r = w(e, ["media"]); if (r != null) { let d = oL(r); Array.isArray(d) && (d = d.map(h => h)), S(t, ["mediaChunks"], d) } const n = w(e, ["audio"]); n != null && S(t, ["audio"], cL(n)); const a = w(e, ["audioStreamEnd"]); a != null && S(t, ["audioStreamEnd"], a); const i = w(e, ["video"]); i != null && S(t, ["video"], lL(i)); const s = w(e, ["text"]); s != null && S(t, ["text"], s); const l = w(e, ["activityStart"]); l != null && S(t, ["activityStart"], l); const f = w(e, ["activityEnd"]); return f != null && S(t, ["activityEnd"], f), t } function Dde(e) { const t = {}, r = w(e, ["setupComplete"]); r != null && S(t, ["setupComplete"], r); const n = w(e, ["serverContent"]); n != null && S(t, ["serverContent"], n); const a = w(e, ["toolCall"]); a != null && S(t, ["toolCall"], a); const i = w(e, ["toolCallCancellation"]); i != null && S(t, ["toolCallCancellation"], i); const s = w(e, ["usageMetadata"]); s != null && S(t, ["usageMetadata"], Bde(s)); const l = w(e, ["goAway"]); l != null && S(t, ["goAway"], l); const f = w(e, ["sessionResumptionUpdate"]); f != null && S(t, ["sessionResumptionUpdate"], f); const d = w(e, ["voiceActivityDetectionSignal"]); d != null && S(t, ["voiceActivityDetectionSignal"], d); const h = w(e, ["voiceActivity"]); return h != null && S(t, ["voiceActivity"], $de(h)), t } function Mde(e) { const t = {}, r = w(e, ["mediaResolution"]); r != null && S(t, ["mediaResolution"], r); const n = w(e, ["codeExecutionResult"]); n != null && S(t, ["codeExecutionResult"], n); const a = w(e, ["executableCode"]); a != null && S(t, ["executableCode"], a); const i = w(e, ["fileData"]); i != null && S(t, ["fileData"], wde(i)); const s = w(e, ["functionCall"]); s != null && S(t, ["functionCall"], _de(s)); const l = w(e, ["functionResponse"]); l != null && S(t, ["functionResponse"], l); const f = w(e, ["inlineData"]); f != null && S(t, ["inlineData"], Vp(f)); const d = w(e, ["text"]); d != null && S(t, ["text"], d); const h = w(e, ["thought"]); h != null && S(t, ["thought"], h); const m = w(e, ["thoughtSignature"]); m != null && S(t, ["thoughtSignature"], m); const g = w(e, ["videoMetadata"]); return g != null && S(t, ["videoMetadata"], g), t } function Lde(e) { const t = {}, r = w(e, ["handle"]); if (r != null && S(t, ["handle"], r), w(e, ["transparent"]) !== void 0) throw new Error("transparent parameter is not supported in Gemini API."); return t } function Fde(e) { const t = {}; if (w(e, ["retrieval"]) !== void 0) throw new Error("retrieval parameter is not supported in Gemini API."); const r = w(e, ["computerUse"]); r != null && S(t, ["computerUse"], r); const n = w(e, ["fileSearch"]); n != null && S(t, ["fileSearch"], n); const a = w(e, ["codeExecution"]); if (a != null && S(t, ["codeExecution"], a), w(e, ["enterpriseWebSearch"]) !== void 0) throw new Error("enterpriseWebSearch parameter is not supported in Gemini API."); const i = w(e, ["functionDeclarations"]); if (i != null) { let h = i; Array.isArray(h) && (h = h.map(m => m)), S(t, ["functionDeclarations"], h) } const s = w(e, ["googleMaps"]); s != null && S(t, ["googleMaps"], kde(s)); const l = w(e, ["googleSearch"]); l != null && S(t, ["googleSearch"], Tde(l)); const f = w(e, ["googleSearchRetrieval"]); f != null && S(t, ["googleSearchRetrieval"], f); const d = w(e, ["urlContext"]); return d != null && S(t, ["urlContext"], d), t } function Ude(e) { const t = {}, r = w(e, ["retrieval"]); r != null && S(t, ["retrieval"], r); const n = w(e, ["computerUse"]); if (n != null && S(t, ["computerUse"], n), w(e, ["fileSearch"]) !== void 0) throw new Error("fileSearch parameter is not supported in Vertex AI."); const a = w(e, ["codeExecution"]); a != null && S(t, ["codeExecution"], a); const i = w(e, ["enterpriseWebSearch"]); i != null && S(t, ["enterpriseWebSearch"], i); const s = w(e, ["functionDeclarations"]); if (s != null) { let m = s; Array.isArray(m) && (m = m.map(g => Sde(g))), S(t, ["functionDeclarations"], m) } const l = w(e, ["googleMaps"]); l != null && S(t, ["googleMaps"], l); const f = w(e, ["googleSearch"]); f != null && S(t, ["googleSearch"], f); const d = w(e, ["googleSearchRetrieval"]); d != null && S(t, ["googleSearchRetrieval"], d); const h = w(e, ["urlContext"]); return h != null && S(t, ["urlContext"], h), t } function Bde(e) { const t = {}, r = w(e, ["promptTokenCount"]); r != null && S(t, ["promptTokenCount"], r); const n = w(e, ["cachedContentTokenCount"]); n != null && S(t, ["cachedContentTokenCount"], n); const a = w(e, ["candidatesTokenCount"]); a != null && S(t, ["responseTokenCount"], a); const i = w(e, ["toolUsePromptTokenCount"]); i != null && S(t, ["toolUsePromptTokenCount"], i); const s = w(e, ["thoughtsTokenCount"]); s != null && S(t, ["thoughtsTokenCount"], s); const l = w(e, ["totalTokenCount"]); l != null && S(t, ["totalTokenCount"], l); const f = w(e, ["promptTokensDetails"]); if (f != null) { let v = f; Array.isArray(v) && (v = v.map(y => y)), S(t, ["promptTokensDetails"], v) } const d = w(e, ["cacheTokensDetails"]); if (d != null) { let v = d; Array.isArray(v) && (v = v.map(y => y)), S(t, ["cacheTokensDetails"], v) } const h = w(e, ["candidatesTokensDetails"]); if (h != null) { let v = h; Array.isArray(v) && (v = v.map(y => y)), S(t, ["responseTokensDetails"], v) } const m = w(e, ["toolUsePromptTokensDetails"]); if (m != null) { let v = m; Array.isArray(v) && (v = v.map(y => y)), S(t, ["toolUsePromptTokensDetails"], v) } const g = w(e, ["trafficType"]); return g != null && S(t, ["trafficType"], g), t } function $de(e) { const t = {}, r = w(e, ["type"]); return r != null && S(t, ["voiceActivityType"], r), t }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zde(e) { const t = {}, r = w(e, ["data"]); if (r != null && S(t, ["data"], r), w(e, ["displayName"]) !== void 0) throw new Error("displayName parameter is not supported in Gemini API."); const n = w(e, ["mimeType"]); return n != null && S(t, ["mimeType"], n), t } function Hde(e) { const t = {}, r = w(e, ["content"]); r != null && S(t, ["content"], r); const n = w(e, ["citationMetadata"]); n != null && S(t, ["citationMetadata"], Gde(n)); const a = w(e, ["tokenCount"]); a != null && S(t, ["tokenCount"], a); const i = w(e, ["finishReason"]); i != null && S(t, ["finishReason"], i); const s = w(e, ["avgLogprobs"]); s != null && S(t, ["avgLogprobs"], s); const l = w(e, ["groundingMetadata"]); l != null && S(t, ["groundingMetadata"], l); const f = w(e, ["index"]); f != null && S(t, ["index"], f); const d = w(e, ["logprobsResult"]); d != null && S(t, ["logprobsResult"], d); const h = w(e, ["safetyRatings"]); if (h != null) { let g = h; Array.isArray(g) && (g = g.map(v => v)), S(t, ["safetyRatings"], g) } const m = w(e, ["urlContextMetadata"]); return m != null && S(t, ["urlContextMetadata"], m), t } function Gde(e) { const t = {}, r = w(e, ["citationSources"]); if (r != null) { let n = r; Array.isArray(n) && (n = n.map(a => a)), S(t, ["citations"], n) } return t } function Vde(e, t) { const r = {}, n = w(t, ["model"]); n != null && S(r, ["_url", "model"], Rt(e, n)); const a = w(t, ["contents"]); if (a != null) { let i = Wa(a); Array.isArray(i) && (i = i.map(s => s)), S(r, ["contents"], i) } return r } function qde(e) { const t = {}, r = w(e, ["sdkHttpResponse"]); r != null && S(t, ["sdkHttpResponse"], r); const n = w(e, ["tokensInfo"]); if (n != null) { let a = n; Array.isArray(a) && (a = a.map(i => i)), S(t, ["tokensInfo"], a) } return t } function Wde(e) { const t = {}, r = w(e, ["values"]); r != null && S(t, ["values"], r); const n = w(e, ["statistics"]); return n != null && S(t, ["statistics"], Kde(n)), t } function Kde(e) { const t = {}, r = w(e, ["truncated"]); r != null && S(t, ["truncated"], r); const n = w(e, ["token_count"]); return n != null && S(t, ["tokenCount"], n), t } function px(e) { const t = {}, r = w(e, ["parts"]); if (r != null) { let a = r; Array.isArray(a) && (a = a.map(i => n0e(i))), S(t, ["parts"], a) } const n = w(e, ["role"]); return n != null && S(t, ["role"], n), t } function Yde(e) { const t = {}, r = w(e, ["controlType"]); r != null && S(t, ["controlType"], r); const n = w(e, ["enableControlImageComputation"]); return n != null && S(t, ["computeControl"], n), t } function Xde(e) { const t = {}; if (w(e, ["systemInstruction"]) !== void 0) throw new Error("systemInstruction parameter is not supported in Gemini API."); if (w(e, ["tools"]) !== void 0) throw new Error("tools parameter is not supported in Gemini API."); if (w(e, ["generationConfig"]) !== void 0) throw new Error("generationConfig parameter is not supported in Gemini API."); return t } function Jde(e, t) { const r = {}, n = w(e, ["systemInstruction"]); t !== void 0 && n != null && S(t, ["systemInstruction"], Pn(n)); const a = w(e, ["tools"]); if (t !== void 0 && a != null) { let s = a; Array.isArray(s) && (s = s.map(l => SL(l))), S(t, ["tools"], s) } const i = w(e, ["generationConfig"]); return t !== void 0 && i != null && S(t, ["generationConfig"], zfe(i)), r } function Zde(e, t) { const r = {}, n = w(t, ["model"]); n != null && S(r, ["_url", "model"], Rt(e, n)); const a = w(t, ["contents"]); if (a != null) { let s = Wa(a); Array.isArray(s) && (s = s.map(l => px(l))), S(r, ["contents"], s) } const i = w(t, ["config"]); return i != null && Xde(i), r } function Qde(e, t) { const r = {}, n = w(t, ["model"]); n != null && S(r, ["_url", "model"], Rt(e, n)); const a = w(t, ["contents"]); if (a != null) { let s = Wa(a); Array.isArray(s) && (s = s.map(l => l)), S(r, ["contents"], s) } const i = w(t, ["config"]); return i != null && Jde(i, r), r } function efe(e) { const t = {}, r = w(e, ["sdkHttpResponse"]); r != null && S(t, ["sdkHttpResponse"], r); const n = w(e, ["totalTokens"]); n != null && S(t, ["totalTokens"], n); const a = w(e, ["cachedContentTokenCount"]); return a != null && S(t, ["cachedContentTokenCount"], a), t } function tfe(e) { const t = {}, r = w(e, ["sdkHttpResponse"]); r != null && S(t, ["sdkHttpResponse"], r); const n = w(e, ["totalTokens"]); return n != null && S(t, ["totalTokens"], n), t } function rfe(e, t) { const r = {}, n = w(t, ["model"]); return n != null && S(r, ["_url", "name"], Rt(e, n)), r } function nfe(e, t) { const r = {}, n = w(t, ["model"]); return n != null && S(r, ["_url", "name"], Rt(e, n)), r } function afe(e) { const t = {}, r = w(e, ["sdkHttpResponse"]); return r != null && S(t, ["sdkHttpResponse"], r), t } function ife(e) { const t = {}, r = w(e, ["sdkHttpResponse"]); return r != null && S(t, ["sdkHttpResponse"], r), t } function sfe(e, t) { const r = {}, n = w(e, ["outputGcsUri"]); t !== void 0 && n != null && S(t, ["parameters", "storageUri"], n); const a = w(e, ["negativePrompt"]); t !== void 0 && a != null && S(t, ["parameters", "negativePrompt"], a); const i = w(e, ["numberOfImages"]); t !== void 0 && i != null && S(t, ["parameters", "sampleCount"], i); const s = w(e, ["aspectRatio"]); t !== void 0 && s != null && S(t, ["parameters", "aspectRatio"], s); const l = w(e, ["guidanceScale"]); t !== void 0 && l != null && S(t, ["parameters", "guidanceScale"], l); const f = w(e, ["seed"]); t !== void 0 && f != null && S(t, ["parameters", "seed"], f); const d = w(e, ["safetyFilterLevel"]); t !== void 0 && d != null && S(t, ["parameters", "safetySetting"], d); const h = w(e, ["personGeneration"]); t !== void 0 && h != null && S(t, ["parameters", "personGeneration"], h); const m = w(e, ["includeSafetyAttributes"]); t !== void 0 && m != null && S(t, ["parameters", "includeSafetyAttributes"], m); const g = w(e, ["includeRaiReason"]); t !== void 0 && g != null && S(t, ["parameters", "includeRaiReason"], g); const v = w(e, ["language"]); t !== void 0 && v != null && S(t, ["parameters", "language"], v); const y = w(e, ["outputMimeType"]); t !== void 0 && y != null && S(t, ["parameters", "outputOptions", "mimeType"], y); const b = w(e, ["outputCompressionQuality"]); t !== void 0 && b != null && S(t, ["parameters", "outputOptions", "compressionQuality"], b); const _ = w(e, ["addWatermark"]); t !== void 0 && _ != null && S(t, ["parameters", "addWatermark"], _); const k = w(e, ["labels"]); t !== void 0 && k != null && S(t, ["labels"], k); const C = w(e, ["editMode"]); t !== void 0 && C != null && S(t, ["parameters", "editMode"], C); const T = w(e, ["baseSteps"]); return t !== void 0 && T != null && S(t, ["parameters", "editConfig", "baseSteps"], T), r } function ofe(e, t) { const r = {}, n = w(t, ["model"]); n != null && S(r, ["_url", "model"], Rt(e, n)); const a = w(t, ["prompt"]); a != null && S(r, ["instances[0]", "prompt"], a); const i = w(t, ["referenceImages"]); if (i != null) { let l = i; Array.isArray(l) && (l = l.map(f => c0e(f))), S(r, ["instances[0]", "referenceImages"], l) } const s = w(t, ["config"]); return s != null && sfe(s, r), r } function lfe(e) { const t = {}, r = w(e, ["sdkHttpResponse"]); r != null && S(t, ["sdkHttpResponse"], r); const n = w(e, ["predictions"]); if (n != null) { let a = n; Array.isArray(a) && (a = a.map(i => mx(i))), S(t, ["generatedImages"], a) } return t } function cfe(e, t) { const r = {}, n = w(e, ["taskType"]); t !== void 0 && n != null && S(t, ["requests[]", "taskType"], n); const a = w(e, ["title"]); t !== void 0 && a != null && S(t, ["requests[]", "title"], a); const i = w(e, ["outputDimensionality"]); if (t !== void 0 && i != null && S(t, ["requests[]", "outputDimensionality"], i), w(e, ["mimeType"]) !== void 0) throw new Error("mimeType parameter is not supported in Gemini API."); if (w(e, ["autoTruncate"]) !== void 0) throw new Error("autoTruncate parameter is not supported in Gemini API."); return r } function ufe(e, t) { const r = {}, n = w(e, ["taskType"]); t !== void 0 && n != null && S(t, ["instances[]", "task_type"], n); const a = w(e, ["title"]); t !== void 0 && a != null && S(t, ["instances[]", "title"], a); const i = w(e, ["outputDimensionality"]); t !== void 0 && i != null && S(t, ["parameters", "outputDimensionality"], i); const s = w(e, ["mimeType"]); t !== void 0 && s != null && S(t, ["instances[]", "mimeType"], s); const l = w(e, ["autoTruncate"]); return t !== void 0 && l != null && S(t, ["parameters", "autoTruncate"], l), r } function dfe(e, t) { const r = {}, n = w(t, ["model"]); n != null && S(r, ["_url", "model"], Rt(e, n)); const a = w(t, ["contents"]); if (a != null) { let l = BE(e, a); Array.isArray(l) && (l = l.map(f => f)), S(r, ["requests[]", "content"], l) } const i = w(t, ["config"]); i != null && cfe(i, r); const s = w(t, ["model"]); return s !== void 0 && S(r, ["requests[]", "model"], Rt(e, s)), r } function ffe(e, t) { const r = {}, n = w(t, ["model"]); n != null && S(r, ["_url", "model"], Rt(e, n)); const a = w(t, ["contents"]); if (a != null) { let s = BE(e, a); Array.isArray(s) && (s = s.map(l => l)), S(r, ["instances[]", "content"], s) } const i = w(t, ["config"]); return i != null && ufe(i, r), r } function hfe(e) { const t = {}, r = w(e, ["sdkHttpResponse"]); r != null && S(t, ["sdkHttpResponse"], r); const n = w(e, ["embeddings"]); if (n != null) { let i = n; Array.isArray(i) && (i = i.map(s => s)), S(t, ["embeddings"], i) } const a = w(e, ["metadata"]); return a != null && S(t, ["metadata"], a), t } function pfe(e) { const t = {}, r = w(e, ["sdkHttpResponse"]); r != null && S(t, ["sdkHttpResponse"], r); const n = w(e, ["predictions[]", "embeddings"]); if (n != null) { let i = n; Array.isArray(i) && (i = i.map(s => Wde(s))), S(t, ["embeddings"], i) } const a = w(e, ["metadata"]); return a != null && S(t, ["metadata"], a), t } function mfe(e) { const t = {}, r = w(e, ["endpoint"]); r != null && S(t, ["name"], r); const n = w(e, ["deployedModelId"]); return n != null && S(t, ["deployedModelId"], n), t } function gfe(e) { const t = {}; if (w(e, ["displayName"]) !== void 0) throw new Error("displayName parameter is not supported in Gemini API."); const r = w(e, ["fileUri"]); r != null && S(t, ["fileUri"], r); const n = w(e, ["mimeType"]); return n != null && S(t, ["mimeType"], n), t } function xfe(e) { const t = {}, r = w(e, ["id"]); r != null && S(t, ["id"], r); const n = w(e, ["args"]); n != null && S(t, ["args"], n); const a = w(e, ["name"]); if (a != null && S(t, ["name"], a), w(e, ["partialArgs"]) !== void 0) throw new Error("partialArgs parameter is not supported in Gemini API."); if (w(e, ["willContinue"]) !== void 0) throw new Error("willContinue parameter is not supported in Gemini API."); return t } function vfe(e) { const t = {}, r = w(e, ["allowedFunctionNames"]); r != null && S(t, ["allowedFunctionNames"], r); const n = w(e, ["mode"]); if (n != null && S(t, ["mode"], n), w(e, ["streamFunctionCallArguments"]) !== void 0) throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API."); return t } function yfe(e) { const t = {}, r = w(e, ["description"]); r != null && S(t, ["description"], r); const n = w(e, ["name"]); n != null && S(t, ["name"], n); const a = w(e, ["parameters"]); a != null && S(t, ["parameters"], a); const i = w(e, ["parametersJsonSchema"]); i != null && S(t, ["parametersJsonSchema"], i); const s = w(e, ["response"]); s != null && S(t, ["response"], s); const l = w(e, ["responseJsonSchema"]); if (l != null && S(t, ["responseJsonSchema"], l), w(e, ["behavior"]) !== void 0) throw new Error("behavior parameter is not supported in Vertex AI."); return t } function bfe(e, t, r) { const n = {}, a = w(t, ["systemInstruction"]); r !== void 0 && a != null && S(r, ["systemInstruction"], px(Pn(a))); const i = w(t, ["temperature"]); i != null && S(n, ["temperature"], i); const s = w(t, ["topP"]); s != null && S(n, ["topP"], s); const l = w(t, ["topK"]); l != null && S(n, ["topK"], l); const f = w(t, ["candidateCount"]); f != null && S(n, ["candidateCount"], f); const d = w(t, ["maxOutputTokens"]); d != null && S(n, ["maxOutputTokens"], d); const h = w(t, ["stopSequences"]); h != null && S(n, ["stopSequences"], h); const m = w(t, ["responseLogprobs"]); m != null && S(n, ["responseLogprobs"], m); const g = w(t, ["logprobs"]); g != null && S(n, ["logprobs"], g); const v = w(t, ["presencePenalty"]); v != null && S(n, ["presencePenalty"], v); const y = w(t, ["frequencyPenalty"]); y != null && S(n, ["frequencyPenalty"], y); const b = w(t, ["seed"]); b != null && S(n, ["seed"], b); const _ = w(t, ["responseMimeType"]); _ != null && S(n, ["responseMimeType"], _); const k = w(t, ["responseSchema"]); k != null && S(n, ["responseSchema"], $E(k)); const C = w(t, ["responseJsonSchema"]); if (C != null && S(n, ["responseJsonSchema"], C), w(t, ["routingConfig"]) !== void 0) throw new Error("routingConfig parameter is not supported in Gemini API."); if (w(t, ["modelSelectionConfig"]) !== void 0) throw new Error("modelSelectionConfig parameter is not supported in Gemini API."); const T = w(t, ["safetySettings"]); if (r !== void 0 && T != null) { let ee = T; Array.isArray(ee) && (ee = ee.map(re => u0e(re))), S(r, ["safetySettings"], ee) } const j = w(t, ["tools"]); if (r !== void 0 && j != null) { let ee = ed(j); Array.isArray(ee) && (ee = ee.map(re => x0e(Qu(re)))), S(r, ["tools"], ee) } const R = w(t, ["toolConfig"]); if (r !== void 0 && R != null && S(r, ["toolConfig"], g0e(R)), w(t, ["labels"]) !== void 0) throw new Error("labels parameter is not supported in Gemini API."); const O = w(t, ["cachedContent"]); r !== void 0 && O != null && S(r, ["cachedContent"], qs(e, O)); const I = w(t, ["responseModalities"]); I != null && S(n, ["responseModalities"], I); const H = w(t, ["mediaResolution"]); H != null && S(n, ["mediaResolution"], H); const F = w(t, ["speechConfig"]); if (F != null && S(n, ["speechConfig"], zE(F)), w(t, ["audioTimestamp"]) !== void 0) throw new Error("audioTimestamp parameter is not supported in Gemini API."); const X = w(t, ["thinkingConfig"]); X != null && S(n, ["thinkingConfig"], X); const V = w(t, ["imageConfig"]); V != null && S(n, ["imageConfig"], Wfe(V)); const U = w(t, ["enableEnhancedCivicAnswers"]); if (U != null && S(n, ["enableEnhancedCivicAnswers"], U), w(t, ["modelArmorConfig"]) !== void 0) throw new Error("modelArmorConfig parameter is not supported in Gemini API."); return n } function wfe(e, t, r) { const n = {}, a = w(t, ["systemInstruction"]); r !== void 0 && a != null && S(r, ["systemInstruction"], Pn(a)); const i = w(t, ["temperature"]); i != null && S(n, ["temperature"], i); const s = w(t, ["topP"]); s != null && S(n, ["topP"], s); const l = w(t, ["topK"]); l != null && S(n, ["topK"], l); const f = w(t, ["candidateCount"]); f != null && S(n, ["candidateCount"], f); const d = w(t, ["maxOutputTokens"]); d != null && S(n, ["maxOutputTokens"], d); const h = w(t, ["stopSequences"]); h != null && S(n, ["stopSequences"], h); const m = w(t, ["responseLogprobs"]); m != null && S(n, ["responseLogprobs"], m); const g = w(t, ["logprobs"]); g != null && S(n, ["logprobs"], g); const v = w(t, ["presencePenalty"]); v != null && S(n, ["presencePenalty"], v); const y = w(t, ["frequencyPenalty"]); y != null && S(n, ["frequencyPenalty"], y); const b = w(t, ["seed"]); b != null && S(n, ["seed"], b); const _ = w(t, ["responseMimeType"]); _ != null && S(n, ["responseMimeType"], _); const k = w(t, ["responseSchema"]); k != null && S(n, ["responseSchema"], $E(k)); const C = w(t, ["responseJsonSchema"]); C != null && S(n, ["responseJsonSchema"], C); const T = w(t, ["routingConfig"]); T != null && S(n, ["routingConfig"], T); const j = w(t, ["modelSelectionConfig"]); j != null && S(n, ["modelConfig"], j); const R = w(t, ["safetySettings"]); if (r !== void 0 && R != null) { let z = R; Array.isArray(z) && (z = z.map(ie => ie)), S(r, ["safetySettings"], z) } const O = w(t, ["tools"]); if (r !== void 0 && O != null) { let z = ed(O); Array.isArray(z) && (z = z.map(ie => SL(Qu(ie)))), S(r, ["tools"], z) } const I = w(t, ["toolConfig"]); r !== void 0 && I != null && S(r, ["toolConfig"], I); const H = w(t, ["labels"]); r !== void 0 && H != null && S(r, ["labels"], H); const F = w(t, ["cachedContent"]); r !== void 0 && F != null && S(r, ["cachedContent"], qs(e, F)); const X = w(t, ["responseModalities"]); X != null && S(n, ["responseModalities"], X); const V = w(t, ["mediaResolution"]); V != null && S(n, ["mediaResolution"], V); const U = w(t, ["speechConfig"]); U != null && S(n, ["speechConfig"], zE(U)); const ee = w(t, ["audioTimestamp"]); ee != null && S(n, ["audioTimestamp"], ee); const re = w(t, ["thinkingConfig"]); re != null && S(n, ["thinkingConfig"], re); const de = w(t, ["imageConfig"]); if (de != null && S(n, ["imageConfig"], Kfe(de)), w(t, ["enableEnhancedCivicAnswers"]) !== void 0) throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI."); const D = w(t, ["modelArmorConfig"]); return r !== void 0 && D != null && S(r, ["modelArmorConfig"], D), n } function rD(e, t) { const r = {}, n = w(t, ["model"]); n != null && S(r, ["_url", "model"], Rt(e, n)); const a = w(t, ["contents"]); if (a != null) { let s = Wa(a); Array.isArray(s) && (s = s.map(l => px(l))), S(r, ["contents"], s) } const i = w(t, ["config"]); return i != null && S(r, ["generationConfig"], bfe(e, i, r)), r } function nD(e, t) { const r = {}, n = w(t, ["model"]); n != null && S(r, ["_url", "model"], Rt(e, n)); const a = w(t, ["contents"]); if (a != null) { let s = Wa(a); Array.isArray(s) && (s = s.map(l => l)), S(r, ["contents"], s) } const i = w(t, ["config"]); return i != null && S(r, ["generationConfig"], wfe(e, i, r)), r } function aD(e) { const t = {}, r = w(e, ["sdkHttpResponse"]); r != null && S(t, ["sdkHttpResponse"], r); const n = w(e, ["candidates"]); if (n != null) { let f = n; Array.isArray(f) && (f = f.map(d => Hde(d))), S(t, ["candidates"], f) } const a = w(e, ["modelVersion"]); a != null && S(t, ["modelVersion"], a); const i = w(e, ["promptFeedback"]); i != null && S(t, ["promptFeedback"], i); const s = w(e, ["responseId"]); s != null && S(t, ["responseId"], s); const l = w(e, ["usageMetadata"]); return l != null && S(t, ["usageMetadata"], l), t } function iD(e) { const t = {}, r = w(e, ["sdkHttpResponse"]); r != null && S(t, ["sdkHttpResponse"], r); const n = w(e, ["candidates"]); if (n != null) { let d = n; Array.isArray(d) && (d = d.map(h => h)), S(t, ["candidates"], d) } const a = w(e, ["createTime"]); a != null && S(t, ["createTime"], a); const i = w(e, ["modelVersion"]); i != null && S(t, ["modelVersion"], i); const s = w(e, ["promptFeedback"]); s != null && S(t, ["promptFeedback"], s); const l = w(e, ["responseId"]); l != null && S(t, ["responseId"], l); const f = w(e, ["usageMetadata"]); return f != null && S(t, ["usageMetadata"], f), t } function _fe(e, t) { const r = {}; if (w(e, ["outputGcsUri"]) !== void 0) throw new Error("outputGcsUri parameter is not supported in Gemini API."); if (w(e, ["negativePrompt"]) !== void 0) throw new Error("negativePrompt parameter is not supported in Gemini API."); const n = w(e, ["numberOfImages"]); t !== void 0 && n != null && S(t, ["parameters", "sampleCount"], n); const a = w(e, ["aspectRatio"]); t !== void 0 && a != null && S(t, ["parameters", "aspectRatio"], a); const i = w(e, ["guidanceScale"]); if (t !== void 0 && i != null && S(t, ["parameters", "guidanceScale"], i), w(e, ["seed"]) !== void 0) throw new Error("seed parameter is not supported in Gemini API."); const s = w(e, ["safetyFilterLevel"]); t !== void 0 && s != null && S(t, ["parameters", "safetySetting"], s); const l = w(e, ["personGeneration"]); t !== void 0 && l != null && S(t, ["parameters", "personGeneration"], l); const f = w(e, ["includeSafetyAttributes"]); t !== void 0 && f != null && S(t, ["parameters", "includeSafetyAttributes"], f); const d = w(e, ["includeRaiReason"]); t !== void 0 && d != null && S(t, ["parameters", "includeRaiReason"], d); const h = w(e, ["language"]); t !== void 0 && h != null && S(t, ["parameters", "language"], h); const m = w(e, ["outputMimeType"]); t !== void 0 && m != null && S(t, ["parameters", "outputOptions", "mimeType"], m); const g = w(e, ["outputCompressionQuality"]); if (t !== void 0 && g != null && S(t, ["parameters", "outputOptions", "compressionQuality"], g), w(e, ["addWatermark"]) !== void 0) throw new Error("addWatermark parameter is not supported in Gemini API."); if (w(e, ["labels"]) !== void 0) throw new Error("labels parameter is not supported in Gemini API."); const v = w(e, ["imageSize"]); if (t !== void 0 && v != null && S(t, ["parameters", "sampleImageSize"], v), w(e, ["enhancePrompt"]) !== void 0) throw new Error("enhancePrompt parameter is not supported in Gemini API."); return r } function Sfe(e, t) { const r = {}, n = w(e, ["outputGcsUri"]); t !== void 0 && n != null && S(t, ["parameters", "storageUri"], n); const a = w(e, ["negativePrompt"]); t !== void 0 && a != null && S(t, ["parameters", "negativePrompt"], a); const i = w(e, ["numberOfImages"]); t !== void 0 && i != null && S(t, ["parameters", "sampleCount"], i); const s = w(e, ["aspectRatio"]); t !== void 0 && s != null && S(t, ["parameters", "aspectRatio"], s); const l = w(e, ["guidanceScale"]); t !== void 0 && l != null && S(t, ["parameters", "guidanceScale"], l); const f = w(e, ["seed"]); t !== void 0 && f != null && S(t, ["parameters", "seed"], f); const d = w(e, ["safetyFilterLevel"]); t !== void 0 && d != null && S(t, ["parameters", "safetySetting"], d); const h = w(e, ["personGeneration"]); t !== void 0 && h != null && S(t, ["parameters", "personGeneration"], h); const m = w(e, ["includeSafetyAttributes"]); t !== void 0 && m != null && S(t, ["parameters", "includeSafetyAttributes"], m); const g = w(e, ["includeRaiReason"]); t !== void 0 && g != null && S(t, ["parameters", "includeRaiReason"], g); const v = w(e, ["language"]); t !== void 0 && v != null && S(t, ["parameters", "language"], v); const y = w(e, ["outputMimeType"]); t !== void 0 && y != null && S(t, ["parameters", "outputOptions", "mimeType"], y); const b = w(e, ["outputCompressionQuality"]); t !== void 0 && b != null && S(t, ["parameters", "outputOptions", "compressionQuality"], b); const _ = w(e, ["addWatermark"]); t !== void 0 && _ != null && S(t, ["parameters", "addWatermark"], _); const k = w(e, ["labels"]); t !== void 0 && k != null && S(t, ["labels"], k); const C = w(e, ["imageSize"]); t !== void 0 && C != null && S(t, ["parameters", "sampleImageSize"], C); const T = w(e, ["enhancePrompt"]); return t !== void 0 && T != null && S(t, ["parameters", "enhancePrompt"], T), r } function Efe(e, t) { const r = {}, n = w(t, ["model"]); n != null && S(r, ["_url", "model"], Rt(e, n)); const a = w(t, ["prompt"]); a != null && S(r, ["instances[0]", "prompt"], a); const i = w(t, ["config"]); return i != null && _fe(i, r), r } function kfe(e, t) { const r = {}, n = w(t, ["model"]); n != null && S(r, ["_url", "model"], Rt(e, n)); const a = w(t, ["prompt"]); a != null && S(r, ["instances[0]", "prompt"], a); const i = w(t, ["config"]); return i != null && Sfe(i, r), r } function Tfe(e) { const t = {}, r = w(e, ["sdkHttpResponse"]); r != null && S(t, ["sdkHttpResponse"], r); const n = w(e, ["predictions"]); if (n != null) { let i = n; Array.isArray(i) && (i = i.map(s => Ffe(s))), S(t, ["generatedImages"], i) } const a = w(e, ["positivePromptSafetyAttributes"]); return a != null && S(t, ["positivePromptSafetyAttributes"], wL(a)), t } function Nfe(e) { const t = {}, r = w(e, ["sdkHttpResponse"]); r != null && S(t, ["sdkHttpResponse"], r); const n = w(e, ["predictions"]); if (n != null) { let i = n; Array.isArray(i) && (i = i.map(s => mx(s))), S(t, ["generatedImages"], i) } const a = w(e, ["positivePromptSafetyAttributes"]); return a != null && S(t, ["positivePromptSafetyAttributes"], _L(a)), t } function Afe(e, t) { const r = {}, n = w(e, ["numberOfVideos"]); if (t !== void 0 && n != null && S(t, ["parameters", "sampleCount"], n), w(e, ["outputGcsUri"]) !== void 0) throw new Error("outputGcsUri parameter is not supported in Gemini API."); if (w(e, ["fps"]) !== void 0) throw new Error("fps parameter is not supported in Gemini API."); const a = w(e, ["durationSeconds"]); if (t !== void 0 && a != null && S(t, ["parameters", "durationSeconds"], a), w(e, ["seed"]) !== void 0) throw new Error("seed parameter is not supported in Gemini API."); const i = w(e, ["aspectRatio"]); t !== void 0 && i != null && S(t, ["parameters", "aspectRatio"], i); const s = w(e, ["resolution"]); t !== void 0 && s != null && S(t, ["parameters", "resolution"], s); const l = w(e, ["personGeneration"]); if (t !== void 0 && l != null && S(t, ["parameters", "personGeneration"], l), w(e, ["pubsubTopic"]) !== void 0) throw new Error("pubsubTopic parameter is not supported in Gemini API."); const f = w(e, ["negativePrompt"]); t !== void 0 && f != null && S(t, ["parameters", "negativePrompt"], f); const d = w(e, ["enhancePrompt"]); if (t !== void 0 && d != null && S(t, ["parameters", "enhancePrompt"], d), w(e, ["generateAudio"]) !== void 0) throw new Error("generateAudio parameter is not supported in Gemini API."); const h = w(e, ["lastFrame"]); t !== void 0 && h != null && S(t, ["instances[0]", "lastFrame"], gx(h)); const m = w(e, ["referenceImages"]); if (t !== void 0 && m != null) { let g = m; Array.isArray(g) && (g = g.map(v => j0e(v))), S(t, ["instances[0]", "referenceImages"], g) } if (w(e, ["mask"]) !== void 0) throw new Error("mask parameter is not supported in Gemini API."); if (w(e, ["compressionQuality"]) !== void 0) throw new Error("compressionQuality parameter is not supported in Gemini API."); return r } function Cfe(e, t) { const r = {}, n = w(e, ["numberOfVideos"]); t !== void 0 && n != null && S(t, ["parameters", "sampleCount"], n); const a = w(e, ["outputGcsUri"]); t !== void 0 && a != null && S(t, ["parameters", "storageUri"], a); const i = w(e, ["fps"]); t !== void 0 && i != null && S(t, ["parameters", "fps"], i); const s = w(e, ["durationSeconds"]); t !== void 0 && s != null && S(t, ["parameters", "durationSeconds"], s); const l = w(e, ["seed"]); t !== void 0 && l != null && S(t, ["parameters", "seed"], l); const f = w(e, ["aspectRatio"]); t !== void 0 && f != null && S(t, ["parameters", "aspectRatio"], f); const d = w(e, ["resolution"]); t !== void 0 && d != null && S(t, ["parameters", "resolution"], d); const h = w(e, ["personGeneration"]); t !== void 0 && h != null && S(t, ["parameters", "personGeneration"], h); const m = w(e, ["pubsubTopic"]); t !== void 0 && m != null && S(t, ["parameters", "pubsubTopic"], m); const g = w(e, ["negativePrompt"]); t !== void 0 && g != null && S(t, ["parameters", "negativePrompt"], g); const v = w(e, ["enhancePrompt"]); t !== void 0 && v != null && S(t, ["parameters", "enhancePrompt"], v); const y = w(e, ["generateAudio"]); t !== void 0 && y != null && S(t, ["parameters", "generateAudio"], y); const b = w(e, ["lastFrame"]); t !== void 0 && b != null && S(t, ["instances[0]", "lastFrame"], ki(b)); const _ = w(e, ["referenceImages"]); if (t !== void 0 && _ != null) { let T = _; Array.isArray(T) && (T = T.map(j => I0e(j))), S(t, ["instances[0]", "referenceImages"], T) } const k = w(e, ["mask"]); t !== void 0 && k != null && S(t, ["instances[0]", "mask"], C0e(k)); const C = w(e, ["compressionQuality"]); return t !== void 0 && C != null && S(t, ["parameters", "compressionQuality"], C), r } function jfe(e) { const t = {}, r = w(e, ["name"]); r != null && S(t, ["name"], r); const n = w(e, ["metadata"]); n != null && S(t, ["metadata"], n); const a = w(e, ["done"]); a != null && S(t, ["done"], a); const i = w(e, ["error"]); i != null && S(t, ["error"], i); const s = w(e, ["response", "generateVideoResponse"]); return s != null && S(t, ["response"], Pfe(s)), t } function Ife(e) { const t = {}, r = w(e, ["name"]); r != null && S(t, ["name"], r); const n = w(e, ["metadata"]); n != null && S(t, ["metadata"], n); const a = w(e, ["done"]); a != null && S(t, ["done"], a); const i = w(e, ["error"]); i != null && S(t, ["error"], i); const s = w(e, ["response"]); return s != null && S(t, ["response"], Dfe(s)), t } function Ofe(e, t) { const r = {}, n = w(t, ["model"]); n != null && S(r, ["_url", "model"], Rt(e, n)); const a = w(t, ["prompt"]); a != null && S(r, ["instances[0]", "prompt"], a); const i = w(t, ["image"]); i != null && S(r, ["instances[0]", "image"], gx(i)); const s = w(t, ["video"]); s != null && S(r, ["instances[0]", "video"], EL(s)); const l = w(t, ["source"]); l != null && Mfe(l, r); const f = w(t, ["config"]); return f != null && Afe(f, r), r } function Rfe(e, t) { const r = {}, n = w(t, ["model"]); n != null && S(r, ["_url", "model"], Rt(e, n)); const a = w(t, ["prompt"]); a != null && S(r, ["instances[0]", "prompt"], a); const i = w(t, ["image"]); i != null && S(r, ["instances[0]", "image"], ki(i)); const s = w(t, ["video"]); s != null && S(r, ["instances[0]", "video"], kL(s)); const l = w(t, ["source"]); l != null && Lfe(l, r); const f = w(t, ["config"]); return f != null && Cfe(f, r), r } function Pfe(e) { const t = {}, r = w(e, ["generatedSamples"]); if (r != null) { let i = r; Array.isArray(i) && (i = i.map(s => Bfe(s))), S(t, ["generatedVideos"], i) } const n = w(e, ["raiMediaFilteredCount"]); n != null && S(t, ["raiMediaFilteredCount"], n); const a = w(e, ["raiMediaFilteredReasons"]); return a != null && S(t, ["raiMediaFilteredReasons"], a), t } function Dfe(e) { const t = {}, r = w(e, ["videos"]); if (r != null) { let i = r; Array.isArray(i) && (i = i.map(s => $fe(s))), S(t, ["generatedVideos"], i) } const n = w(e, ["raiMediaFilteredCount"]); n != null && S(t, ["raiMediaFilteredCount"], n); const a = w(e, ["raiMediaFilteredReasons"]); return a != null && S(t, ["raiMediaFilteredReasons"], a), t } function Mfe(e, t) { const r = {}, n = w(e, ["prompt"]); t !== void 0 && n != null && S(t, ["instances[0]", "prompt"], n); const a = w(e, ["image"]); t !== void 0 && a != null && S(t, ["instances[0]", "image"], gx(a)); const i = w(e, ["video"]); return t !== void 0 && i != null && S(t, ["instances[0]", "video"], EL(i)), r } function Lfe(e, t) { const r = {}, n = w(e, ["prompt"]); t !== void 0 && n != null && S(t, ["instances[0]", "prompt"], n); const a = w(e, ["image"]); t !== void 0 && a != null && S(t, ["instances[0]", "image"], ki(a)); const i = w(e, ["video"]); return t !== void 0 && i != null && S(t, ["instances[0]", "video"], kL(i)), r } function Ffe(e) { const t = {}, r = w(e, ["_self"]); r != null && S(t, ["image"], Yfe(r)); const n = w(e, ["raiFilteredReason"]); n != null && S(t, ["raiFilteredReason"], n); const a = w(e, ["_self"]); return a != null && S(t, ["safetyAttributes"], wL(a)), t } function mx(e) { const t = {}, r = w(e, ["_self"]); r != null && S(t, ["image"], bL(r)); const n = w(e, ["raiFilteredReason"]); n != null && S(t, ["raiFilteredReason"], n); const a = w(e, ["_self"]); a != null && S(t, ["safetyAttributes"], _L(a)); const i = w(e, ["prompt"]); return i != null && S(t, ["enhancedPrompt"], i), t } function Ufe(e) { const t = {}, r = w(e, ["_self"]); r != null && S(t, ["mask"], bL(r)); const n = w(e, ["labels"]); if (n != null) { let a = n; Array.isArray(a) && (a = a.map(i => i)), S(t, ["labels"], a) } return t } function Bfe(e) { const t = {}, r = w(e, ["video"]); return r != null && S(t, ["video"], N0e(r)), t } function $fe(e) { const t = {}, r = w(e, ["_self"]); return r != null && S(t, ["video"], A0e(r)), t } function zfe(e) { const t = {}, r = w(e, ["modelSelectionConfig"]); r != null && S(t, ["modelConfig"], r); const n = w(e, ["responseJsonSchema"]); n != null && S(t, ["responseJsonSchema"], n); const a = w(e, ["audioTimestamp"]); a != null && S(t, ["audioTimestamp"], a); const i = w(e, ["candidateCount"]); i != null && S(t, ["candidateCount"], i); const s = w(e, ["enableAffectiveDialog"]); s != null && S(t, ["enableAffectiveDialog"], s); const l = w(e, ["frequencyPenalty"]); l != null && S(t, ["frequencyPenalty"], l); const f = w(e, ["logprobs"]); f != null && S(t, ["logprobs"], f); const d = w(e, ["maxOutputTokens"]); d != null && S(t, ["maxOutputTokens"], d); const h = w(e, ["mediaResolution"]); h != null && S(t, ["mediaResolution"], h); const m = w(e, ["presencePenalty"]); m != null && S(t, ["presencePenalty"], m); const g = w(e, ["responseLogprobs"]); g != null && S(t, ["responseLogprobs"], g); const v = w(e, ["responseMimeType"]); v != null && S(t, ["responseMimeType"], v); const y = w(e, ["responseModalities"]); y != null && S(t, ["responseModalities"], y); const b = w(e, ["responseSchema"]); b != null && S(t, ["responseSchema"], b); const _ = w(e, ["routingConfig"]); _ != null && S(t, ["routingConfig"], _); const k = w(e, ["seed"]); k != null && S(t, ["seed"], k); const C = w(e, ["speechConfig"]); C != null && S(t, ["speechConfig"], C); const T = w(e, ["stopSequences"]); T != null && S(t, ["stopSequences"], T); const j = w(e, ["temperature"]); j != null && S(t, ["temperature"], j); const R = w(e, ["thinkingConfig"]); R != null && S(t, ["thinkingConfig"], R); const O = w(e, ["topK"]); O != null && S(t, ["topK"], O); const I = w(e, ["topP"]); if (I != null && S(t, ["topP"], I), w(e, ["enableEnhancedCivicAnswers"]) !== void 0) throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI."); return t } function Hfe(e, t) { const r = {}, n = w(t, ["model"]); return n != null && S(r, ["_url", "name"], Rt(e, n)), r } function Gfe(e, t) { const r = {}, n = w(t, ["model"]); return n != null && S(r, ["_url", "name"], Rt(e, n)), r } function Vfe(e) { const t = {}; if (w(e, ["authConfig"]) !== void 0) throw new Error("authConfig parameter is not supported in Gemini API."); const r = w(e, ["enableWidget"]); return r != null && S(t, ["enableWidget"], r), t } function qfe(e) { const t = {}; if (w(e, ["excludeDomains"]) !== void 0) throw new Error("excludeDomains parameter is not supported in Gemini API."); if (w(e, ["blockingConfidence"]) !== void 0) throw new Error("blockingConfidence parameter is not supported in Gemini API."); const r = w(e, ["timeRangeFilter"]); return r != null && S(t, ["timeRangeFilter"], r), t } function Wfe(e) { const t = {}, r = w(e, ["aspectRatio"]); r != null && S(t, ["aspectRatio"], r); const n = w(e, ["imageSize"]); if (n != null && S(t, ["imageSize"], n), w(e, ["personGeneration"]) !== void 0) throw new Error("personGeneration parameter is not supported in Gemini API."); if (w(e, ["outputMimeType"]) !== void 0) throw new Error("outputMimeType parameter is not supported in Gemini API."); if (w(e, ["outputCompressionQuality"]) !== void 0) throw new Error("outputCompressionQuality parameter is not supported in Gemini API."); return t } function Kfe(e) { const t = {}, r = w(e, ["aspectRatio"]); r != null && S(t, ["aspectRatio"], r); const n = w(e, ["imageSize"]); n != null && S(t, ["imageSize"], n); const a = w(e, ["personGeneration"]); a != null && S(t, ["personGeneration"], a); const i = w(e, ["outputMimeType"]); i != null && S(t, ["imageOutputOptions", "mimeType"], i); const s = w(e, ["outputCompressionQuality"]); return s != null && S(t, ["imageOutputOptions", "compressionQuality"], s), t } function Yfe(e) { const t = {}, r = w(e, ["bytesBase64Encoded"]); r != null && S(t, ["imageBytes"], Yo(r)); const n = w(e, ["mimeType"]); return n != null && S(t, ["mimeType"], n), t } function bL(e) { const t = {}, r = w(e, ["gcsUri"]); r != null && S(t, ["gcsUri"], r); const n = w(e, ["bytesBase64Encoded"]); n != null && S(t, ["imageBytes"], Yo(n)); const a = w(e, ["mimeType"]); return a != null && S(t, ["mimeType"], a), t } function gx(e) { const t = {}; if (w(e, ["gcsUri"]) !== void 0) throw new Error("gcsUri parameter is not supported in Gemini API."); const r = w(e, ["imageBytes"]); r != null && S(t, ["bytesBase64Encoded"], Yo(r)); const n = w(e, ["mimeType"]); return n != null && S(t, ["mimeType"], n), t } function ki(e) { const t = {}, r = w(e, ["gcsUri"]); r != null && S(t, ["gcsUri"], r); const n = w(e, ["imageBytes"]); n != null && S(t, ["bytesBase64Encoded"], Yo(n)); const a = w(e, ["mimeType"]); return a != null && S(t, ["mimeType"], a), t } function Xfe(e, t, r) { const n = {}, a = w(t, ["pageSize"]); r !== void 0 && a != null && S(r, ["_query", "pageSize"], a); const i = w(t, ["pageToken"]); r !== void 0 && i != null && S(r, ["_query", "pageToken"], i); const s = w(t, ["filter"]); r !== void 0 && s != null && S(r, ["_query", "filter"], s); const l = w(t, ["queryBase"]); return r !== void 0 && l != null && S(r, ["_url", "models_url"], hL(e, l)), n } function Jfe(e, t, r) { const n = {}, a = w(t, ["pageSize"]); r !== void 0 && a != null && S(r, ["_query", "pageSize"], a); const i = w(t, ["pageToken"]); r !== void 0 && i != null && S(r, ["_query", "pageToken"], i); const s = w(t, ["filter"]); r !== void 0 && s != null && S(r, ["_query", "filter"], s); const l = w(t, ["queryBase"]); return r !== void 0 && l != null && S(r, ["_url", "models_url"], hL(e, l)), n } function Zfe(e, t) { const r = {}, n = w(t, ["config"]); return n != null && Xfe(e, n, r), r } function Qfe(e, t) { const r = {}, n = w(t, ["config"]); return n != null && Jfe(e, n, r), r } function e0e(e) { const t = {}, r = w(e, ["sdkHttpResponse"]); r != null && S(t, ["sdkHttpResponse"], r); const n = w(e, ["nextPageToken"]); n != null && S(t, ["nextPageToken"], n); const a = w(e, ["_self"]); if (a != null) { let i = pL(a); Array.isArray(i) && (i = i.map(s => d_(s))), S(t, ["models"], i) } return t } function t0e(e) { const t = {}, r = w(e, ["sdkHttpResponse"]); r != null && S(t, ["sdkHttpResponse"], r); const n = w(e, ["nextPageToken"]); n != null && S(t, ["nextPageToken"], n); const a = w(e, ["_self"]); if (a != null) { let i = pL(a); Array.isArray(i) && (i = i.map(s => f_(s))), S(t, ["models"], i) } return t } function r0e(e) { const t = {}, r = w(e, ["maskMode"]); r != null && S(t, ["maskMode"], r); const n = w(e, ["segmentationClasses"]); n != null && S(t, ["maskClasses"], n); const a = w(e, ["maskDilation"]); return a != null && S(t, ["dilation"], a), t } function d_(e) { const t = {}, r = w(e, ["name"]); r != null && S(t, ["name"], r); const n = w(e, ["displayName"]); n != null && S(t, ["displayName"], n); const a = w(e, ["description"]); a != null && S(t, ["description"], a); const i = w(e, ["version"]); i != null && S(t, ["version"], i); const s = w(e, ["_self"]); s != null && S(t, ["tunedModelInfo"], v0e(s)); const l = w(e, ["inputTokenLimit"]); l != null && S(t, ["inputTokenLimit"], l); const f = w(e, ["outputTokenLimit"]); f != null && S(t, ["outputTokenLimit"], f); const d = w(e, ["supportedGenerationMethods"]); d != null && S(t, ["supportedActions"], d); const h = w(e, ["temperature"]); h != null && S(t, ["temperature"], h); const m = w(e, ["maxTemperature"]); m != null && S(t, ["maxTemperature"], m); const g = w(e, ["topP"]); g != null && S(t, ["topP"], g); const v = w(e, ["topK"]); v != null && S(t, ["topK"], v); const y = w(e, ["thinking"]); return y != null && S(t, ["thinking"], y), t } function f_(e) { const t = {}, r = w(e, ["name"]); r != null && S(t, ["name"], r); const n = w(e, ["displayName"]); n != null && S(t, ["displayName"], n); const a = w(e, ["description"]); a != null && S(t, ["description"], a); const i = w(e, ["versionId"]); i != null && S(t, ["version"], i); const s = w(e, ["deployedModels"]); if (s != null) { let m = s; Array.isArray(m) && (m = m.map(g => mfe(g))), S(t, ["endpoints"], m) } const l = w(e, ["labels"]); l != null && S(t, ["labels"], l); const f = w(e, ["_self"]); f != null && S(t, ["tunedModelInfo"], y0e(f)); const d = w(e, ["defaultCheckpointId"]); d != null && S(t, ["defaultCheckpointId"], d); const h = w(e, ["checkpoints"]); if (h != null) { let m = h; Array.isArray(m) && (m = m.map(g => g)), S(t, ["checkpoints"], m) } return t } function n0e(e) { const t = {}, r = w(e, ["mediaResolution"]); r != null && S(t, ["mediaResolution"], r); const n = w(e, ["codeExecutionResult"]); n != null && S(t, ["codeExecutionResult"], n); const a = w(e, ["executableCode"]); a != null && S(t, ["executableCode"], a); const i = w(e, ["fileData"]); i != null && S(t, ["fileData"], gfe(i)); const s = w(e, ["functionCall"]); s != null && S(t, ["functionCall"], xfe(s)); const l = w(e, ["functionResponse"]); l != null && S(t, ["functionResponse"], l); const f = w(e, ["inlineData"]); f != null && S(t, ["inlineData"], zde(f)); const d = w(e, ["text"]); d != null && S(t, ["text"], d); const h = w(e, ["thought"]); h != null && S(t, ["thought"], h); const m = w(e, ["thoughtSignature"]); m != null && S(t, ["thoughtSignature"], m); const g = w(e, ["videoMetadata"]); return g != null && S(t, ["videoMetadata"], g), t } function a0e(e) { const t = {}, r = w(e, ["productImage"]); return r != null && S(t, ["image"], ki(r)), t } function i0e(e, t) { const r = {}, n = w(e, ["numberOfImages"]); t !== void 0 && n != null && S(t, ["parameters", "sampleCount"], n); const a = w(e, ["baseSteps"]); t !== void 0 && a != null && S(t, ["parameters", "baseSteps"], a); const i = w(e, ["outputGcsUri"]); t !== void 0 && i != null && S(t, ["parameters", "storageUri"], i); const s = w(e, ["seed"]); t !== void 0 && s != null && S(t, ["parameters", "seed"], s); const l = w(e, ["safetyFilterLevel"]); t !== void 0 && l != null && S(t, ["parameters", "safetySetting"], l); const f = w(e, ["personGeneration"]); t !== void 0 && f != null && S(t, ["parameters", "personGeneration"], f); const d = w(e, ["addWatermark"]); t !== void 0 && d != null && S(t, ["parameters", "addWatermark"], d); const h = w(e, ["outputMimeType"]); t !== void 0 && h != null && S(t, ["parameters", "outputOptions", "mimeType"], h); const m = w(e, ["outputCompressionQuality"]); t !== void 0 && m != null && S(t, ["parameters", "outputOptions", "compressionQuality"], m); const g = w(e, ["enhancePrompt"]); t !== void 0 && g != null && S(t, ["parameters", "enhancePrompt"], g); const v = w(e, ["labels"]); return t !== void 0 && v != null && S(t, ["labels"], v), r } function s0e(e, t) { const r = {}, n = w(t, ["model"]); n != null && S(r, ["_url", "model"], Rt(e, n)); const a = w(t, ["source"]); a != null && l0e(a, r); const i = w(t, ["config"]); return i != null && i0e(i, r), r } function o0e(e) { const t = {}, r = w(e, ["predictions"]); if (r != null) { let n = r; Array.isArray(n) && (n = n.map(a => mx(a))), S(t, ["generatedImages"], n) } return t } function l0e(e, t) { const r = {}, n = w(e, ["prompt"]); t !== void 0 && n != null && S(t, ["instances[0]", "prompt"], n); const a = w(e, ["personImage"]); t !== void 0 && a != null && S(t, ["instances[0]", "personImage", "image"], ki(a)); const i = w(e, ["productImages"]); if (t !== void 0 && i != null) { let s = i; Array.isArray(s) && (s = s.map(l => a0e(l))), S(t, ["instances[0]", "productImages"], s) } return r } function c0e(e) { const t = {}, r = w(e, ["referenceImage"]); r != null && S(t, ["referenceImage"], ki(r)); const n = w(e, ["referenceId"]); n != null && S(t, ["referenceId"], n); const a = w(e, ["referenceType"]); a != null && S(t, ["referenceType"], a); const i = w(e, ["maskImageConfig"]); i != null && S(t, ["maskImageConfig"], r0e(i)); const s = w(e, ["controlImageConfig"]); s != null && S(t, ["controlImageConfig"], Yde(s)); const l = w(e, ["styleImageConfig"]); l != null && S(t, ["styleImageConfig"], l); const f = w(e, ["subjectImageConfig"]); return f != null && S(t, ["subjectImageConfig"], f), t } function wL(e) { const t = {}, r = w(e, ["safetyAttributes", "categories"]); r != null && S(t, ["categories"], r); const n = w(e, ["safetyAttributes", "scores"]); n != null && S(t, ["scores"], n); const a = w(e, ["contentType"]); return a != null && S(t, ["contentType"], a), t } function _L(e) { const t = {}, r = w(e, ["safetyAttributes", "categories"]); r != null && S(t, ["categories"], r); const n = w(e, ["safetyAttributes", "scores"]); n != null && S(t, ["scores"], n); const a = w(e, ["contentType"]); return a != null && S(t, ["contentType"], a), t } function u0e(e) { const t = {}, r = w(e, ["category"]); if (r != null && S(t, ["category"], r), w(e, ["method"]) !== void 0) throw new Error("method parameter is not supported in Gemini API."); const n = w(e, ["threshold"]); return n != null && S(t, ["threshold"], n), t } function d0e(e) { const t = {}, r = w(e, ["image"]); return r != null && S(t, ["image"], ki(r)), t } function f0e(e, t) { const r = {}, n = w(e, ["mode"]); t !== void 0 && n != null && S(t, ["parameters", "mode"], n); const a = w(e, ["maxPredictions"]); t !== void 0 && a != null && S(t, ["parameters", "maxPredictions"], a); const i = w(e, ["confidenceThreshold"]); t !== void 0 && i != null && S(t, ["parameters", "confidenceThreshold"], i); const s = w(e, ["maskDilation"]); t !== void 0 && s != null && S(t, ["parameters", "maskDilation"], s); const l = w(e, ["binaryColorThreshold"]); t !== void 0 && l != null && S(t, ["parameters", "binaryColorThreshold"], l); const f = w(e, ["labels"]); return t !== void 0 && f != null && S(t, ["labels"], f), r } function h0e(e, t) { const r = {}, n = w(t, ["model"]); n != null && S(r, ["_url", "model"], Rt(e, n)); const a = w(t, ["source"]); a != null && m0e(a, r); const i = w(t, ["config"]); return i != null && f0e(i, r), r } function p0e(e) { const t = {}, r = w(e, ["predictions"]); if (r != null) { let n = r; Array.isArray(n) && (n = n.map(a => Ufe(a))), S(t, ["generatedMasks"], n) } return t } function m0e(e, t) { const r = {}, n = w(e, ["prompt"]); t !== void 0 && n != null && S(t, ["instances[0]", "prompt"], n); const a = w(e, ["image"]); t !== void 0 && a != null && S(t, ["instances[0]", "image"], ki(a)); const i = w(e, ["scribbleImage"]); return t !== void 0 && i != null && S(t, ["instances[0]", "scribble"], d0e(i)), r } function g0e(e) { const t = {}, r = w(e, ["retrievalConfig"]); r != null && S(t, ["retrievalConfig"], r); const n = w(e, ["functionCallingConfig"]); return n != null && S(t, ["functionCallingConfig"], vfe(n)), t } function x0e(e) { const t = {}; if (w(e, ["retrieval"]) !== void 0) throw new Error("retrieval parameter is not supported in Gemini API."); const r = w(e, ["computerUse"]); r != null && S(t, ["computerUse"], r); const n = w(e, ["fileSearch"]); n != null && S(t, ["fileSearch"], n); const a = w(e, ["codeExecution"]); if (a != null && S(t, ["codeExecution"], a), w(e, ["enterpriseWebSearch"]) !== void 0) throw new Error("enterpriseWebSearch parameter is not supported in Gemini API."); const i = w(e, ["functionDeclarations"]); if (i != null) { let h = i; Array.isArray(h) && (h = h.map(m => m)), S(t, ["functionDeclarations"], h) } const s = w(e, ["googleMaps"]); s != null && S(t, ["googleMaps"], Vfe(s)); const l = w(e, ["googleSearch"]); l != null && S(t, ["googleSearch"], qfe(l)); const f = w(e, ["googleSearchRetrieval"]); f != null && S(t, ["googleSearchRetrieval"], f); const d = w(e, ["urlContext"]); return d != null && S(t, ["urlContext"], d), t } function SL(e) { const t = {}, r = w(e, ["retrieval"]); r != null && S(t, ["retrieval"], r); const n = w(e, ["computerUse"]); if (n != null && S(t, ["computerUse"], n), w(e, ["fileSearch"]) !== void 0) throw new Error("fileSearch parameter is not supported in Vertex AI."); const a = w(e, ["codeExecution"]); a != null && S(t, ["codeExecution"], a); const i = w(e, ["enterpriseWebSearch"]); i != null && S(t, ["enterpriseWebSearch"], i); const s = w(e, ["functionDeclarations"]); if (s != null) { let m = s; Array.isArray(m) && (m = m.map(g => yfe(g))), S(t, ["functionDeclarations"], m) } const l = w(e, ["googleMaps"]); l != null && S(t, ["googleMaps"], l); const f = w(e, ["googleSearch"]); f != null && S(t, ["googleSearch"], f); const d = w(e, ["googleSearchRetrieval"]); d != null && S(t, ["googleSearchRetrieval"], d); const h = w(e, ["urlContext"]); return h != null && S(t, ["urlContext"], h), t } function v0e(e) { const t = {}, r = w(e, ["baseModel"]); r != null && S(t, ["baseModel"], r); const n = w(e, ["createTime"]); n != null && S(t, ["createTime"], n); const a = w(e, ["updateTime"]); return a != null && S(t, ["updateTime"], a), t } function y0e(e) { const t = {}, r = w(e, ["labels", "google-vertex-llm-tuning-base-model-id"]); r != null && S(t, ["baseModel"], r); const n = w(e, ["createTime"]); n != null && S(t, ["createTime"], n); const a = w(e, ["updateTime"]); return a != null && S(t, ["updateTime"], a), t } function b0e(e, t) { const r = {}, n = w(e, ["displayName"]); t !== void 0 && n != null && S(t, ["displayName"], n); const a = w(e, ["description"]); t !== void 0 && a != null && S(t, ["description"], a); const i = w(e, ["defaultCheckpointId"]); return t !== void 0 && i != null && S(t, ["defaultCheckpointId"], i), r } function w0e(e, t) { const r = {}, n = w(e, ["displayName"]); t !== void 0 && n != null && S(t, ["displayName"], n); const a = w(e, ["description"]); t !== void 0 && a != null && S(t, ["description"], a); const i = w(e, ["defaultCheckpointId"]); return t !== void 0 && i != null && S(t, ["defaultCheckpointId"], i), r } function _0e(e, t) { const r = {}, n = w(t, ["model"]); n != null && S(r, ["_url", "name"], Rt(e, n)); const a = w(t, ["config"]); return a != null && b0e(a, r), r } function S0e(e, t) { const r = {}, n = w(t, ["model"]); n != null && S(r, ["_url", "model"], Rt(e, n)); const a = w(t, ["config"]); return a != null && w0e(a, r), r } function E0e(e, t) { const r = {}, n = w(e, ["outputGcsUri"]); t !== void 0 && n != null && S(t, ["parameters", "storageUri"], n); const a = w(e, ["safetyFilterLevel"]); t !== void 0 && a != null && S(t, ["parameters", "safetySetting"], a); const i = w(e, ["personGeneration"]); t !== void 0 && i != null && S(t, ["parameters", "personGeneration"], i); const s = w(e, ["includeRaiReason"]); t !== void 0 && s != null && S(t, ["parameters", "includeRaiReason"], s); const l = w(e, ["outputMimeType"]); t !== void 0 && l != null && S(t, ["parameters", "outputOptions", "mimeType"], l); const f = w(e, ["outputCompressionQuality"]); t !== void 0 && f != null && S(t, ["parameters", "outputOptions", "compressionQuality"], f); const d = w(e, ["enhanceInputImage"]); t !== void 0 && d != null && S(t, ["parameters", "upscaleConfig", "enhanceInputImage"], d); const h = w(e, ["imagePreservationFactor"]); t !== void 0 && h != null && S(t, ["parameters", "upscaleConfig", "imagePreservationFactor"], h); const m = w(e, ["labels"]); t !== void 0 && m != null && S(t, ["labels"], m); const g = w(e, ["numberOfImages"]); t !== void 0 && g != null && S(t, ["parameters", "sampleCount"], g); const v = w(e, ["mode"]); return t !== void 0 && v != null && S(t, ["parameters", "mode"], v), r } function k0e(e, t) { const r = {}, n = w(t, ["model"]); n != null && S(r, ["_url", "model"], Rt(e, n)); const a = w(t, ["image"]); a != null && S(r, ["instances[0]", "image"], ki(a)); const i = w(t, ["upscaleFactor"]); i != null && S(r, ["parameters", "upscaleConfig", "upscaleFactor"], i); const s = w(t, ["config"]); return s != null && E0e(s, r), r } function T0e(e) { const t = {}, r = w(e, ["sdkHttpResponse"]); r != null && S(t, ["sdkHttpResponse"], r); const n = w(e, ["predictions"]); if (n != null) { let a = n; Array.isArray(a) && (a = a.map(i => mx(i))), S(t, ["generatedImages"], a) } return t } function N0e(e) { const t = {}, r = w(e, ["uri"]); r != null && S(t, ["uri"], r); const n = w(e, ["encodedVideo"]); n != null && S(t, ["videoBytes"], Yo(n)); const a = w(e, ["encoding"]); return a != null && S(t, ["mimeType"], a), t } function A0e(e) { const t = {}, r = w(e, ["gcsUri"]); r != null && S(t, ["uri"], r); const n = w(e, ["bytesBase64Encoded"]); n != null && S(t, ["videoBytes"], Yo(n)); const a = w(e, ["mimeType"]); return a != null && S(t, ["mimeType"], a), t } function C0e(e) { const t = {}, r = w(e, ["image"]); r != null && S(t, ["_self"], ki(r)); const n = w(e, ["maskMode"]); return n != null && S(t, ["maskMode"], n), t } function j0e(e) { const t = {}, r = w(e, ["image"]); r != null && S(t, ["image"], gx(r)); const n = w(e, ["referenceType"]); return n != null && S(t, ["referenceType"], n), t } function I0e(e) { const t = {}, r = w(e, ["image"]); r != null && S(t, ["image"], ki(r)); const n = w(e, ["referenceType"]); return n != null && S(t, ["referenceType"], n), t } function EL(e) { const t = {}, r = w(e, ["uri"]); r != null && S(t, ["uri"], r); const n = w(e, ["videoBytes"]); n != null && S(t, ["encodedVideo"], Yo(n)); const a = w(e, ["mimeType"]); return a != null && S(t, ["encoding"], a), t } function kL(e) { const t = {}, r = w(e, ["uri"]); r != null && S(t, ["gcsUri"], r); const n = w(e, ["videoBytes"]); n != null && S(t, ["bytesBase64Encoded"], Yo(n)); const a = w(e, ["mimeType"]); return a != null && S(t, ["mimeType"], a), t }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function O0e(e, t) { const r = {}, n = w(e, ["displayName"]); return t !== void 0 && n != null && S(t, ["displayName"], n), r } function R0e(e) { const t = {}, r = w(e, ["config"]); return r != null && O0e(r, t), t } function P0e(e, t) { const r = {}, n = w(e, ["force"]); return t !== void 0 && n != null && S(t, ["_query", "force"], n), r } function D0e(e) { const t = {}, r = w(e, ["name"]); r != null && S(t, ["_url", "name"], r); const n = w(e, ["config"]); return n != null && P0e(n, t), t } function M0e(e) { const t = {}, r = w(e, ["name"]); return r != null && S(t, ["_url", "name"], r), t } function L0e(e, t) { const r = {}, n = w(e, ["customMetadata"]); if (t !== void 0 && n != null) { let i = n; Array.isArray(i) && (i = i.map(s => s)), S(t, ["customMetadata"], i) } const a = w(e, ["chunkingConfig"]); return t !== void 0 && a != null && S(t, ["chunkingConfig"], a), r } function F0e(e) { const t = {}, r = w(e, ["name"]); r != null && S(t, ["name"], r); const n = w(e, ["metadata"]); n != null && S(t, ["metadata"], n); const a = w(e, ["done"]); a != null && S(t, ["done"], a); const i = w(e, ["error"]); i != null && S(t, ["error"], i); const s = w(e, ["response"]); return s != null && S(t, ["response"], B0e(s)), t } function U0e(e) { const t = {}, r = w(e, ["fileSearchStoreName"]); r != null && S(t, ["_url", "file_search_store_name"], r); const n = w(e, ["fileName"]); n != null && S(t, ["fileName"], n); const a = w(e, ["config"]); return a != null && L0e(a, t), t } function B0e(e) { const t = {}, r = w(e, ["sdkHttpResponse"]); r != null && S(t, ["sdkHttpResponse"], r); const n = w(e, ["parent"]); n != null && S(t, ["parent"], n); const a = w(e, ["documentName"]); return a != null && S(t, ["documentName"], a), t } function $0e(e, t) { const r = {}, n = w(e, ["pageSize"]); t !== void 0 && n != null && S(t, ["_query", "pageSize"], n); const a = w(e, ["pageToken"]); return t !== void 0 && a != null && S(t, ["_query", "pageToken"], a), r } function z0e(e) { const t = {}, r = w(e, ["config"]); return r != null && $0e(r, t), t } function H0e(e) { const t = {}, r = w(e, ["sdkHttpResponse"]); r != null && S(t, ["sdkHttpResponse"], r); const n = w(e, ["nextPageToken"]); n != null && S(t, ["nextPageToken"], n); const a = w(e, ["fileSearchStores"]); if (a != null) { let i = a; Array.isArray(i) && (i = i.map(s => s)), S(t, ["fileSearchStores"], i) } return t } function TL(e, t) { const r = {}, n = w(e, ["mimeType"]); t !== void 0 && n != null && S(t, ["mimeType"], n); const a = w(e, ["displayName"]); t !== void 0 && a != null && S(t, ["displayName"], a); const i = w(e, ["customMetadata"]); if (t !== void 0 && i != null) { let l = i; Array.isArray(l) && (l = l.map(f => f)), S(t, ["customMetadata"], l) } const s = w(e, ["chunkingConfig"]); return t !== void 0 && s != null && S(t, ["chunkingConfig"], s), r } function G0e(e) { const t = {}, r = w(e, ["fileSearchStoreName"]); r != null && S(t, ["_url", "file_search_store_name"], r); const n = w(e, ["config"]); return n != null && TL(n, t), t } function V0e(e) { const t = {}, r = w(e, ["sdkHttpResponse"]); return r != null && S(t, ["sdkHttpResponse"], r), t }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const q0e = "Content-Type", W0e = "X-Server-Timeout", K0e = "User-Agent", h_ = "x-goog-api-client", Y0e = "1.38.0", X0e = `google-genai-sdk/${Y0e}`, J0e = "v1beta1", Z0e = "v1beta"; class Q0e {
  constructor(t) { var r, n, a; this.clientOptions = Object.assign({}, t), this.customBaseUrl = (r = t.httpOptions) === null || r === void 0 ? void 0 : r.baseUrl, this.clientOptions.vertexai && (this.clientOptions.project && this.clientOptions.location ? this.clientOptions.apiKey = void 0 : this.clientOptions.apiKey && (this.clientOptions.project = void 0, this.clientOptions.location = void 0)); const i = {}; if (this.clientOptions.vertexai) { if (!this.clientOptions.location && !this.clientOptions.apiKey && !this.customBaseUrl && (this.clientOptions.location = "global"), !(this.clientOptions.project && this.clientOptions.location || this.clientOptions.apiKey) && !this.customBaseUrl) throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL."); const l = t.project && t.location || !!t.apiKey; this.customBaseUrl && !l ? (i.baseUrl = this.customBaseUrl, this.clientOptions.project = void 0, this.clientOptions.location = void 0) : this.clientOptions.apiKey || this.clientOptions.location === "global" ? i.baseUrl = "https://aiplatform.googleapis.com/" : this.clientOptions.project && this.clientOptions.location && (i.baseUrl = `https://${this.clientOptions.location}-aiplatform.googleapis.com/`), i.apiVersion = (n = this.clientOptions.apiVersion) !== null && n !== void 0 ? n : J0e } else { if (!this.clientOptions.apiKey) throw new e0({ message: "API key must be set when using the Gemini API.", status: 403 }); i.apiVersion = (a = this.clientOptions.apiVersion) !== null && a !== void 0 ? a : Z0e, i.baseUrl = "https://generativelanguage.googleapis.com/" } i.headers = this.getDefaultHeaders(), this.clientOptions.httpOptions = i, t.httpOptions && (this.clientOptions.httpOptions = this.patchHttpOptions(i, t.httpOptions)) } isVertexAI() { var t; return (t = this.clientOptions.vertexai) !== null && t !== void 0 ? t : !1 } getProject() { return this.clientOptions.project } getLocation() { return this.clientOptions.location } getCustomBaseUrl() { return this.customBaseUrl } async getAuthHeaders() { const t = new Headers; return await this.clientOptions.auth.addAuthHeaders(t), t } getApiVersion() { if (this.clientOptions.httpOptions && this.clientOptions.httpOptions.apiVersion !== void 0) return this.clientOptions.httpOptions.apiVersion; throw new Error("API version is not set.") } getBaseUrl() { if (this.clientOptions.httpOptions && this.clientOptions.httpOptions.baseUrl !== void 0) return this.clientOptions.httpOptions.baseUrl; throw new Error("Base URL is not set.") } getRequestUrl() { return this.getRequestUrlInternal(this.clientOptions.httpOptions) } getHeaders() { if (this.clientOptions.httpOptions && this.clientOptions.httpOptions.headers !== void 0) return this.clientOptions.httpOptions.headers; throw new Error("Headers are not set.") } getRequestUrlInternal(t) { if (!t || t.baseUrl === void 0 || t.apiVersion === void 0) throw new Error("HTTP options are not correctly set."); const n = [t.baseUrl.endsWith("/") ? t.baseUrl.slice(0, -1) : t.baseUrl]; return t.apiVersion && t.apiVersion !== "" && n.push(t.apiVersion), n.join("/") } getBaseResourcePath() { return `projects/${this.clientOptions.project}/locations/${this.clientOptions.location}` } getApiKey() { return this.clientOptions.apiKey } getWebsocketBaseUrl() { const t = this.getBaseUrl(), r = new URL(t); return r.protocol = r.protocol == "http:" ? "ws" : "wss", r.toString() } setBaseUrl(t) { if (this.clientOptions.httpOptions) this.clientOptions.httpOptions.baseUrl = t; else throw new Error("HTTP options are not correctly set.") } constructUrl(t, r, n) { const a = [this.getRequestUrlInternal(r)]; return n && a.push(this.getBaseResourcePath()), t !== "" && a.push(t), new URL(`${a.join("/")}`) } shouldPrependVertexProjectPath(t, r) { return !(r.baseUrl && r.baseUrlResourceScope === o_.COLLECTION || this.clientOptions.apiKey || !this.clientOptions.vertexai || t.path.startsWith("projects/") || t.httpMethod === "GET" && t.path.startsWith("publishers/google/models")) } async request(t) { let r = this.clientOptions.httpOptions; t.httpOptions && (r = this.patchHttpOptions(this.clientOptions.httpOptions, t.httpOptions)); const n = this.shouldPrependVertexProjectPath(t, r), a = this.constructUrl(t.path, r, n); if (t.queryParams) for (const [s, l] of Object.entries(t.queryParams)) a.searchParams.append(s, String(l)); let i = {}; if (t.httpMethod === "GET") { if (t.body && t.body !== "{}") throw new Error("Request body should be empty for GET request, but got non empty request body") } else i.body = t.body; return i = await this.includeExtraHttpOptionsToRequestInit(i, r, a.toString(), t.abortSignal), this.unaryApiCall(a, i, t.httpMethod) } patchHttpOptions(t, r) { const n = JSON.parse(JSON.stringify(t)); for (const [a, i] of Object.entries(r)) typeof i == "object" ? n[a] = Object.assign(Object.assign({}, n[a]), i) : i !== void 0 && (n[a] = i); return n } async requestStream(t) { let r = this.clientOptions.httpOptions; t.httpOptions && (r = this.patchHttpOptions(this.clientOptions.httpOptions, t.httpOptions)); const n = this.shouldPrependVertexProjectPath(t, r), a = this.constructUrl(t.path, r, n); (!a.searchParams.has("alt") || a.searchParams.get("alt") !== "sse") && a.searchParams.set("alt", "sse"); let i = {}; return i.body = t.body, i = await this.includeExtraHttpOptionsToRequestInit(i, r, a.toString(), t.abortSignal), this.streamApiCall(a, i, t.httpMethod) } async includeExtraHttpOptionsToRequestInit(t, r, n, a) { if (r && r.timeout || a) { const i = new AbortController, s = i.signal; if (r.timeout && (r == null ? void 0 : r.timeout) > 0) { const l = setTimeout(() => i.abort(), r.timeout); l && typeof l.unref == "function" && l.unref() } a && a.addEventListener("abort", () => { i.abort() }), t.signal = s } return r && r.extraBody !== null && ehe(t, r.extraBody), t.headers = await this.getHeadersInternal(r, n), t } async unaryApiCall(t, r, n) { return this.apiCall(t.toString(), Object.assign(Object.assign({}, r), { method: n })).then(async a => (await sD(a), new l_(a))).catch(a => { throw a instanceof Error ? a : new Error(JSON.stringify(a)) }) } async streamApiCall(t, r, n) { return this.apiCall(t.toString(), Object.assign(Object.assign({}, r), { method: n })).then(async a => (await sD(a), this.processStreamResponse(a))).catch(a => { throw a instanceof Error ? a : new Error(JSON.stringify(a)) }) } processStreamResponse(t) {
    return xi(this, arguments, function* () {
      var n; const a = (n = t == null ? void 0 : t.body) === null || n === void 0 ? void 0 : n.getReader(), i = new TextDecoder("utf-8"); if (!a) throw new Error("Response body is empty"); try {
        let s = ""; const l = "data:", f = [`

`, "\r\r", `\r
\r
`]; for (; ;) { const { done: d, value: h } = yield st(a.read()); if (d) { if (s.trim().length > 0) throw new Error("Incomplete JSON segment at the end"); break } const m = i.decode(h, { stream: !0 }); try { const y = JSON.parse(m); if ("error" in y) { const b = JSON.parse(JSON.stringify(y.error)), _ = b.status, k = b.code, C = `got status: ${_}. ${JSON.stringify(y)}`; if (k >= 400 && k < 600) throw new e0({ message: C, status: k }) } } catch (y) { if (y.name === "ApiError") throw y } s += m; let g = -1, v = 0; for (; ;) { g = -1, v = 0; for (const _ of f) { const k = s.indexOf(_); k !== -1 && (g === -1 || k < g) && (g = k, v = _.length) } if (g === -1) break; const y = s.substring(0, g); s = s.substring(g + v); const b = y.trim(); if (b.startsWith(l)) { const _ = b.substring(l.length).trim(); try { const k = new Response(_, { headers: t == null ? void 0 : t.headers, status: t == null ? void 0 : t.status, statusText: t == null ? void 0 : t.statusText }); yield yield st(new l_(k)) } catch (k) { throw new Error(`exception parsing stream chunk ${_}. ${k}`) } } } }
      } finally { a.releaseLock() }
    })
  } async apiCall(t, r) { return fetch(t, r).catch(n => { throw new Error(`exception ${n} sending request`) }) } getDefaultHeaders() { const t = {}, r = X0e + " " + this.clientOptions.userAgentExtra; return t[K0e] = r, t[h_] = r, t[q0e] = "application/json", t } async getHeadersInternal(t, r) { const n = new Headers; if (t && t.headers) { for (const [a, i] of Object.entries(t.headers)) n.append(a, i); t.timeout && t.timeout > 0 && n.append(W0e, String(Math.ceil(t.timeout / 1e3))) } return await this.clientOptions.auth.addAuthHeaders(n, r), n } getFileName(t) { var r; let n = ""; return typeof t == "string" && (n = t.replace(/[/\\]+$/, ""), n = (r = n.split(/[/\\]/).pop()) !== null && r !== void 0 ? r : ""), n } async uploadFile(t, r) { var n; const a = {}; r != null && (a.mimeType = r.mimeType, a.name = r.name, a.displayName = r.displayName), a.name && !a.name.startsWith("files/") && (a.name = `files/${a.name}`); const i = this.clientOptions.uploader, s = await i.stat(t); a.sizeBytes = String(s.size); const l = (n = r == null ? void 0 : r.mimeType) !== null && n !== void 0 ? n : s.type; if (l === void 0 || l === "") throw new Error("Can not determine mimeType. Please provide mimeType in the config."); a.mimeType = l; const f = { file: a }, d = this.getFileName(t), h = $e("upload/v1beta/files", f._url), m = await this.fetchUploadUrl(h, a.sizeBytes, a.mimeType, d, f, r == null ? void 0 : r.httpOptions); return i.upload(t, m, this) } async uploadFileToFileSearchStore(t, r, n) { var a; const i = this.clientOptions.uploader, s = await i.stat(r), l = String(s.size), f = (a = n == null ? void 0 : n.mimeType) !== null && a !== void 0 ? a : s.type; if (f === void 0 || f === "") throw new Error("Can not determine mimeType. Please provide mimeType in the config."); const d = `upload/v1beta/${t}:uploadToFileSearchStore`, h = this.getFileName(r), m = {}; n != null && TL(n, m); const g = await this.fetchUploadUrl(d, l, f, h, m, n == null ? void 0 : n.httpOptions); return i.uploadToFileSearchStore(r, g, this) } async downloadFile(t) { await this.clientOptions.downloader.download(t, this) } async fetchUploadUrl(t, r, n, a, i, s) { var l; let f = {}; s ? f = s : f = { apiVersion: "", headers: Object.assign({ "Content-Type": "application/json", "X-Goog-Upload-Protocol": "resumable", "X-Goog-Upload-Command": "start", "X-Goog-Upload-Header-Content-Length": `${r}`, "X-Goog-Upload-Header-Content-Type": `${n}` }, a ? { "X-Goog-Upload-File-Name": a } : {}) }; const d = await this.request({ path: t, body: JSON.stringify(i), httpMethod: "POST", httpOptions: f }); if (!d || !(d != null && d.headers)) throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers."); const h = (l = d == null ? void 0 : d.headers) === null || l === void 0 ? void 0 : l["x-goog-upload-url"]; if (h === void 0) throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers"); return h }
} async function sD(e) { var t; if (e === void 0) throw new Error("response is undefined"); if (!e.ok) { const r = e.status; let n; !((t = e.headers.get("content-type")) === null || t === void 0) && t.includes("application/json") ? n = await e.json() : n = { error: { message: await e.text(), code: e.status, status: e.statusText } }; const a = JSON.stringify(n); throw r >= 400 && r < 600 ? new e0({ message: a, status: r }) : new Error(a) } } function ehe(e, t) { if (!t || Object.keys(t).length === 0) return; if (e.body instanceof Blob) { console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies."); return } let r = {}; if (typeof e.body == "string" && e.body.length > 0) try { const i = JSON.parse(e.body); if (typeof i == "object" && i !== null && !Array.isArray(i)) r = i; else { console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body."); return } } catch { console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body."); return } function n(i, s) { const l = Object.assign({}, i); for (const f in s) if (Object.prototype.hasOwnProperty.call(s, f)) { const d = s[f], h = l[f]; d && typeof d == "object" && !Array.isArray(d) && h && typeof h == "object" && !Array.isArray(h) ? l[f] = n(h, d) : (h && d && typeof h != typeof d && console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof h}, New type: ${typeof d}. Overwriting.`), l[f] = d) } return l } const a = n(r, t); e.body = JSON.stringify(a) }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const the = "mcp_used/unknown"; let rhe = !1; function NL(e) { for (const t of e) if (nhe(t) || typeof t == "object" && "inputSchema" in t) return !0; return rhe } function AL(e) { var t; const r = (t = e[h_]) !== null && t !== void 0 ? t : ""; e[h_] = (r + ` ${the}`).trimStart() } function nhe(e) { return e !== null && typeof e == "object" && e instanceof GE } function ahe(e) { return xi(this, arguments, function* (r, n = 100) { let a, i = 0; for (; i < n;) { const s = yield st(r.listTools({ cursor: a })); for (const l of s.tools) yield yield st(l), i++; if (!s.nextCursor) break; a = s.nextCursor } }) } class GE { constructor(t = [], r) { this.mcpTools = [], this.functionNameToMcpClient = {}, this.mcpClients = t, this.config = r } static create(t, r) { return new GE(t, r) } async initialize() { var t, r, n, a; if (this.mcpTools.length > 0) return; const i = {}, s = []; for (const h of this.mcpClients) try { for (var l = !0, f = (r = void 0, vi(ahe(h))), d; d = await f.next(), t = d.done, !t; l = !0) { a = d.value, l = !1; const m = a; s.push(m); const g = m.name; if (i[g]) throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`); i[g] = h } } catch (m) { r = { error: m } } finally { try { !l && !t && (n = f.return) && await n.call(f) } finally { if (r) throw r.error } } this.mcpTools = s, this.functionNameToMcpClient = i } async tool() { return await this.initialize(), Dce(this.mcpTools, this.config) } async callTool(t) { await this.initialize(); const r = []; for (const n of t) if (n.name in this.functionNameToMcpClient) { const a = this.functionNameToMcpClient[n.name]; let i; this.config.timeout && (i = { timeout: this.config.timeout }); const s = await a.callTool({ name: n.name, arguments: n.args }, void 0, i); r.push({ functionResponse: { name: n.name, response: s.isError ? { error: s } : s } }) } return r } }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function ihe(e, t, r) { const n = new Nce; let a; r.data instanceof Blob ? a = JSON.parse(await r.data.text()) : a = JSON.parse(r.data), Object.assign(n, a), t(n) } class she { constructor(t, r, n) { this.apiClient = t, this.auth = r, this.webSocketFactory = n } async connect(t) { var r, n; if (this.apiClient.isVertexAI()) throw new Error("Live music is not supported for Vertex AI."); console.warn("Live music generation is experimental and may change in future versions."); const a = this.apiClient.getWebsocketBaseUrl(), i = this.apiClient.getApiVersion(), s = che(this.apiClient.getDefaultHeaders()), l = this.apiClient.getApiKey(), f = `${a}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${l}`; let d = () => { }; const h = new Promise(T => { d = T }), m = t.callbacks, g = function () { d({}) }, v = this.apiClient, y = { onopen: g, onmessage: T => { ihe(v, m.onmessage, T) }, onerror: (r = m == null ? void 0 : m.onerror) !== null && r !== void 0 ? r : function (T) { }, onclose: (n = m == null ? void 0 : m.onclose) !== null && n !== void 0 ? n : function (T) { } }, b = this.webSocketFactory.create(f, lhe(s), y); b.connect(), await h; const C = { setup: { model: Rt(this.apiClient, t.model) } }; return b.send(JSON.stringify(C)), new ohe(b, this.apiClient) } } class ohe { constructor(t, r) { this.conn = t, this.apiClient = r } async setWeightedPrompts(t) { if (!t.weightedPrompts || Object.keys(t.weightedPrompts).length === 0) throw new Error("Weighted prompts must be set and contain at least one entry."); const r = Ode(t); this.conn.send(JSON.stringify({ clientContent: r })) } async setMusicGenerationConfig(t) { t.musicGenerationConfig || (t.musicGenerationConfig = {}); const r = Ide(t); this.conn.send(JSON.stringify(r)) } sendPlaybackControl(t) { const r = { playbackControl: t }; this.conn.send(JSON.stringify(r)) } play() { this.sendPlaybackControl(yu.PLAY) } pause() { this.sendPlaybackControl(yu.PAUSE) } stop() { this.sendPlaybackControl(yu.STOP) } resetContext() { this.sendPlaybackControl(yu.RESET_CONTEXT) } close() { this.conn.close() } } function lhe(e) { const t = {}; return e.forEach((r, n) => { t[n] = r }), t } function che(e) { const t = new Headers; for (const [r, n] of Object.entries(e)) t.append(r, n); return t }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uhe = "FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI."; async function dhe(e, t, r) { const n = new Tce; let a; r.data instanceof Blob ? a = await r.data.text() : r.data instanceof ArrayBuffer ? a = new TextDecoder().decode(r.data) : a = r.data; const i = JSON.parse(a); if (e.isVertexAI()) { const s = Dde(i); Object.assign(n, s) } else Object.assign(n, i); t(n) } class fhe { constructor(t, r, n) { this.apiClient = t, this.auth = r, this.webSocketFactory = n, this.music = new she(this.apiClient, this.auth, this.webSocketFactory) } async connect(t) { var r, n, a, i, s, l; if (t.config && t.config.httpOptions) throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead."); const f = this.apiClient.getWebsocketBaseUrl(), d = this.apiClient.getApiVersion(); let h; const m = this.apiClient.getHeaders(); t.config && t.config.tools && NL(t.config.tools) && AL(m); const g = ghe(m); if (this.apiClient.isVertexAI()) { const F = this.apiClient.getProject(), X = this.apiClient.getLocation(), V = this.apiClient.getApiKey(), U = !!F && !!X || !!V; this.apiClient.getCustomBaseUrl() && !U ? h = f : (h = `${f}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`, await this.auth.addAuthHeaders(g, h)) } else { const F = this.apiClient.getApiKey(); let X = "BidiGenerateContent", V = "key"; F != null && F.startsWith("auth_tokens/") && (console.warn("Warning: Ephemeral token support is experimental and may change in future versions."), d !== "v1alpha" && console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."), X = "BidiGenerateContentConstrained", V = "access_token"), h = `${f}/ws/google.ai.generativelanguage.${d}.GenerativeService.${X}?${V}=${F}` } let v = () => { }; const y = new Promise(F => { v = F }), b = t.callbacks, _ = function () { var F; (F = b == null ? void 0 : b.onopen) === null || F === void 0 || F.call(b), v({}) }, k = this.apiClient, C = { onopen: _, onmessage: F => { dhe(k, b.onmessage, F) }, onerror: (r = b == null ? void 0 : b.onerror) !== null && r !== void 0 ? r : function (F) { }, onclose: (n = b == null ? void 0 : b.onclose) !== null && n !== void 0 ? n : function (F) { } }, T = this.webSocketFactory.create(h, mhe(g), C); T.connect(), await y; let j = Rt(this.apiClient, t.model); if (this.apiClient.isVertexAI() && j.startsWith("publishers/")) { const F = this.apiClient.getProject(), X = this.apiClient.getLocation(); F && X && (j = `projects/${F}/locations/${X}/` + j) } let R = {}; this.apiClient.isVertexAI() && ((a = t.config) === null || a === void 0 ? void 0 : a.responseModalities) === void 0 && (t.config === void 0 ? t.config = { responseModalities: [Xm.AUDIO] } : t.config.responseModalities = [Xm.AUDIO]), !((i = t.config) === null || i === void 0) && i.generationConfig && console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025)."); const O = (l = (s = t.config) === null || s === void 0 ? void 0 : s.tools) !== null && l !== void 0 ? l : [], I = []; for (const F of O) if (this.isCallableTool(F)) { const X = F; I.push(await X.tool()) } else I.push(F); I.length > 0 && (t.config.tools = I); const H = { model: j, config: t.config, callbacks: t.callbacks }; return this.apiClient.isVertexAI() ? R = jde(this.apiClient, H) : R = Cde(this.apiClient, H), delete R.config, T.send(JSON.stringify(R)), new phe(T, this.apiClient) } isCallableTool(t) { return "callTool" in t && typeof t.callTool == "function" } } const hhe = { turnComplete: !0 }; class phe { constructor(t, r) { this.conn = t, this.apiClient = r } tLiveClientContent(t, r) { if (r.turns !== null && r.turns !== void 0) { let n = []; try { n = Wa(r.turns), t.isVertexAI() || (n = n.map(a => px(a))) } catch { throw new Error(`Failed to parse client content "turns", type: '${typeof r.turns}'`) } return { clientContent: { turns: n, turnComplete: r.turnComplete } } } return { clientContent: { turnComplete: r.turnComplete } } } tLiveClienttToolResponse(t, r) { let n = []; if (r.functionResponses == null) throw new Error("functionResponses is required."); if (Array.isArray(r.functionResponses) ? n = r.functionResponses : n = [r.functionResponses], n.length === 0) throw new Error("functionResponses is required."); for (const i of n) { if (typeof i != "object" || i === null || !("name" in i) || !("response" in i)) throw new Error(`Could not parse function response, type '${typeof i}'.`); if (!t.isVertexAI() && !("id" in i)) throw new Error(uhe) } return { toolResponse: { functionResponses: n } } } sendClientContent(t) { t = Object.assign(Object.assign({}, hhe), t); const r = this.tLiveClientContent(this.apiClient, t); this.conn.send(JSON.stringify(r)) } sendRealtimeInput(t) { let r = {}; this.apiClient.isVertexAI() ? r = { realtimeInput: Pde(t) } : r = { realtimeInput: Rde(t) }, this.conn.send(JSON.stringify(r)) } sendToolResponse(t) { if (t.functionResponses == null) throw new Error("Tool response parameters are required."); const r = this.tLiveClienttToolResponse(this.apiClient, t); this.conn.send(JSON.stringify(r)) } close() { this.conn.close() } } function mhe(e) { const t = {}; return e.forEach((r, n) => { t[n] = r }), t } function ghe(e) { const t = new Headers; for (const [r, n] of Object.entries(e)) t.append(r, n); return t }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oD = 10; function lD(e) { var t, r, n; if (!((t = e == null ? void 0 : e.automaticFunctionCalling) === null || t === void 0) && t.disable) return !0; let a = !1; for (const s of (r = e == null ? void 0 : e.tools) !== null && r !== void 0 ? r : []) if (Nu(s)) { a = !0; break } if (!a) return !0; const i = (n = e == null ? void 0 : e.automaticFunctionCalling) === null || n === void 0 ? void 0 : n.maximumRemoteCalls; return i && (i < 0 || !Number.isInteger(i)) || i == 0 ? (console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:", i), !0) : !1 } function Nu(e) { return "callTool" in e && typeof e.callTool == "function" } function xhe(e) { var t, r, n; return (n = (r = (t = e.config) === null || t === void 0 ? void 0 : t.tools) === null || r === void 0 ? void 0 : r.some(a => Nu(a))) !== null && n !== void 0 ? n : !1 } function cD(e) { var t; const r = []; return !((t = e == null ? void 0 : e.config) === null || t === void 0) && t.tools && e.config.tools.forEach((n, a) => { if (Nu(n)) return; const i = n; i.functionDeclarations && i.functionDeclarations.length > 0 && r.push(a) }), r } function uD(e) { var t; return !(!((t = e == null ? void 0 : e.automaticFunctionCalling) === null || t === void 0) && t.ignoreCallHistory) }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vhe extends Vs { constructor(t) { super(), this.apiClient = t, this.generateContent = async r => { var n, a, i, s, l; const f = await this.processParamsMaybeAddMcpUsage(r); if (this.maybeMoveToResponseJsonSchem(r), !xhe(r) || lD(r.config)) return await this.generateContentInternal(f); const d = cD(r); if (d.length > 0) { const b = d.map(_ => `tools[${_}]`).join(", "); throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${b}.`) } let h, m; const g = Wa(f.contents), v = (i = (a = (n = f.config) === null || n === void 0 ? void 0 : n.automaticFunctionCalling) === null || a === void 0 ? void 0 : a.maximumRemoteCalls) !== null && i !== void 0 ? i : oD; let y = 0; for (; y < v && (h = await this.generateContentInternal(f), !(!h.functionCalls || h.functionCalls.length === 0));) { const b = h.candidates[0].content, _ = []; for (const k of (l = (s = r.config) === null || s === void 0 ? void 0 : s.tools) !== null && l !== void 0 ? l : []) if (Nu(k)) { const T = await k.callTool(h.functionCalls); _.push(...T) } y++, m = { role: "user", parts: _ }, f.contents = Wa(f.contents), f.contents.push(b), f.contents.push(m), uD(f.config) && (g.push(b), g.push(m)) } return uD(f.config) && (h.automaticFunctionCallingHistory = g), h }, this.generateContentStream = async r => { var n, a, i, s, l; if (this.maybeMoveToResponseJsonSchem(r), lD(r.config)) { const m = await this.processParamsMaybeAddMcpUsage(r); return await this.generateContentStreamInternal(m) } const f = cD(r); if (f.length > 0) { const m = f.map(g => `tools[${g}]`).join(", "); throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`) } const d = (i = (a = (n = r == null ? void 0 : r.config) === null || n === void 0 ? void 0 : n.toolConfig) === null || a === void 0 ? void 0 : a.functionCallingConfig) === null || i === void 0 ? void 0 : i.streamFunctionCallArguments, h = (l = (s = r == null ? void 0 : r.config) === null || s === void 0 ? void 0 : s.automaticFunctionCalling) === null || l === void 0 ? void 0 : l.disable; if (d && !h) throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature."); return await this.processAfcStream(r) }, this.generateImages = async r => await this.generateImagesInternal(r).then(n => { var a; let i; const s = []; if (n != null && n.generatedImages) for (const f of n.generatedImages) f && (f != null && f.safetyAttributes) && ((a = f == null ? void 0 : f.safetyAttributes) === null || a === void 0 ? void 0 : a.contentType) === "Positive Prompt" ? i = f == null ? void 0 : f.safetyAttributes : s.push(f); let l; return i ? l = { generatedImages: s, positivePromptSafetyAttributes: i, sdkHttpResponse: n.sdkHttpResponse } : l = { generatedImages: s, sdkHttpResponse: n.sdkHttpResponse }, l }), this.list = async r => { var n; const s = { config: Object.assign(Object.assign({}, { queryBase: !0 }), r == null ? void 0 : r.config) }; if (this.apiClient.isVertexAI() && !s.config.queryBase) { if (!((n = s.config) === null || n === void 0) && n.filter) throw new Error("Filtering tuned models list for Vertex AI is not currently supported"); s.config.filter = "labels.tune-type:*" } return new sc(Ds.PAGED_ITEM_MODELS, l => this.listInternal(l), await this.listInternal(s), s) }, this.editImage = async r => { const n = { model: r.model, prompt: r.prompt, referenceImages: [], config: r.config }; return r.referenceImages && r.referenceImages && (n.referenceImages = r.referenceImages.map(a => a.toReferenceImageAPI())), await this.editImageInternal(n) }, this.upscaleImage = async r => { let n = { numberOfImages: 1, mode: "upscale" }; r.config && (n = Object.assign(Object.assign({}, n), r.config)); const a = { model: r.model, image: r.image, upscaleFactor: r.upscaleFactor, config: n }; return await this.upscaleImageInternal(a) }, this.generateVideos = async r => { var n, a, i, s, l, f; if ((r.prompt || r.image || r.video) && r.source) throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source."); return this.apiClient.isVertexAI() || (!((n = r.video) === null || n === void 0) && n.uri && (!((a = r.video) === null || a === void 0) && a.videoBytes) ? r.video = { uri: r.video.uri, mimeType: r.video.mimeType } : !((s = (i = r.source) === null || i === void 0 ? void 0 : i.video) === null || s === void 0) && s.uri && (!((f = (l = r.source) === null || l === void 0 ? void 0 : l.video) === null || f === void 0) && f.videoBytes) && (r.source.video = { uri: r.source.video.uri, mimeType: r.source.video.mimeType })), await this.generateVideosInternal(r) } } maybeMoveToResponseJsonSchem(t) { t.config && t.config.responseSchema && (t.config.responseJsonSchema || Object.keys(t.config.responseSchema).includes("$schema") && (t.config.responseJsonSchema = t.config.responseSchema, delete t.config.responseSchema)) } async processParamsMaybeAddMcpUsage(t) { var r, n, a; const i = (r = t.config) === null || r === void 0 ? void 0 : r.tools; if (!i) return t; const s = await Promise.all(i.map(async f => Nu(f) ? await f.tool() : f)), l = { model: t.model, contents: t.contents, config: Object.assign(Object.assign({}, t.config), { tools: s }) }; if (l.config.tools = s, t.config && t.config.tools && NL(t.config.tools)) { const f = (a = (n = t.config.httpOptions) === null || n === void 0 ? void 0 : n.headers) !== null && a !== void 0 ? a : {}; let d = Object.assign({}, f); Object.keys(d).length === 0 && (d = this.apiClient.getDefaultHeaders()), AL(d), l.config.httpOptions = Object.assign(Object.assign({}, t.config.httpOptions), { headers: d }) } return l } async initAfcToolsMap(t) { var r, n, a; const i = new Map; for (const s of (n = (r = t.config) === null || r === void 0 ? void 0 : r.tools) !== null && n !== void 0 ? n : []) if (Nu(s)) { const l = s, f = await l.tool(); for (const d of (a = f.functionDeclarations) !== null && a !== void 0 ? a : []) { if (!d.name) throw new Error("Function declaration name is required."); if (i.has(d.name)) throw new Error(`Duplicate tool declaration name: ${d.name}`); i.set(d.name, l) } } return i } async processAfcStream(t) { var r, n, a; const i = (a = (n = (r = t.config) === null || r === void 0 ? void 0 : r.automaticFunctionCalling) === null || n === void 0 ? void 0 : n.maximumRemoteCalls) !== null && a !== void 0 ? a : oD; let s = !1, l = 0; const f = await this.initAfcToolsMap(t); return (function (d, h, m) { return xi(this, arguments, function* () { for (var g, v, y, b, _, k; l < i;) { s && (l++, s = !1); const R = yield st(d.processParamsMaybeAddMcpUsage(m)), O = yield st(d.generateContentStreamInternal(R)), I = [], H = []; try { for (var C = !0, T = (v = void 0, vi(O)), j; j = yield st(T.next()), g = j.done, !g; C = !0) { b = j.value, C = !1; const F = b; if (yield yield st(F), F.candidates && (!((_ = F.candidates[0]) === null || _ === void 0) && _.content)) { H.push(F.candidates[0].content); for (const X of (k = F.candidates[0].content.parts) !== null && k !== void 0 ? k : []) if (l < i && X.functionCall) { if (!X.functionCall.name) throw new Error("Function call name was not returned by the model."); if (h.has(X.functionCall.name)) { const V = yield st(h.get(X.functionCall.name).callTool([X.functionCall])); I.push(...V) } else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${X.functionCall.name}`) } } } } catch (F) { v = { error: F } } finally { try { !C && !g && (y = T.return) && (yield st(y.call(T))) } finally { if (v) throw v.error } } if (I.length > 0) { s = !0; const F = new lf; F.candidates = [{ content: { role: "user", parts: I } }], yield yield st(F); const X = []; X.push(...H), X.push({ role: "user", parts: I }); const V = Wa(m.contents).concat(X); m.contents = V } else break } }) })(this, f, t) } async generateContentInternal(t) { var r, n, a, i; let s, l = "", f = {}; if (this.apiClient.isVertexAI()) { const d = nD(this.apiClient, t); return l = $e("{model}:generateContent", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "POST", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(h => h.json().then(m => { const g = m; return g.sdkHttpResponse = { headers: h.headers }, g })), s.then(h => { const m = iD(h), g = new lf; return Object.assign(g, m), g }) } else { const d = rD(this.apiClient, t); return l = $e("{model}:generateContent", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "POST", httpOptions: (a = t.config) === null || a === void 0 ? void 0 : a.httpOptions, abortSignal: (i = t.config) === null || i === void 0 ? void 0 : i.abortSignal }).then(h => h.json().then(m => { const g = m; return g.sdkHttpResponse = { headers: h.headers }, g })), s.then(h => { const m = aD(h), g = new lf; return Object.assign(g, m), g }) } } async generateContentStreamInternal(t) { var r, n, a, i; let s, l = "", f = {}; if (this.apiClient.isVertexAI()) { const d = nD(this.apiClient, t); return l = $e("{model}:streamGenerateContent?alt=sse", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.requestStream({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "POST", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }), s.then(function (m) { return xi(this, arguments, function* () { var g, v, y, b; try { for (var _ = !0, k = vi(m), C; C = yield st(k.next()), g = C.done, !g; _ = !0) { b = C.value, _ = !1; const T = b, j = iD(yield st(T.json())); j.sdkHttpResponse = { headers: T.headers }; const R = new lf; Object.assign(R, j), yield yield st(R) } } catch (T) { v = { error: T } } finally { try { !_ && !g && (y = k.return) && (yield st(y.call(k))) } finally { if (v) throw v.error } } }) }) } else { const d = rD(this.apiClient, t); return l = $e("{model}:streamGenerateContent?alt=sse", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.requestStream({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "POST", httpOptions: (a = t.config) === null || a === void 0 ? void 0 : a.httpOptions, abortSignal: (i = t.config) === null || i === void 0 ? void 0 : i.abortSignal }), s.then(function (m) { return xi(this, arguments, function* () { var g, v, y, b; try { for (var _ = !0, k = vi(m), C; C = yield st(k.next()), g = C.done, !g; _ = !0) { b = C.value, _ = !1; const T = b, j = aD(yield st(T.json())); j.sdkHttpResponse = { headers: T.headers }; const R = new lf; Object.assign(R, j), yield yield st(R) } } catch (T) { v = { error: T } } finally { try { !_ && !g && (y = k.return) && (yield st(y.call(k))) } finally { if (v) throw v.error } } }) }) } } async embedContent(t) { var r, n, a, i; let s, l = "", f = {}; if (this.apiClient.isVertexAI()) { const d = ffe(this.apiClient, t); return l = $e("{model}:predict", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "POST", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(h => h.json().then(m => { const g = m; return g.sdkHttpResponse = { headers: h.headers }, g })), s.then(h => { const m = pfe(h), g = new UP; return Object.assign(g, m), g }) } else { const d = dfe(this.apiClient, t); return l = $e("{model}:batchEmbedContents", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "POST", httpOptions: (a = t.config) === null || a === void 0 ? void 0 : a.httpOptions, abortSignal: (i = t.config) === null || i === void 0 ? void 0 : i.abortSignal }).then(h => h.json().then(m => { const g = m; return g.sdkHttpResponse = { headers: h.headers }, g })), s.then(h => { const m = hfe(h), g = new UP; return Object.assign(g, m), g }) } } async generateImagesInternal(t) { var r, n, a, i; let s, l = "", f = {}; if (this.apiClient.isVertexAI()) { const d = kfe(this.apiClient, t); return l = $e("{model}:predict", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "POST", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(h => h.json().then(m => { const g = m; return g.sdkHttpResponse = { headers: h.headers }, g })), s.then(h => { const m = Nfe(h), g = new BP; return Object.assign(g, m), g }) } else { const d = Efe(this.apiClient, t); return l = $e("{model}:predict", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "POST", httpOptions: (a = t.config) === null || a === void 0 ? void 0 : a.httpOptions, abortSignal: (i = t.config) === null || i === void 0 ? void 0 : i.abortSignal }).then(h => h.json().then(m => { const g = m; return g.sdkHttpResponse = { headers: h.headers }, g })), s.then(h => { const m = Tfe(h), g = new BP; return Object.assign(g, m), g }) } } async editImageInternal(t) { var r, n; let a, i = "", s = {}; if (this.apiClient.isVertexAI()) { const l = ofe(this.apiClient, t); return i = $e("{model}:predict", l._url), s = l._query, delete l._url, delete l._query, a = this.apiClient.request({ path: i, queryParams: s, body: JSON.stringify(l), httpMethod: "POST", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(f => f.json().then(d => { const h = d; return h.sdkHttpResponse = { headers: f.headers }, h })), a.then(f => { const d = lfe(f), h = new mce; return Object.assign(h, d), h }) } else throw new Error("This method is only supported by the Vertex AI.") } async upscaleImageInternal(t) { var r, n; let a, i = "", s = {}; if (this.apiClient.isVertexAI()) { const l = k0e(this.apiClient, t); return i = $e("{model}:predict", l._url), s = l._query, delete l._url, delete l._query, a = this.apiClient.request({ path: i, queryParams: s, body: JSON.stringify(l), httpMethod: "POST", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(f => f.json().then(d => { const h = d; return h.sdkHttpResponse = { headers: f.headers }, h })), a.then(f => { const d = T0e(f), h = new gce; return Object.assign(h, d), h }) } else throw new Error("This method is only supported by the Vertex AI.") } async recontextImage(t) { var r, n; let a, i = "", s = {}; if (this.apiClient.isVertexAI()) { const l = s0e(this.apiClient, t); return i = $e("{model}:predict", l._url), s = l._query, delete l._url, delete l._query, a = this.apiClient.request({ path: i, queryParams: s, body: JSON.stringify(l), httpMethod: "POST", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(f => f.json()), a.then(f => { const d = o0e(f), h = new xce; return Object.assign(h, d), h }) } else throw new Error("This method is only supported by the Vertex AI.") } async segmentImage(t) { var r, n; let a, i = "", s = {}; if (this.apiClient.isVertexAI()) { const l = h0e(this.apiClient, t); return i = $e("{model}:predict", l._url), s = l._query, delete l._url, delete l._query, a = this.apiClient.request({ path: i, queryParams: s, body: JSON.stringify(l), httpMethod: "POST", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(f => f.json()), a.then(f => { const d = p0e(f), h = new vce; return Object.assign(h, d), h }) } else throw new Error("This method is only supported by the Vertex AI.") } async get(t) { var r, n, a, i; let s, l = "", f = {}; if (this.apiClient.isVertexAI()) { const d = Gfe(this.apiClient, t); return l = $e("{name}", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "GET", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(h => h.json()), s.then(h => f_(h)) } else { const d = Hfe(this.apiClient, t); return l = $e("{name}", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "GET", httpOptions: (a = t.config) === null || a === void 0 ? void 0 : a.httpOptions, abortSignal: (i = t.config) === null || i === void 0 ? void 0 : i.abortSignal }).then(h => h.json()), s.then(h => d_(h)) } } async listInternal(t) { var r, n, a, i; let s, l = "", f = {}; if (this.apiClient.isVertexAI()) { const d = Qfe(this.apiClient, t); return l = $e("{models_url}", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "GET", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(h => h.json().then(m => { const g = m; return g.sdkHttpResponse = { headers: h.headers }, g })), s.then(h => { const m = t0e(h), g = new $P; return Object.assign(g, m), g }) } else { const d = Zfe(this.apiClient, t); return l = $e("{models_url}", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "GET", httpOptions: (a = t.config) === null || a === void 0 ? void 0 : a.httpOptions, abortSignal: (i = t.config) === null || i === void 0 ? void 0 : i.abortSignal }).then(h => h.json().then(m => { const g = m; return g.sdkHttpResponse = { headers: h.headers }, g })), s.then(h => { const m = e0e(h), g = new $P; return Object.assign(g, m), g }) } } async update(t) { var r, n, a, i; let s, l = "", f = {}; if (this.apiClient.isVertexAI()) { const d = S0e(this.apiClient, t); return l = $e("{model}", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "PATCH", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(h => h.json()), s.then(h => f_(h)) } else { const d = _0e(this.apiClient, t); return l = $e("{name}", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "PATCH", httpOptions: (a = t.config) === null || a === void 0 ? void 0 : a.httpOptions, abortSignal: (i = t.config) === null || i === void 0 ? void 0 : i.abortSignal }).then(h => h.json()), s.then(h => d_(h)) } } async delete(t) { var r, n, a, i; let s, l = "", f = {}; if (this.apiClient.isVertexAI()) { const d = nfe(this.apiClient, t); return l = $e("{name}", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "DELETE", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(h => h.json().then(m => { const g = m; return g.sdkHttpResponse = { headers: h.headers }, g })), s.then(h => { const m = ife(h), g = new zP; return Object.assign(g, m), g }) } else { const d = rfe(this.apiClient, t); return l = $e("{name}", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "DELETE", httpOptions: (a = t.config) === null || a === void 0 ? void 0 : a.httpOptions, abortSignal: (i = t.config) === null || i === void 0 ? void 0 : i.abortSignal }).then(h => h.json().then(m => { const g = m; return g.sdkHttpResponse = { headers: h.headers }, g })), s.then(h => { const m = afe(h), g = new zP; return Object.assign(g, m), g }) } } async countTokens(t) { var r, n, a, i; let s, l = "", f = {}; if (this.apiClient.isVertexAI()) { const d = Qde(this.apiClient, t); return l = $e("{model}:countTokens", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "POST", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(h => h.json().then(m => { const g = m; return g.sdkHttpResponse = { headers: h.headers }, g })), s.then(h => { const m = tfe(h), g = new HP; return Object.assign(g, m), g }) } else { const d = Zde(this.apiClient, t); return l = $e("{model}:countTokens", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "POST", httpOptions: (a = t.config) === null || a === void 0 ? void 0 : a.httpOptions, abortSignal: (i = t.config) === null || i === void 0 ? void 0 : i.abortSignal }).then(h => h.json().then(m => { const g = m; return g.sdkHttpResponse = { headers: h.headers }, g })), s.then(h => { const m = efe(h), g = new HP; return Object.assign(g, m), g }) } } async computeTokens(t) { var r, n; let a, i = "", s = {}; if (this.apiClient.isVertexAI()) { const l = Vde(this.apiClient, t); return i = $e("{model}:computeTokens", l._url), s = l._query, delete l._url, delete l._query, a = this.apiClient.request({ path: i, queryParams: s, body: JSON.stringify(l), httpMethod: "POST", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(f => f.json().then(d => { const h = d; return h.sdkHttpResponse = { headers: f.headers }, h })), a.then(f => { const d = qde(f), h = new yce; return Object.assign(h, d), h }) } else throw new Error("This method is only supported by the Vertex AI.") } async generateVideosInternal(t) { var r, n, a, i; let s, l = "", f = {}; if (this.apiClient.isVertexAI()) { const d = Rfe(this.apiClient, t); return l = $e("{model}:predictLongRunning", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "POST", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(h => h.json()), s.then(h => { const m = Ife(h), g = new Jm; return Object.assign(g, m), g }) } else { const d = Ofe(this.apiClient, t); return l = $e("{model}:predictLongRunning", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "POST", httpOptions: (a = t.config) === null || a === void 0 ? void 0 : a.httpOptions, abortSignal: (i = t.config) === null || i === void 0 ? void 0 : i.abortSignal }).then(h => h.json()), s.then(h => { const m = jfe(h), g = new Jm; return Object.assign(g, m), g }) } } }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yhe extends Vs { constructor(t) { super(), this.apiClient = t } async getVideosOperation(t) { const r = t.operation, n = t.config; if (r.name === void 0 || r.name === "") throw new Error("Operation name is required."); if (this.apiClient.isVertexAI()) { const a = r.name.split("/operations/")[0]; let i; n && "httpOptions" in n && (i = n.httpOptions); const s = await this.fetchPredictVideosOperationInternal({ operationName: r.name, resourceName: a, config: { httpOptions: i } }); return r._fromAPIResponse({ apiResponse: s, _isVertexAI: !0 }) } else { const a = await this.getVideosOperationInternal({ operationName: r.name, config: n }); return r._fromAPIResponse({ apiResponse: a, _isVertexAI: !1 }) } } async get(t) { const r = t.operation, n = t.config; if (r.name === void 0 || r.name === "") throw new Error("Operation name is required."); if (this.apiClient.isVertexAI()) { const a = r.name.split("/operations/")[0]; let i; n && "httpOptions" in n && (i = n.httpOptions); const s = await this.fetchPredictVideosOperationInternal({ operationName: r.name, resourceName: a, config: { httpOptions: i } }); return r._fromAPIResponse({ apiResponse: s, _isVertexAI: !0 }) } else { const a = await this.getVideosOperationInternal({ operationName: r.name, config: n }); return r._fromAPIResponse({ apiResponse: a, _isVertexAI: !1 }) } } async getVideosOperationInternal(t) { var r, n, a, i; let s, l = "", f = {}; if (this.apiClient.isVertexAI()) { const d = cce(t); return l = $e("{operationName}", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "GET", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(h => h.json()), s } else { const d = lce(t); return l = $e("{operationName}", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "GET", httpOptions: (a = t.config) === null || a === void 0 ? void 0 : a.httpOptions, abortSignal: (i = t.config) === null || i === void 0 ? void 0 : i.abortSignal }).then(h => h.json()), s } } async fetchPredictVideosOperationInternal(t) { var r, n; let a, i = "", s = {}; if (this.apiClient.isVertexAI()) { const l = tce(t); return i = $e("{resourceName}:fetchPredictOperation", l._url), s = l._query, delete l._url, delete l._query, a = this.apiClient.request({ path: i, queryParams: s, body: JSON.stringify(l), httpMethod: "POST", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(f => f.json()), a } else throw new Error("This method is only supported by the Vertex AI.") } }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bhe(e) { const t = {}, r = w(e, ["data"]); if (r != null && S(t, ["data"], r), w(e, ["displayName"]) !== void 0) throw new Error("displayName parameter is not supported in Gemini API."); const n = w(e, ["mimeType"]); return n != null && S(t, ["mimeType"], n), t } function whe(e) { const t = {}, r = w(e, ["parts"]); if (r != null) { let a = r; Array.isArray(a) && (a = a.map(i => jhe(i))), S(t, ["parts"], a) } const n = w(e, ["role"]); return n != null && S(t, ["role"], n), t } function _he(e, t, r) { const n = {}, a = w(t, ["expireTime"]); r !== void 0 && a != null && S(r, ["expireTime"], a); const i = w(t, ["newSessionExpireTime"]); r !== void 0 && i != null && S(r, ["newSessionExpireTime"], i); const s = w(t, ["uses"]); r !== void 0 && s != null && S(r, ["uses"], s); const l = w(t, ["liveConnectConstraints"]); r !== void 0 && l != null && S(r, ["bidiGenerateContentSetup"], Che(e, l)); const f = w(t, ["lockAdditionalFields"]); return r !== void 0 && f != null && S(r, ["fieldMask"], f), n } function She(e, t) { const r = {}, n = w(t, ["config"]); return n != null && S(r, ["config"], _he(e, n, r)), r } function Ehe(e) { const t = {}; if (w(e, ["displayName"]) !== void 0) throw new Error("displayName parameter is not supported in Gemini API."); const r = w(e, ["fileUri"]); r != null && S(t, ["fileUri"], r); const n = w(e, ["mimeType"]); return n != null && S(t, ["mimeType"], n), t } function khe(e) { const t = {}, r = w(e, ["id"]); r != null && S(t, ["id"], r); const n = w(e, ["args"]); n != null && S(t, ["args"], n); const a = w(e, ["name"]); if (a != null && S(t, ["name"], a), w(e, ["partialArgs"]) !== void 0) throw new Error("partialArgs parameter is not supported in Gemini API."); if (w(e, ["willContinue"]) !== void 0) throw new Error("willContinue parameter is not supported in Gemini API."); return t } function The(e) { const t = {}; if (w(e, ["authConfig"]) !== void 0) throw new Error("authConfig parameter is not supported in Gemini API."); const r = w(e, ["enableWidget"]); return r != null && S(t, ["enableWidget"], r), t } function Nhe(e) { const t = {}; if (w(e, ["excludeDomains"]) !== void 0) throw new Error("excludeDomains parameter is not supported in Gemini API."); if (w(e, ["blockingConfidence"]) !== void 0) throw new Error("blockingConfidence parameter is not supported in Gemini API."); const r = w(e, ["timeRangeFilter"]); return r != null && S(t, ["timeRangeFilter"], r), t } function Ahe(e, t) { const r = {}, n = w(e, ["generationConfig"]); t !== void 0 && n != null && S(t, ["setup", "generationConfig"], n); const a = w(e, ["responseModalities"]); t !== void 0 && a != null && S(t, ["setup", "generationConfig", "responseModalities"], a); const i = w(e, ["temperature"]); t !== void 0 && i != null && S(t, ["setup", "generationConfig", "temperature"], i); const s = w(e, ["topP"]); t !== void 0 && s != null && S(t, ["setup", "generationConfig", "topP"], s); const l = w(e, ["topK"]); t !== void 0 && l != null && S(t, ["setup", "generationConfig", "topK"], l); const f = w(e, ["maxOutputTokens"]); t !== void 0 && f != null && S(t, ["setup", "generationConfig", "maxOutputTokens"], f); const d = w(e, ["mediaResolution"]); t !== void 0 && d != null && S(t, ["setup", "generationConfig", "mediaResolution"], d); const h = w(e, ["seed"]); t !== void 0 && h != null && S(t, ["setup", "generationConfig", "seed"], h); const m = w(e, ["speechConfig"]); t !== void 0 && m != null && S(t, ["setup", "generationConfig", "speechConfig"], HE(m)); const g = w(e, ["thinkingConfig"]); t !== void 0 && g != null && S(t, ["setup", "generationConfig", "thinkingConfig"], g); const v = w(e, ["enableAffectiveDialog"]); t !== void 0 && v != null && S(t, ["setup", "generationConfig", "enableAffectiveDialog"], v); const y = w(e, ["systemInstruction"]); t !== void 0 && y != null && S(t, ["setup", "systemInstruction"], whe(Pn(y))); const b = w(e, ["tools"]); if (t !== void 0 && b != null) { let O = ed(b); Array.isArray(O) && (O = O.map(I => Ohe(Qu(I)))), S(t, ["setup", "tools"], O) } const _ = w(e, ["sessionResumption"]); t !== void 0 && _ != null && S(t, ["setup", "sessionResumption"], Ihe(_)); const k = w(e, ["inputAudioTranscription"]); t !== void 0 && k != null && S(t, ["setup", "inputAudioTranscription"], k); const C = w(e, ["outputAudioTranscription"]); t !== void 0 && C != null && S(t, ["setup", "outputAudioTranscription"], C); const T = w(e, ["realtimeInputConfig"]); t !== void 0 && T != null && S(t, ["setup", "realtimeInputConfig"], T); const j = w(e, ["contextWindowCompression"]); t !== void 0 && j != null && S(t, ["setup", "contextWindowCompression"], j); const R = w(e, ["proactivity"]); if (t !== void 0 && R != null && S(t, ["setup", "proactivity"], R), w(e, ["explicitVadSignal"]) !== void 0) throw new Error("explicitVadSignal parameter is not supported in Gemini API."); return r } function Che(e, t) { const r = {}, n = w(t, ["model"]); n != null && S(r, ["setup", "model"], Rt(e, n)); const a = w(t, ["config"]); return a != null && S(r, ["config"], Ahe(a, r)), r } function jhe(e) { const t = {}, r = w(e, ["mediaResolution"]); r != null && S(t, ["mediaResolution"], r); const n = w(e, ["codeExecutionResult"]); n != null && S(t, ["codeExecutionResult"], n); const a = w(e, ["executableCode"]); a != null && S(t, ["executableCode"], a); const i = w(e, ["fileData"]); i != null && S(t, ["fileData"], Ehe(i)); const s = w(e, ["functionCall"]); s != null && S(t, ["functionCall"], khe(s)); const l = w(e, ["functionResponse"]); l != null && S(t, ["functionResponse"], l); const f = w(e, ["inlineData"]); f != null && S(t, ["inlineData"], bhe(f)); const d = w(e, ["text"]); d != null && S(t, ["text"], d); const h = w(e, ["thought"]); h != null && S(t, ["thought"], h); const m = w(e, ["thoughtSignature"]); m != null && S(t, ["thoughtSignature"], m); const g = w(e, ["videoMetadata"]); return g != null && S(t, ["videoMetadata"], g), t } function Ihe(e) { const t = {}, r = w(e, ["handle"]); if (r != null && S(t, ["handle"], r), w(e, ["transparent"]) !== void 0) throw new Error("transparent parameter is not supported in Gemini API."); return t } function Ohe(e) { const t = {}; if (w(e, ["retrieval"]) !== void 0) throw new Error("retrieval parameter is not supported in Gemini API."); const r = w(e, ["computerUse"]); r != null && S(t, ["computerUse"], r); const n = w(e, ["fileSearch"]); n != null && S(t, ["fileSearch"], n); const a = w(e, ["codeExecution"]); if (a != null && S(t, ["codeExecution"], a), w(e, ["enterpriseWebSearch"]) !== void 0) throw new Error("enterpriseWebSearch parameter is not supported in Gemini API."); const i = w(e, ["functionDeclarations"]); if (i != null) { let h = i; Array.isArray(h) && (h = h.map(m => m)), S(t, ["functionDeclarations"], h) } const s = w(e, ["googleMaps"]); s != null && S(t, ["googleMaps"], The(s)); const l = w(e, ["googleSearch"]); l != null && S(t, ["googleSearch"], Nhe(l)); const f = w(e, ["googleSearchRetrieval"]); f != null && S(t, ["googleSearchRetrieval"], f); const d = w(e, ["urlContext"]); return d != null && S(t, ["urlContext"], d), t }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rhe(e) { const t = []; for (const r in e) if (Object.prototype.hasOwnProperty.call(e, r)) { const n = e[r]; if (typeof n == "object" && n != null && Object.keys(n).length > 0) { const a = Object.keys(n).map(i => `${r}.${i}`); t.push(...a) } else t.push(r) } return t.join(",") } function Phe(e, t) { let r = null; const n = e.bidiGenerateContentSetup; if (typeof n == "object" && n !== null && "setup" in n) { const i = n.setup; typeof i == "object" && i !== null ? (e.bidiGenerateContentSetup = i, r = i) : delete e.bidiGenerateContentSetup } else n !== void 0 && delete e.bidiGenerateContentSetup; const a = e.fieldMask; if (r) { const i = Rhe(r); if (Array.isArray(t == null ? void 0 : t.lockAdditionalFields) && (t == null ? void 0 : t.lockAdditionalFields.length) === 0) i ? e.fieldMask = i : delete e.fieldMask; else if (t != null && t.lockAdditionalFields && t.lockAdditionalFields.length > 0 && a !== null && Array.isArray(a) && a.length > 0) { const s = ["temperature", "topK", "topP", "maxOutputTokens", "responseModalities", "seed", "speechConfig"]; let l = []; a.length > 0 && (l = a.map(d => s.includes(d) ? `generationConfig.${d}` : d)); const f = []; i && f.push(i), l.length > 0 && f.push(...l), f.length > 0 ? e.fieldMask = f.join(",") : delete e.fieldMask } else delete e.fieldMask } else a !== null && Array.isArray(a) && a.length > 0 ? e.fieldMask = a.join(",") : delete e.fieldMask; return e } class Dhe extends Vs { constructor(t) { super(), this.apiClient = t } async create(t) { var r, n; let a, i = "", s = {}; if (this.apiClient.isVertexAI()) throw new Error("The client.tokens.create method is only supported by the Gemini Developer API."); { const l = She(this.apiClient, t); i = $e("auth_tokens", l._url), s = l._query, delete l.config, delete l._url, delete l._query; const f = Phe(l, t.config); return a = this.apiClient.request({ path: i, queryParams: s, body: JSON.stringify(f), httpMethod: "POST", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(d => d.json()), a.then(d => d) } } }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mhe(e, t) { const r = {}, n = w(e, ["force"]); return t !== void 0 && n != null && S(t, ["_query", "force"], n), r } function Lhe(e) { const t = {}, r = w(e, ["name"]); r != null && S(t, ["_url", "name"], r); const n = w(e, ["config"]); return n != null && Mhe(n, t), t } function Fhe(e) { const t = {}, r = w(e, ["name"]); return r != null && S(t, ["_url", "name"], r), t } function Uhe(e, t) { const r = {}, n = w(e, ["pageSize"]); t !== void 0 && n != null && S(t, ["_query", "pageSize"], n); const a = w(e, ["pageToken"]); return t !== void 0 && a != null && S(t, ["_query", "pageToken"], a), r } function Bhe(e) { const t = {}, r = w(e, ["parent"]); r != null && S(t, ["_url", "parent"], r); const n = w(e, ["config"]); return n != null && Uhe(n, t), t } function $he(e) { const t = {}, r = w(e, ["sdkHttpResponse"]); r != null && S(t, ["sdkHttpResponse"], r); const n = w(e, ["nextPageToken"]); n != null && S(t, ["nextPageToken"], n); const a = w(e, ["documents"]); if (a != null) { let i = a; Array.isArray(i) && (i = i.map(s => s)), S(t, ["documents"], i) } return t }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zhe extends Vs { constructor(t) { super(), this.apiClient = t, this.list = async r => new sc(Ds.PAGED_ITEM_DOCUMENTS, n => this.listInternal({ parent: r.parent, config: n.config }), await this.listInternal(r), r) } async get(t) { var r, n; let a, i = "", s = {}; if (this.apiClient.isVertexAI()) throw new Error("This method is only supported by the Gemini Developer API."); { const l = Fhe(t); return i = $e("{name}", l._url), s = l._query, delete l._url, delete l._query, a = this.apiClient.request({ path: i, queryParams: s, body: JSON.stringify(l), httpMethod: "GET", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(f => f.json()), a.then(f => f) } } async delete(t) { var r, n; let a = "", i = {}; if (this.apiClient.isVertexAI()) throw new Error("This method is only supported by the Gemini Developer API."); { const s = Lhe(t); a = $e("{name}", s._url), i = s._query, delete s._url, delete s._query, await this.apiClient.request({ path: a, queryParams: i, body: JSON.stringify(s), httpMethod: "DELETE", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }) } } async listInternal(t) { var r, n; let a, i = "", s = {}; if (this.apiClient.isVertexAI()) throw new Error("This method is only supported by the Gemini Developer API."); { const l = Bhe(t); return i = $e("{parent}/documents", l._url), s = l._query, delete l._url, delete l._query, a = this.apiClient.request({ path: i, queryParams: s, body: JSON.stringify(l), httpMethod: "GET", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(f => f.json()), a.then(f => { const d = $he(f), h = new bce; return Object.assign(h, d), h }) } } }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hhe extends Vs { constructor(t, r = new zhe(t)) { super(), this.apiClient = t, this.documents = r, this.list = async (n = {}) => new sc(Ds.PAGED_ITEM_FILE_SEARCH_STORES, a => this.listInternal(a), await this.listInternal(n), n) } async uploadToFileSearchStore(t) { if (this.apiClient.isVertexAI()) throw new Error("Vertex AI does not support uploading files to a file search store."); return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName, t.file, t.config) } async create(t) { var r, n; let a, i = "", s = {}; if (this.apiClient.isVertexAI()) throw new Error("This method is only supported by the Gemini Developer API."); { const l = R0e(t); return i = $e("fileSearchStores", l._url), s = l._query, delete l._url, delete l._query, a = this.apiClient.request({ path: i, queryParams: s, body: JSON.stringify(l), httpMethod: "POST", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(f => f.json()), a.then(f => f) } } async get(t) { var r, n; let a, i = "", s = {}; if (this.apiClient.isVertexAI()) throw new Error("This method is only supported by the Gemini Developer API."); { const l = M0e(t); return i = $e("{name}", l._url), s = l._query, delete l._url, delete l._query, a = this.apiClient.request({ path: i, queryParams: s, body: JSON.stringify(l), httpMethod: "GET", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(f => f.json()), a.then(f => f) } } async delete(t) { var r, n; let a = "", i = {}; if (this.apiClient.isVertexAI()) throw new Error("This method is only supported by the Gemini Developer API."); { const s = D0e(t); a = $e("{name}", s._url), i = s._query, delete s._url, delete s._query, await this.apiClient.request({ path: a, queryParams: i, body: JSON.stringify(s), httpMethod: "DELETE", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }) } } async listInternal(t) { var r, n; let a, i = "", s = {}; if (this.apiClient.isVertexAI()) throw new Error("This method is only supported by the Gemini Developer API."); { const l = z0e(t); return i = $e("fileSearchStores", l._url), s = l._query, delete l._url, delete l._query, a = this.apiClient.request({ path: i, queryParams: s, body: JSON.stringify(l), httpMethod: "GET", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(f => f.json()), a.then(f => { const d = H0e(f), h = new wce; return Object.assign(h, d), h }) } } async uploadToFileSearchStoreInternal(t) { var r, n; let a, i = "", s = {}; if (this.apiClient.isVertexAI()) throw new Error("This method is only supported by the Gemini Developer API."); { const l = G0e(t); return i = $e("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore", l._url), s = l._query, delete l._url, delete l._query, a = this.apiClient.request({ path: i, queryParams: s, body: JSON.stringify(l), httpMethod: "POST", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(f => f.json()), a.then(f => { const d = V0e(f), h = new _ce; return Object.assign(h, d), h }) } } async importFile(t) { var r, n; let a, i = "", s = {}; if (this.apiClient.isVertexAI()) throw new Error("This method is only supported by the Gemini Developer API."); { const l = U0e(t); return i = $e("{file_search_store_name}:importFile", l._url), s = l._query, delete l._url, delete l._query, a = this.apiClient.request({ path: i, queryParams: s, body: JSON.stringify(l), httpMethod: "POST", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(f => f.json()), a.then(f => { const d = F0e(f), h = new FE; return Object.assign(h, d), h }) } } }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let CL = function () { const { crypto: e } = globalThis; if (e != null && e.randomUUID) return CL = e.randomUUID.bind(e), e.randomUUID(); const t = new Uint8Array(1), r = e ? () => e.getRandomValues(t)[0] : () => Math.random() * 255 & 255; return "10000000-1000-4000-8000-100000000000".replace(/[018]/g, n => (+n ^ r() & 15 >> +n / 4).toString(16)) }; const Ghe = () => CL();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function p_(e) { return typeof e == "object" && e !== null && ("name" in e && e.name === "AbortError" || "message" in e && String(e.message).includes("FetchRequestCanceledException")) } const m_ = e => { if (e instanceof Error) return e; if (typeof e == "object" && e !== null) { try { if (Object.prototype.toString.call(e) === "[object Error]") { const t = new Error(e.message, e.cause ? { cause: e.cause } : {}); return e.stack && (t.stack = e.stack), e.cause && !t.cause && (t.cause = e.cause), e.name && (t.name = e.name), t } } catch { } try { return new Error(JSON.stringify(e)) } catch { } } return new Error(e) };/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xa extends Error { } class Zn extends Xa { constructor(t, r, n, a) { super(`${Zn.makeMessage(t, r, n)}`), this.status = t, this.headers = a, this.error = r } static makeMessage(t, r, n) { const a = r != null && r.message ? typeof r.message == "string" ? r.message : JSON.stringify(r.message) : r ? JSON.stringify(r) : n; return t && a ? `${t} ${a}` : t ? `${t} status code (no body)` : a || "(no status code or body)" } static generate(t, r, n, a) { if (!t || !a) return new xx({ message: n, cause: m_(r) }); const i = r; return t === 400 ? new IL(t, i, n, a) : t === 401 ? new OL(t, i, n, a) : t === 403 ? new RL(t, i, n, a) : t === 404 ? new PL(t, i, n, a) : t === 409 ? new DL(t, i, n, a) : t === 422 ? new ML(t, i, n, a) : t === 429 ? new LL(t, i, n, a) : t >= 500 ? new FL(t, i, n, a) : new Zn(t, i, n, a) } } class g_ extends Zn { constructor({ message: t } = {}) { super(void 0, void 0, t || "Request was aborted.", void 0) } } class xx extends Zn { constructor({ message: t, cause: r }) { super(void 0, void 0, t || "Connection error.", void 0), r && (this.cause = r) } } class jL extends xx { constructor({ message: t } = {}) { super({ message: t ?? "Request timed out." }) } } class IL extends Zn { } class OL extends Zn { } class RL extends Zn { } class PL extends Zn { } class DL extends Zn { } class ML extends Zn { } class LL extends Zn { } class FL extends Zn { }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vhe = /^[a-z][a-z0-9+.-]*:/i, qhe = e => Vhe.test(e); let x_ = e => (x_ = Array.isArray, x_(e)); const Whe = x_; let Khe = Whe; const dD = Khe; function Yhe(e) { if (!e) return !0; for (const t in e) return !1; return !0 } function Xhe(e, t) { return Object.prototype.hasOwnProperty.call(e, t) } const Jhe = (e, t) => { if (typeof t != "number" || !Number.isInteger(t)) throw new Xa(`${e} must be an integer`); if (t < 0) throw new Xa(`${e} must be a positive integer`); return t }, Zhe = e => { try { return JSON.parse(e) } catch { return } };/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qhe = e => new Promise(t => setTimeout(t, e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hu = "0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function epe() { return typeof Deno < "u" && Deno.build != null ? "deno" : typeof EdgeRuntime < "u" ? "edge" : Object.prototype.toString.call(typeof globalThis.process < "u" ? globalThis.process : 0) === "[object process]" ? "node" : "unknown" } const tpe = () => { var e, t, r, n, a; const i = epe(); if (i === "deno") return { "X-Stainless-Lang": "js", "X-Stainless-Package-Version": hu, "X-Stainless-OS": hD(Deno.build.os), "X-Stainless-Arch": fD(Deno.build.arch), "X-Stainless-Runtime": "deno", "X-Stainless-Runtime-Version": typeof Deno.version == "string" ? Deno.version : (t = (e = Deno.version) === null || e === void 0 ? void 0 : e.deno) !== null && t !== void 0 ? t : "unknown" }; if (typeof EdgeRuntime < "u") return { "X-Stainless-Lang": "js", "X-Stainless-Package-Version": hu, "X-Stainless-OS": "Unknown", "X-Stainless-Arch": `other:${EdgeRuntime}`, "X-Stainless-Runtime": "edge", "X-Stainless-Runtime-Version": globalThis.process.version }; if (i === "node") return { "X-Stainless-Lang": "js", "X-Stainless-Package-Version": hu, "X-Stainless-OS": hD((r = globalThis.process.platform) !== null && r !== void 0 ? r : "unknown"), "X-Stainless-Arch": fD((n = globalThis.process.arch) !== null && n !== void 0 ? n : "unknown"), "X-Stainless-Runtime": "node", "X-Stainless-Runtime-Version": (a = globalThis.process.version) !== null && a !== void 0 ? a : "unknown" }; const s = rpe(); return s ? { "X-Stainless-Lang": "js", "X-Stainless-Package-Version": hu, "X-Stainless-OS": "Unknown", "X-Stainless-Arch": "unknown", "X-Stainless-Runtime": `browser:${s.browser}`, "X-Stainless-Runtime-Version": s.version } : { "X-Stainless-Lang": "js", "X-Stainless-Package-Version": hu, "X-Stainless-OS": "Unknown", "X-Stainless-Arch": "unknown", "X-Stainless-Runtime": "unknown", "X-Stainless-Runtime-Version": "unknown" } }; function rpe() { if (typeof navigator > "u" || !navigator) return null; const e = [{ key: "edge", pattern: /Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/ }, { key: "ie", pattern: /MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/ }, { key: "ie", pattern: /Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/ }, { key: "chrome", pattern: /Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/ }, { key: "firefox", pattern: /Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/ }, { key: "safari", pattern: /(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/ }]; for (const { key: t, pattern: r } of e) { const n = r.exec(navigator.userAgent); if (n) { const a = n[1] || 0, i = n[2] || 0, s = n[3] || 0; return { browser: t, version: `${a}.${i}.${s}` } } } return null } const fD = e => e === "x32" ? "x32" : e === "x86_64" || e === "x64" ? "x64" : e === "arm" ? "arm" : e === "aarch64" || e === "arm64" ? "arm64" : e ? `other:${e}` : "unknown", hD = e => (e = e.toLowerCase(), e.includes("ios") ? "iOS" : e === "android" ? "Android" : e === "darwin" ? "MacOS" : e === "win32" ? "Windows" : e === "freebsd" ? "FreeBSD" : e === "openbsd" ? "OpenBSD" : e === "linux" ? "Linux" : e ? `Other:${e}` : "Unknown"); let bp; const npe = () => bp ?? (bp = tpe());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ape() { if (typeof fetch < "u") return fetch; throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`") } function UL(...e) { const t = globalThis.ReadableStream; if (typeof t > "u") throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`"); return new t(...e) } function ipe(e) { let t = Symbol.asyncIterator in e ? e[Symbol.asyncIterator]() : e[Symbol.iterator](); return UL({ start() { }, async pull(r) { const { done: n, value: a } = await t.next(); n ? r.close() : r.enqueue(a) }, async cancel() { var r; await ((r = t.return) === null || r === void 0 ? void 0 : r.call(t)) } }) } function BL(e) { if (e[Symbol.asyncIterator]) return e; const t = e.getReader(); return { async next() { try { const r = await t.read(); return r != null && r.done && t.releaseLock(), r } catch (r) { throw t.releaseLock(), r } }, async return() { const r = t.cancel(); return t.releaseLock(), await r, { done: !0, value: void 0 } }, [Symbol.asyncIterator]() { return this } } } async function spe(e) { var t, r; if (e === null || typeof e != "object") return; if (e[Symbol.asyncIterator]) { await ((r = (t = e[Symbol.asyncIterator]()).return) === null || r === void 0 ? void 0 : r.call(t)); return } const n = e.getReader(), a = n.cancel(); n.releaseLock(), await a }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ope = ({ headers: e, body: t }) => ({ bodyHeaders: { "content-type": "application/json" }, body: JSON.stringify(t) });/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $L = () => { var e; if (typeof File > "u") { const { process: t } = globalThis, r = typeof ((e = t == null ? void 0 : t.versions) === null || e === void 0 ? void 0 : e.node) == "string" && parseInt(t.versions.node.split(".")) < 20; throw new Error("`File` is not defined as a global, which is required for file uploads." + (r ? " Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`." : "")) } }; function j1(e, t, r) { return $L(), new File(e, t ?? "unknown_file", r) } function lpe(e) { return (typeof e == "object" && e !== null && ("name" in e && e.name && String(e.name) || "url" in e && e.url && String(e.url) || "filename" in e && e.filename && String(e.filename) || "path" in e && e.path && String(e.path)) || "").split(/[\\/]/).pop() || void 0 } const cpe = e => e != null && typeof e == "object" && typeof e[Symbol.asyncIterator] == "function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zL = e => e != null && typeof e == "object" && typeof e.size == "number" && typeof e.type == "string" && typeof e.text == "function" && typeof e.slice == "function" && typeof e.arrayBuffer == "function", upe = e => e != null && typeof e == "object" && typeof e.name == "string" && typeof e.lastModified == "number" && zL(e), dpe = e => e != null && typeof e == "object" && typeof e.url == "string" && typeof e.blob == "function"; async function fpe(e, t, r) { if ($L(), e = await e, upe(e)) return e instanceof File ? e : j1([await e.arrayBuffer()], e.name); if (dpe(e)) { const a = await e.blob(); return t || (t = new URL(e.url).pathname.split(/[\\/]/).pop()), j1(await v_(a), t, r) } const n = await v_(e); if (t || (t = lpe(e)), !(r != null && r.type)) { const a = n.find(i => typeof i == "object" && "type" in i && i.type); typeof a == "string" && (r = Object.assign(Object.assign({}, r), { type: a })) } return j1(n, t, r) } async function v_(e) { var t, r, n, a, i; let s = []; if (typeof e == "string" || ArrayBuffer.isView(e) || e instanceof ArrayBuffer) s.push(e); else if (zL(e)) s.push(e instanceof Blob ? e : await e.arrayBuffer()); else if (cpe(e)) try { for (var l = !0, f = vi(e), d; d = await f.next(), t = d.done, !t; l = !0) { a = d.value, l = !1; const h = a; s.push(...await v_(h)) } } catch (h) { r = { error: h } } finally { try { !l && !t && (n = f.return) && await n.call(f) } finally { if (r) throw r.error } } else { const h = (i = e == null ? void 0 : e.constructor) === null || i === void 0 ? void 0 : i.name; throw new Error(`Unexpected data type: ${typeof e}${h ? `; constructor: ${h}` : ""}${hpe(e)}`) } return s } function hpe(e) { return typeof e != "object" || e === null ? "" : `; props: [${Object.getOwnPropertyNames(e).map(r => `"${r}"`).join(", ")}]` }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HL { constructor(t) { this._client = t } } HL._key = [];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GL(e) { return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g, encodeURIComponent) } const pD = Object.freeze(Object.create(null)), ppe = (e = GL) => (function (r, ...n) {
  if (r.length === 1) return r[0]; let a = !1; const i = [], s = r.reduce((h, m, g) => { var v, y, b; /[?#]/.test(m) && (a = !0); const _ = n[g]; let k = (a ? encodeURIComponent : e)("" + _); return g !== n.length && (_ == null || typeof _ == "object" && _.toString === ((b = Object.getPrototypeOf((y = Object.getPrototypeOf((v = _.hasOwnProperty) !== null && v !== void 0 ? v : pD)) !== null && y !== void 0 ? y : pD)) === null || b === void 0 ? void 0 : b.toString)) && (k = _ + "", i.push({ start: h.length + m.length, length: k.length, error: `Value of type ${Object.prototype.toString.call(_).slice(8, -1)} is not a valid path parameter` })), h + m + (g === n.length ? "" : k) }, ""), l = s.split(/[?#]/, 1)[0], f = new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)", "gi"); let d; for (; (d = f.exec(l)) !== null;)i.push({ start: d.index, length: d[0].length, error: `Value "${d[0]}" can't be safely passed as a path parameter` }); if (i.sort((h, m) => h.start - m.start), i.length > 0) {
    let h = 0; const m = i.reduce((g, v) => { const y = " ".repeat(v.start - h), b = "^".repeat(v.length); return h = v.start + v.length, g + y + b }, ""); throw new Xa(`Path parameters result in path with invalid segments:
${i.map(g => g.error).join(`
`)}
${s}
${m}`)
  } return s
}), wp = ppe(GL);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VL extends HL { create(t, r) { var n; const { api_version: a = this._client.apiVersion } = t, i = Qm(t, ["api_version"]); if ("model" in i && "agent_config" in i) throw new Xa("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`."); if ("agent" in i && "generation_config" in i) throw new Xa("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`."); return this._client.post(wp`/${a}/interactions`, Object.assign(Object.assign({ body: i }, r), { stream: (n = t.stream) !== null && n !== void 0 ? n : !1 })) } delete(t, r = {}, n) { const { api_version: a = this._client.apiVersion } = r ?? {}; return this._client.delete(wp`/${a}/interactions/${t}`, n) } cancel(t, r = {}, n) { const { api_version: a = this._client.apiVersion } = r ?? {}; return this._client.post(wp`/${a}/interactions/${t}/cancel`, n) } get(t, r = {}, n) { var a; const i = r ?? {}, { api_version: s = this._client.apiVersion } = i, l = Qm(i, ["api_version"]); return this._client.get(wp`/${s}/interactions/${t}`, Object.assign(Object.assign({ query: l }, n), { stream: (a = r == null ? void 0 : r.stream) !== null && a !== void 0 ? a : !1 })) } } VL._key = Object.freeze(["interactions"]); class qL extends VL { }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mpe(e) { let t = 0; for (const a of e) t += a.length; const r = new Uint8Array(t); let n = 0; for (const a of e) r.set(a, n), n += a.length; return r } let _p; function VE(e) { let t; return (_p ?? (t = new globalThis.TextEncoder, _p = t.encode.bind(t)))(e) } let Sp; function mD(e) { let t; return (Sp ?? (t = new globalThis.TextDecoder, Sp = t.decode.bind(t)))(e) }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vx {
  constructor() { this.buffer = new Uint8Array, this.carriageReturnIndex = null } decode(t) { if (t == null) return []; const r = t instanceof ArrayBuffer ? new Uint8Array(t) : typeof t == "string" ? VE(t) : t; this.buffer = mpe([this.buffer, r]); const n = []; let a; for (; (a = gpe(this.buffer, this.carriageReturnIndex)) != null;) { if (a.carriage && this.carriageReturnIndex == null) { this.carriageReturnIndex = a.index; continue } if (this.carriageReturnIndex != null && (a.index !== this.carriageReturnIndex + 1 || a.carriage)) { n.push(mD(this.buffer.subarray(0, this.carriageReturnIndex - 1))), this.buffer = this.buffer.subarray(this.carriageReturnIndex), this.carriageReturnIndex = null; continue } const i = this.carriageReturnIndex !== null ? a.preceding - 1 : a.preceding, s = mD(this.buffer.subarray(0, i)); n.push(s), this.buffer = this.buffer.subarray(a.index), this.carriageReturnIndex = null } return n } flush() {
    return this.buffer.length ? this.decode(`
`) : []
  }
} vx.NEWLINE_CHARS = new Set([`
`, "\r"]); vx.NEWLINE_REGEXP = /\r\n|[\n\r]/g; function gpe(e, t) { for (let a = t ?? 0; a < e.length; a++) { if (e[a] === 10) return { preceding: a, index: a + 1, carriage: !1 }; if (e[a] === 13) return { preceding: a, index: a + 1, carriage: !0 } } return null } function xpe(e) { for (let n = 0; n < e.length - 1; n++) { if (e[n] === 10 && e[n + 1] === 10 || e[n] === 13 && e[n + 1] === 13) return n + 2; if (e[n] === 13 && e[n + 1] === 10 && n + 3 < e.length && e[n + 2] === 13 && e[n + 3] === 10) return n + 4 } return -1 }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eg = { off: 0, error: 200, warn: 300, info: 400, debug: 500 }, gD = (e, t, r) => { if (e) { if (Xhe(eg, e)) return e; Hn(r).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(eg))}`) } }; function pf() { } function Ep(e, t, r) { return !t || eg[e] > eg[r] ? pf : t[e].bind(t) } const vpe = { error: pf, warn: pf, info: pf, debug: pf }; let xD = new WeakMap; function Hn(e) { var t; const r = e.logger, n = (t = e.logLevel) !== null && t !== void 0 ? t : "off"; if (!r) return vpe; const a = xD.get(r); if (a && a[0] === n) return a[1]; const i = { error: Ep("error", r, n), warn: Ep("warn", r, n), info: Ep("info", r, n), debug: Ep("debug", r, n) }; return xD.set(r, [n, i]), i } const El = e => (e.options && (e.options = Object.assign({}, e.options), delete e.options.headers), e.headers && (e.headers = Object.fromEntries((e.headers instanceof Headers ? [...e.headers] : Object.entries(e.headers)).map(([t, r]) => [t, t.toLowerCase() === "x-goog-api-key" || t.toLowerCase() === "authorization" || t.toLowerCase() === "cookie" || t.toLowerCase() === "set-cookie" ? "***" : r]))), "retryOfRequestLogID" in e && (e.retryOfRequestLogID && (e.retryOf = e.retryOfRequestLogID), delete e.retryOfRequestLogID), e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bu {
  constructor(t, r, n) { this.iterator = t, this.controller = r, this.client = n } static fromSSEResponse(t, r, n) { let a = !1; const i = n ? Hn(n) : console; function s() { return xi(this, arguments, function* () { var f, d, h, m; if (a) throw new Xa("Cannot iterate over a consumed stream, use `.tee()` to split the stream."); a = !0; let g = !1; try { try { for (var v = !0, y = vi(ype(t, r)), b; b = yield st(y.next()), f = b.done, !f; v = !0) { m = b.value, v = !1; const _ = m; if (!g) if (_.data.startsWith("[DONE]")) { g = !0; continue } else try { yield yield st(JSON.parse(_.data)) } catch (k) { throw i.error("Could not parse message into JSON:", _.data), i.error("From chunk:", _.raw), k } } } catch (_) { d = { error: _ } } finally { try { !v && !f && (h = y.return) && (yield st(h.call(y))) } finally { if (d) throw d.error } } g = !0 } catch (_) { if (p_(_)) return yield st(void 0); throw _ } finally { g || r.abort() } }) } return new bu(s, r, n) } static fromReadableStream(t, r, n) { let a = !1; function i() { return xi(this, arguments, function* () { var f, d, h, m; const g = new vx, v = BL(t); try { for (var y = !0, b = vi(v), _; _ = yield st(b.next()), f = _.done, !f; y = !0) { m = _.value, y = !1; const k = m; for (const C of g.decode(k)) yield yield st(C) } } catch (k) { d = { error: k } } finally { try { !y && !f && (h = b.return) && (yield st(h.call(b))) } finally { if (d) throw d.error } } for (const k of g.flush()) yield yield st(k) }) } function s() { return xi(this, arguments, function* () { var f, d, h, m; if (a) throw new Xa("Cannot iterate over a consumed stream, use `.tee()` to split the stream."); a = !0; let g = !1; try { try { for (var v = !0, y = vi(i()), b; b = yield st(y.next()), f = b.done, !f; v = !0) { m = b.value, v = !1; const _ = m; g || _ && (yield yield st(JSON.parse(_))) } } catch (_) { d = { error: _ } } finally { try { !v && !f && (h = y.return) && (yield st(h.call(y))) } finally { if (d) throw d.error } } g = !0 } catch (_) { if (p_(_)) return yield st(void 0); throw _ } finally { g || r.abort() } }) } return new bu(s, r, n) } [Symbol.asyncIterator]() { return this.iterator() } tee() { const t = [], r = [], n = this.iterator(), a = i => ({ next: () => { if (i.length === 0) { const s = n.next(); t.push(s), r.push(s) } return i.shift() } }); return [new bu(() => a(t), this.controller, this.client), new bu(() => a(r), this.controller, this.client)] } toReadableStream() {
    const t = this; let r; return UL({
      async start() { r = t[Symbol.asyncIterator]() }, async pull(n) {
        try {
          const { value: a, done: i } = await r.next(); if (i) return n.close(); const s = VE(JSON.stringify(a) + `
`); n.enqueue(s)
        } catch (a) { n.error(a) }
      }, async cancel() { var n; await ((n = r.return) === null || n === void 0 ? void 0 : n.call(r)) }
    })
  }
} function ype(e, t) { return xi(this, arguments, function* () { var n, a, i, s; if (!e.body) throw t.abort(), typeof globalThis.navigator < "u" && globalThis.navigator.product === "ReactNative" ? new Xa("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api") : new Xa("Attempted to iterate over a response with no body"); const l = new wpe, f = new vx, d = BL(e.body); try { for (var h = !0, m = vi(bpe(d)), g; g = yield st(m.next()), n = g.done, !n; h = !0) { s = g.value, h = !1; const v = s; for (const y of f.decode(v)) { const b = l.decode(y); b && (yield yield st(b)) } } } catch (v) { a = { error: v } } finally { try { !h && !n && (i = m.return) && (yield st(i.call(m))) } finally { if (a) throw a.error } } for (const v of f.flush()) { const y = l.decode(v); y && (yield yield st(y)) } }) } function bpe(e) { return xi(this, arguments, function* () { var r, n, a, i; let s = new Uint8Array; try { for (var l = !0, f = vi(e), d; d = yield st(f.next()), r = d.done, !r; l = !0) { i = d.value, l = !1; const h = i; if (h == null) continue; const m = h instanceof ArrayBuffer ? new Uint8Array(h) : typeof h == "string" ? VE(h) : h; let g = new Uint8Array(s.length + m.length); g.set(s), g.set(m, s.length), s = g; let v; for (; (v = xpe(s)) !== -1;)yield yield st(s.slice(0, v)), s = s.slice(v) } } catch (h) { n = { error: h } } finally { try { !l && !r && (a = f.return) && (yield st(a.call(f))) } finally { if (n) throw n.error } } s.length > 0 && (yield yield st(s)) }) } class wpe {
  constructor() { this.event = null, this.data = [], this.chunks = [] } decode(t) {
    if (t.endsWith("\r") && (t = t.substring(0, t.length - 1)), !t) {
      if (!this.event && !this.data.length) return null; const i = {
        event: this.event, data: this.data.join(`
`), raw: this.chunks
      }; return this.event = null, this.data = [], this.chunks = [], i
    } if (this.chunks.push(t), t.startsWith(":")) return null; let [r, n, a] = _pe(t, ":"); return a.startsWith(" ") && (a = a.substring(1)), r === "event" ? this.event = a : r === "data" && this.data.push(a), null
  }
} function _pe(e, t) { const r = e.indexOf(t); return r !== -1 ? [e.substring(0, r), t, e.substring(r + t.length)] : [e, "", ""] }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Spe(e, t) { const { response: r, requestLogID: n, retryOfRequestLogID: a, startTime: i } = t, s = await (async () => { var l; if (t.options.stream) return Hn(e).debug("response", r.status, r.url, r.headers, r.body), t.options.__streamClass ? t.options.__streamClass.fromSSEResponse(r, t.controller, e) : bu.fromSSEResponse(r, t.controller, e); if (r.status === 204) return null; if (t.options.__binaryResponse) return r; const f = r.headers.get("content-type"), d = (l = f == null ? void 0 : f.split(";")[0]) === null || l === void 0 ? void 0 : l.trim(); return (d == null ? void 0 : d.includes("application/json")) || (d == null ? void 0 : d.endsWith("+json")) ? await r.json() : await r.text() })(); return Hn(e).debug(`[${n}] response parsed`, El({ retryOfRequestLogID: a, url: r.url, status: r.status, body: s, durationMs: Date.now() - i })), s }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qE extends Promise { constructor(t, r, n = Spe) { super(a => { a(null) }), this.responsePromise = r, this.parseResponse = n, this.client = t } _thenUnwrap(t) { return new qE(this.client, this.responsePromise, async (r, n) => t(await this.parseResponse(r, n), n)) } asResponse() { return this.responsePromise.then(t => t.response) } async withResponse() { const [t, r] = await Promise.all([this.parse(), this.asResponse()]); return { data: t, response: r } } parse() { return this.parsedPromise || (this.parsedPromise = this.responsePromise.then(t => this.parseResponse(this.client, t))), this.parsedPromise } then(t, r) { return this.parse().then(t, r) } catch(t) { return this.parse().catch(t) } finally(t) { return this.parse().finally(t) } }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WL = Symbol("brand.privateNullableHeaders"); function* Epe(e) { if (!e) return; if (WL in e) { const { values: n, nulls: a } = e; yield* n.entries(); for (const i of a) yield [i, null]; return } let t = !1, r; e instanceof Headers ? r = e.entries() : dD(e) ? r = e : (t = !0, r = Object.entries(e ?? {})); for (let n of r) { const a = n[0]; if (typeof a != "string") throw new TypeError("expected header name to be a string"); const i = dD(n[1]) ? n[1] : [n[1]]; let s = !1; for (const l of i) l !== void 0 && (t && !s && (s = !0, yield [a, null]), yield [a, l]) } } const cf = e => { const t = new Headers, r = new Set; for (const n of e) { const a = new Set; for (const [i, s] of Epe(n)) { const l = i.toLowerCase(); a.has(l) || (t.delete(i), a.add(l)), s === null ? (t.delete(i), r.add(l)) : (t.append(i, s), r.delete(l)) } } return { [WL]: !0, values: t, nulls: r } };/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const I1 = e => { var t, r, n, a, i, s; if (typeof globalThis.process < "u") return (n = (r = (t = Yle) === null || t === void 0 ? void 0 : t[e]) === null || r === void 0 ? void 0 : r.trim()) !== null && n !== void 0 ? n : void 0; if (typeof globalThis.Deno < "u") return (s = (i = (a = globalThis.Deno.env) === null || a === void 0 ? void 0 : a.get) === null || i === void 0 ? void 0 : i.call(a, e)) === null || s === void 0 ? void 0 : s.trim() };/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var KL; class yx { constructor(t) { var r, n, a, i, s, l, f, { baseURL: d = I1("GEMINI_NEXT_GEN_API_BASE_URL"), apiKey: h = (r = I1("GEMINI_API_KEY")) !== null && r !== void 0 ? r : null, apiVersion: m = "v1beta" } = t, g = Qm(t, ["baseURL", "apiKey", "apiVersion"]); const v = Object.assign(Object.assign({ apiKey: h, apiVersion: m }, g), { baseURL: d || "https://generativelanguage.googleapis.com" }); this.baseURL = v.baseURL, this.timeout = (n = v.timeout) !== null && n !== void 0 ? n : yx.DEFAULT_TIMEOUT, this.logger = (a = v.logger) !== null && a !== void 0 ? a : console; const y = "warn"; this.logLevel = y, this.logLevel = (s = (i = gD(v.logLevel, "ClientOptions.logLevel", this)) !== null && i !== void 0 ? i : gD(I1("GEMINI_NEXT_GEN_API_LOG"), "process.env['GEMINI_NEXT_GEN_API_LOG']", this)) !== null && s !== void 0 ? s : y, this.fetchOptions = v.fetchOptions, this.maxRetries = (l = v.maxRetries) !== null && l !== void 0 ? l : 2, this.fetch = (f = v.fetch) !== null && f !== void 0 ? f : ape(), this.encoder = ope, this._options = v, this.apiKey = h, this.apiVersion = m, this.clientAdapter = v.clientAdapter } withOptions(t) { return new this.constructor(Object.assign(Object.assign(Object.assign({}, this._options), { baseURL: this.baseURL, maxRetries: this.maxRetries, timeout: this.timeout, logger: this.logger, logLevel: this.logLevel, fetch: this.fetch, fetchOptions: this.fetchOptions, apiKey: this.apiKey, apiVersion: this.apiVersion }), t)) } baseURLOverridden() { return this.baseURL !== "https://generativelanguage.googleapis.com" } defaultQuery() { return this._options.defaultQuery } validateHeaders({ values: t, nulls: r }) { if (!(t.has("authorization") || t.has("x-goog-api-key")) && !(this.apiKey && t.get("x-goog-api-key")) && !r.has("x-goog-api-key")) throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted') } async authHeaders(t) { const r = cf([t.headers]); if (!(r.values.has("authorization") || r.values.has("x-goog-api-key"))) { if (this.apiKey) return cf([{ "x-goog-api-key": this.apiKey }]); if (this.clientAdapter.isVertexAI()) return cf([await this.clientAdapter.getAuthHeaders()]) } } stringifyQuery(t) { return Object.entries(t).filter(([r, n]) => typeof n < "u").map(([r, n]) => { if (typeof n == "string" || typeof n == "number" || typeof n == "boolean") return `${encodeURIComponent(r)}=${encodeURIComponent(n)}`; if (n === null) return `${encodeURIComponent(r)}=`; throw new Xa(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`) }).join("&") } getUserAgent() { return `${this.constructor.name}/JS ${hu}` } defaultIdempotencyKey() { return `stainless-node-retry-${Ghe()}` } makeStatusError(t, r, n, a) { return Zn.generate(t, r, n, a) } buildURL(t, r, n) { const a = !this.baseURLOverridden() && n || this.baseURL, i = qhe(t) ? new URL(t) : new URL(a + (a.endsWith("/") && t.startsWith("/") ? t.slice(1) : t)), s = this.defaultQuery(); return Yhe(s) || (r = Object.assign(Object.assign({}, s), r)), typeof r == "object" && r && !Array.isArray(r) && (i.search = this.stringifyQuery(r)), i.toString() } async prepareOptions(t) { if (this.clientAdapter && this.clientAdapter.isVertexAI() && !t.path.startsWith(`/${this.apiVersion}/projects/`)) { const r = t.path.slice(this.apiVersion.length + 1); t.path = `/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${r}` } } async prepareRequest(t, { url: r, options: n }) { } get(t, r) { return this.methodRequest("get", t, r) } post(t, r) { return this.methodRequest("post", t, r) } patch(t, r) { return this.methodRequest("patch", t, r) } put(t, r) { return this.methodRequest("put", t, r) } delete(t, r) { return this.methodRequest("delete", t, r) } methodRequest(t, r, n) { return this.request(Promise.resolve(n).then(a => Object.assign({ method: t, path: r }, a))) } request(t, r = null) { return new qE(this, this.makeRequest(t, r, void 0)) } async makeRequest(t, r, n) { var a, i, s; const l = await t, f = (a = l.maxRetries) !== null && a !== void 0 ? a : this.maxRetries; r == null && (r = f), await this.prepareOptions(l); const { req: d, url: h, timeout: m } = await this.buildRequest(l, { retryCount: f - r }); await this.prepareRequest(d, { url: h, options: l }); const g = "log_" + (Math.random() * (1 << 24) | 0).toString(16).padStart(6, "0"), v = n === void 0 ? "" : `, retryOf: ${n}`, y = Date.now(); if (Hn(this).debug(`[${g}] sending request`, El({ retryOfRequestLogID: n, method: l.method, url: h, options: l, headers: d.headers })), !((i = l.signal) === null || i === void 0) && i.aborted) throw new g_; const b = new AbortController, _ = await this.fetchWithTimeout(h, d, m, b).catch(m_), k = Date.now(); if (_ instanceof globalThis.Error) { const T = `retrying, ${r} attempts remaining`; if (!((s = l.signal) === null || s === void 0) && s.aborted) throw new g_; const j = p_(_) || /timed? ?out/i.test(String(_) + ("cause" in _ ? String(_.cause) : "")); if (r) return Hn(this).info(`[${g}] connection ${j ? "timed out" : "failed"} - ${T}`), Hn(this).debug(`[${g}] connection ${j ? "timed out" : "failed"} (${T})`, El({ retryOfRequestLogID: n, url: h, durationMs: k - y, message: _.message })), this.retryRequest(l, r, n ?? g); throw Hn(this).info(`[${g}] connection ${j ? "timed out" : "failed"} - error; no more retries left`), Hn(this).debug(`[${g}] connection ${j ? "timed out" : "failed"} (error; no more retries left)`, El({ retryOfRequestLogID: n, url: h, durationMs: k - y, message: _.message })), j ? new jL : new xx({ cause: _ }) } const C = `[${g}${v}] ${d.method} ${h} ${_.ok ? "succeeded" : "failed"} with status ${_.status} in ${k - y}ms`; if (!_.ok) { const T = await this.shouldRetry(_); if (r && T) { const F = `retrying, ${r} attempts remaining`; return await spe(_.body), Hn(this).info(`${C} - ${F}`), Hn(this).debug(`[${g}] response error (${F})`, El({ retryOfRequestLogID: n, url: _.url, status: _.status, headers: _.headers, durationMs: k - y })), this.retryRequest(l, r, n ?? g, _.headers) } const j = T ? "error; no more retries left" : "error; not retryable"; Hn(this).info(`${C} - ${j}`); const R = await _.text().catch(F => m_(F).message), O = Zhe(R), I = O ? void 0 : R; throw Hn(this).debug(`[${g}] response error (${j})`, El({ retryOfRequestLogID: n, url: _.url, status: _.status, headers: _.headers, message: I, durationMs: Date.now() - y })), this.makeStatusError(_.status, O, I, _.headers) } return Hn(this).info(C), Hn(this).debug(`[${g}] response start`, El({ retryOfRequestLogID: n, url: _.url, status: _.status, headers: _.headers, durationMs: k - y })), { response: _, options: l, controller: b, requestLogID: g, retryOfRequestLogID: n, startTime: y } } async fetchWithTimeout(t, r, n, a) { const i = r || {}, { signal: s, method: l } = i, f = Qm(i, ["signal", "method"]); s && s.addEventListener("abort", () => a.abort()); const d = setTimeout(() => a.abort(), n), h = globalThis.ReadableStream && f.body instanceof globalThis.ReadableStream || typeof f.body == "object" && f.body !== null && Symbol.asyncIterator in f.body, m = Object.assign(Object.assign(Object.assign({ signal: a.signal }, h ? { duplex: "half" } : {}), { method: "GET" }), f); l && (m.method = l.toUpperCase()); try { return await this.fetch.call(void 0, t, m) } finally { clearTimeout(d) } } async shouldRetry(t) { const r = t.headers.get("x-should-retry"); return r === "true" ? !0 : r === "false" ? !1 : t.status === 408 || t.status === 409 || t.status === 429 || t.status >= 500 } async retryRequest(t, r, n, a) { var i; let s; const l = a == null ? void 0 : a.get("retry-after-ms"); if (l) { const d = parseFloat(l); Number.isNaN(d) || (s = d) } const f = a == null ? void 0 : a.get("retry-after"); if (f && !s) { const d = parseFloat(f); Number.isNaN(d) ? s = Date.parse(f) - Date.now() : s = d * 1e3 } if (!(s && 0 <= s && s < 60 * 1e3)) { const d = (i = t.maxRetries) !== null && i !== void 0 ? i : this.maxRetries; s = this.calculateDefaultRetryTimeoutMillis(r, d) } return await Qhe(s), this.makeRequest(t, r - 1, n) } calculateDefaultRetryTimeoutMillis(t, r) { const i = r - t, s = Math.min(.5 * Math.pow(2, i), 8), l = 1 - Math.random() * .25; return s * l * 1e3 } async buildRequest(t, { retryCount: r = 0 } = {}) { var n, a, i; const s = Object.assign({}, t), { method: l, path: f, query: d, defaultBaseURL: h } = s, m = this.buildURL(f, d, h); "timeout" in s && Jhe("timeout", s.timeout), s.timeout = (n = s.timeout) !== null && n !== void 0 ? n : this.timeout; const { bodyHeaders: g, body: v } = this.buildBody({ options: s }), y = await this.buildHeaders({ options: t, method: l, bodyHeaders: g, retryCount: r }); return { req: Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({ method: l, headers: y }, s.signal && { signal: s.signal }), globalThis.ReadableStream && v instanceof globalThis.ReadableStream && { duplex: "half" }), v && { body: v }), (a = this.fetchOptions) !== null && a !== void 0 ? a : {}), (i = s.fetchOptions) !== null && i !== void 0 ? i : {}), url: m, timeout: s.timeout } } async buildHeaders({ options: t, method: r, bodyHeaders: n, retryCount: a }) { let i = {}; this.idempotencyHeader && r !== "get" && (t.idempotencyKey || (t.idempotencyKey = this.defaultIdempotencyKey()), i[this.idempotencyHeader] = t.idempotencyKey); const s = await this.authHeaders(t); let l = cf([i, Object.assign(Object.assign({ Accept: "application/json", "User-Agent": this.getUserAgent(), "X-Stainless-Retry-Count": String(a) }, t.timeout ? { "X-Stainless-Timeout": String(Math.trunc(t.timeout / 1e3)) } : {}), npe()), this._options.defaultHeaders, n, t.headers, s]); return this.validateHeaders(l), l.values } buildBody({ options: { body: t, headers: r } }) { if (!t) return { bodyHeaders: void 0, body: void 0 }; const n = cf([r]); return ArrayBuffer.isView(t) || t instanceof ArrayBuffer || t instanceof DataView || typeof t == "string" && n.values.has("content-type") || globalThis.Blob && t instanceof globalThis.Blob || t instanceof FormData || t instanceof URLSearchParams || globalThis.ReadableStream && t instanceof globalThis.ReadableStream ? { bodyHeaders: void 0, body: t } : typeof t == "object" && (Symbol.asyncIterator in t || Symbol.iterator in t && "next" in t && typeof t.next == "function") ? { bodyHeaders: void 0, body: ipe(t) } : this.encoder({ body: t, headers: n }) } } yx.DEFAULT_TIMEOUT = 6e4; class un extends yx { constructor() { super(...arguments), this.interactions = new qL(this) } } KL = un; un.GeminiNextGenAPIClient = KL; un.GeminiNextGenAPIClientError = Xa; un.APIError = Zn; un.APIConnectionError = xx; un.APIConnectionTimeoutError = jL; un.APIUserAbortError = g_; un.NotFoundError = PL; un.ConflictError = DL; un.RateLimitError = LL; un.BadRequestError = IL; un.AuthenticationError = OL; un.InternalServerError = FL; un.PermissionDeniedError = RL; un.UnprocessableEntityError = ML; un.toFile = fpe; un.Interactions = qL;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kpe(e, t) { const r = {}, n = w(e, ["name"]); return n != null && S(r, ["_url", "name"], n), r } function Tpe(e, t) { const r = {}, n = w(e, ["name"]); return n != null && S(r, ["_url", "name"], n), r } function Npe(e, t) { const r = {}, n = w(e, ["sdkHttpResponse"]); return n != null && S(r, ["sdkHttpResponse"], n), r } function Ape(e, t) { const r = {}, n = w(e, ["sdkHttpResponse"]); return n != null && S(r, ["sdkHttpResponse"], n), r } function Cpe(e, t, r) { const n = {}; if (w(e, ["validationDataset"]) !== void 0) throw new Error("validationDataset parameter is not supported in Gemini API."); const a = w(e, ["tunedModelDisplayName"]); if (t !== void 0 && a != null && S(t, ["displayName"], a), w(e, ["description"]) !== void 0) throw new Error("description parameter is not supported in Gemini API."); const i = w(e, ["epochCount"]); t !== void 0 && i != null && S(t, ["tuningTask", "hyperparameters", "epochCount"], i); const s = w(e, ["learningRateMultiplier"]); if (s != null && S(n, ["tuningTask", "hyperparameters", "learningRateMultiplier"], s), w(e, ["exportLastCheckpointOnly"]) !== void 0) throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API."); if (w(e, ["preTunedModelCheckpointId"]) !== void 0) throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API."); if (w(e, ["adapterSize"]) !== void 0) throw new Error("adapterSize parameter is not supported in Gemini API."); const l = w(e, ["batchSize"]); t !== void 0 && l != null && S(t, ["tuningTask", "hyperparameters", "batchSize"], l); const f = w(e, ["learningRate"]); if (t !== void 0 && f != null && S(t, ["tuningTask", "hyperparameters", "learningRate"], f), w(e, ["labels"]) !== void 0) throw new Error("labels parameter is not supported in Gemini API."); if (w(e, ["beta"]) !== void 0) throw new Error("beta parameter is not supported in Gemini API."); return n } function jpe(e, t, r) { const n = {}; let a = w(r, ["config", "method"]); if (a === void 0 && (a = "SUPERVISED_FINE_TUNING"), a === "SUPERVISED_FINE_TUNING") { const v = w(e, ["validationDataset"]); t !== void 0 && v != null && S(t, ["supervisedTuningSpec"], vD(v)) } else if (a === "PREFERENCE_TUNING") { const v = w(e, ["validationDataset"]); t !== void 0 && v != null && S(t, ["preferenceOptimizationSpec"], vD(v)) } const i = w(e, ["tunedModelDisplayName"]); t !== void 0 && i != null && S(t, ["tunedModelDisplayName"], i); const s = w(e, ["description"]); t !== void 0 && s != null && S(t, ["description"], s); let l = w(r, ["config", "method"]); if (l === void 0 && (l = "SUPERVISED_FINE_TUNING"), l === "SUPERVISED_FINE_TUNING") { const v = w(e, ["epochCount"]); t !== void 0 && v != null && S(t, ["supervisedTuningSpec", "hyperParameters", "epochCount"], v) } else if (l === "PREFERENCE_TUNING") { const v = w(e, ["epochCount"]); t !== void 0 && v != null && S(t, ["preferenceOptimizationSpec", "hyperParameters", "epochCount"], v) } let f = w(r, ["config", "method"]); if (f === void 0 && (f = "SUPERVISED_FINE_TUNING"), f === "SUPERVISED_FINE_TUNING") { const v = w(e, ["learningRateMultiplier"]); t !== void 0 && v != null && S(t, ["supervisedTuningSpec", "hyperParameters", "learningRateMultiplier"], v) } else if (f === "PREFERENCE_TUNING") { const v = w(e, ["learningRateMultiplier"]); t !== void 0 && v != null && S(t, ["preferenceOptimizationSpec", "hyperParameters", "learningRateMultiplier"], v) } let d = w(r, ["config", "method"]); if (d === void 0 && (d = "SUPERVISED_FINE_TUNING"), d === "SUPERVISED_FINE_TUNING") { const v = w(e, ["exportLastCheckpointOnly"]); t !== void 0 && v != null && S(t, ["supervisedTuningSpec", "exportLastCheckpointOnly"], v) } else if (d === "PREFERENCE_TUNING") { const v = w(e, ["exportLastCheckpointOnly"]); t !== void 0 && v != null && S(t, ["preferenceOptimizationSpec", "exportLastCheckpointOnly"], v) } let h = w(r, ["config", "method"]); if (h === void 0 && (h = "SUPERVISED_FINE_TUNING"), h === "SUPERVISED_FINE_TUNING") { const v = w(e, ["adapterSize"]); t !== void 0 && v != null && S(t, ["supervisedTuningSpec", "hyperParameters", "adapterSize"], v) } else if (h === "PREFERENCE_TUNING") { const v = w(e, ["adapterSize"]); t !== void 0 && v != null && S(t, ["preferenceOptimizationSpec", "hyperParameters", "adapterSize"], v) } if (w(e, ["batchSize"]) !== void 0) throw new Error("batchSize parameter is not supported in Vertex AI."); if (w(e, ["learningRate"]) !== void 0) throw new Error("learningRate parameter is not supported in Vertex AI."); const m = w(e, ["labels"]); t !== void 0 && m != null && S(t, ["labels"], m); const g = w(e, ["beta"]); return t !== void 0 && g != null && S(t, ["preferenceOptimizationSpec", "hyperParameters", "beta"], g), n } function Ipe(e, t) { const r = {}, n = w(e, ["baseModel"]); n != null && S(r, ["baseModel"], n); const a = w(e, ["preTunedModel"]); a != null && S(r, ["preTunedModel"], a); const i = w(e, ["trainingDataset"]); i != null && zpe(i); const s = w(e, ["config"]); return s != null && Cpe(s, r), r } function Ope(e, t) { const r = {}, n = w(e, ["baseModel"]); n != null && S(r, ["baseModel"], n); const a = w(e, ["preTunedModel"]); a != null && S(r, ["preTunedModel"], a); const i = w(e, ["trainingDataset"]); i != null && Hpe(i, r, t); const s = w(e, ["config"]); return s != null && jpe(s, r, t), r } function Rpe(e, t) { const r = {}, n = w(e, ["name"]); return n != null && S(r, ["_url", "name"], n), r } function Ppe(e, t) { const r = {}, n = w(e, ["name"]); return n != null && S(r, ["_url", "name"], n), r } function Dpe(e, t, r) { const n = {}, a = w(e, ["pageSize"]); t !== void 0 && a != null && S(t, ["_query", "pageSize"], a); const i = w(e, ["pageToken"]); t !== void 0 && i != null && S(t, ["_query", "pageToken"], i); const s = w(e, ["filter"]); return t !== void 0 && s != null && S(t, ["_query", "filter"], s), n } function Mpe(e, t, r) { const n = {}, a = w(e, ["pageSize"]); t !== void 0 && a != null && S(t, ["_query", "pageSize"], a); const i = w(e, ["pageToken"]); t !== void 0 && i != null && S(t, ["_query", "pageToken"], i); const s = w(e, ["filter"]); return t !== void 0 && s != null && S(t, ["_query", "filter"], s), n } function Lpe(e, t) { const r = {}, n = w(e, ["config"]); return n != null && Dpe(n, r), r } function Fpe(e, t) { const r = {}, n = w(e, ["config"]); return n != null && Mpe(n, r), r } function Upe(e, t) { const r = {}, n = w(e, ["sdkHttpResponse"]); n != null && S(r, ["sdkHttpResponse"], n); const a = w(e, ["nextPageToken"]); a != null && S(r, ["nextPageToken"], a); const i = w(e, ["tunedModels"]); if (i != null) { let s = i; Array.isArray(s) && (s = s.map(l => YL(l))), S(r, ["tuningJobs"], s) } return r } function Bpe(e, t) { const r = {}, n = w(e, ["sdkHttpResponse"]); n != null && S(r, ["sdkHttpResponse"], n); const a = w(e, ["nextPageToken"]); a != null && S(r, ["nextPageToken"], a); const i = w(e, ["tuningJobs"]); if (i != null) { let s = i; Array.isArray(s) && (s = s.map(l => y_(l))), S(r, ["tuningJobs"], s) } return r } function $pe(e, t) { const r = {}, n = w(e, ["name"]); n != null && S(r, ["model"], n); const a = w(e, ["name"]); return a != null && S(r, ["endpoint"], a), r } function zpe(e, t) { const r = {}; if (w(e, ["gcsUri"]) !== void 0) throw new Error("gcsUri parameter is not supported in Gemini API."); if (w(e, ["vertexDatasetResource"]) !== void 0) throw new Error("vertexDatasetResource parameter is not supported in Gemini API."); const n = w(e, ["examples"]); if (n != null) { let a = n; Array.isArray(a) && (a = a.map(i => i)), S(r, ["examples", "examples"], a) } return r } function Hpe(e, t, r) { const n = {}; let a = w(r, ["config", "method"]); if (a === void 0 && (a = "SUPERVISED_FINE_TUNING"), a === "SUPERVISED_FINE_TUNING") { const s = w(e, ["gcsUri"]); t !== void 0 && s != null && S(t, ["supervisedTuningSpec", "trainingDatasetUri"], s) } else if (a === "PREFERENCE_TUNING") { const s = w(e, ["gcsUri"]); t !== void 0 && s != null && S(t, ["preferenceOptimizationSpec", "trainingDatasetUri"], s) } let i = w(r, ["config", "method"]); if (i === void 0 && (i = "SUPERVISED_FINE_TUNING"), i === "SUPERVISED_FINE_TUNING") { const s = w(e, ["vertexDatasetResource"]); t !== void 0 && s != null && S(t, ["supervisedTuningSpec", "trainingDatasetUri"], s) } else if (i === "PREFERENCE_TUNING") { const s = w(e, ["vertexDatasetResource"]); t !== void 0 && s != null && S(t, ["preferenceOptimizationSpec", "trainingDatasetUri"], s) } if (w(e, ["examples"]) !== void 0) throw new Error("examples parameter is not supported in Vertex AI."); return n } function YL(e, t) { const r = {}, n = w(e, ["sdkHttpResponse"]); n != null && S(r, ["sdkHttpResponse"], n); const a = w(e, ["name"]); a != null && S(r, ["name"], a); const i = w(e, ["state"]); i != null && S(r, ["state"], dL(i)); const s = w(e, ["createTime"]); s != null && S(r, ["createTime"], s); const l = w(e, ["tuningTask", "startTime"]); l != null && S(r, ["startTime"], l); const f = w(e, ["tuningTask", "completeTime"]); f != null && S(r, ["endTime"], f); const d = w(e, ["updateTime"]); d != null && S(r, ["updateTime"], d); const h = w(e, ["description"]); h != null && S(r, ["description"], h); const m = w(e, ["baseModel"]); m != null && S(r, ["baseModel"], m); const g = w(e, ["_self"]); return g != null && S(r, ["tunedModel"], $pe(g)), r } function y_(e, t) { const r = {}, n = w(e, ["sdkHttpResponse"]); n != null && S(r, ["sdkHttpResponse"], n); const a = w(e, ["name"]); a != null && S(r, ["name"], a); const i = w(e, ["state"]); i != null && S(r, ["state"], dL(i)); const s = w(e, ["createTime"]); s != null && S(r, ["createTime"], s); const l = w(e, ["startTime"]); l != null && S(r, ["startTime"], l); const f = w(e, ["endTime"]); f != null && S(r, ["endTime"], f); const d = w(e, ["updateTime"]); d != null && S(r, ["updateTime"], d); const h = w(e, ["error"]); h != null && S(r, ["error"], h); const m = w(e, ["description"]); m != null && S(r, ["description"], m); const g = w(e, ["baseModel"]); g != null && S(r, ["baseModel"], g); const v = w(e, ["tunedModel"]); v != null && S(r, ["tunedModel"], v); const y = w(e, ["preTunedModel"]); y != null && S(r, ["preTunedModel"], y); const b = w(e, ["supervisedTuningSpec"]); b != null && S(r, ["supervisedTuningSpec"], b); const _ = w(e, ["preferenceOptimizationSpec"]); _ != null && S(r, ["preferenceOptimizationSpec"], _); const k = w(e, ["tuningDataStats"]); k != null && S(r, ["tuningDataStats"], k); const C = w(e, ["encryptionSpec"]); C != null && S(r, ["encryptionSpec"], C); const T = w(e, ["partnerModelTuningSpec"]); T != null && S(r, ["partnerModelTuningSpec"], T); const j = w(e, ["customBaseModel"]); j != null && S(r, ["customBaseModel"], j); const R = w(e, ["experiment"]); R != null && S(r, ["experiment"], R); const O = w(e, ["labels"]); O != null && S(r, ["labels"], O); const I = w(e, ["outputUri"]); I != null && S(r, ["outputUri"], I); const H = w(e, ["pipelineJob"]); H != null && S(r, ["pipelineJob"], H); const F = w(e, ["serviceAccount"]); F != null && S(r, ["serviceAccount"], F); const X = w(e, ["tunedModelDisplayName"]); X != null && S(r, ["tunedModelDisplayName"], X); const V = w(e, ["veoTuningSpec"]); return V != null && S(r, ["veoTuningSpec"], V), r } function Gpe(e, t) { const r = {}, n = w(e, ["sdkHttpResponse"]); n != null && S(r, ["sdkHttpResponse"], n); const a = w(e, ["name"]); a != null && S(r, ["name"], a); const i = w(e, ["metadata"]); i != null && S(r, ["metadata"], i); const s = w(e, ["done"]); s != null && S(r, ["done"], s); const l = w(e, ["error"]); return l != null && S(r, ["error"], l), r } function vD(e, t) { const r = {}, n = w(e, ["gcsUri"]); n != null && S(r, ["validationDatasetUri"], n); const a = w(e, ["vertexDatasetResource"]); return a != null && S(r, ["validationDatasetUri"], a), r }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vpe extends Vs { constructor(t) { super(), this.apiClient = t, this.list = async (r = {}) => new sc(Ds.PAGED_ITEM_TUNING_JOBS, n => this.listInternal(n), await this.listInternal(r), r), this.get = async r => await this.getInternal(r), this.tune = async r => { var n; if (this.apiClient.isVertexAI()) if (r.baseModel.startsWith("projects/")) { const a = { tunedModelName: r.baseModel }; !((n = r.config) === null || n === void 0) && n.preTunedModelCheckpointId && (a.checkpointId = r.config.preTunedModelCheckpointId); const i = Object.assign(Object.assign({}, r), { preTunedModel: a }); return i.baseModel = void 0, await this.tuneInternal(i) } else { const a = Object.assign({}, r); return await this.tuneInternal(a) } else { const a = Object.assign({}, r), i = await this.tuneMldevInternal(a); let s = ""; return i.metadata !== void 0 && i.metadata.tunedModel !== void 0 ? s = i.metadata.tunedModel : i.name !== void 0 && i.name.includes("/operations/") && (s = i.name.split("/operations/")[0]), { name: s, state: s_.JOB_STATE_QUEUED } } } } async getInternal(t) { var r, n, a, i; let s, l = "", f = {}; if (this.apiClient.isVertexAI()) { const d = Ppe(t); return l = $e("{name}", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "GET", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(h => h.json().then(m => { const g = m; return g.sdkHttpResponse = { headers: h.headers }, g })), s.then(h => y_(h)) } else { const d = Rpe(t); return l = $e("{name}", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "GET", httpOptions: (a = t.config) === null || a === void 0 ? void 0 : a.httpOptions, abortSignal: (i = t.config) === null || i === void 0 ? void 0 : i.abortSignal }).then(h => h.json().then(m => { const g = m; return g.sdkHttpResponse = { headers: h.headers }, g })), s.then(h => YL(h)) } } async listInternal(t) { var r, n, a, i; let s, l = "", f = {}; if (this.apiClient.isVertexAI()) { const d = Fpe(t); return l = $e("tuningJobs", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "GET", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(h => h.json().then(m => { const g = m; return g.sdkHttpResponse = { headers: h.headers }, g })), s.then(h => { const m = Bpe(h), g = new GP; return Object.assign(g, m), g }) } else { const d = Lpe(t); return l = $e("tunedModels", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "GET", httpOptions: (a = t.config) === null || a === void 0 ? void 0 : a.httpOptions, abortSignal: (i = t.config) === null || i === void 0 ? void 0 : i.abortSignal }).then(h => h.json().then(m => { const g = m; return g.sdkHttpResponse = { headers: h.headers }, g })), s.then(h => { const m = Upe(h), g = new GP; return Object.assign(g, m), g }) } } async cancel(t) { var r, n, a, i; let s, l = "", f = {}; if (this.apiClient.isVertexAI()) { const d = Tpe(t); return l = $e("{name}:cancel", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "POST", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(h => h.json().then(m => { const g = m; return g.sdkHttpResponse = { headers: h.headers }, g })), s.then(h => { const m = Ape(h), g = new VP; return Object.assign(g, m), g }) } else { const d = kpe(t); return l = $e("{name}:cancel", d._url), f = d._query, delete d._url, delete d._query, s = this.apiClient.request({ path: l, queryParams: f, body: JSON.stringify(d), httpMethod: "POST", httpOptions: (a = t.config) === null || a === void 0 ? void 0 : a.httpOptions, abortSignal: (i = t.config) === null || i === void 0 ? void 0 : i.abortSignal }).then(h => h.json().then(m => { const g = m; return g.sdkHttpResponse = { headers: h.headers }, g })), s.then(h => { const m = Npe(h), g = new VP; return Object.assign(g, m), g }) } } async tuneInternal(t) { var r, n; let a, i = "", s = {}; if (this.apiClient.isVertexAI()) { const l = Ope(t, t); return i = $e("tuningJobs", l._url), s = l._query, delete l._url, delete l._query, a = this.apiClient.request({ path: i, queryParams: s, body: JSON.stringify(l), httpMethod: "POST", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(f => f.json().then(d => { const h = d; return h.sdkHttpResponse = { headers: f.headers }, h })), a.then(f => y_(f)) } else throw new Error("This method is only supported by the Vertex AI.") } async tuneMldevInternal(t) { var r, n; let a, i = "", s = {}; if (this.apiClient.isVertexAI()) throw new Error("This method is only supported by the Gemini Developer API."); { const l = Ipe(t); return i = $e("tunedModels", l._url), s = l._query, delete l._url, delete l._query, a = this.apiClient.request({ path: i, queryParams: s, body: JSON.stringify(l), httpMethod: "POST", httpOptions: (r = t.config) === null || r === void 0 ? void 0 : r.httpOptions, abortSignal: (n = t.config) === null || n === void 0 ? void 0 : n.abortSignal }).then(f => f.json().then(d => { const h = d; return h.sdkHttpResponse = { headers: f.headers }, h })), a.then(f => Gpe(f)) } } }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qpe { async download(t, r) { throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.") } } const Wpe = 1024 * 1024 * 8, Kpe = 3, Ype = 1e3, Xpe = 2, tg = "x-goog-upload-status"; async function Jpe(e, t, r) { var n; const a = await XL(e, t, r), i = await (a == null ? void 0 : a.json()); if (((n = a == null ? void 0 : a.headers) === null || n === void 0 ? void 0 : n[tg]) !== "final") throw new Error("Failed to upload file: Upload status is not finalized."); return i.file } async function Zpe(e, t, r) { var n; const a = await XL(e, t, r), i = await (a == null ? void 0 : a.json()); if (((n = a == null ? void 0 : a.headers) === null || n === void 0 ? void 0 : n[tg]) !== "final") throw new Error("Failed to upload file: Upload status is not finalized."); const s = iL(i), l = new UE; return Object.assign(l, s), l } async function XL(e, t, r) { var n, a; let i = 0, s = 0, l = new l_(new Response), f = "upload"; for (i = e.size; s < i;) { const d = Math.min(Wpe, i - s), h = e.slice(s, s + d); s + d >= i && (f += ", finalize"); let m = 0, g = Ype; for (; m < Kpe && (l = await r.request({ path: "", body: h, httpMethod: "POST", httpOptions: { apiVersion: "", baseUrl: t, headers: { "X-Goog-Upload-Command": f, "X-Goog-Upload-Offset": String(s), "Content-Length": String(d) } } }), !(!((n = l == null ? void 0 : l.headers) === null || n === void 0) && n[tg]));)m++, await eme(g), g = g * Xpe; if (s += d, ((a = l == null ? void 0 : l.headers) === null || a === void 0 ? void 0 : a[tg]) !== "active") break; if (i <= s) throw new Error("All content has been uploaded, but the upload status is not finalized.") } return l } async function Qpe(e) { return { size: e.size, type: e.type } } function eme(e) { return new Promise(t => setTimeout(t, e)) } class tme { async upload(t, r, n) { if (typeof t == "string") throw new Error("File path is not supported in browser uploader."); return await Jpe(t, r, n) } async uploadToFileSearchStore(t, r, n) { if (typeof t == "string") throw new Error("File path is not supported in browser uploader."); return await Zpe(t, r, n) } async stat(t) { if (typeof t == "string") throw new Error("File path is not supported in browser uploader."); return await Qpe(t) } }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rme { create(t, r, n) { return new nme(t, r, n) } } class nme { constructor(t, r, n) { this.url = t, this.headers = r, this.callbacks = n } connect() { this.ws = new WebSocket(this.url), this.ws.onopen = this.callbacks.onopen, this.ws.onerror = this.callbacks.onerror, this.ws.onclose = this.callbacks.onclose, this.ws.onmessage = this.callbacks.onmessage } send(t) { if (this.ws === void 0) throw new Error("WebSocket is not connected"); this.ws.send(t) } close() { if (this.ws === void 0) throw new Error("WebSocket is not connected"); this.ws.close() } }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yD = "x-goog-api-key"; class ame { constructor(t) { this.apiKey = t } async addAuthHeaders(t, r) { if (t.get(yD) === null) { if (this.apiKey.startsWith("auth_tokens/")) throw new Error("Ephemeral tokens are only supported by the live API."); if (!this.apiKey) throw new Error("API key is missing. Please provide a valid API key."); t.append(yD, this.apiKey) } } }/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ime = "gl-node/"; class sme { get interactions() { if (this._interactions !== void 0) return this._interactions; console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions."); const t = this.httpOptions; t != null && t.extraBody && console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored."); const r = new un({ baseURL: this.apiClient.getBaseUrl(), apiKey: this.apiKey, apiVersion: this.apiClient.getApiVersion(), clientAdapter: this.apiClient, defaultHeaders: this.apiClient.getDefaultHeaders(), timeout: t == null ? void 0 : t.timeout }); return this._interactions = r.interactions, this._interactions } constructor(t) { var r; if (t.apiKey == null) throw new Error("An API Key must be set when running in a browser"); if (t.project || t.location) throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location."); this.vertexai = (r = t.vertexai) !== null && r !== void 0 ? r : !1, this.apiKey = t.apiKey; const n = Qle(t.httpOptions, t.vertexai, void 0, void 0); n && (t.httpOptions ? t.httpOptions.baseUrl = n : t.httpOptions = { baseUrl: n }), this.apiVersion = t.apiVersion, this.httpOptions = t.httpOptions; const a = new ame(this.apiKey); this.apiClient = new Q0e({ auth: a, apiVersion: this.apiVersion, apiKey: this.apiKey, vertexai: this.vertexai, httpOptions: this.httpOptions, userAgentExtra: ime + "web", uploader: new tme, downloader: new qpe }), this.models = new vhe(this.apiClient), this.live = new fhe(this.apiClient, a, new rme), this.batches = new Aue(this.apiClient), this.chats = new cde(this.models, this.apiClient), this.caches = new sde(this.apiClient), this.files = new yde(this.apiClient), this.operations = new yhe(this.apiClient), this.authTokens = new Dhe(this.apiClient), this.tunings = new Vpe(this.apiClient), this.fileSearchStores = new Hhe(this.apiClient) } } const bx = new sme({ apiKey: "YOUR_GOOGLE_API_KEY" }), WE = ["Surgical", "Pharma", "PPE", "Diagnostics", "Laboratory", "Wound Care", "Respiratory", "Cardiovascular", "Orthopedic", "Consumables", "Equipment", "Office Supplies"], ome = ["Front Desk", "Manager's Office", "Nursing Station / Provider Station", "Exam Rooms", "Soiled Utility Room", "Break Room", "Laboratory"], lme = async e => {
  const t = e.replace(/^data:image\/\w+;base64,/, ""), r = `You are a medical inventory AI assistant. Analyze this image of a medical supply item label/packaging.

EXTRACTION RULES:
1. **Name**: Extract the exact product name. If brand + product, format as "Brand ProductName".
2. **Category**: Choose the BEST match from: ${WE.join(", ")}.
3. **Stock**: Count visible items or use pack size (e.g., "Box of 100" = 100).
4. **Unit**: Determine unit type: "each", "box", "pack", "case", "vial", "bottle", "roll".
5. **MinStock**: Suggest based on criticality (life-saving = 20+, consumables = 10, general = 5).
6. **MaxStock**: Suggest 3-5x the minStock value.
7. **ExpiryDate**: Extract if visible, format as YYYY-MM-DD. Null if not found.
8. **BatchNumber**: Extract lot/batch number if visible. Null if not found.
9. **Location**: Suggest from: ${ome.join(", ")} based on item type.
10. **AverageCost**: Estimate typical unit cost in USD for this medical item.
11. **Confidence**: Rate your extraction confidence 0-100 based on image clarity.

Be precise and clinical. If unsure, use reasonable medical supply defaults.`; try { const a = (await bx.models.generateContent({ model: "gemini-2.0-flash", contents: { parts: [{ inlineData: { data: t, mimeType: "image/jpeg" } }, { text: r }] }, config: { responseMimeType: "application/json", responseSchema: { type: pt.OBJECT, properties: { name: { type: pt.STRING }, category: { type: pt.STRING }, stock: { type: pt.NUMBER }, unit: { type: pt.STRING }, minStock: { type: pt.NUMBER }, maxStock: { type: pt.NUMBER }, expiryDate: { type: pt.STRING, nullable: !0 }, batchNumber: { type: pt.STRING, nullable: !0 }, location: { type: pt.STRING }, averageCost: { type: pt.NUMBER }, confidence: { type: pt.NUMBER } }, required: ["name", "category", "stock", "unit", "minStock", "maxStock", "location", "averageCost", "confidence"] } } })).text; if (!a) throw new Error("Empty response from Gemini"); return JSON.parse(a) } catch (n) { throw console.error("Gemini Scan Error:", n), n }
}, cme = async e => {
  const t = `You are an inventory assistant. Analyze the user's text command and extract the intent.
  User said: "${e}"
  
  Examples:
  "Search for gloves" -> {"intent": "SEARCH", "item": "gloves", "quantity": 0}
  "Add 50 masks" -> {"intent": "ADD", "item": "masks", "quantity": 50}
  "Use 2 syringes" -> {"intent": "CONSUME", "item": "syringes", "quantity": 2}
  
  Return valid JSON matching the schema.`; try { const n = (await bx.models.generateContent({ model: "gemini-2.0-flash", contents: { parts: [{ text: t }] }, config: { responseMimeType: "application/json", responseSchema: { type: pt.OBJECT, properties: { intent: { type: pt.STRING }, item: { type: pt.STRING }, quantity: { type: pt.NUMBER } } } } })).text; return n ? JSON.parse(n) : { intent: "UNKNOWN", item: "", quantity: 0 } } catch (r) { return console.error("Gemini Text Command Error:", r), { intent: "UNKNOWN", item: "", quantity: 0 } }
}, ume = async e => {
  const t = `You are a medical scribe. Refine the following dictation into a professional clinical note.
  Guidelines:
  1. Correct medical spelling and expand abbreviations.
  2. Maintain the ORIGINAL intent and flow.
  3. Output must be a SINGLE professional clinical paragraph. 
  4. DO NOT use bullet points, headers, or multiple line breaks.
  
  Dictation: "${e}"
  
  Return ONLY the refined text. No preamble.`; try { return (await bx.models.generateContent({ model: "gemini-2.0-flash", contents: [{ text: t }] })).text || e } catch (r) { return console.error("Gemini Refine Error:", r), e }
}, JL = async e => {
  const t = e.replace(/^data:image\/\w+;base64,/, ""), r = `You are a medical supply order data extraction AI. Analyze this order confirmation, invoice, or purchase order image.

EXTRACTION RULES:
1. **Vendor**: Identify the supplier (e.g., "Henry Schein", "Medline", "Amazon", "McKesson", "Labcorp")
2. **PO Number**: Look for order numbers, confirmation numbers, or PO references
3. **Order Date**: Extract order date, format as YYYY-MM-DD
4. **Line Items**: For EACH item row extract:
   - name: Full product description (clean and readable)
   - category: Best guess from [${WE.join(", ")}]
   - sku: Product code, catalog number, or item number
   - quantity: Number of units ordered (look for "Qty", "Order Qty", etc.)
   - unitCost: Price per unit (look for unit price, not extended price)
   - packSize: Pack description (e.g., "25/BX", "100/CA", "Each")
5. **Subtotal**: Order subtotal before tax/shipping
6. **Tax**: Total tax amount (absolute value, not percentage)
7. **Shipping**: Shipping/freight cost
8. **Grand Total**: Final order total
9. **Confidence**: Rate extraction confidence 0-100

Be precise with numbers. Extract ALL line items visible. If values are unclear, use 0.`; try { const a = (await bx.models.generateContent({ model: "gemini-2.0-flash", contents: { parts: [{ inlineData: { data: t, mimeType: "image/jpeg" } }, { text: r }] }, config: { responseMimeType: "application/json", responseSchema: { type: pt.OBJECT, properties: { poNumber: { type: pt.STRING }, vendor: { type: pt.STRING }, orderDate: { type: pt.STRING }, items: { type: pt.ARRAY, items: { type: pt.OBJECT, properties: { name: { type: pt.STRING }, category: { type: pt.STRING }, sku: { type: pt.STRING }, quantity: { type: pt.NUMBER }, unitCost: { type: pt.NUMBER }, packSize: { type: pt.STRING } }, required: ["name", "quantity", "unitCost"] } }, subtotal: { type: pt.NUMBER }, totalTax: { type: pt.NUMBER }, shippingCost: { type: pt.NUMBER }, grandTotal: { type: pt.NUMBER }, confidence: { type: pt.NUMBER } }, required: ["vendor", "items", "grandTotal", "confidence"] } } })).text; return a ? JSON.parse(a) : null } catch (n) { throw console.error("Gemini Invoice Error:", n), n }
}; var qp = { exports: {} }, dme = qp.exports, bD; function fme() { return bD || (bD = 1, (function (e, t) { (function (n, a) { e.exports = a(nc()) })(dme, function (r) { return (function (n) { var a = {}; function i(s) { if (a[s]) return a[s].exports; var l = a[s] = { i: s, l: !1, exports: {} }; return n[s].call(l.exports, l, l.exports, i), l.l = !0, l.exports } return i.m = n, i.c = a, i.d = function (s, l, f) { i.o(s, l) || Object.defineProperty(s, l, { enumerable: !0, get: f }) }, i.r = function (s) { typeof Symbol < "u" && Symbol.toStringTag && Object.defineProperty(s, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(s, "__esModule", { value: !0 }) }, i.t = function (s, l) { if (l & 1 && (s = i(s)), l & 8 || l & 4 && typeof s == "object" && s && s.__esModule) return s; var f = Object.create(null); if (i.r(f), Object.defineProperty(f, "default", { enumerable: !0, value: s }), l & 2 && typeof s != "string") for (var d in s) i.d(f, d, (function (h) { return s[h] }).bind(null, d)); return f }, i.n = function (s) { var l = s && s.__esModule ? function () { return s.default } : function () { return s }; return i.d(l, "a", l), l }, i.o = function (s, l) { return Object.prototype.hasOwnProperty.call(s, l) }, i.p = "", i(i.s = "./src/react-webcam.tsx") })({ "./src/react-webcam.tsx": (function (n, a, i) { i.r(a); var s = i("react"), l = (function () { var g = function (v, y) { return g = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (b, _) { b.__proto__ = _ } || function (b, _) { for (var k in _) _.hasOwnProperty(k) && (b[k] = _[k]) }, g(v, y) }; return function (v, y) { g(v, y); function b() { this.constructor = v } v.prototype = y === null ? Object.create(y) : (b.prototype = y.prototype, new b) } })(), f = function () { return f = Object.assign || function (g) { for (var v, y = 1, b = arguments.length; y < b; y++) { v = arguments[y]; for (var _ in v) Object.prototype.hasOwnProperty.call(v, _) && (g[_] = v[_]) } return g }, f.apply(this, arguments) }, d = function (g, v) { var y = {}; for (var b in g) Object.prototype.hasOwnProperty.call(g, b) && v.indexOf(b) < 0 && (y[b] = g[b]); if (g != null && typeof Object.getOwnPropertySymbols == "function") for (var _ = 0, b = Object.getOwnPropertySymbols(g); _ < b.length; _++)v.indexOf(b[_]) < 0 && Object.prototype.propertyIsEnumerable.call(g, b[_]) && (y[b[_]] = g[b[_]]); return y }; (function () { typeof window > "u" || (navigator.mediaDevices === void 0 && (navigator.mediaDevices = {}), navigator.mediaDevices.getUserMedia === void 0 && (navigator.mediaDevices.getUserMedia = function (v) { var y = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia; return y ? new Promise(function (b, _) { y.call(navigator, v, b, _) }) : Promise.reject(new Error("getUserMedia is not implemented in this browser")) })) })(); function h() { return !!(navigator.mediaDevices && navigator.mediaDevices.getUserMedia) } var m = (function (g) { l(v, g); function v(y) { var b = g.call(this, y) || this; return b.canvas = null, b.ctx = null, b.requestUserMediaId = 0, b.unmounted = !1, b.state = { hasUserMedia: !1 }, b } return v.prototype.componentDidMount = function () { var y = this, b = y.state, _ = y.props; if (this.unmounted = !1, !h()) { _.onUserMediaError("getUserMedia not supported"); return } b.hasUserMedia || this.requestUserMedia(), _.children && typeof _.children != "function" && console.warn("children must be a function") }, v.prototype.componentDidUpdate = function (y) { var b = this.props; if (!h()) { b.onUserMediaError("getUserMedia not supported"); return } var _ = JSON.stringify(y.audioConstraints) !== JSON.stringify(b.audioConstraints), k = JSON.stringify(y.videoConstraints) !== JSON.stringify(b.videoConstraints), C = y.minScreenshotWidth !== b.minScreenshotWidth, T = y.minScreenshotHeight !== b.minScreenshotHeight; (k || C || T) && (this.canvas = null, this.ctx = null), (_ || k) && (this.stopAndCleanup(), this.requestUserMedia()) }, v.prototype.componentWillUnmount = function () { this.unmounted = !0, this.stopAndCleanup() }, v.stopMediaStream = function (y) { y && (y.getVideoTracks && y.getAudioTracks ? (y.getVideoTracks().map(function (b) { y.removeTrack(b), b.stop() }), y.getAudioTracks().map(function (b) { y.removeTrack(b), b.stop() })) : y.stop()) }, v.prototype.stopAndCleanup = function () { var y = this.state; y.hasUserMedia && (v.stopMediaStream(this.stream), y.src && window.URL.revokeObjectURL(y.src)) }, v.prototype.getScreenshot = function (y) { var b = this, _ = b.state, k = b.props; if (!_.hasUserMedia) return null; var C = this.getCanvas(y); return C && C.toDataURL(k.screenshotFormat, k.screenshotQuality) }, v.prototype.getCanvas = function (y) { var b = this, _ = b.state, k = b.props; if (!this.video || !_.hasUserMedia || !this.video.videoHeight) return null; if (!this.ctx) { var C = this.video.videoWidth, T = this.video.videoHeight; if (!this.props.forceScreenshotSourceSize) { var j = C / T; C = k.minScreenshotWidth || this.video.clientWidth, T = C / j, k.minScreenshotHeight && T < k.minScreenshotHeight && (T = k.minScreenshotHeight, C = T * j) } this.canvas = document.createElement("canvas"), this.canvas.width = (y == null ? void 0 : y.width) || C, this.canvas.height = (y == null ? void 0 : y.height) || T, this.ctx = this.canvas.getContext("2d") } var R = this, O = R.ctx, I = R.canvas; return O && I && (I.width = (y == null ? void 0 : y.width) || I.width, I.height = (y == null ? void 0 : y.height) || I.height, k.mirrored && (O.translate(I.width, 0), O.scale(-1, 1)), O.imageSmoothingEnabled = k.imageSmoothing, O.drawImage(this.video, 0, 0, (y == null ? void 0 : y.width) || I.width, (y == null ? void 0 : y.height) || I.height), k.mirrored && (O.scale(-1, 1), O.translate(-I.width, 0))), I }, v.prototype.requestUserMedia = function () { var y = this, b = this.props, _ = function (T, j) { var R = { video: typeof j < "u" ? j : !0 }; b.audio && (R.audio = typeof T < "u" ? T : !0), y.requestUserMediaId++; var O = y.requestUserMediaId; navigator.mediaDevices.getUserMedia(R).then(function (I) { y.unmounted || O !== y.requestUserMediaId ? v.stopMediaStream(I) : y.handleUserMedia(null, I) }).catch(function (I) { y.handleUserMedia(I) }) }; if ("mediaDevices" in navigator) _(b.audioConstraints, b.videoConstraints); else { var k = function (T) { return { optional: [{ sourceId: T }] } }, C = function (T) { var j = T.deviceId; return typeof j == "string" ? j : Array.isArray(j) && j.length > 0 ? j[0] : typeof j == "object" && j.ideal ? j.ideal : null }; MediaStreamTrack.getSources(function (T) { var j = null, R = null; T.forEach(function (H) { H.kind === "audio" ? j = H.id : H.kind === "video" && (R = H.id) }); var O = C(b.audioConstraints); O && (j = O); var I = C(b.videoConstraints); I && (R = I), _(k(j), k(R)) }) } }, v.prototype.handleUserMedia = function (y, b) { var _ = this.props; if (y || !b) { this.setState({ hasUserMedia: !1 }), _.onUserMediaError(y); return } this.stream = b; try { this.video && (this.video.srcObject = b), this.setState({ hasUserMedia: !0 }) } catch { this.setState({ hasUserMedia: !0, src: window.URL.createObjectURL(b) }) } _.onUserMedia(b) }, v.prototype.render = function () { var y = this, b = this, _ = b.state, k = b.props, C = k.audio; k.forceScreenshotSourceSize; var T = k.disablePictureInPicture; k.onUserMedia, k.onUserMediaError, k.screenshotFormat, k.screenshotQuality, k.minScreenshotWidth, k.minScreenshotHeight, k.audioConstraints, k.videoConstraints, k.imageSmoothing; var j = k.mirrored, R = k.style, O = R === void 0 ? {} : R, I = k.children, H = d(k, ["audio", "forceScreenshotSourceSize", "disablePictureInPicture", "onUserMedia", "onUserMediaError", "screenshotFormat", "screenshotQuality", "minScreenshotWidth", "minScreenshotHeight", "audioConstraints", "videoConstraints", "imageSmoothing", "mirrored", "style", "children"]), F = j ? f(f({}, O), { transform: (O.transform || "") + " scaleX(-1)" }) : O, X = { getScreenshot: this.getScreenshot.bind(this) }; return s.createElement(s.Fragment, null, s.createElement("video", f({ autoPlay: !0, disablePictureInPicture: T, src: _.src, muted: !C, playsInline: !0, ref: function (V) { y.video = V }, style: F }, H)), I && I(X)) }, v.defaultProps = { audio: !1, disablePictureInPicture: !1, forceScreenshotSourceSize: !1, imageSmoothing: !0, mirrored: !1, onUserMedia: function () { }, onUserMediaError: function () { }, screenshotFormat: "image/webp", screenshotQuality: .92 }, v })(s.Component); a.default = m }), react: (function (n, a) { n.exports = r }) }).default }) })(qp)), qp.exports } var hme = fme(); const pme = _i(hme), mme = ["unit_each", "unit_box", "unit_pack", "unit_bottle", "unit_vial", "unit_tube", "unit_roll", "unit_kit", "unit_ream", "unit_liter", "unit_gallon", "unit_ampoule"], O1 = [{ name: "Amazon", logo: "/logos/amazon_premium.png", logoBg: "bg-[#232f3e]", color: "from-orange-500 to-amber-500", bgColor: "bg-gradient-to-br from-slate-900 to-slate-800 dark:from-slate-900/50 dark:to-slate-800/50", glowColor: "shadow-orange-500/40", borderActive: "border-orange-400", textColor: "text-orange-600 dark:text-orange-400" }, { name: "Labcorp", logo: "/logos/labcorp_premium_v2.png", logoBg: "bg-[#002855]", color: "from-[#00AADF] to-blue-600", bgColor: "bg-gradient-to-br from-cyan-50 to-blue-50 dark:from-cyan-900/30 dark:to-blue-900/30", glowColor: "shadow-[#00AADF]/40", borderActive: "border-[#00AADF]", textColor: "text-[#00AADF] dark:text-cyan-400" }, { name: "Henry Schein", logo: "/logos/henry_schein_premium_v2.png", logoBg: "bg-[#003da5]", color: "from-red-600 to-blue-700", bgColor: "bg-gradient-to-br from-red-50 to-blue-50 dark:from-red-900/30 dark:to-blue-900/30", glowColor: "shadow-red-500/40", borderActive: "border-red-500", textColor: "text-red-600 dark:text-red-400" }, { name: "Medline", logo: "/logos/medline_premium_v2.png", logoBg: "bg-[#004b87]", color: "from-[#004b87] to-indigo-700", bgColor: "bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/30 dark:to-indigo-900/30", glowColor: "shadow-[#004b87]/40", borderActive: "border-[#004b87]", textColor: "text-[#004b87] dark:text-blue-300" }, { name: "McKesson", logo: "/logos/mckesson_premium_v2.png", logoBg: "bg-[#002d72]", color: "from-[#002d72] to-slate-800", bgColor: "bg-gradient-to-br from-blue-50 to-slate-100 dark:from-blue-900/30 dark:to-slate-900/30", glowColor: "shadow-[#002d72]/40", borderActive: "border-[#002d72]", textColor: "text-[#002d72] dark:text-blue-300" }], gme = ({ onSave: e, onCancel: t, existingInventory: r, initialData: n, t: a, isSaving: i }) => { var ee, re, de; const [s, l] = A.useState({ poNumber: `PO-${Date.now().toString().slice(-6)}`, vendor: "", orderDate: new Date().toISOString().split("T")[0], expectedDate: "", status: "DRAFT", items: [], subtotal: 0, shippingCost: 0, totalTax: 0, grandTotal: 0, notes: "" }), [f, d] = A.useState(!1), [h, m] = A.useState(!1), [g, v] = A.useState(null), [y, b] = A.useState(!1), _ = A.useRef(null); A.useEffect(() => { n && l(D => ({ ...D, ...n })) }, [n]), A.useEffect(() => { var M; const D = ((M = s.items) == null ? void 0 : M.reduce((te, G) => te + (G.total || 0), 0)) || 0, z = s.totalTax || 0, ie = D + z + (s.shippingCost || 0); l(te => ({ ...te, subtotal: parseFloat(D.toFixed(2)), grandTotal: parseFloat(ie.toFixed(2)) })) }, [s.items, s.totalTax, s.shippingCost]); const k = () => { const D = { id: Date.now().toString(), name: "", category: "General", quantity: 1, unitCost: 0, unitType: "unit_each", total: 0 }; l(z => ({ ...z, items: [...z.items || [], D] })) }, C = (D, z, ie) => { l(M => { var te; return { ...M, items: (te = M.items) == null ? void 0 : te.map(G => { if (G.id === D) { const P = { ...G, [z]: ie }; return (z === "quantity" || z === "unitCost") && (P.total = parseFloat((P.quantity * P.unitCost).toFixed(2))), z === "total" && (P.quantity > 0 ? P.unitCost = parseFloat((P.total / P.quantity).toFixed(4)) : P.unitCost = 0), P } return G }) } }) }, T = (D, z) => { l(ie => { var M; return { ...ie, items: (M = ie.items) == null ? void 0 : M.map(te => te.id === D ? { ...te, name: z.name, category: z.category, inventoryItemId: z.id, unitType: z.unit } : te) } }), v(null) }, j = D => { l(z => { var ie; return { ...z, items: (ie = z.items) == null ? void 0 : ie.filter(M => M.id !== D) } }) }, R = D => { l(z => ({ ...z, vendor: D.name })), b(!1) }, O = async () => { var z; const D = (z = _.current) == null ? void 0 : z.getScreenshot(); if (D) { m(!0); try { const ie = await JL(D); ie && l(M => { var te; return { ...M, poNumber: ie.poNumber || M.poNumber, vendor: ie.vendor || M.vendor, orderDate: ie.orderDate || M.orderDate, shippingCost: ie.shippingCost || M.shippingCost, totalTax: ie.totalTax || M.totalTax, items: ((te = ie.items) == null ? void 0 : te.map((G, P) => { var W; return { id: `ai-${Date.now()}-${P}`, name: G.name || "Unknown Item", category: G.category || "General", quantity: G.quantity || 1, unitCost: G.unitCost || 0, unitType: "unit_each", total: (G.quantity || 1) * (G.unitCost || 0), inventoryItemId: (W = r.find(J => J.name.toLowerCase() === (G.name || "").toLowerCase())) == null ? void 0 : W.id } })) || M.items } }) } catch { alert("Failed to read invoice") } finally { m(!1), d(!1) } } }, I = D => { if (!D.inventoryItemId) return null; const z = r.find(J => J.id === D.inventoryItemId); if (!z || !z.averageCost || z.averageCost === 0) return null; const ie = D.unitCost, M = z.averageCost, te = ie - M, G = te / M * 100, P = te < 0, W = te === 0; return { historyCost: M, diff: te, percent: Math.abs(G).toFixed(1), isCheaper: P, isSame: W } }; if (f) return c.jsxs("div", { className: "fixed inset-0 z-50 bg-black flex flex-col items-center justify-center", children: [c.jsx(pme, { audio: !1, ref: _, screenshotFormat: "image/jpeg", className: "w-full h-full object-cover opacity-60" }), c.jsx("div", { className: "absolute inset-0 flex flex-col items-center justify-center z-10", children: h ? c.jsx("div", { className: "text-white text-xl font-bold animate-pulse", children: "Processing Invoice..." }) : c.jsxs(c.Fragment, { children: [c.jsx("div", { className: "w-64 h-80 border-2 border-medical-500 rounded-lg mb-4 shadow-[0_0_15px_rgba(14,165,233,0.5)]" }), c.jsx("button", { onClick: O, className: "bg-white w-16 h-16 rounded-full border-4 border-gray-300 hover:scale-105 transition-transform" }), c.jsx("button", { onClick: () => d(!1), className: "mt-8 text-white bg-black/50 px-4 py-2 rounded-full backdrop-blur-md", children: "Cancel Camera" })] }) })] }); const H = ({ searchTerm: D, rowId: z }) => { const ie = r.filter(M => M.name.toLowerCase().includes(D.toLowerCase()) || M.category.toLowerCase().includes(D.toLowerCase())).slice(0, 5); return ie.length === 0 ? null : c.jsxs("div", { className: "absolute z-50 left-0 top-full mt-2 w-[350px] bg-white dark:bg-gray-900/95 backdrop-blur-xl border border-gray-100 dark:border-gray-700 rounded-2xl shadow-2xl overflow-hidden animate-fade-in-up", children: [c.jsx("div", { className: "px-4 py-2 bg-gray-50 dark:bg-gray-800/50 text-[10px] font-bold text-gray-400 uppercase tracking-wider", children: "Suggested Items" }), ie.map(M => c.jsxs("div", { onMouseDown: te => { te.preventDefault(), T(z, M) }, className: "p-3 hover:bg-medical-50 dark:hover:bg-medical-900/20 cursor-pointer flex items-center justify-between group transition-colors border-b border-gray-50 dark:border-gray-800 last:border-0", children: [c.jsxs("div", { children: [c.jsx("div", { className: "font-bold text-sm text-gray-800 dark:text-gray-200 group-hover:text-medical-600 dark:group-hover:text-medical-400", children: M.name }), c.jsxs("div", { className: "flex gap-2 mt-1", children: [c.jsx("span", { className: "text-[10px] px-1.5 py-0.5 rounded-md bg-gray-100 dark:bg-gray-800 text-gray-500", children: M.category }), c.jsxs("span", { className: "text-[10px] text-gray-400 flex items-center gap-1", children: [c.jsx("i", { className: "fa-solid fa-location-dot" }), " ", M.location] })] })] }), c.jsxs("div", { className: "text-right", children: [c.jsxs("div", { className: `text-xs font-bold ${M.stock <= M.minStock ? "text-red-500" : "text-emerald-500"}`, children: [M.stock, " ", c.jsx("span", { className: "text-[10px] font-normal text-gray-400", children: M.unit })] }), c.jsx("div", { className: "text-[10px] text-gray-400", children: "Current Stock" })] })] }, M.id))] }) }, F = () => { if (!s.vendor) return null; const D = O1.find(z => s.vendor.toLowerCase().includes(z.name.toLowerCase()) || z.name.toLowerCase().includes(s.vendor.toLowerCase())); return D ? D.logo : null }, V = (() => { if (s.vendor) return O1.find(D => s.vendor.toLowerCase().includes(D.name.toLowerCase()) || D.name.toLowerCase().includes(s.vendor.toLowerCase())) })(), U = () => { if (!s.vendor) { alert("Please select or enter a vendor."); return } if (!s.items || s.items.length === 0) { alert("Please add at least one item to the order."); return } e(s) }; return c.jsxs("div", { className: `glass-panel rounded-[2.5rem] p-6 md:p-10 shadow-glass max-w-5xl mx-auto relative overflow-hidden transition-all duration-500 ease-out ${V ? "border-2 " + V.borderActive : ""}`, children: [V && c.jsx("div", { className: `absolute inset-0 opacity-5 bg-gradient-to-br ${V.color} pointer-events-none transition-opacity duration-1000` }), c.jsx("div", { className: "absolute top-0 right-0 w-96 h-96 bg-medical-500/10 rounded-full blur-[100px] -z-10 pointer-events-none" }), c.jsx("div", { className: "absolute bottom-0 left-0 w-96 h-96 bg-purple-500/10 rounded-full blur-[100px] -z-10 pointer-events-none" }), c.jsxs("div", { className: "flex flex-col md:flex-row justify-between items-start mb-8 gap-4", children: [c.jsxs("div", { children: [c.jsxs("div", { className: "flex items-center gap-4 mb-3", children: [c.jsx("div", { className: "w-14 h-14 rounded-2xl bg-gradient-to-br from-medical-600 to-teal-600 flex items-center justify-center text-white shadow-2xl shadow-medical-500/30", children: c.jsx("i", { className: "fa-solid fa-file-invoice text-2xl" }) }), c.jsx("h2", { className: "text-4xl font-extrabold text-slate-900 dark:text-white tracking-tight leading-none", children: a("ord_form_title") })] }), c.jsx("p", { className: "text-sm font-extrabold text-slate-500 dark:text-slate-400 ml-1", children: c.jsxs("span", { className: `inline-flex items-center gap-2 px-4 py-1.5 rounded-full text-[10px] font-extrabold uppercase tracking-widest ${s.status === "DRAFT" ? "bg-slate-100 text-slate-600 dark:bg-slate-800/80 dark:text-slate-300" : "bg-orange-100 text-orange-600"} border border-white/20 shadow-sm`, children: [c.jsx("span", { className: "w-2 h-2 rounded-full bg-current animate-pulse" }), s.status] }) })] }), c.jsxs("button", { onClick: () => d(!0), className: "h-14 px-8 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-2xl text-sm font-extrabold shadow-2xl hover:shadow-medical-500/10 flex items-center gap-3 transition-all transform hover:scale-105 active:scale-95", children: [c.jsx("i", { className: "fa-solid fa-camera text-lg" }), c.jsx("span", { className: "tracking-tight", children: a("btn_scan_invoice") })] })] }), c.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-6 mb-10 bg-white/40 dark:bg-slate-800/40 p-6 rounded-[2.5rem] border border-white/50 dark:border-slate-800/80 backdrop-blur-xl luxury-shadow", children: [c.jsxs("div", { className: "space-y-2 group", children: [c.jsx("label", { className: "text-[10px] font-extrabold text-slate-400 uppercase tracking-widest ml-1", children: a("lbl_po") }), c.jsxs("div", { className: "relative", children: [c.jsx("i", { className: "fa-solid fa-hashtag absolute left-5 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-medical-500 transition-colors" }), c.jsx("input", { type: "text", value: s.poNumber, onChange: D => l({ ...s, poNumber: D.target.value }), className: "w-full pl-12 pr-6 h-14 rounded-2xl border-none bg-slate-50/50 dark:bg-slate-900/50 text-slate-900 dark:text-white font-mono font-extrabold focus:ring-4 ring-medical-500/10 transition-all outline-none" })] })] }), c.jsxs("div", { className: "space-y-2 group relative", children: [c.jsx("label", { className: "text-[10px] font-extrabold text-slate-400 uppercase tracking-widest ml-1", children: a("lbl_vendor") }), c.jsxs("div", { className: "relative", children: [c.jsx("div", { className: "absolute left-4 top-1/2 -translate-y-1/2 w-8 h-8 flex items-center justify-center", children: F() ? c.jsx("img", { src: F(), alt: "logo", className: "w-full h-full object-contain rounded-lg" }) : c.jsx("i", { className: "fa-solid fa-building text-slate-400 group-focus-within:text-medical-500 transition-colors text-lg" }) }), c.jsx("input", { type: "text", value: s.vendor, onFocus: () => b(!0), onBlur: () => setTimeout(() => b(!1), 200), placeholder: a("ph_select_vendor"), onChange: D => l({ ...s, vendor: D.target.value }), className: "w-full pl-14 pr-6 h-14 rounded-2xl border-none bg-slate-50/50 dark:bg-slate-900/50 text-slate-900 dark:text-white font-extrabold focus:ring-4 ring-medical-500/10 transition-all outline-none" }), y && c.jsx("div", { className: "absolute top-full left-0 right-0 mt-3 bg-white/95 dark:bg-slate-900/95 backdrop-blur-2xl rounded-2xl shadow-2xl border border-white/20 dark:border-slate-800 overflow-hidden z-20 animate-fade-in-up", children: O1.filter(D => D.name.toLowerCase().includes((s.vendor || "").toLowerCase())).map(D => c.jsxs("div", { onClick: () => R(D), className: "flex items-center gap-4 p-4 hover:bg-medical-50 dark:hover:bg-medical-900/20 cursor-pointer transition-colors border-b border-slate-50 dark:border-slate-800 last:border-0", children: [c.jsx("div", { className: `w-10 h-10 rounded-xl border border-white/20 ${D.logoBg} p-1.5 flex items-center justify-center shadow-md overflow-hidden transform group-hover:scale-110 transition-transform`, children: c.jsx("img", { src: D.logo, alt: D.name, className: "max-w-full max-h-full object-contain" }) }), c.jsx("span", { className: "font-extrabold text-slate-700 dark:text-slate-200 tracking-tight", children: D.name })] }, D.name)) })] })] }), c.jsxs("div", { className: "space-y-2 group", children: [c.jsx("label", { className: "text-[10px] font-extrabold text-slate-400 uppercase tracking-widest ml-1", children: a("lbl_date") }), c.jsxs("div", { className: "relative", children: [c.jsx("i", { className: "fa-solid fa-calendar absolute left-5 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-medical-500 transition-colors" }), c.jsx("input", { type: "date", value: s.orderDate, onChange: D => l({ ...s, orderDate: D.target.value }), className: "w-full pl-12 pr-6 h-14 rounded-2xl border-none bg-slate-50/50 dark:bg-slate-900/50 text-slate-900 dark:text-white font-extrabold focus:ring-4 ring-medical-500/10 transition-all outline-none" })] })] })] }), c.jsxs("div", { className: "mb-6", children: [c.jsxs("div", { className: "grid grid-cols-12 gap-4 px-4 mb-3 text-[10px] font-extrabold text-gray-400 uppercase tracking-wider", children: [c.jsx("div", { className: "col-span-1 text-center", children: "#" }), c.jsx("div", { className: "col-span-4", children: a("th_details") }), c.jsx("div", { className: "col-span-2", children: a("lbl_category") }), c.jsx("div", { className: "col-span-1 text-center", children: a("th_qty") }), c.jsx("div", { className: "col-span-2 text-right", children: a("th_cost") }), c.jsx("div", { className: "col-span-1 text-right", children: a("th_total") }), c.jsx("div", { className: "col-span-1" })] }), c.jsx("div", { className: "space-y-3", children: (ee = s.items) == null ? void 0 : ee.map((D, z) => { const ie = I(D); return c.jsxs("div", { className: "relative group grid grid-cols-12 gap-4 items-center bg-white dark:bg-gray-800/40 p-3 rounded-2xl border border-transparent hover:border-medical-200 dark:hover:border-medical-900 hover:shadow-lg transition-all duration-300 hover:-translate-y-0.5", children: [c.jsx("div", { className: "col-span-1 text-center font-mono text-xs text-gray-400 font-bold", children: z + 1 }), c.jsxs("div", { className: "col-span-4 relative", children: [c.jsxs("div", { className: "flex items-center gap-3", children: [c.jsx("div", { className: `w-10 h-10 rounded-xl flex items-center justify-center text-white text-sm shadow-md transition-colors ${D.inventoryItemId ? "bg-emerald-500" : "bg-gray-300 dark:bg-gray-700"}`, children: c.jsx("i", { className: `fa-solid ${D.inventoryItemId ? "fa-link" : "fa-box-open"}` }) }), c.jsxs("div", { className: "flex-1", children: [c.jsx("input", { type: "text", value: D.name, onChange: M => { C(D.id, "name", M.target.value), v(D.id) }, onFocus: () => v(D.id), onBlur: () => setTimeout(() => v(null), 200), placeholder: a("ph_search_item"), className: "w-full bg-transparent border-none focus:ring-0 p-0 font-bold text-gray-900 dark:text-white placeholder-gray-400 text-sm" }), D.inventoryItemId && c.jsxs("div", { className: "text-[10px] text-emerald-500 font-bold mt-0.5 flex items-center gap-1", children: [c.jsx("i", { className: "fa-solid fa-check" }), " Linked"] })] })] }), g === D.id && c.jsx(H, { searchTerm: D.name, rowId: D.id })] }), c.jsx("div", { className: "col-span-2", children: c.jsxs("select", { value: D.category || "General", onChange: M => C(D.id, "category", M.target.value), className: "w-full bg-gray-50 dark:bg-gray-900/50 rounded-xl py-2.5 px-2 text-sm font-bold text-gray-700 dark:text-gray-300 focus:bg-white dark:focus:bg-black transition-colors outline-none shadow-inner", children: [c.jsx("option", { value: "General", children: "General" }), WE.map(M => c.jsx("option", { value: M, children: M }, M))] }) }), c.jsxs("div", { className: "col-span-1 flex flex-col gap-1", children: [c.jsx("input", { type: "number", min: "1", value: D.quantity, onChange: M => C(D.id, "quantity", parseFloat(M.target.value) || 0), className: "w-full bg-gray-50 dark:bg-gray-900/50 rounded-xl py-2.5 px-2 text-center font-bold text-gray-900 dark:text-white focus:bg-white dark:focus:bg-black transition-colors outline-none shadow-inner" }), c.jsx("select", { value: D.unitType, onChange: M => C(D.id, "unitType", M.target.value), className: "w-full bg-transparent text-[10px] font-bold text-gray-500 uppercase focus:outline-none text-center", children: mme.map(M => c.jsxs("option", { value: M, children: [a(M).substring(0, 6), ".."] }, M)) })] }), c.jsxs("div", { className: "col-span-2", children: [c.jsxs("div", { className: "relative", children: [c.jsx("span", { className: "absolute left-2 top-2.5 text-gray-400 text-xs font-bold", children: "$" }), c.jsx("input", { type: "number", min: "0", step: "0.0001", value: D.unitCost, onChange: M => C(D.id, "unitCost", parseFloat(M.target.value) || 0), className: "w-full bg-gray-50 dark:bg-gray-900/50 rounded-xl py-2.5 pl-6 pr-2 text-right font-mono text-sm text-gray-900 dark:text-white focus:bg-white dark:focus:bg-black transition-colors outline-none shadow-inner" })] }), ie && D.unitCost > 0 && c.jsx("div", { className: `text-[10px] text-right mt-1 font-bold ${ie.isSame ? "text-gray-400" : ie.isCheaper ? "text-emerald-500" : "text-red-500"}`, children: ie.isSame ? "Same price" : c.jsxs(c.Fragment, { children: [c.jsx("i", { className: `fa-solid ${ie.isCheaper ? "fa-arrow-down" : "fa-arrow-up"} mr-1` }), ie.percent, "% vs Avg ($", ie.historyCost, ")"] }) })] }), c.jsx("div", { className: "col-span-1", children: c.jsxs("div", { className: "relative", children: [c.jsx("span", { className: "absolute left-2 top-2.5 text-gray-400 text-xs font-bold", children: "$" }), c.jsx("input", { type: "number", min: "0", step: "0.01", value: D.total, onChange: M => C(D.id, "total", parseFloat(M.target.value) || 0), className: "w-full bg-transparent border border-gray-200 dark:border-gray-700 rounded-xl py-2.5 pl-6 pr-2 text-right font-mono text-sm font-bold text-gray-900 dark:text-white focus:border-medical-500 transition-colors outline-none" })] }) }), c.jsx("div", { className: "col-span-1 text-center opacity-0 group-hover:opacity-100 transition-opacity", children: c.jsx("button", { onClick: () => j(D.id), className: "w-8 h-8 rounded-full bg-red-50 dark:bg-red-900/20 text-red-500 hover:bg-red-500 hover:text-white transition-all flex items-center justify-center", children: c.jsx("i", { className: "fa-solid fa-times" }) }) })] }, D.id) }) })] }), c.jsxs("button", { onClick: k, className: "mb-10 w-full py-5 border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-2xl text-gray-400 hover:text-medical-500 hover:border-medical-500 hover:bg-medical-50 dark:hover:bg-medical-900/10 transition-all font-bold flex items-center justify-center gap-2 group", children: [c.jsx("div", { className: "w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-800 group-hover:bg-medical-500 group-hover:text-white flex items-center justify-center transition-colors", children: c.jsx("i", { className: "fa-solid fa-plus text-xs" }) }), a("btn_add_item")] }), c.jsx("div", { className: "flex flex-col md:flex-row justify-end items-start gap-8 border-t border-gray-200 dark:border-gray-800 pt-8", children: c.jsxs("div", { className: "w-full md:w-96 bg-slate-900 dark:bg-black text-white p-8 rounded-[2rem] shadow-2xl relative overflow-hidden", children: [c.jsx("div", { className: "absolute top-0 right-0 w-40 h-40 bg-medical-500/20 rounded-full blur-[60px]" }), c.jsxs("div", { className: "relative z-10 space-y-5", children: [c.jsxs("div", { className: "flex justify-between text-sm text-gray-400 font-medium", children: [c.jsx("span", { children: a("lbl_subtotal") }), c.jsxs("span", { className: "font-mono text-white tracking-wide", children: ["$", (re = s.subtotal) == null ? void 0 : re.toFixed(2)] })] }), c.jsxs("div", { className: "flex justify-between items-center text-sm text-gray-400 font-medium", children: [c.jsx("span", { children: a("lbl_ship_cost") }), c.jsxs("div", { className: "flex items-center gap-1 bg-white/10 rounded-lg px-3 py-1.5 backdrop-blur-sm", children: [c.jsx("span", { className: "text-xs text-gray-300", children: "$" }), c.jsx("input", { type: "number", value: s.shippingCost, onChange: D => l({ ...s, shippingCost: parseFloat(D.target.value) || 0 }), className: "w-16 bg-transparent text-right font-mono text-white outline-none" })] })] }), c.jsxs("div", { className: "flex justify-between items-center text-sm text-gray-400 font-medium", children: [c.jsx("span", { children: a("lbl_tax_amount") }), c.jsxs("div", { className: "flex items-center gap-1 bg-white/10 rounded-lg px-3 py-1.5 backdrop-blur-sm", children: [c.jsx("span", { className: "text-xs text-gray-300", children: "$" }), c.jsx("input", { type: "number", value: s.totalTax, onChange: D => l({ ...s, totalTax: parseFloat(D.target.value) || 0 }), className: "w-16 bg-transparent text-right font-mono text-white outline-none" })] })] }), c.jsx("div", { className: "h-px bg-white/20 my-2" }), c.jsxs("div", { className: "flex justify-between text-2xl font-black items-end", children: [c.jsx("span", { className: "text-medical-400 text-lg uppercase tracking-wider", children: a("lbl_grand_total") }), c.jsxs("span", { children: ["$", (de = s.grandTotal) == null ? void 0 : de.toFixed(2)] })] })] })] }) }), c.jsxs("div", { className: "flex gap-4 mt-8", children: [c.jsx("button", { onClick: t, disabled: i, className: "flex-1 h-16 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 font-extrabold rounded-2xl hover:bg-slate-50 dark:hover:bg-slate-700 transition-all text-lg disabled:opacity-50 tracking-tight", children: a("btn_cancel") }), c.jsxs("button", { onClick: U, disabled: i, className: "flex-1 h-16 bg-gradient-to-r from-medical-600 to-teal-600 text-white font-extrabold rounded-2xl shadow-2xl shadow-medical-500/30 hover:shadow-medical-500/50 hover:scale-[1.02] active:scale-95 transition-all text-lg flex items-center justify-center gap-3 disabled:opacity-75 disabled:cursor-wait tracking-tight", children: [i ? c.jsx("i", { className: "fa-solid fa-circle-notch fa-spin text-xl" }) : c.jsx("i", { className: "fa-solid fa-check" }), i ? "Processing..." : "Complete Order"] })] })] }) }, xme = ({ isOpen: e, onClose: t, onCreateOrder: r, onAddToInventory: n, existingInventory: a, t: i }) => { const [s, l] = A.useState("idle"), [f, d] = A.useState(null), [h, m] = A.useState(null), [g, v] = A.useState([]), [y, b] = A.useState({ poNumber: "", vendor: "", orderDate: new Date().toISOString().split("T")[0], shippingCost: 0, totalTax: 0 }), [_, k] = A.useState(""), C = A.useRef(null), T = A.useRef(null), j = A.useRef(null), R = A.useRef(null); A.useEffect(() => { e || (O(), I()) }, [e]); const O = () => { l("idle"), d(null), m(null), v([]), b({ poNumber: "", vendor: "", orderDate: new Date().toISOString().split("T")[0], shippingCost: 0, totalTax: 0 }), k("") }, I = () => { R.current && (R.current.getTracks().forEach(P => P.stop()), R.current = null) }, H = async () => { l("camera"); try { const P = await navigator.mediaDevices.getUserMedia({ video: { facingMode: "environment", width: { ideal: 1920 }, height: { ideal: 1080 } } }); R.current = P, C.current && (C.current.srcObject = P) } catch (P) { console.error("Camera error:", P), k("Could not access camera. Please try uploading a file."), l("error") } }, F = () => { if (!C.current || !T.current) return; const P = C.current, W = T.current; W.width = P.videoWidth, W.height = P.videoHeight; const J = W.getContext("2d"); if (J) { J.drawImage(P, 0, 0); const B = W.toDataURL("image/jpeg", .9); d(B), I(), U(B) } }, X = P => { var B; const W = (B = P.target.files) == null ? void 0 : B[0]; if (!W) return; const J = new FileReader; J.onload = ce => { var le; const fe = (le = ce.target) == null ? void 0 : le.result; d(fe), U(fe) }, J.readAsDataURL(W), P.target.value = "" }, V = P => { const W = P.toLowerCase(); return a.find(J => { const B = J.name.toLowerCase(); return B === W || B.includes(W) || W.includes(B) || W.split(" ").filter(ce => ce.length > 3).some(ce => B.includes(ce)) }) }, U = async P => { l("processing"); try { const W = await JL(P); if (!W || !W.items || W.items.length === 0) throw new Error("Could not extract order data from image"); m(W); const J = W.items.map((B, ce) => { const fe = V(B.name); return { id: `extracted-${Date.now()}-${ce}`, name: B.name, category: B.category || (fe ? fe.category : "General"), sku: B.sku || "", quantity: B.quantity || 1, unitCost: B.unitCost || 0, packSize: B.packSize || "Each", total: (B.quantity || 1) * (B.unitCost || 0), matchedInventoryId: fe == null ? void 0 : fe.id, isNew: !fe, addToInventory: !1 } }); v(J), b({ poNumber: W.poNumber || "", vendor: W.vendor || "", orderDate: W.orderDate || new Date().toISOString().split("T")[0], shippingCost: W.shippingCost || 0, totalTax: W.totalTax || 0 }), l("preview") } catch (W) { console.error("Processing error:", W), k(W.message || "Failed to process order image"), l("error") } }, ee = P => { v(W => W.map(J => J.id === P ? { ...J, addToInventory: !J.addToInventory } : J)) }, re = (P, W, J) => { v(B => B.map(ce => { if (ce.id === P) { const fe = { ...ce, [W]: J }; return (W === "quantity" || W === "unitCost") && (fe.total = fe.quantity * fe.unitCost), fe } return ce })) }, de = P => { v(W => W.filter(J => J.id !== P)) }, D = () => { const P = g.reduce((J, B) => J + B.total, 0), W = P + y.shippingCost + y.totalTax; return { subtotal: P, grandTotal: W } }, z = () => { const { subtotal: P, grandTotal: W } = D(); g.filter(ce => ce.isNew && ce.addToInventory).forEach(ce => { n({ name: ce.name, category: "Consumables", stock: 0, unit: "each", averageCost: ce.unitCost, minStock: 5, maxStock: 50, expiryDate: "", batchNumber: ce.sku, location: "Storage" }) }); const J = g.map(ce => ({ id: ce.id, inventoryItemId: ce.matchedInventoryId, name: ce.name, quantity: ce.quantity, unitCost: ce.unitCost, unitType: "unit_each", total: ce.total })), B = { poNumber: y.poNumber || `PO-${Date.now()}`, vendor: y.vendor, orderDate: y.orderDate, expectedDate: "", status: "PENDING", items: J, subtotal: P, shippingCost: y.shippingCost, totalTax: y.totalTax, grandTotal: W, attachmentUrl: f || void 0, notes: `AI-scanned order with ${g.length} items` }; r(B), t() }, ie = () => { I(), O(), t() }; if (!e) return null; const { subtotal: M, grandTotal: te } = D(), G = g.filter(P => P.isNew).length; return c.jsxs("div", { className: "fixed inset-0 z-[9999] flex items-center justify-center bg-black/90 backdrop-blur-xl p-4 animate-fade-in", children: [c.jsx("canvas", { ref: T, className: "hidden" }), c.jsx("input", { type: "file", ref: j, onChange: X, className: "hidden", accept: "image/*" }), c.jsxs("div", { className: "w-full max-w-4xl max-h-[90vh] bg-white dark:bg-slate-900 rounded-[2.5rem] shadow-2xl border border-white/20 dark:border-slate-800 overflow-hidden flex flex-col", children: [c.jsx("div", { className: "p-8 border-b border-slate-100 dark:border-slate-800 bg-gradient-to-r from-medical-50 to-teal-50 dark:from-medical-900/10 dark:to-teal-900/10", children: c.jsxs("div", { className: "flex items-center justify-between", children: [c.jsxs("div", { className: "flex items-center gap-5", children: [c.jsx("div", { className: "w-16 h-16 rounded-2xl bg-gradient-to-br from-medical-600 to-teal-600 flex items-center justify-center shadow-2xl shadow-medical-500/30", children: c.jsx("i", { className: "fa-solid fa-wand-magic-sparkles text-3xl text-white" }) }), c.jsxs("div", { children: [c.jsx("h2", { className: "text-3xl font-extrabold text-slate-900 dark:text-white tracking-tight leading-none", children: "AI Vision Transcribe" }), c.jsxs("p", { className: "text-sm font-extrabold text-slate-500 mt-2", children: [s === "idle" && "Intelligent invoice data extraction", s === "camera" && "Syncing camera lens...", s === "processing" && "Neural pattern analysis...", s === "preview" && c.jsxs("span", { className: "text-medical-600 uppercase tracking-widest text-[10px]", children: [g.length, " entities detected"] }), s === "error" && "System transmission error"] })] })] }), c.jsx("button", { onClick: ie, className: "w-12 h-12 rounded-xl bg-white dark:bg-slate-800 shadow-lg flex items-center justify-center hover:bg-red-50 hover:text-red-500 transition-all active:scale-95", children: c.jsx("i", { className: "fa-solid fa-xmark text-xl" }) })] }) }), c.jsxs("div", { className: "flex-1 overflow-y-auto custom-scrollbar", children: [s === "idle" && c.jsxs("div", { className: "p-8 flex flex-col items-center justify-center min-h-[400px] gap-8", children: [c.jsxs("div", { className: "text-center", children: [c.jsx("div", { className: "w-24 h-24 rounded-3xl bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center mx-auto mb-6", children: c.jsx("i", { className: "fa-solid fa-receipt text-5xl text-indigo-500" }) }), c.jsx("h3", { className: "text-2xl font-black text-slate-900 dark:text-white", children: "Scan Your Order" }), c.jsx("p", { className: "text-slate-500 mt-2 max-w-md", children: "Take a photo or upload an image of your order confirmation, invoice, or packing slip" })] }), c.jsxs("div", { className: "flex flex-col sm:flex-row gap-4 w-full max-w-md", children: [c.jsxs("button", { onClick: H, className: "flex-1 h-16 rounded-2xl bg-gradient-to-br from-indigo-600 to-purple-600 text-white font-bold shadow-xl shadow-indigo-500/30 flex items-center justify-center gap-3 hover:scale-105 transition-all", children: [c.jsx("i", { className: "fa-solid fa-camera text-xl" }), "Take Photo"] }), c.jsxs("button", { onClick: () => { var P; return (P = j.current) == null ? void 0 : P.click() }, className: "flex-1 h-16 rounded-2xl bg-white dark:bg-slate-800 border-2 border-slate-200 dark:border-slate-700 font-bold text-slate-700 dark:text-slate-200 flex items-center justify-center gap-3 hover:scale-105 transition-all", children: [c.jsx("i", { className: "fa-solid fa-image text-xl text-indigo-500" }), "Upload Image"] })] })] }), s === "camera" && c.jsxs("div", { className: "relative bg-black", children: [c.jsx("video", { ref: C, autoPlay: !0, playsInline: !0, muted: !0, className: "w-full h-[50vh] object-cover" }), c.jsxs("div", { className: "absolute inset-0 pointer-events-none", children: [c.jsx("div", { className: "absolute inset-8 border-2 border-white/40 rounded-2xl" }), c.jsx("div", { className: "absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-16 h-16 border-2 border-white/60 rounded-full" })] }), c.jsxs("div", { className: "absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black/80 to-transparent flex justify-center gap-4", children: [c.jsx("button", { onClick: () => l("idle"), className: "w-14 h-14 rounded-full bg-white/20 backdrop-blur-md text-white flex items-center justify-center", children: c.jsx("i", { className: "fa-solid fa-xmark text-2xl" }) }), c.jsx("button", { onClick: F, className: "w-20 h-20 rounded-full bg-white shadow-2xl flex items-center justify-center hover:scale-110 transition-transform", children: c.jsx("div", { className: "w-16 h-16 rounded-full bg-indigo-600" }) }), c.jsx("button", { onClick: () => { var P; return (P = j.current) == null ? void 0 : P.click() }, className: "w-14 h-14 rounded-full bg-white/20 backdrop-blur-md text-white flex items-center justify-center", children: c.jsx("i", { className: "fa-solid fa-image text-xl" }) })] })] }), s === "processing" && c.jsxs("div", { className: "p-8 flex flex-col items-center justify-center min-h-[400px]", children: [c.jsxs("div", { className: "relative", children: [c.jsx("div", { className: "w-32 h-32 rounded-3xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center animate-pulse", children: c.jsx("i", { className: "fa-solid fa-wand-magic-sparkles text-5xl text-white" }) }), c.jsx("div", { className: "absolute -inset-4 rounded-[2rem] border-4 border-indigo-500/30 animate-ping" })] }), c.jsx("h3", { className: "text-2xl font-black text-slate-900 dark:text-white mt-8", children: "Analyzing Order..." }), c.jsx("p", { className: "text-slate-500 mt-2", children: "AI is extracting order details" }), c.jsx("div", { className: "flex gap-2 mt-6", children: [0, 1, 2].map(P => c.jsx("div", { className: "w-3 h-3 rounded-full bg-indigo-500 animate-bounce", style: { animationDelay: `${P * .15}s` } }, P)) })] }), s === "error" && c.jsxs("div", { className: "p-8 flex flex-col items-center justify-center min-h-[400px]", children: [c.jsx("div", { className: "w-24 h-24 rounded-3xl bg-red-100 dark:bg-red-900/30 flex items-center justify-center mb-6", children: c.jsx("i", { className: "fa-solid fa-triangle-exclamation text-5xl text-red-500" }) }), c.jsx("h3", { className: "text-2xl font-black text-slate-900 dark:text-white", children: "Extraction Failed" }), c.jsx("p", { className: "text-slate-500 mt-2 text-center max-w-md", children: _ }), c.jsx("button", { onClick: O, className: "mt-6 h-14 px-8 rounded-2xl bg-slate-900 dark:bg-white text-white dark:text-slate-900 font-bold hover:scale-105 transition-all", children: "Try Again" })] }), s === "preview" && c.jsxs("div", { className: "p-6 space-y-6", children: [c.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-4 gap-4", children: [c.jsxs("div", { children: [c.jsx("label", { className: "block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1", children: "Vendor" }), c.jsx("input", { type: "text", value: y.vendor, onChange: P => b(W => ({ ...W, vendor: P.target.value })), className: "w-full h-12 px-4 rounded-xl bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 font-bold text-slate-900 dark:text-white" })] }), c.jsxs("div", { children: [c.jsx("label", { className: "block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1", children: "PO Number" }), c.jsx("input", { type: "text", value: y.poNumber, onChange: P => b(W => ({ ...W, poNumber: P.target.value })), className: "w-full h-12 px-4 rounded-xl bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 font-bold text-slate-900 dark:text-white" })] }), c.jsxs("div", { children: [c.jsx("label", { className: "block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1", children: "Order Date" }), c.jsx("input", { type: "date", value: y.orderDate, onChange: P => b(W => ({ ...W, orderDate: P.target.value })), className: "w-full h-12 px-4 rounded-xl bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 font-bold text-slate-900 dark:text-white" })] }), c.jsx("div", { className: "flex items-end", children: (h == null ? void 0 : h.confidence) && c.jsxs("div", { className: `h-12 px-5 rounded-2xl flex items-center gap-3 border shadow-sm ${h.confidence >= 80 ? "bg-emerald-50 text-emerald-700 border-emerald-100" : h.confidence >= 50 ? "bg-amber-50 text-amber-700 border-amber-100" : "bg-red-50 text-red-700 border-red-100"}`, children: [c.jsx("i", { className: "fa-solid fa-microchip text-xs" }), c.jsxs("span", { className: "font-extrabold text-[10px] uppercase tracking-widest", children: [h.confidence, "% Accuracy"] })] }) })] }), c.jsxs("div", { className: "border border-slate-100 dark:border-slate-800 rounded-[2rem] overflow-hidden luxury-shadow", children: [c.jsx("div", { className: "bg-slate-50/50 dark:bg-slate-800/50 px-6 py-4 border-b border-slate-100 dark:border-slate-800 backdrop-blur-xl", children: c.jsxs("h4", { className: "text-xs font-extrabold text-slate-900 dark:text-white flex items-center gap-3 uppercase tracking-widest", children: [c.jsx("i", { className: "fa-solid fa-list-check text-medical-600" }), "Transcription Layer (", g.length, " units)"] }) }), c.jsx("div", { className: "divide-y divide-slate-50 dark:divide-slate-800/50 max-h-[350px] overflow-y-auto custom-scrollbar", children: g.map(P => c.jsx("div", { className: `p-6 transition-colors hover:bg-slate-50/80 dark:hover:bg-slate-800/40 ${P.isNew ? "bg-amber-50/30 dark:bg-amber-900/5" : ""}`, children: c.jsxs("div", { className: "flex items-center gap-6", children: [c.jsx("div", { className: `w-12 h-12 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-sm border ${P.isNew ? "bg-amber-100 dark:bg-amber-900/30 text-amber-600 border-amber-200/50" : "bg-medical-100 dark:bg-medical-900/30 text-medical-600 border-medical-200/50"}`, children: c.jsx("i", { className: `fa-solid ${P.isNew ? "fa-plus" : "fa-check-double"} text-lg` }) }), c.jsxs("div", { className: "flex-1 min-w-0", children: [c.jsx("input", { type: "text", value: P.name, onChange: W => re(P.id, "name", W.target.value), className: "w-full font-extrabold text-lg text-slate-900 dark:text-white bg-transparent border-none focus:ring-0 p-0 tracking-tight" }), c.jsxs("div", { className: "flex flex-wrap items-center gap-3 mt-1.5", children: [P.sku && c.jsxs("span", { className: "px-2.5 py-1 rounded-lg bg-slate-100 dark:bg-slate-800 text-[10px] font-mono font-extrabold text-slate-500 uppercase tracking-tight shadow-sm", children: ["#", P.sku] }), c.jsx("span", { className: "text-[10px] font-extrabold text-slate-400 uppercase tracking-widest", children: P.packSize }), P.isNew && c.jsx("span", { className: "px-3 py-1 rounded-full bg-amber-100 text-amber-700 dark:bg-amber-900/50 dark:text-amber-300 text-[9px] font-extrabold uppercase tracking-[0.15em] border border-amber-200/50", children: "Unknown Entity" }), !P.isNew && c.jsx("span", { className: "px-3 py-1 rounded-full bg-medical-100 text-medical-700 dark:bg-medical-900/50 dark:text-medical-300 text-[9px] font-extrabold uppercase tracking-[0.15em] border border-medical-200/50", children: "Manifest Verified" })] })] }), c.jsxs("div", { className: "flex items-center gap-4", children: [c.jsxs("div", { className: "flex items-center bg-slate-100/50 dark:bg-slate-800/50 rounded-2xl p-1 shadow-inner", children: [c.jsx("input", { type: "number", min: "1", value: P.quantity, onChange: W => re(P.id, "quantity", parseInt(W.target.value) || 1), className: "w-14 h-10 text-center bg-transparent font-extrabold text-slate-900 dark:text-white border-none focus:ring-0" }), c.jsx("span", { className: "text-slate-400 font-extrabold px-1", children: "" }), c.jsxs("div", { className: "relative", children: [c.jsx("span", { className: "absolute left-2 top-1/2 -translate-y-1/2 text-slate-400 font-extrabold", children: "$" }), c.jsx("input", { type: "number", min: "0", step: "0.01", value: P.unitCost, onChange: W => re(P.id, "unitCost", parseFloat(W.target.value) || 0), className: "w-24 h-10 text-right pr-4 pl-6 bg-transparent font-extrabold text-slate-900 dark:text-white border-none focus:ring-0" })] })] }), c.jsx("div", { className: "w-28 text-right", children: c.jsxs("div", { className: "text-xl font-extrabold text-medical-600 dark:text-medical-400 tracking-tight", children: ["$", P.total.toFixed(2)] }) }), c.jsxs("div", { className: "flex items-center gap-2 border-l border-slate-100 dark:border-slate-800 pl-4 ml-2", children: [P.isNew && c.jsx("button", { onClick: () => ee(P.id), className: `w-11 h-11 rounded-xl flex items-center justify-center transition-all ${P.addToInventory ? "bg-medical-600 text-white shadow-lg shadow-medical-500/30" : "bg-white dark:bg-slate-900 text-slate-400 border border-slate-100 dark:border-slate-800 hover:text-medical-600"}`, title: "Register to Manifest", children: c.jsx("i", { className: "fa-solid fa-plus-circle text-lg" }) }), c.jsx("button", { onClick: () => de(P.id), className: "w-11 h-11 rounded-xl bg-red-50 dark:bg-red-900/20 text-red-500 hover:bg-red-100 flex items-center justify-center transition-colors border border-red-100/50", children: c.jsx("i", { className: "fa-solid fa-trash-alt" }) })] })] })] }) }, P.id)) })] }), c.jsxs("div", { className: "grid grid-cols-2 md:grid-cols-4 gap-6 pt-4", children: [c.jsxs("div", { className: "p-5 rounded-[2rem] bg-slate-50/50 dark:bg-slate-800/30 border border-slate-100 dark:border-slate-800 shadow-inner", children: [c.jsx("div", { className: "text-[10px] font-extrabold text-slate-400 uppercase tracking-widest mb-1", children: "Subtotal" }), c.jsxs("div", { className: "text-2xl font-extrabold text-slate-900 dark:text-white tracking-tight", children: ["$", M.toFixed(2)] })] }), c.jsxs("div", { className: "space-y-2 group", children: [c.jsx("label", { className: "text-[10px] font-extrabold text-slate-400 uppercase tracking-widest ml-1", children: "Taxation" }), c.jsxs("div", { className: "relative", children: [c.jsx("span", { className: "absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-extrabold", children: "$" }), c.jsx("input", { type: "number", min: "0", step: "0.01", value: y.totalTax, onChange: P => b(W => ({ ...W, totalTax: parseFloat(P.target.value) || 0 })), className: "w-full h-14 pl-10 pr-6 rounded-2xl border-none bg-slate-50/50 dark:bg-slate-800/50 text-slate-900 dark:text-white font-extrabold focus:ring-4 ring-medical-500/10 transition-all outline-none" })] })] }), c.jsxs("div", { className: "space-y-2 group", children: [c.jsx("label", { className: "text-[10px] font-extrabold text-slate-400 uppercase tracking-widest ml-1", children: "Logistics" }), c.jsxs("div", { className: "relative", children: [c.jsx("span", { className: "absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-extrabold", children: "$" }), c.jsx("input", { type: "number", min: "0", step: "0.01", value: y.shippingCost, onChange: P => b(W => ({ ...W, shippingCost: parseFloat(P.target.value) || 0 })), className: "w-full h-14 pl-10 pr-6 rounded-2xl border-none bg-slate-50/50 dark:bg-slate-800/50 text-slate-900 dark:text-white font-extrabold focus:ring-4 ring-medical-500/10 transition-all outline-none" })] })] }), c.jsxs("div", { className: "p-5 rounded-[2rem] bg-gradient-to-br from-medical-600 to-teal-600 shadow-2xl shadow-medical-500/30", children: [c.jsx("div", { className: "text-[10px] font-extrabold text-white/70 uppercase tracking-widest mb-1", children: "Combined Total" }), c.jsxs("div", { className: "text-3xl font-extrabold text-white tracking-tighter", children: ["$", te.toFixed(2)] })] })] }), G > 0 && c.jsxs("div", { className: "flex items-center gap-4 p-4 rounded-2xl bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800", children: [c.jsx("div", { className: "w-12 h-12 rounded-xl bg-amber-100 dark:bg-amber-900/40 flex items-center justify-center text-amber-600", children: c.jsx("i", { className: "fa-solid fa-box-open text-xl" }) }), c.jsxs("div", { className: "flex-1", children: [c.jsxs("h4", { className: "font-bold text-amber-800 dark:text-amber-200", children: [G, " New Items Detected"] }), c.jsxs("p", { className: "text-sm text-amber-700 dark:text-amber-300", children: ["Click the ", c.jsx("i", { className: "fa-solid fa-plus-circle" }), " icon to add them to your inventory"] })] })] })] })] }), s === "preview" && c.jsxs("div", { className: "p-8 border-t border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-800/30 flex gap-6", children: [c.jsxs("button", { onClick: O, className: "flex-1 h-16 rounded-2xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 font-extrabold text-slate-600 dark:text-slate-300 hover:bg-slate-50 transition-all shadow-sm flex items-center justify-center gap-3 tracking-tight", children: [c.jsx("i", { className: "fa-solid fa-camera-rotate text-lg" }), "Re-Scan Document"] }), c.jsxs("button", { onClick: z, disabled: g.length === 0, className: "flex-1 h-16 rounded-[1.25rem] bg-gradient-to-r from-medical-600 to-teal-600 text-white font-extrabold shadow-2xl shadow-medical-500/30 hover:scale-[1.02] active:scale-95 transition-all disabled:opacity-50 flex items-center justify-center gap-4 text-lg tracking-tight", children: [c.jsx("i", { className: "fa-solid fa-file-circle-check text-xl" }), "Finalize Order Entry"] })] })] })] }) }, wD = ["#0088FE", "#00C49F", "#FFBB28", "#FF8042", "#8884d8", "#82ca9d", "#ffc658"], vme = ({ orders: e, inventory: t, t: r }) => { const n = A.useMemo(() => { const i = e.length, s = e.reduce((b, _) => b + _.grandTotal, 0), l = i > 0 ? s / i : 0, f = {}; e.forEach(b => { f[b.vendor] = (f[b.vendor] || 0) + b.grandTotal }); const d = Object.entries(f).map(([b, _]) => ({ name: b, value: _ })).sort((b, _) => _.value - b.value).slice(0, 10), h = {}; let m = 0; e.forEach(b => { b.items.forEach(_ => { m += _.quantity; let k = "Uncategorized"; if (_.inventoryItemId) { const C = t.find(T => T.id === _.inventoryItemId); C && (k = C.category) } h[k] = (h[k] || 0) + _.total }) }); const g = Object.entries(h).map(([b, _]) => ({ name: b, value: _ })).sort((b, _) => _.value - b.value), v = {}; e.forEach(b => { const _ = new Date(b.orderDate), k = `${_.getFullYear()}-${String(_.getMonth() + 1).padStart(2, "0")}`; v[k] = (v[k] || 0) + b.grandTotal }); const y = Object.entries(v).map(([b, _]) => ({ date: b, value: _ })).sort((b, _) => b.date.localeCompare(_.date)); return { totalOrders: i, totalSpend: s, averageOrderValue: l, totalItemsOrdered: m, vendorData: d, categoryData: g, trendData: y } }, [e, t]), a = async () => { if (!window.html2pdf) { const l = document.createElement("script"); l.src = "https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js", l.onload = () => a(), document.head.appendChild(l); return } const i = document.getElementById("professional-report"), s = { margin: [10, 10, 10, 10], filename: `HealthAxis_Orders_Report_${new Date().toISOString().split("T")[0]}.pdf`, image: { type: "jpeg", quality: 1 }, html2canvas: { scale: 2, useCORS: !0, logging: !1 }, jsPDF: { unit: "mm", format: "a4", orientation: "portrait" }, pagebreak: { mode: ["avoid-all", "css", "legacy"] } }; i && (i.style.display = "block", await window.html2pdf().set(s).from(i).save(), i.style.display = "none") }; return c.jsxs("div", { className: "space-y-8 animate-fade-in-up", children: [c.jsx("div", { className: "flex justify-end", children: c.jsxs("button", { onClick: a, className: "flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-medical-600 to-blue-600 text-white rounded-xl font-bold shadow-lg shadow-blue-500/30 hover:shadow-xl hover:scale-105 transition-all", children: [c.jsx("i", { className: "fa-solid fa-file-pdf" }), "Export Professional Report"] }) }), c.jsxs("div", { id: "analytics-dashboard", className: "space-y-8 bg-slate-50 dark:bg-[#0a0f18] p-4 md:p-8 rounded-[2.5rem]", children: [c.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6", children: [c.jsxs("div", { className: "bg-white dark:bg-slate-900 p-6 rounded-3xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] border border-slate-100 dark:border-slate-800", children: [c.jsxs("div", { className: "flex items-center gap-4 mb-2", children: [c.jsx("div", { className: "w-12 h-12 rounded-2xl bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center text-emerald-600 dark:text-emerald-400", children: c.jsx("i", { className: "fa-solid fa-sack-dollar text-xl" }) }), c.jsx("h3", { className: "text-sm font-bold text-slate-500 uppercase tracking-wider", children: "Total Spend" })] }), c.jsxs("div", { className: "text-3xl font-black text-slate-900 dark:text-white", children: ["$", n.totalSpend.toLocaleString(void 0, { minimumFractionDigits: 2, maximumFractionDigits: 2 })] })] }), c.jsxs("div", { className: "bg-white dark:bg-slate-900 p-6 rounded-3xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] border border-slate-100 dark:border-slate-800", children: [c.jsxs("div", { className: "flex items-center gap-4 mb-2", children: [c.jsx("div", { className: "w-12 h-12 rounded-2xl bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400", children: c.jsx("i", { className: "fa-solid fa-file-invoice text-xl" }) }), c.jsx("h3", { className: "text-sm font-bold text-slate-500 uppercase tracking-wider", children: "Total Orders" })] }), c.jsx("div", { className: "text-3xl font-black text-slate-900 dark:text-white", children: n.totalOrders })] }), c.jsxs("div", { className: "bg-white dark:bg-slate-900 p-6 rounded-3xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] border border-slate-100 dark:border-slate-800", children: [c.jsxs("div", { className: "flex items-center gap-4 mb-2", children: [c.jsx("div", { className: "w-12 h-12 rounded-2xl bg-violet-100 dark:bg-violet-900/30 flex items-center justify-center text-violet-600 dark:text-violet-400", children: c.jsx("i", { className: "fa-solid fa-scale-balanced text-xl" }) }), c.jsx("h3", { className: "text-sm font-bold text-slate-500 uppercase tracking-wider", children: "Avg. Order Value" })] }), c.jsxs("div", { className: "text-3xl font-black text-slate-900 dark:text-white", children: ["$", n.averageOrderValue.toLocaleString(void 0, { minimumFractionDigits: 2, maximumFractionDigits: 2 })] })] }), c.jsxs("div", { className: "bg-white dark:bg-slate-900 p-6 rounded-3xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] border border-slate-100 dark:border-slate-800", children: [c.jsxs("div", { className: "flex items-center gap-4 mb-2", children: [c.jsx("div", { className: "w-12 h-12 rounded-2xl bg-orange-100 dark:bg-orange-900/30 flex items-center justify-center text-orange-600 dark:text-orange-400", children: c.jsx("i", { className: "fa-solid fa-boxes-packing text-xl" }) }), c.jsx("h3", { className: "text-sm font-bold text-slate-500 uppercase tracking-wider", children: "Items Received" })] }), c.jsx("div", { className: "text-3xl font-black text-slate-900 dark:text-white", children: n.totalItemsOrdered })] })] }), c.jsxs("div", { className: "grid grid-cols-1 lg:grid-cols-2 gap-8", children: [c.jsxs("div", { className: "bg-white dark:bg-slate-900 p-8 rounded-[2.5rem] shadow-[0_8px_30px_rgb(0,0,0,0.04)] border border-slate-100 dark:border-slate-800", children: [c.jsx("h3", { className: "text-xl font-black text-slate-900 dark:text-white mb-6", children: "Spend by Vendor" }), c.jsx("div", { className: "h-[300px] w-full", children: c.jsx(Nl, { width: "100%", height: "100%", minWidth: 0, minHeight: 0, debounce: 300, children: c.jsxs(Hp, { data: n.vendorData, layout: "vertical", margin: { top: 5, right: 30, left: 20, bottom: 5 }, children: [c.jsx(Ml, { strokeDasharray: "3 3", vertical: !1, stroke: "#e2e8f0" }), c.jsx(Ll, { type: "number", hide: !0 }), c.jsx(Ao, { type: "category", dataKey: "name", width: 100, tick: { fill: "#64748b", fontSize: 12, fontWeight: 700 }, axisLine: !1, tickLine: !1 }), c.jsx(Al, { cursor: { fill: "transparent" }, contentStyle: { borderRadius: "1rem", border: "none", boxShadow: "0 10px 30px rgba(0,0,0,0.1)" } }), c.jsx(_f, { dataKey: "value", fill: "#6366f1", radius: [0, 10, 10, 0], barSize: 20, children: n.vendorData.map((i, s) => c.jsx(Do, { fill: wD[s % wD.length] }, `cell-${s}`)) })] }) }) })] }), c.jsxs("div", { className: "bg-white dark:bg-slate-900 p-8 rounded-[2.5rem] shadow-[0_8px_30px_rgb(0,0,0,0.04)] border border-slate-100 dark:border-slate-800", children: [c.jsx("h3", { className: "text-xl font-black text-slate-900 dark:text-white mb-6", children: "Spending Trend (Monthly)" }), c.jsx("div", { className: "h-[300px] w-full", children: c.jsx(Nl, { width: "100%", height: "100%", minWidth: 0, minHeight: 0, debounce: 300, children: c.jsxs(Ule, { data: n.trendData, margin: { top: 10, right: 30, left: 0, bottom: 0 }, children: [c.jsx("defs", { children: c.jsxs("linearGradient", { id: "colorValue", x1: "0", y1: "0", x2: "0", y2: "1", children: [c.jsx("stop", { offset: "5%", stopColor: "#0ea5e9", stopOpacity: .8 }), c.jsx("stop", { offset: "95%", stopColor: "#0ea5e9", stopOpacity: 0 })] }) }), c.jsx(Ll, { dataKey: "date", tick: { fill: "#64748b", fontSize: 12 }, axisLine: !1, tickLine: !1 }), c.jsx(Ao, { tick: { fill: "#64748b", fontSize: 12 }, axisLine: !1, tickLine: !1, tickFormatter: i => `$${i}` }), c.jsx(Ml, { strokeDasharray: "3 3", vertical: !1, stroke: "#e2e8f0" }), c.jsx(Al, { contentStyle: { borderRadius: "1rem", border: "none", boxShadow: "0 10px 30px rgba(0,0,0,0.1)" }, formatter: i => [`$${i.toFixed(2)}`, "Spend"] }), c.jsx(OE, { type: "monotone", dataKey: "value", stroke: "#0ea5e9", fillOpacity: 1, fill: "url(#colorValue)", strokeWidth: 3 })] }) }) })] })] })] }), c.jsxs("div", { id: "professional-report", className: "hidden bg-white text-black p-10 max-w-[210mm] mx-auto", children: [c.jsxs("div", { className: "flex justify-between items-end border-b-2 border-gray-800 pb-4 mb-8", children: [c.jsxs("div", { children: [c.jsx("h1", { className: "text-4xl font-serif font-black tracking-tight text-gray-900", children: "Orders Analytics Report" }), c.jsx("p", { className: "text-sm text-gray-500 mt-1 uppercase tracking-widest font-bold", children: "HealthAxis Inventory Management" })] }), c.jsxs("div", { className: "text-right", children: [c.jsx("div", { className: "text-xs text-gray-500 uppercase font-bold", children: "Date Generated" }), c.jsx("div", { className: "text-lg font-bold", children: new Date().toLocaleDateString(void 0, { year: "numeric", month: "long", day: "numeric" }) })] })] }), c.jsxs("div", { className: "mb-10", children: [c.jsx("h2", { className: "text-sm font-bold uppercase text-gray-400 border-b border-gray-200 pb-2 mb-4", children: "Executive Summary" }), c.jsxs("div", { className: "grid grid-cols-4 gap-4", children: [c.jsxs("div", { className: "p-4 bg-gray-50 rounded-lg", children: [c.jsx("div", { className: "text-xs text-gray-500 uppercase font-bold mb-1", children: "Total Spend" }), c.jsxs("div", { className: "text-2xl font-black text-gray-900", children: ["$", n.totalSpend.toLocaleString()] })] }), c.jsxs("div", { className: "p-4 bg-gray-50 rounded-lg", children: [c.jsx("div", { className: "text-xs text-gray-500 uppercase font-bold mb-1", children: "Total Orders" }), c.jsx("div", { className: "text-2xl font-black text-gray-900", children: n.totalOrders })] }), c.jsxs("div", { className: "p-4 bg-gray-50 rounded-lg", children: [c.jsx("div", { className: "text-xs text-gray-500 uppercase font-bold mb-1", children: "Avg Order Value" }), c.jsxs("div", { className: "text-2xl font-black text-gray-900", children: ["$", n.averageOrderValue.toLocaleString()] })] }), c.jsxs("div", { className: "p-4 bg-gray-50 rounded-lg", children: [c.jsx("div", { className: "text-xs text-gray-500 uppercase font-bold mb-1", children: "Items Received" }), c.jsx("div", { className: "text-2xl font-black text-gray-900", children: n.totalItemsOrdered })] })] })] }), c.jsxs("div", { className: "grid grid-cols-2 gap-12 mb-10", children: [c.jsxs("div", { children: [c.jsx("h2", { className: "text-sm font-bold uppercase text-gray-400 border-b border-gray-200 pb-2 mb-4", children: "Top Vendors by Spend" }), c.jsxs("table", { className: "w-full text-sm text-left", children: [c.jsx("thead", { children: c.jsxs("tr", { className: "border-b border-gray-200", children: [c.jsx("th", { className: "py-2 font-black text-gray-900", children: "Vendor" }), c.jsx("th", { className: "py-2 font-black text-gray-900 text-right", children: "Total" })] }) }), c.jsx("tbody", { children: n.vendorData.map((i, s) => c.jsxs("tr", { className: "border-b border-gray-100", children: [c.jsx("td", { className: "py-2 text-gray-700", children: i.name }), c.jsxs("td", { className: "py-2 text-gray-900 font-bold text-right", children: ["$", i.value.toLocaleString()] })] }, s)) })] })] }), c.jsxs("div", { children: [c.jsx("h2", { className: "text-sm font-bold uppercase text-gray-400 border-b border-gray-200 pb-2 mb-4", children: "Monthly Spending History" }), c.jsxs("table", { className: "w-full text-sm text-left", children: [c.jsx("thead", { children: c.jsxs("tr", { className: "border-b border-gray-200", children: [c.jsx("th", { className: "py-2 font-black text-gray-900", children: "Month" }), c.jsx("th", { className: "py-2 font-black text-gray-900 text-right", children: "Total Spend" })] }) }), c.jsx("tbody", { children: n.trendData.slice(0, 12).map((i, s) => c.jsxs("tr", { className: "border-b border-gray-100", children: [c.jsx("td", { className: "py-2 text-gray-700", children: i.date }), c.jsxs("td", { className: "py-2 text-gray-900 font-bold text-right", children: ["$", i.value.toLocaleString()] })] }, s)) })] })] })] }), c.jsxs("div", { className: "mb-8", children: [c.jsx("h2", { className: "text-sm font-bold uppercase text-gray-400 border-b border-gray-200 pb-2 mb-4", children: "Recent High-Value Orders" }), c.jsxs("table", { className: "w-full text-sm text-left", children: [c.jsx("thead", { className: "bg-gray-100", children: c.jsxs("tr", { children: [c.jsx("th", { className: "p-3 font-black text-gray-900 rounded-l-lg", children: "Date" }), c.jsx("th", { className: "p-3 font-black text-gray-900", children: "PO Number" }), c.jsx("th", { className: "p-3 font-black text-gray-900", children: "Vendor" }), c.jsx("th", { className: "p-3 font-black text-gray-900", children: "Status" }), c.jsx("th", { className: "p-3 font-black text-gray-900 text-right rounded-r-lg", children: "Amount" })] }) }), c.jsx("tbody", { children: e.sort((i, s) => s.grandTotal - i.grandTotal).slice(0, 5).map(i => c.jsxs("tr", { className: "border-b border-gray-100", children: [c.jsx("td", { className: "p-3 text-gray-600", children: i.orderDate }), c.jsx("td", { className: "p-3 font-mono text-gray-900 font-bold", children: i.poNumber }), c.jsx("td", { className: "p-3 text-gray-900", children: i.vendor }), c.jsx("td", { className: "p-3", children: c.jsx("span", { className: "px-2 py-1 rounded bg-gray-200 text-xs font-bold text-gray-700", children: i.status }) }), c.jsxs("td", { className: "p-3 text-gray-900 font-black text-right", children: ["$", i.grandTotal.toLocaleString()] })] }, i.id)) })] })] }), c.jsx("div", { className: "text-center text-xs text-gray-400 pt-8 border-t border-gray-100 mt-auto", children: c.jsx("p", { children: "Confidential Property of HealthAxis. Generated via HealthAxis Inventory PWA." }) })] })] }) }, Wp = [{ name: "Amazon", logo: "/logos/amazon_premium.png", logoBg: "bg-[#232f3e]", color: "from-orange-500 to-amber-500", bgColor: "bg-gradient-to-br from-slate-900 to-slate-800 dark:from-slate-900/50 dark:to-slate-800/50", glowColor: "shadow-orange-500/40", borderActive: "border-orange-400", textColor: "text-orange-600 dark:text-orange-400" }, { name: "Labcorp", initials: "L", color: "from-[#00AADF] to-blue-600", bgColor: "bg-gradient-to-br from-cyan-50 to-blue-50 dark:from-cyan-900/30 dark:to-blue-900/30", glowColor: "shadow-[#00AADF]/40", borderActive: "border-[#00AADF]", textColor: "text-[#00AADF] dark:text-cyan-400" }, { name: "Henry Schein", initials: "HS", color: "from-red-600 to-blue-700", bgColor: "bg-gradient-to-br from-red-50 to-blue-50 dark:from-red-900/30 dark:to-blue-900/30", glowColor: "shadow-red-500/40", borderActive: "border-red-500", textColor: "text-red-600 dark:text-red-400" }, { name: "Medline", initials: "M", color: "from-[#004b87] to-indigo-700", bgColor: "bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/30 dark:to-indigo-900/30", glowColor: "shadow-[#004b87]/40", borderActive: "border-[#004b87]", textColor: "text-[#004b87] dark:text-blue-300" }, { name: "McKesson", initials: "MC", color: "from-[#002d72] to-slate-800", bgColor: "bg-gradient-to-br from-blue-50 to-slate-100 dark:from-blue-900/30 dark:to-slate-900/30", glowColor: "shadow-[#002d72]/40", borderActive: "border-[#002d72]", textColor: "text-[#002d72] dark:text-blue-300" }], yme = ({ order: e, onClose: t, inventory: r, onDelete: n, canDelete: a, t: i }) => { if (!e) return null; const l = (d => { if (d) return Wp.find(h => d.toLowerCase().includes(h.name.toLowerCase()) || h.name.toLowerCase().includes(d.toLowerCase())) })(e.vendor), f = d => { if (!d) return null; const h = r.find(m => m.id === d); return (h == null ? void 0 : h.name) || null }; return c.jsx("div", { className: "fixed inset-0 z-[9999] flex items-center justify-center bg-black/80 backdrop-blur-xl p-4 animate-fade-in", children: c.jsxs("div", { className: "w-full max-w-3xl max-h-[90vh] bg-white dark:bg-slate-900 rounded-[2.5rem] shadow-2xl border border-white/20 dark:border-slate-800 overflow-hidden flex flex-col", children: [c.jsx("div", { className: `p-6 ${(l == null ? void 0 : l.bgColor) || "bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900"}`, children: c.jsxs("div", { className: "flex items-center justify-between", children: [c.jsxs("div", { className: "flex items-center gap-4", children: [l != null && l.logo ? c.jsx("div", { className: "w-16 h-16 rounded-2xl bg-white dark:bg-slate-800 border border-white/50 dark:border-slate-700 p-2 shadow-xl flex items-center justify-center overflow-hidden", children: c.jsx("img", { src: l.logo, alt: e.vendor, className: "w-full h-full object-contain" }) }) : c.jsx("div", { className: `w-16 h-16 rounded-2xl bg-gradient-to-br ${(l == null ? void 0 : l.color) || "from-slate-400 to-slate-600"} flex items-center justify-center text-white text-2xl font-black shadow-xl border border-white/20`, children: (l == null ? void 0 : l.initials) || e.vendor.charAt(0).toUpperCase() }), c.jsxs("div", { children: [c.jsx("h2", { className: "text-2xl font-black text-slate-900 dark:text-white", children: e.vendor }), c.jsxs("div", { className: "flex items-center gap-3 mt-1", children: [c.jsx("span", { className: "text-sm font-mono text-slate-500 dark:text-slate-400", children: e.poNumber }), c.jsx("span", { className: `px-2 py-0.5 rounded-full text-xs font-bold ${e.status === "RECEIVED" ? "bg-emerald-100 text-emerald-600" : e.status === "PENDING" ? "bg-orange-100 text-orange-600" : e.status === "CANCELLED" ? "bg-red-100 text-red-600" : "bg-gray-100 text-gray-600"}`, children: e.status })] })] })] }), c.jsx("button", { onClick: t, className: "w-12 h-12 rounded-xl bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm shadow-lg flex items-center justify-center hover:bg-red-50 hover:text-red-500 transition-all", children: c.jsx("i", { className: "fa-solid fa-xmark text-xl" }) })] }) }), c.jsxs("div", { className: "grid grid-cols-3 gap-4 p-4 bg-slate-50 dark:bg-slate-800/50 border-b border-slate-100 dark:border-slate-800", children: [c.jsxs("div", { className: "text-center", children: [c.jsx("div", { className: "text-[10px] font-extrabold text-slate-400 uppercase tracking-widest", children: "Order Date" }), c.jsx("div", { className: "text-lg font-extrabold text-slate-900 dark:text-white", children: e.orderDate })] }), c.jsxs("div", { className: "text-center", children: [c.jsx("div", { className: "text-[10px] font-extrabold text-slate-400 uppercase tracking-widest", children: "Expected" }), c.jsx("div", { className: "text-lg font-extrabold text-slate-900 dark:text-white", children: e.expectedDate || "" })] }), c.jsxs("div", { className: "text-center", children: [c.jsx("div", { className: "text-[10px] font-extrabold text-slate-400 uppercase tracking-widest", children: "Items" }), c.jsx("div", { className: "text-lg font-extrabold text-slate-900 dark:text-white", children: e.items.length })] })] }), c.jsxs("div", { className: "flex-1 overflow-y-auto p-6 scroll-smooth custom-scrollbar", children: [c.jsxs("h3", { className: "text-sm font-extrabold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2", children: [c.jsx("i", { className: "fa-solid fa-list text-medical-500" }), "Line Items"] }), c.jsx("div", { className: "space-y-3", children: e.items.map((d, h) => { const m = f(d.inventoryItemId); return c.jsx("div", { className: "p-4 rounded-2xl bg-white dark:bg-slate-800/80 border border-slate-100 dark:border-slate-700 shadow-sm transition-all hover:border-medical-500/30", children: c.jsxs("div", { className: "flex items-start justify-between", children: [c.jsxs("div", { className: "flex-1", children: [c.jsxs("div", { className: "flex items-center gap-3", children: [c.jsx("span", { className: "w-7 h-7 rounded-lg bg-medical-50 dark:bg-medical-900/30 flex items-center justify-center text-xs font-extrabold text-medical-600", children: h + 1 }), c.jsx("h4", { className: "font-extrabold text-slate-900 dark:text-white text-lg tracking-tight", children: d.name })] }), c.jsxs("div", { className: "flex flex-wrap items-center gap-2 mt-2 ml-10", children: [m && c.jsxs("span", { className: "px-2.5 py-1 rounded-full bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 text-[10px] font-extrabold uppercase tracking-widest flex items-center gap-1.5 border border-emerald-100 dark:border-emerald-800/50", children: [c.jsx("i", { className: "fa-solid fa-link" }), "Linked"] }), c.jsx("span", { className: "text-sm font-bold text-slate-500", children: i(d.unitType) || d.unitType })] })] }), c.jsxs("div", { className: "text-right", children: [c.jsxs("div", { className: "flex items-center gap-2 text-sm font-bold text-slate-500", children: [c.jsx("span", { className: "text-slate-900 dark:text-slate-200", children: d.quantity }), c.jsx("span", { className: "opacity-50", children: "" }), c.jsxs("span", { className: "text-slate-900 dark:text-slate-200", children: ["$", d.unitCost.toFixed(2)] })] }), c.jsxs("div", { className: "text-xl font-extrabold text-medical-600 dark:text-medical-400 mt-1", children: ["$", d.total.toFixed(2)] })] })] }) }, d.id || h) }) })] }), c.jsxs("div", { className: "p-6 border-t border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-800/50 backdrop-blur-md", children: [c.jsxs("div", { className: "grid grid-cols-4 gap-4", children: [c.jsxs("div", { className: "text-center", children: [c.jsx("div", { className: "text-[10px] font-extrabold text-slate-400 uppercase tracking-widest", children: "Subtotal" }), c.jsxs("div", { className: "text-lg font-bold text-slate-700 dark:text-slate-300", children: ["$", e.subtotal.toFixed(2)] })] }), c.jsxs("div", { className: "text-center", children: [c.jsx("div", { className: "text-[10px] font-extrabold text-slate-400 uppercase tracking-widest", children: "Tax" }), c.jsxs("div", { className: "text-lg font-bold text-slate-700 dark:text-slate-300", children: ["$", e.totalTax.toFixed(2)] })] }), c.jsxs("div", { className: "text-center", children: [c.jsx("div", { className: "text-[10px] font-extrabold text-slate-400 uppercase tracking-widest", children: "Shipping" }), c.jsxs("div", { className: "text-lg font-bold text-slate-700 dark:text-slate-300", children: ["$", e.shippingCost.toFixed(2)] })] }), c.jsxs("div", { className: "text-center p-3 rounded-2xl bg-gradient-to-br from-medical-600 to-teal-600 text-white shadow-xl shadow-medical-500/30", children: [c.jsx("div", { className: "text-[10px] font-extrabold uppercase tracking-widest opacity-80", children: "Total" }), c.jsxs("div", { className: "text-2xl font-black", children: ["$", e.grandTotal.toFixed(2)] })] })] }), e.notes && c.jsxs("div", { className: "mt-4 p-4 rounded-xl bg-amber-50/50 dark:bg-amber-900/10 border border-amber-200/50 dark:border-amber-800/50", children: [c.jsx("div", { className: "text-[10px] font-extrabold text-amber-600 uppercase tracking-widest mb-1", children: "Notes" }), c.jsx("p", { className: "text-sm font-medium text-amber-800 dark:text-amber-200 leading-relaxed", children: e.notes })] })] })] }) }) }, bme = ({ orders: e, inventory: t, user: r, hasPermission: n, onSaveOrder: a, onReceiveOrder: i, onDeleteOrder: s, onAddToInventory: l, t: f, isLoadingOrders: d }) => { const [h, m] = A.useState(!1), [g, v] = A.useState(null), [y, b] = A.useState(!1), [_, k] = A.useState(null), [C, T] = A.useState("list"), [j, R] = A.useState("All"), [O, I] = A.useState(""), [H, F] = A.useState(""); A.useMemo(() => { const z = Wp.map(M => M.name), ie = Array.from(new Set(e.map(M => M.vendor))).filter(Boolean); return Array.from(new Set([...z, ...ie])).sort() }, [e]); const X = A.useMemo(() => e.filter(z => { const ie = j === "All" || z.vendor.toLowerCase().includes(j.toLowerCase()) || j.toLowerCase().includes(z.vendor.toLowerCase()); let M = !0; return O && (M = M && z.orderDate >= O), H && (M = M && z.orderDate <= H), ie && M }), [e, j, O, H]), V = () => { v(null), m(!0) }, U = z => { z.status !== "RECEIVED" && (v(z), m(!0)) }, ee = async z => { const ie = { ...z, id: (g == null ? void 0 : g.id) || Date.now().toString() }; await a(ie), m(!1) }, re = () => { R("All"), I(""), F("") }, de = z => { switch (z) { case "DRAFT": return "bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400"; case "PENDING": return "bg-orange-100 text-orange-600 dark:bg-orange-900/30 dark:text-orange-400"; case "RECEIVED": return "bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400"; case "CANCELLED": return "bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400"; default: return "bg-gray-100 text-gray-600" } }, D = z => { if (z) return Wp.find(ie => z.toLowerCase().includes(ie.name.toLowerCase()) || ie.name.toLowerCase().includes(z.toLowerCase())) }; return h ? c.jsx("div", { className: "animate-fade-in-up pb-20", children: c.jsx(gme, { onSave: ee, onCancel: () => m(!1), existingInventory: t, initialData: g || void 0, t: f, isSaving: d }) }) : c.jsxs("div", { className: "space-y-6 pb-20 md:pb-10 animate-fade-in-up", children: [c.jsxs("header", { className: "flex flex-col md:flex-row md:items-center justify-between gap-6", children: [c.jsxs("div", { children: [c.jsx("h2", { className: "text-display text-slate-900 dark:text-white", children: f("ord_title") }), c.jsx("p", { className: "text-caption mt-1", children: f("ord_subtitle") })] }), n("orders.create") && c.jsxs("div", { className: "flex flex-wrap gap-3", children: [c.jsxs("button", { onClick: () => T(C === "list" ? "analytics" : "list"), className: `h-14 px-6 rounded-2xl font-extrabold shadow-xl flex items-center gap-2 transition-all transform hover:scale-105 active:scale-95 ${C === "analytics" ? "bg-white text-medical-600 shadow-medical-500/10 ring-2 ring-medical-500/30" : "bg-gradient-to-r from-medical-600 to-teal-600 text-white shadow-medical-500/30"}`, children: [c.jsx("i", { className: `fa-solid ${C === "list" ? "fa-chart-pie" : "fa-list"} text-lg` }), c.jsx("span", { className: "tracking-tight", children: C === "list" ? "Analytics" : "Orders List" })] }), c.jsxs("button", { onClick: () => b(!0), className: "h-14 px-6 bg-gradient-to-r from-medical-50 to-teal-50 dark:from-medical-900/10 dark:to-teal-900/10 border-medical-200/40 dark:border-medical-800/40 text-medical-700 dark:text-medical-300 rounded-2xl font-extrabold shadow-xl flex items-center gap-2 transition-all transform hover:scale-105 active:scale-95 group", title: "Scan Order", children: [c.jsx("i", { className: "fa-solid fa-wand-magic-sparkles text-lg group-hover:rotate-12 transition-transform" }), c.jsx("span", { className: "tracking-tight hidden sm:inline", children: "Scan" })] }), c.jsxs("button", { onClick: V, className: "h-14 px-8 bg-medical-600 text-white rounded-2xl font-extrabold shadow-2xl shadow-medical-500/40 flex items-center gap-2 transition-all transform hover:scale-105 active:scale-95 group", children: [c.jsx("i", { className: "fa-solid fa-plus text-lg group-hover:rotate-90 transition-transform" }), c.jsx("span", { className: "tracking-tight", children: f("btn_new_order") })] })] })] }), C === "list" && c.jsxs(c.Fragment, { children: [c.jsxs("div", { className: "flex flex-wrap gap-4", children: [c.jsxs("button", { onClick: () => R("All"), className: `group relative h-16 px-6 rounded-2xl font-extrabold text-sm transition-all duration-300 overflow-hidden ${j === "All" ? "bg-gradient-to-r from-medical-600 to-teal-600 text-white shadow-2xl shadow-medical-500/50 scale-105 ring-2 ring-white/30" : "glass-panel text-slate-700 dark:text-white hover:shadow-xl hover:scale-[1.02] border-slate-200 dark:border-slate-800"}`, children: [c.jsxs("div", { className: "flex items-center gap-3 relative z-10", children: [c.jsx("div", { className: `w-10 h-10 rounded-xl ${j === "All" ? "bg-white/20" : "bg-medical-500/10"} flex items-center justify-center transition-all`, children: c.jsx("i", { className: "fa-solid fa-boxes-stacked text-lg" }) }), c.jsx("span", { className: "font-extrabold", children: "All Vendors" })] }), j === "All" && c.jsx("div", { className: "absolute inset-0 bg-gradient-to-r from-white/10 to-transparent animate-pulse" })] }), Wp.map(z => c.jsxs("button", { onClick: () => R(z.name), className: `group relative h-16 px-5 rounded-2xl font-extrabold text-sm transition-all duration-300 flex items-center gap-3 overflow-hidden ${j === z.name ? `bg-gradient-to-r ${z.color} text-white shadow-2xl ${z.glowColor} scale-105 ring-2 ring-white/30` : `${z.bgColor} ${z.textColor} hover:shadow-xl hover:scale-[1.02] border-2 ${z.borderActive} border-opacity-30 hover:border-opacity-100`}`, children: [z.logo ? c.jsx("div", { className: `relative w-12 h-12 rounded-xl overflow-hidden ${z.logoBg} ${j === z.name ? "shadow-lg ring-2 ring-white/50" : "shadow-sm"} p-1.5 transition-all group-hover:shadow-lg`, children: c.jsx("img", { src: z.logo, alt: z.name, className: "w-full h-full object-contain" }) }) : c.jsx("div", { className: `relative w-12 h-12 rounded-xl flex items-center justify-center bg-gradient-to-br ${z.color} text-white font-extrabold text-lg transition-all shadow-md group-hover:shadow-lg border border-white/10 ${j === z.name ? "ring-2 ring-white/50" : ""}`, children: z.initials || z.name.charAt(0).toUpperCase() }), c.jsx("span", { className: "hidden sm:inline font-extrabold", children: z.name }), j === z.name && c.jsx("div", { className: "absolute inset-0 bg-gradient-to-r from-white/20 to-transparent animate-pulse" })] }, z.name))] }), c.jsxs("div", { className: "glass-panel p-4 rounded-[2.5rem] luxury-shadow flex flex-col md:flex-row gap-4 items-center sticky top-24 z-20 border-white/50 dark:border-slate-800/80", children: [c.jsxs("div", { className: "flex-1 relative group", children: [c.jsx("i", { className: "fa-solid fa-calendar-day absolute left-5 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-medical-500 transition-colors z-10 pointer-events-none" }), c.jsx("input", { type: O ? "date" : "text", value: O, placeholder: f("filter_start_date"), onFocus: z => z.target.type = "date", onBlur: z => { z.target.value || (z.target.type = "text") }, onChange: z => I(z.target.value), className: "w-full h-14 pl-12 pr-6 bg-slate-50/50 dark:bg-slate-900/50 border-none rounded-2xl font-bold text-sm text-slate-700 dark:text-slate-200 focus:ring-4 ring-medical-500/10 transition-all outline-none placeholder:text-slate-400" })] }), c.jsxs("div", { className: "flex-1 relative group", children: [c.jsx("i", { className: "fa-solid fa-calendar-check absolute left-5 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-medical-500 transition-colors z-10 pointer-events-none" }), c.jsx("input", { type: H ? "date" : "text", value: H, placeholder: f("filter_end_date"), onFocus: z => z.target.type = "date", onBlur: z => { z.target.value || (z.target.type = "text") }, onChange: z => F(z.target.value), className: "w-full h-14 pl-12 pr-6 bg-slate-50/50 dark:bg-slate-900/50 border-none rounded-2xl font-bold text-sm text-slate-700 dark:text-slate-200 focus:ring-4 ring-medical-500/10 transition-all outline-none placeholder:text-slate-400" })] }), (j !== "All" || O || H) && c.jsxs("button", { onClick: re, className: "h-14 px-8 rounded-2xl bg-red-50 dark:bg-red-900/20 text-red-500 font-extrabold text-sm hover:bg-red-100 dark:hover:bg-red-900/40 transition-all flex items-center gap-2 shadow-sm hover:shadow-red-500/20", children: [c.jsx("i", { className: "fa-solid fa-xmark text-lg" }), f("btn_clear_filters")] })] }), c.jsxs("div", { className: "mt-8 overflow-visible", children: [c.jsx("div", { className: "p-4 flex items-center justify-between", children: c.jsxs("span", { className: "text-xs font-bold text-gray-400 uppercase tracking-wider", children: [f("lbl_filtered_results"), "  ", X.length] }) }), c.jsx("div", { className: "overflow-visible", children: c.jsxs("table", { className: "w-full text-left border-separate border-spacing-y-4", children: [c.jsx("thead", { className: "bg-gray-50 dark:bg-gray-800/50 border-b border-gray-100 dark:border-gray-800", children: c.jsxs("tr", { children: [c.jsx("th", { className: "p-6 text-xs font-extrabold text-gray-400 uppercase tracking-wider", children: f("lbl_vendor") }), c.jsx("th", { className: "p-6 text-xs font-extrabold text-gray-400 uppercase tracking-wider", children: f("lbl_po") }), c.jsx("th", { className: "p-6 text-xs font-extrabold text-gray-400 uppercase tracking-wider", children: f("lbl_date") }), c.jsx("th", { className: "p-6 text-xs font-extrabold text-gray-400 uppercase tracking-wider", children: "Items" }), c.jsx("th", { className: "p-6 text-xs font-extrabold text-gray-400 uppercase tracking-wider", children: f("lbl_total") }), c.jsx("th", { className: "p-6 text-xs font-extrabold text-gray-400 uppercase tracking-wider", children: f("lbl_status") }), c.jsx("th", { className: "p-6 text-xs font-extrabold text-gray-400 uppercase tracking-wider text-right", children: f("th_controls") })] }) }), c.jsx("tbody", { className: "space-y-4", children: X.length === 0 ? c.jsx("tr", { children: c.jsx("td", { colSpan: 7, className: "p-20 text-center", children: c.jsxs("div", { className: "flex flex-col items-center justify-center opacity-40", children: [c.jsx("i", { className: "fa-solid fa-file-invoice text-6xl mb-4 text-slate-300" }), c.jsx("p", { className: "text-xl font-bold text-slate-400", children: "No orders found" })] }) }) }) : X.map((z, ie) => { const M = D(z.vendor); return c.jsxs("tr", { className: "group relative transition-all duration-300 hover:scale-[1.01] hover:-translate-y-1 block md:table-row", style: { animationDelay: `${ie * 50}ms` }, onClick: () => k(z), children: [c.jsx("td", { className: "p-5 bg-white dark:bg-slate-900 border-y border-l border-white dark:border-slate-800 rounded-l-[1.5rem] shadow-sm group-hover:shadow-xl group-hover:shadow-medical-500/10 group-hover:border-medical-500/20 transition-all cursor-pointer align-middle block md:table-cell", children: c.jsxs("div", { className: "flex items-center gap-4", children: [M != null && M.logo ? c.jsx("div", { className: `w-14 h-14 rounded-2xl ${M.logoBg || "bg-white"} p-2 shadow-md flex items-center justify-center group-hover:scale-110 transition-transform`, children: c.jsx("img", { src: M.logo, alt: z.vendor, className: "w-full h-full object-contain" }) }) : c.jsx("div", { className: `w-14 h-14 rounded-2xl bg-gradient-to-br ${(M == null ? void 0 : M.color) || "from-slate-400 to-slate-600"} flex items-center justify-center text-white font-extrabold text-xl shadow-md group-hover:scale-110 transition-transform border border-white/10`, children: (M == null ? void 0 : M.initials) || z.vendor.charAt(0).toUpperCase() }), c.jsxs("div", { children: [c.jsx("div", { className: "font-extrabold text-slate-900 dark:text-slate-100 text-lg group-hover:text-medical-600 transition-colors uppercase tracking-tight", children: z.vendor }), c.jsxs("div", { className: "text-[10px] font-extrabold text-slate-400 uppercase tracking-widest mt-0.5", children: [z.items.length, " items"] })] })] }) }), c.jsx("td", { className: "p-5 bg-white dark:bg-slate-900 border-y border-white dark:border-slate-800 shadow-sm group-hover:shadow-xl group-hover:shadow-medical-500/10 group-hover:border-medical-500/20 transition-all cursor-pointer align-middle block md:table-cell", children: c.jsxs("div", { className: "font-mono font-extrabold text-slate-500 dark:text-slate-400 bg-slate-50 dark:bg-slate-800/50 px-3 py-1 rounded-lg inline-block text-[11px] border border-slate-100 dark:border-slate-700/50", children: ["#", z.poNumber] }) }), c.jsxs("td", { className: "p-5 bg-white dark:bg-slate-900 border-y border-white dark:border-slate-800 shadow-sm group-hover:shadow-xl group-hover:shadow-medical-500/10 group-hover:border-medical-500/20 transition-all cursor-pointer align-middle block md:table-cell", children: [c.jsx("div", { className: "font-extrabold text-slate-700 dark:text-slate-300 text-sm", children: new Date(z.orderDate).toLocaleDateString(void 0, { month: "short", day: "numeric", year: "numeric" }) }), z.expectedDate && c.jsxs("div", { className: "text-[10px] font-extrabold text-medical-500 mt-1 uppercase tracking-widest", children: ["ETA: ", new Date(z.expectedDate).toLocaleDateString(void 0, { month: "short", day: "numeric" })] })] }), c.jsx("td", { className: "p-5 bg-white dark:bg-slate-900 border-y border-white dark:border-slate-800 shadow-sm group-hover:shadow-xl group-hover:shadow-medical-500/10 group-hover:border-medical-500/20 transition-all cursor-pointer align-middle block md:table-cell", children: c.jsxs("div", { className: "flex -space-x-2.5 overflow-hidden py-1", children: [z.items.slice(0, 3).map((te, G) => c.jsx("div", { className: "w-9 h-9 rounded-full bg-slate-50 dark:bg-slate-800 border-2 border-white dark:border-slate-900 flex items-center justify-center text-[10px] font-extrabold text-slate-600 shadow-sm", title: te.name, children: te.name.charAt(0) }, G)), z.items.length > 3 && c.jsxs("div", { className: "w-9 h-9 rounded-full bg-medical-50 dark:bg-medical-900/30 border-2 border-white dark:border-slate-900 flex items-center justify-center text-[10px] font-extrabold text-medical-600 shadow-sm", children: ["+", z.items.length - 3] })] }) }), c.jsx("td", { className: "p-5 bg-white dark:bg-slate-900 border-y border-white dark:border-slate-800 shadow-sm group-hover:shadow-xl group-hover:shadow-medical-500/10 group-hover:border-medical-500/20 transition-all cursor-pointer align-middle block md:table-cell", children: c.jsxs("div", { className: "font-black text-slate-900 dark:text-slate-200 text-xl tracking-tight", children: ["$", z.grandTotal.toFixed(2)] }) }), c.jsx("td", { className: "p-5 bg-white dark:bg-slate-900 border-y border-white dark:border-slate-800 shadow-sm group-hover:shadow-xl group-hover:shadow-medical-500/10 group-hover:border-medical-500/20 transition-all cursor-pointer align-middle block md:table-cell", children: c.jsx("span", { className: `px-4 py-2 rounded-xl text-[10px] font-extrabold uppercase tracking-widest ${de(z.status)} transform group-hover:scale-110 transition-transform inline-block border border-white/20 shadow-sm`, children: z.status }) }), c.jsxs("td", { className: "p-5 bg-white dark:bg-slate-900 border-y border-r border-white dark:border-slate-800 rounded-r-[1.5rem] shadow-sm group-hover:shadow-xl group-hover:shadow-blue-500/10 group-hover:border-blue-500/20 transition-all cursor-pointer text-right align-middle block md:table-cell", onClick: te => te.stopPropagation(), children: [c.jsxs("div", { className: "flex justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity", children: [c.jsx("button", { onClick: () => k(z), className: "w-10 h-10 rounded-xl bg-slate-100 dark:bg-slate-800 text-slate-600 hover:bg-blue-500 hover:text-white flex items-center justify-center transition-all shadow-sm hover:shadow-blue-500/30", title: "View Details", children: c.jsx("i", { className: "fa-solid fa-eye" }) }), z.status !== "RECEIVED" && c.jsxs(c.Fragment, { children: [n("orders.create") && c.jsx("button", { onClick: () => U(z), className: "w-10 h-10 rounded-xl bg-slate-100 dark:bg-slate-800 text-slate-600 hover:bg-amber-500 hover:text-white transition-all flex items-center justify-center shadow-sm hover:shadow-amber-500/30", children: c.jsx("i", { className: "fa-solid fa-pen" }) }), n("orders.receive") && c.jsx("button", { onClick: () => { window.confirm(f("msg_receive_confirm")) && i(z) }, className: "w-10 h-10 rounded-xl bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 hover:bg-emerald-500 hover:text-white transition-all flex items-center justify-center shadow-sm hover:shadow-emerald-500/30", title: f("btn_receive"), children: c.jsx("i", { className: "fa-solid fa-box-open" }) })] }), n("orders.delete") && c.jsx("button", { onClick: () => { window.confirm(f("msg_delete_confirm") || "Are you sure you want to delete this order?") && s(z.id) }, className: "w-10 h-10 rounded-xl bg-red-50 dark:bg-red-900/20 text-red-500 hover:bg-red-500 hover:text-white transition-all flex items-center justify-center shadow-sm hover:shadow-red-500/30", title: "Delete Order", children: c.jsx("i", { className: "fa-solid fa-trash" }) })] }), c.jsx("div", { className: "md:hidden text-slate-400", children: c.jsx("i", { className: "fa-solid fa-ellipsis-vertical" }) })] })] }, z.id) }) })] }) })] })] }), C === "analytics" && c.jsx(vme, { orders: X, inventory: t, t: f }), c.jsx(yme, { order: _, onClose: () => k(null), inventory: t, onDelete: s, canDelete: n("orders.delete"), t: f }), c.jsx(xme, { isOpen: y, onClose: () => b(!1), onCreateOrder: z => { const ie = { ...z, id: Date.now().toString() }; a(ie) }, onAddToInventory: l, existingInventory: t, t: f })] }) };/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var ZL = 1252, wme = [874, 932, 936, 949, 950, 1250, 1251, 1252, 1253, 1254, 1255, 1256, 1257, 1258, 1e4], KE = { 0: 1252, 1: 65001, 2: 65001, 77: 1e4, 128: 932, 129: 949, 130: 1361, 134: 936, 136: 950, 161: 1253, 162: 1254, 163: 1258, 177: 1255, 178: 1256, 186: 1257, 204: 1251, 222: 874, 238: 1250, 255: 1252, 69: 6969 }, YE = function (e) { wme.indexOf(e) != -1 && (ZL = KE[0] = e) }; function _me() { YE(1252) } var pi = function (e) { YE(e) }; function QL() { pi(1200), _me() } function _D(e) { for (var t = [], r = 0, n = e.length; r < n; ++r)t[r] = e.charCodeAt(r); return t } function Sme(e) { for (var t = [], r = 0; r < e.length >> 1; ++r)t[r] = String.fromCharCode(e.charCodeAt(2 * r) + (e.charCodeAt(2 * r + 1) << 8)); return t.join("") } function eF(e) { for (var t = [], r = 0; r < e.length >> 1; ++r)t[r] = String.fromCharCode(e.charCodeAt(2 * r + 1) + (e.charCodeAt(2 * r) << 8)); return t.join("") } var mf = function (e) { var t = e.charCodeAt(0), r = e.charCodeAt(1); return t == 255 && r == 254 ? Sme(e.slice(2)) : t == 254 && r == 255 ? eF(e.slice(2)) : t == 65279 ? e.slice(1) : e }, kp = function (t) { return String.fromCharCode(t) }, SD = function (t) { return String.fromCharCode(t) }, t0, Oo = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="; function ED(e) { for (var t = "", r = 0, n = 0, a = 0, i = 0, s = 0, l = 0, f = 0, d = 0; d < e.length;)r = e.charCodeAt(d++), i = r >> 2, n = e.charCodeAt(d++), s = (r & 3) << 4 | n >> 4, a = e.charCodeAt(d++), l = (n & 15) << 2 | a >> 6, f = a & 63, isNaN(n) ? l = f = 64 : isNaN(a) && (f = 64), t += Oo.charAt(i) + Oo.charAt(s) + Oo.charAt(l) + Oo.charAt(f); return t } function Na(e) { var t = "", r = 0, n = 0, a = 0, i = 0, s = 0, l = 0, f = 0; e = e.replace(/[^\w\+\/\=]/g, ""); for (var d = 0; d < e.length;)i = Oo.indexOf(e.charAt(d++)), s = Oo.indexOf(e.charAt(d++)), r = i << 2 | s >> 4, t += String.fromCharCode(r), l = Oo.indexOf(e.charAt(d++)), n = (s & 15) << 4 | l >> 2, l !== 64 && (t += String.fromCharCode(n)), f = Oo.indexOf(e.charAt(d++)), a = (l & 3) << 6 | f, f !== 64 && (t += String.fromCharCode(a)); return t } var St = (function () { return typeof Buffer < "u" && typeof process < "u" && typeof process.versions < "u" && !!process.versions.node })(), oc = (function () { if (typeof Buffer < "u") { var e = !Buffer.from; if (!e) try { Buffer.from("foo", "utf8") } catch { e = !0 } return e ? function (t, r) { return r ? new Buffer(t, r) : new Buffer(t) } : Buffer.from.bind(Buffer) } return function () { } })(); function $o(e) { return St ? Buffer.alloc ? Buffer.alloc(e) : new Buffer(e) : typeof Uint8Array < "u" ? new Uint8Array(e) : new Array(e) } function kD(e) { return St ? Buffer.allocUnsafe ? Buffer.allocUnsafe(e) : new Buffer(e) : typeof Uint8Array < "u" ? new Uint8Array(e) : new Array(e) } var hi = function (t) { return St ? oc(t, "binary") : t.split("").map(function (r) { return r.charCodeAt(0) & 255 }) }; function lc(e) { if (Array.isArray(e)) return e.map(function (n) { return String.fromCharCode(n) }).join(""); for (var t = [], r = 0; r < e.length; ++r)t[r] = String.fromCharCode(e[r]); return t.join("") } function XE(e) { if (typeof ArrayBuffer > "u") throw new Error("Unsupported"); if (e instanceof ArrayBuffer) return XE(new Uint8Array(e)); for (var t = new Array(e.length), r = 0; r < e.length; ++r)t[r] = e[r]; return t } var Co = St ? function (e) { return Buffer.concat(e.map(function (t) { return Buffer.isBuffer(t) ? t : oc(t) })) } : function (e) { if (typeof Uint8Array < "u") { var t = 0, r = 0; for (t = 0; t < e.length; ++t)r += e[t].length; var n = new Uint8Array(r), a = 0; for (t = 0, r = 0; t < e.length; r += a, ++t)if (a = e[t].length, e[t] instanceof Uint8Array) n.set(e[t], r); else { if (typeof e[t] == "string") throw "wtf"; n.set(new Uint8Array(e[t]), r) } return n } return [].concat.apply([], e.map(function (i) { return Array.isArray(i) ? i : [].slice.call(i) })) }; function Eme(e) { for (var t = [], r = 0, n = e.length + 250, a = $o(e.length + 255), i = 0; i < e.length; ++i) { var s = e.charCodeAt(i); if (s < 128) a[r++] = s; else if (s < 2048) a[r++] = 192 | s >> 6 & 31, a[r++] = 128 | s & 63; else if (s >= 55296 && s < 57344) { s = (s & 1023) + 64; var l = e.charCodeAt(++i) & 1023; a[r++] = 240 | s >> 8 & 7, a[r++] = 128 | s >> 2 & 63, a[r++] = 128 | l >> 6 & 15 | (s & 3) << 4, a[r++] = 128 | l & 63 } else a[r++] = 224 | s >> 12 & 15, a[r++] = 128 | s >> 6 & 63, a[r++] = 128 | s & 63; r > n && (t.push(a.slice(0, r)), r = 0, a = $o(65535), n = 65530) } return t.push(a.slice(0, r)), Co(t) } var Yn = /\u0000/g, gf = /[\u0001-\u0006]/g; function Au(e) { for (var t = "", r = e.length - 1; r >= 0;)t += e.charAt(r--); return t } function mi(e, t) { var r = "" + e; return r.length >= t ? r : _r("0", t - r.length) + r } function JE(e, t) { var r = "" + e; return r.length >= t ? r : _r(" ", t - r.length) + r } function rg(e, t) { var r = "" + e; return r.length >= t ? r : r + _r(" ", t - r.length) } function kme(e, t) { var r = "" + Math.round(e); return r.length >= t ? r : _r("0", t - r.length) + r } function Tme(e, t) { var r = "" + e; return r.length >= t ? r : _r("0", t - r.length) + r } var TD = Math.pow(2, 32); function ou(e, t) { if (e > TD || e < -TD) return kme(e, t); var r = Math.round(e); return Tme(r, t) } function ng(e, t) { return t = t || 0, e.length >= 7 + t && (e.charCodeAt(t) | 32) === 103 && (e.charCodeAt(t + 1) | 32) === 101 && (e.charCodeAt(t + 2) | 32) === 110 && (e.charCodeAt(t + 3) | 32) === 101 && (e.charCodeAt(t + 4) | 32) === 114 && (e.charCodeAt(t + 5) | 32) === 97 && (e.charCodeAt(t + 6) | 32) === 108 } var ND = [["Sun", "Sunday"], ["Mon", "Monday"], ["Tue", "Tuesday"], ["Wed", "Wednesday"], ["Thu", "Thursday"], ["Fri", "Friday"], ["Sat", "Saturday"]], R1 = [["J", "Jan", "January"], ["F", "Feb", "February"], ["M", "Mar", "March"], ["A", "Apr", "April"], ["M", "May", "May"], ["J", "Jun", "June"], ["J", "Jul", "July"], ["A", "Aug", "August"], ["S", "Sep", "September"], ["O", "Oct", "October"], ["N", "Nov", "November"], ["D", "Dec", "December"]]; function Nme(e) { return e || (e = {}), e[0] = "General", e[1] = "0", e[2] = "0.00", e[3] = "#,##0", e[4] = "#,##0.00", e[9] = "0%", e[10] = "0.00%", e[11] = "0.00E+00", e[12] = "# ?/?", e[13] = "# ??/??", e[14] = "m/d/yy", e[15] = "d-mmm-yy", e[16] = "d-mmm", e[17] = "mmm-yy", e[18] = "h:mm AM/PM", e[19] = "h:mm:ss AM/PM", e[20] = "h:mm", e[21] = "h:mm:ss", e[22] = "m/d/yy h:mm", e[37] = "#,##0 ;(#,##0)", e[38] = "#,##0 ;[Red](#,##0)", e[39] = "#,##0.00;(#,##0.00)", e[40] = "#,##0.00;[Red](#,##0.00)", e[45] = "mm:ss", e[46] = "[h]:mm:ss", e[47] = "mmss.0", e[48] = "##0.0E+0", e[49] = "@", e[56] = '"/ "hh""mm""ss" "', e } var ft = { 0: "General", 1: "0", 2: "0.00", 3: "#,##0", 4: "#,##0.00", 9: "0%", 10: "0.00%", 11: "0.00E+00", 12: "# ?/?", 13: "# ??/??", 14: "m/d/yy", 15: "d-mmm-yy", 16: "d-mmm", 17: "mmm-yy", 18: "h:mm AM/PM", 19: "h:mm:ss AM/PM", 20: "h:mm", 21: "h:mm:ss", 22: "m/d/yy h:mm", 37: "#,##0 ;(#,##0)", 38: "#,##0 ;[Red](#,##0)", 39: "#,##0.00;(#,##0.00)", 40: "#,##0.00;[Red](#,##0.00)", 45: "mm:ss", 46: "[h]:mm:ss", 47: "mmss.0", 48: "##0.0E+0", 49: "@", 56: '"/ "hh""mm""ss" "' }, AD = { 5: 37, 6: 38, 7: 39, 8: 40, 23: 0, 24: 0, 25: 0, 26: 0, 27: 14, 28: 14, 29: 14, 30: 14, 31: 14, 50: 14, 51: 14, 52: 14, 53: 14, 54: 14, 55: 14, 56: 14, 57: 14, 58: 14, 59: 1, 60: 2, 61: 3, 62: 4, 67: 9, 68: 10, 69: 12, 70: 13, 71: 14, 72: 14, 73: 15, 74: 16, 75: 17, 76: 20, 77: 21, 78: 22, 79: 45, 80: 46, 81: 47, 82: 0 }, Ame = { 5: '"$"#,##0_);\\("$"#,##0\\)', 63: '"$"#,##0_);\\("$"#,##0\\)', 6: '"$"#,##0_);[Red]\\("$"#,##0\\)', 64: '"$"#,##0_);[Red]\\("$"#,##0\\)', 7: '"$"#,##0.00_);\\("$"#,##0.00\\)', 65: '"$"#,##0.00_);\\("$"#,##0.00\\)', 8: '"$"#,##0.00_);[Red]\\("$"#,##0.00\\)', 66: '"$"#,##0.00_);[Red]\\("$"#,##0.00\\)', 41: '_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)', 42: '_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)', 43: '_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)', 44: '_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)' }; function ag(e, t, r) { for (var n = e < 0 ? -1 : 1, a = e * n, i = 0, s = 1, l = 0, f = 1, d = 0, h = 0, m = Math.floor(a); d < t && (m = Math.floor(a), l = m * s + i, h = m * d + f, !(a - m < 5e-8));)a = 1 / (a - m), i = s, s = l, f = d, d = h; if (h > t && (d > t ? (h = f, l = i) : (h = d, l = s)), !r) return [0, n * l, h]; var g = Math.floor(n * l / h); return [g, n * l - g * h, h] } function Fl(e, t, r) { if (e > 2958465 || e < 0) return null; var n = e | 0, a = Math.floor(86400 * (e - n)), i = 0, s = [], l = { D: n, T: a, u: 86400 * (e - n) - a, y: 0, m: 0, d: 0, H: 0, M: 0, S: 0, q: 0 }; if (Math.abs(l.u) < 1e-6 && (l.u = 0), t && t.date1904 && (n += 1462), l.u > .9999 && (l.u = 0, ++a == 86400 && (l.T = a = 0, ++n, ++l.D)), n === 60) s = r ? [1317, 10, 29] : [1900, 2, 29], i = 3; else if (n === 0) s = r ? [1317, 8, 29] : [1900, 1, 0], i = 6; else { n > 60 && --n; var f = new Date(1900, 0, 1); f.setDate(f.getDate() + n - 1), s = [f.getFullYear(), f.getMonth() + 1, f.getDate()], i = f.getDay(), n < 60 && (i = (i + 6) % 7), r && (i = Pme(f, s)) } return l.y = s[0], l.m = s[1], l.d = s[2], l.S = a % 60, a = Math.floor(a / 60), l.M = a % 60, a = Math.floor(a / 60), l.H = a, l.q = i, l } var tF = new Date(1899, 11, 31, 0, 0, 0), Cme = tF.getTime(), jme = new Date(1900, 2, 1, 0, 0, 0); function rF(e, t) { var r = e.getTime(); return t ? r -= 1461 * 24 * 60 * 60 * 1e3 : e >= jme && (r += 1440 * 60 * 1e3), (r - (Cme + (e.getTimezoneOffset() - tF.getTimezoneOffset()) * 6e4)) / (1440 * 60 * 1e3) } function ZE(e) { return e.indexOf(".") == -1 ? e : e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/, "$1") } function Ime(e) { return e.indexOf("E") == -1 ? e : e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/, "$1E").replace(/(E[+-])(\d)$/, "$10$2") } function Ome(e) { var t = e < 0 ? 12 : 11, r = ZE(e.toFixed(12)); return r.length <= t || (r = e.toPrecision(10), r.length <= t) ? r : e.toExponential(5) } function Rme(e) { var t = ZE(e.toFixed(11)); return t.length > (e < 0 ? 12 : 11) || t === "0" || t === "-0" ? e.toPrecision(6) : t } function r0(e) { var t = Math.floor(Math.log(Math.abs(e)) * Math.LOG10E), r; return t >= -4 && t <= -1 ? r = e.toPrecision(10 + t) : Math.abs(t) <= 9 ? r = Ome(e) : t === 10 ? r = e.toFixed(10).substr(0, 12) : r = Rme(e), ZE(Ime(r.toUpperCase())) } function ec(e, t) { switch (typeof e) { case "string": return e; case "boolean": return e ? "TRUE" : "FALSE"; case "number": return (e | 0) === e ? e.toString(10) : r0(e); case "undefined": return ""; case "object": if (e == null) return ""; if (e instanceof Date) return Ja(14, rF(e, t && t.date1904), t) }throw new Error("unsupported value in General format: " + e) } function Pme(e, t) { t[0] -= 581; var r = e.getDay(); return e < 60 && (r = (r + 6) % 7), r } function Dme(e, t, r, n) { var a = "", i = 0, s = 0, l = r.y, f, d = 0; switch (e) { case 98: l = r.y + 543; case 121: switch (t.length) { case 1: case 2: f = l % 100, d = 2; break; default: f = l % 1e4, d = 4; break }break; case 109: switch (t.length) { case 1: case 2: f = r.m, d = t.length; break; case 3: return R1[r.m - 1][1]; case 5: return R1[r.m - 1][0]; default: return R1[r.m - 1][2] }break; case 100: switch (t.length) { case 1: case 2: f = r.d, d = t.length; break; case 3: return ND[r.q][0]; default: return ND[r.q][1] }break; case 104: switch (t.length) { case 1: case 2: f = 1 + (r.H + 11) % 12, d = t.length; break; default: throw "bad hour format: " + t }break; case 72: switch (t.length) { case 1: case 2: f = r.H, d = t.length; break; default: throw "bad hour format: " + t }break; case 77: switch (t.length) { case 1: case 2: f = r.M, d = t.length; break; default: throw "bad minute format: " + t }break; case 115: if (t != "s" && t != "ss" && t != ".0" && t != ".00" && t != ".000") throw "bad second format: " + t; return r.u === 0 && (t == "s" || t == "ss") ? mi(r.S, t.length) : (n >= 2 ? s = n === 3 ? 1e3 : 100 : s = n === 1 ? 10 : 1, i = Math.round(s * (r.S + r.u)), i >= 60 * s && (i = 0), t === "s" ? i === 0 ? "0" : "" + i / s : (a = mi(i, 2 + n), t === "ss" ? a.substr(0, 2) : "." + a.substr(2, t.length - 1))); case 90: switch (t) { case "[h]": case "[hh]": f = r.D * 24 + r.H; break; case "[m]": case "[mm]": f = (r.D * 24 + r.H) * 60 + r.M; break; case "[s]": case "[ss]": f = ((r.D * 24 + r.H) * 60 + r.M) * 60 + Math.round(r.S + r.u); break; default: throw "bad abstime format: " + t }d = t.length === 3 ? 1 : 2; break; case 101: f = l, d = 1; break }var h = d > 0 ? mi(f, d) : ""; return h } function Ro(e) { var t = 3; if (e.length <= t) return e; for (var r = e.length % t, n = e.substr(0, r); r != e.length; r += t)n += (n.length > 0 ? "," : "") + e.substr(r, t); return n } var nF = /%/g; function Mme(e, t, r) { var n = t.replace(nF, ""), a = t.length - n.length; return Ts(e, n, r * Math.pow(10, 2 * a)) + _r("%", a) } function Lme(e, t, r) { for (var n = t.length - 1; t.charCodeAt(n - 1) === 44;)--n; return Ts(e, t.substr(0, n), r / Math.pow(10, 3 * (t.length - n))) } function aF(e, t) { var r, n = e.indexOf("E") - e.indexOf(".") - 1; if (e.match(/^#+0.0E\+0$/)) { if (t == 0) return "0.0E+0"; if (t < 0) return "-" + aF(e, -t); var a = e.indexOf("."); a === -1 && (a = e.indexOf("E")); var i = Math.floor(Math.log(t) * Math.LOG10E) % a; if (i < 0 && (i += a), r = (t / Math.pow(10, i)).toPrecision(n + 1 + (a + i) % a), r.indexOf("e") === -1) { var s = Math.floor(Math.log(t) * Math.LOG10E); for (r.indexOf(".") === -1 ? r = r.charAt(0) + "." + r.substr(1) + "E+" + (s - r.length + i) : r += "E+" + (s - i); r.substr(0, 2) === "0.";)r = r.charAt(0) + r.substr(2, a) + "." + r.substr(2 + a), r = r.replace(/^0+([1-9])/, "$1").replace(/^0+\./, "0."); r = r.replace(/\+-/, "-") } r = r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/, function (l, f, d, h) { return f + d + h.substr(0, (a + i) % a) + "." + h.substr(i) + "E" }) } else r = t.toExponential(n); return e.match(/E\+00$/) && r.match(/e[+-]\d$/) && (r = r.substr(0, r.length - 1) + "0" + r.charAt(r.length - 1)), e.match(/E\-/) && r.match(/e\+/) && (r = r.replace(/e\+/, "e")), r.replace("e", "E") } var iF = /# (\?+)( ?)\/( ?)(\d+)/; function Fme(e, t, r) { var n = parseInt(e[4], 10), a = Math.round(t * n), i = Math.floor(a / n), s = a - i * n, l = n; return r + (i === 0 ? "" : "" + i) + " " + (s === 0 ? _r(" ", e[1].length + 1 + e[4].length) : JE(s, e[1].length) + e[2] + "/" + e[3] + mi(l, e[4].length)) } function Ume(e, t, r) { return r + (t === 0 ? "" : "" + t) + _r(" ", e[1].length + 2 + e[4].length) } var sF = /^#*0*\.([0#]+)/, oF = /\).*[0#]/, lF = /\(###\) ###\\?-####/; function Gn(e) { for (var t = "", r, n = 0; n != e.length; ++n)switch (r = e.charCodeAt(n)) { case 35: break; case 63: t += " "; break; case 48: t += "0"; break; default: t += String.fromCharCode(r) }return t } function CD(e, t) { var r = Math.pow(10, t); return "" + Math.round(e * r) / r } function jD(e, t) { var r = e - Math.floor(e), n = Math.pow(10, t); return t < ("" + Math.round(r * n)).length ? 0 : Math.round(r * n) } function Bme(e, t) { return t < ("" + Math.round((e - Math.floor(e)) * Math.pow(10, t))).length ? 1 : 0 } function $me(e) { return e < 2147483647 && e > -2147483648 ? "" + (e >= 0 ? e | 0 : e - 1 | 0) : "" + Math.floor(e) } function Ha(e, t, r) { if (e.charCodeAt(0) === 40 && !t.match(oF)) { var n = t.replace(/\( */, "").replace(/ \)/, "").replace(/\)/, ""); return r >= 0 ? Ha("n", n, r) : "(" + Ha("n", n, -r) + ")" } if (t.charCodeAt(t.length - 1) === 44) return Lme(e, t, r); if (t.indexOf("%") !== -1) return Mme(e, t, r); if (t.indexOf("E") !== -1) return aF(t, r); if (t.charCodeAt(0) === 36) return "$" + Ha(e, t.substr(t.charAt(1) == " " ? 2 : 1), r); var a, i, s, l, f = Math.abs(r), d = r < 0 ? "-" : ""; if (t.match(/^00+$/)) return d + ou(f, t.length); if (t.match(/^[#?]+$/)) return a = ou(r, 0), a === "0" && (a = ""), a.length > t.length ? a : Gn(t.substr(0, t.length - a.length)) + a; if (i = t.match(iF)) return Fme(i, f, d); if (t.match(/^#+0+$/)) return d + ou(f, t.length - t.indexOf("0")); if (i = t.match(sF)) return a = CD(r, i[1].length).replace(/^([^\.]+)$/, "$1." + Gn(i[1])).replace(/\.$/, "." + Gn(i[1])).replace(/\.(\d*)$/, function (y, b) { return "." + b + _r("0", Gn(i[1]).length - b.length) }), t.indexOf("0.") !== -1 ? a : a.replace(/^0\./, "."); if (t = t.replace(/^#+([0.])/, "$1"), i = t.match(/^(0*)\.(#*)$/)) return d + CD(f, i[2].length).replace(/\.(\d*[1-9])0*$/, ".$1").replace(/^(-?\d*)$/, "$1.").replace(/^0\./, i[1].length ? "0." : "."); if (i = t.match(/^#{1,3},##0(\.?)$/)) return d + Ro(ou(f, 0)); if (i = t.match(/^#,##0\.([#0]*0)$/)) return r < 0 ? "-" + Ha(e, t, -r) : Ro("" + (Math.floor(r) + Bme(r, i[1].length))) + "." + mi(jD(r, i[1].length), i[1].length); if (i = t.match(/^#,#*,#0/)) return Ha(e, t.replace(/^#,#*,/, ""), r); if (i = t.match(/^([0#]+)(\\?-([0#]+))+$/)) return a = Au(Ha(e, t.replace(/[\\-]/g, ""), r)), s = 0, Au(Au(t.replace(/\\/g, "")).replace(/[0#]/g, function (y) { return s < a.length ? a.charAt(s++) : y === "0" ? "0" : "" })); if (t.match(lF)) return a = Ha(e, "##########", r), "(" + a.substr(0, 3) + ") " + a.substr(3, 3) + "-" + a.substr(6); var h = ""; if (i = t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/)) return s = Math.min(i[4].length, 7), l = ag(f, Math.pow(10, s) - 1, !1), a = "" + d, h = Ts("n", i[1], l[1]), h.charAt(h.length - 1) == " " && (h = h.substr(0, h.length - 1) + "0"), a += h + i[2] + "/" + i[3], h = rg(l[2], s), h.length < i[4].length && (h = Gn(i[4].substr(i[4].length - h.length)) + h), a += h, a; if (i = t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/)) return s = Math.min(Math.max(i[1].length, i[4].length), 7), l = ag(f, Math.pow(10, s) - 1, !0), d + (l[0] || (l[1] ? "" : "0")) + " " + (l[1] ? JE(l[1], s) + i[2] + "/" + i[3] + rg(l[2], s) : _r(" ", 2 * s + 1 + i[2].length + i[3].length)); if (i = t.match(/^[#0?]+$/)) return a = ou(r, 0), t.length <= a.length ? a : Gn(t.substr(0, t.length - a.length)) + a; if (i = t.match(/^([#0?]+)\.([#0]+)$/)) { a = "" + r.toFixed(Math.min(i[2].length, 10)).replace(/([^0])0+$/, "$1"), s = a.indexOf("."); var m = t.indexOf(".") - s, g = t.length - a.length - m; return Gn(t.substr(0, m) + a + t.substr(t.length - g)) } if (i = t.match(/^00,000\.([#0]*0)$/)) return s = jD(r, i[1].length), r < 0 ? "-" + Ha(e, t, -r) : Ro($me(r)).replace(/^\d,\d{3}$/, "0$&").replace(/^\d*$/, function (y) { return "00," + (y.length < 3 ? mi(0, 3 - y.length) : "") + y }) + "." + mi(s, i[1].length); switch (t) { case "###,##0.00": return Ha(e, "#,##0.00", r); case "###,###": case "##,###": case "#,###": var v = Ro(ou(f, 0)); return v !== "0" ? d + v : ""; case "###,###.00": return Ha(e, "###,##0.00", r).replace(/^0\./, "."); case "#,###.00": return Ha(e, "#,##0.00", r).replace(/^0\./, ".") }throw new Error("unsupported format |" + t + "|") } function zme(e, t, r) { for (var n = t.length - 1; t.charCodeAt(n - 1) === 44;)--n; return Ts(e, t.substr(0, n), r / Math.pow(10, 3 * (t.length - n))) } function Hme(e, t, r) { var n = t.replace(nF, ""), a = t.length - n.length; return Ts(e, n, r * Math.pow(10, 2 * a)) + _r("%", a) } function cF(e, t) { var r, n = e.indexOf("E") - e.indexOf(".") - 1; if (e.match(/^#+0.0E\+0$/)) { if (t == 0) return "0.0E+0"; if (t < 0) return "-" + cF(e, -t); var a = e.indexOf("."); a === -1 && (a = e.indexOf("E")); var i = Math.floor(Math.log(t) * Math.LOG10E) % a; if (i < 0 && (i += a), r = (t / Math.pow(10, i)).toPrecision(n + 1 + (a + i) % a), !r.match(/[Ee]/)) { var s = Math.floor(Math.log(t) * Math.LOG10E); r.indexOf(".") === -1 ? r = r.charAt(0) + "." + r.substr(1) + "E+" + (s - r.length + i) : r += "E+" + (s - i), r = r.replace(/\+-/, "-") } r = r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/, function (l, f, d, h) { return f + d + h.substr(0, (a + i) % a) + "." + h.substr(i) + "E" }) } else r = t.toExponential(n); return e.match(/E\+00$/) && r.match(/e[+-]\d$/) && (r = r.substr(0, r.length - 1) + "0" + r.charAt(r.length - 1)), e.match(/E\-/) && r.match(/e\+/) && (r = r.replace(/e\+/, "e")), r.replace("e", "E") } function Fi(e, t, r) { if (e.charCodeAt(0) === 40 && !t.match(oF)) { var n = t.replace(/\( */, "").replace(/ \)/, "").replace(/\)/, ""); return r >= 0 ? Fi("n", n, r) : "(" + Fi("n", n, -r) + ")" } if (t.charCodeAt(t.length - 1) === 44) return zme(e, t, r); if (t.indexOf("%") !== -1) return Hme(e, t, r); if (t.indexOf("E") !== -1) return cF(t, r); if (t.charCodeAt(0) === 36) return "$" + Fi(e, t.substr(t.charAt(1) == " " ? 2 : 1), r); var a, i, s, l, f = Math.abs(r), d = r < 0 ? "-" : ""; if (t.match(/^00+$/)) return d + mi(f, t.length); if (t.match(/^[#?]+$/)) return a = "" + r, r === 0 && (a = ""), a.length > t.length ? a : Gn(t.substr(0, t.length - a.length)) + a; if (i = t.match(iF)) return Ume(i, f, d); if (t.match(/^#+0+$/)) return d + mi(f, t.length - t.indexOf("0")); if (i = t.match(sF)) return a = ("" + r).replace(/^([^\.]+)$/, "$1." + Gn(i[1])).replace(/\.$/, "." + Gn(i[1])), a = a.replace(/\.(\d*)$/, function (y, b) { return "." + b + _r("0", Gn(i[1]).length - b.length) }), t.indexOf("0.") !== -1 ? a : a.replace(/^0\./, "."); if (t = t.replace(/^#+([0.])/, "$1"), i = t.match(/^(0*)\.(#*)$/)) return d + ("" + f).replace(/\.(\d*[1-9])0*$/, ".$1").replace(/^(-?\d*)$/, "$1.").replace(/^0\./, i[1].length ? "0." : "."); if (i = t.match(/^#{1,3},##0(\.?)$/)) return d + Ro("" + f); if (i = t.match(/^#,##0\.([#0]*0)$/)) return r < 0 ? "-" + Fi(e, t, -r) : Ro("" + r) + "." + _r("0", i[1].length); if (i = t.match(/^#,#*,#0/)) return Fi(e, t.replace(/^#,#*,/, ""), r); if (i = t.match(/^([0#]+)(\\?-([0#]+))+$/)) return a = Au(Fi(e, t.replace(/[\\-]/g, ""), r)), s = 0, Au(Au(t.replace(/\\/g, "")).replace(/[0#]/g, function (y) { return s < a.length ? a.charAt(s++) : y === "0" ? "0" : "" })); if (t.match(lF)) return a = Fi(e, "##########", r), "(" + a.substr(0, 3) + ") " + a.substr(3, 3) + "-" + a.substr(6); var h = ""; if (i = t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/)) return s = Math.min(i[4].length, 7), l = ag(f, Math.pow(10, s) - 1, !1), a = "" + d, h = Ts("n", i[1], l[1]), h.charAt(h.length - 1) == " " && (h = h.substr(0, h.length - 1) + "0"), a += h + i[2] + "/" + i[3], h = rg(l[2], s), h.length < i[4].length && (h = Gn(i[4].substr(i[4].length - h.length)) + h), a += h, a; if (i = t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/)) return s = Math.min(Math.max(i[1].length, i[4].length), 7), l = ag(f, Math.pow(10, s) - 1, !0), d + (l[0] || (l[1] ? "" : "0")) + " " + (l[1] ? JE(l[1], s) + i[2] + "/" + i[3] + rg(l[2], s) : _r(" ", 2 * s + 1 + i[2].length + i[3].length)); if (i = t.match(/^[#0?]+$/)) return a = "" + r, t.length <= a.length ? a : Gn(t.substr(0, t.length - a.length)) + a; if (i = t.match(/^([#0]+)\.([#0]+)$/)) { a = "" + r.toFixed(Math.min(i[2].length, 10)).replace(/([^0])0+$/, "$1"), s = a.indexOf("."); var m = t.indexOf(".") - s, g = t.length - a.length - m; return Gn(t.substr(0, m) + a + t.substr(t.length - g)) } if (i = t.match(/^00,000\.([#0]*0)$/)) return r < 0 ? "-" + Fi(e, t, -r) : Ro("" + r).replace(/^\d,\d{3}$/, "0$&").replace(/^\d*$/, function (y) { return "00," + (y.length < 3 ? mi(0, 3 - y.length) : "") + y }) + "." + mi(0, i[1].length); switch (t) { case "###,###": case "##,###": case "#,###": var v = Ro("" + f); return v !== "0" ? d + v : ""; default: if (t.match(/\.[0#?]*$/)) return Fi(e, t.slice(0, t.lastIndexOf(".")), r) + Gn(t.slice(t.lastIndexOf("."))) }throw new Error("unsupported format |" + t + "|") } function Ts(e, t, r) { return (r | 0) === r ? Fi(e, t, r) : Ha(e, t, r) } function Gme(e) { for (var t = [], r = !1, n = 0, a = 0; n < e.length; ++n)switch (e.charCodeAt(n)) { case 34: r = !r; break; case 95: case 42: case 92: ++n; break; case 59: t[t.length] = e.substr(a, n - a), a = n + 1 }if (t[t.length] = e.substr(a), r === !0) throw new Error("Format |" + e + "| unterminated string "); return t } var uF = /\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/; function rd(e) { for (var t = 0, r = "", n = ""; t < e.length;)switch (r = e.charAt(t)) { case "G": ng(e, t) && (t += 6), t++; break; case '"': for (; e.charCodeAt(++t) !== 34 && t < e.length;); ++t; break; case "\\": t += 2; break; case "_": t += 2; break; case "@": ++t; break; case "B": case "b": if (e.charAt(t + 1) === "1" || e.charAt(t + 1) === "2") return !0; case "M": case "D": case "Y": case "H": case "S": case "E": case "m": case "d": case "y": case "h": case "s": case "e": case "g": return !0; case "A": case "a": case "": if (e.substr(t, 3).toUpperCase() === "A/P" || e.substr(t, 5).toUpperCase() === "AM/PM" || e.substr(t, 5).toUpperCase() === "/") return !0; ++t; break; case "[": for (n = r; e.charAt(t++) !== "]" && t < e.length;)n += e.charAt(t); if (n.match(uF)) return !0; break; case ".": case "0": case "#": for (; t < e.length && ("0#?.,E+-%".indexOf(r = e.charAt(++t)) > -1 || r == "\\" && e.charAt(t + 1) == "-" && "0#".indexOf(e.charAt(t + 2)) > -1);); break; case "?": for (; e.charAt(++t) === r;); break; case "*": ++t, (e.charAt(t) == " " || e.charAt(t) == "*") && ++t; break; case "(": case ")": ++t; break; case "1": case "2": case "3": case "4": case "5": case "6": case "7": case "8": case "9": for (; t < e.length && "0123456789".indexOf(e.charAt(++t)) > -1;); break; case " ": ++t; break; default: ++t; break }return !1 } function Vme(e, t, r, n) { for (var a = [], i = "", s = 0, l = "", f = "t", d, h, m, g = "H"; s < e.length;)switch (l = e.charAt(s)) { case "G": if (!ng(e, s)) throw new Error("unrecognized character " + l + " in " + e); a[a.length] = { t: "G", v: "General" }, s += 7; break; case '"': for (i = ""; (m = e.charCodeAt(++s)) !== 34 && s < e.length;)i += String.fromCharCode(m); a[a.length] = { t: "t", v: i }, ++s; break; case "\\": var v = e.charAt(++s), y = v === "(" || v === ")" ? v : "t"; a[a.length] = { t: y, v }, ++s; break; case "_": a[a.length] = { t: "t", v: " " }, s += 2; break; case "@": a[a.length] = { t: "T", v: t }, ++s; break; case "B": case "b": if (e.charAt(s + 1) === "1" || e.charAt(s + 1) === "2") { if (d == null && (d = Fl(t, r, e.charAt(s + 1) === "2"), d == null)) return ""; a[a.length] = { t: "X", v: e.substr(s, 2) }, f = l, s += 2; break } case "M": case "D": case "Y": case "H": case "S": case "E": l = l.toLowerCase(); case "m": case "d": case "y": case "h": case "s": case "e": case "g": if (t < 0 || d == null && (d = Fl(t, r), d == null)) return ""; for (i = l; ++s < e.length && e.charAt(s).toLowerCase() === l;)i += l; l === "m" && f.toLowerCase() === "h" && (l = "M"), l === "h" && (l = g), a[a.length] = { t: l, v: i }, f = l; break; case "A": case "a": case "": var b = { t: l, v: l }; if (d == null && (d = Fl(t, r)), e.substr(s, 3).toUpperCase() === "A/P" ? (d != null && (b.v = d.H >= 12 ? "P" : "A"), b.t = "T", g = "h", s += 3) : e.substr(s, 5).toUpperCase() === "AM/PM" ? (d != null && (b.v = d.H >= 12 ? "PM" : "AM"), b.t = "T", s += 5, g = "h") : e.substr(s, 5).toUpperCase() === "/" ? (d != null && (b.v = d.H >= 12 ? "" : ""), b.t = "T", s += 5, g = "h") : (b.t = "t", ++s), d == null && b.t === "T") return ""; a[a.length] = b, f = l; break; case "[": for (i = l; e.charAt(s++) !== "]" && s < e.length;)i += e.charAt(s); if (i.slice(-1) !== "]") throw 'unterminated "[" block: |' + i + "|"; if (i.match(uF)) { if (d == null && (d = Fl(t, r), d == null)) return ""; a[a.length] = { t: "Z", v: i.toLowerCase() }, f = i.charAt(1) } else i.indexOf("$") > -1 && (i = (i.match(/\$([^-\[\]]*)/) || [])[1] || "$", rd(e) || (a[a.length] = { t: "t", v: i })); break; case ".": if (d != null) { for (i = l; ++s < e.length && (l = e.charAt(s)) === "0";)i += l; a[a.length] = { t: "s", v: i }; break } case "0": case "#": for (i = l; ++s < e.length && "0#?.,E+-%".indexOf(l = e.charAt(s)) > -1;)i += l; a[a.length] = { t: "n", v: i }; break; case "?": for (i = l; e.charAt(++s) === l;)i += l; a[a.length] = { t: l, v: i }, f = l; break; case "*": ++s, (e.charAt(s) == " " || e.charAt(s) == "*") && ++s; break; case "(": case ")": a[a.length] = { t: n === 1 ? "t" : l, v: l }, ++s; break; case "1": case "2": case "3": case "4": case "5": case "6": case "7": case "8": case "9": for (i = l; s < e.length && "0123456789".indexOf(e.charAt(++s)) > -1;)i += e.charAt(s); a[a.length] = { t: "D", v: i }; break; case " ": a[a.length] = { t: l, v: l }, ++s; break; case "$": a[a.length] = { t: "t", v: "$" }, ++s; break; default: if (",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l) === -1) throw new Error("unrecognized character " + l + " in " + e); a[a.length] = { t: "t", v: l }, ++s; break }var _ = 0, k = 0, C; for (s = a.length - 1, f = "t"; s >= 0; --s)switch (a[s].t) { case "h": case "H": a[s].t = g, f = "h", _ < 1 && (_ = 1); break; case "s": (C = a[s].v.match(/\.0+$/)) && (k = Math.max(k, C[0].length - 1)), _ < 3 && (_ = 3); case "d": case "y": case "M": case "e": f = a[s].t; break; case "m": f === "s" && (a[s].t = "M", _ < 2 && (_ = 2)); break; case "X": break; case "Z": _ < 1 && a[s].v.match(/[Hh]/) && (_ = 1), _ < 2 && a[s].v.match(/[Mm]/) && (_ = 2), _ < 3 && a[s].v.match(/[Ss]/) && (_ = 3) }switch (_) { case 0: break; case 1: d.u >= .5 && (d.u = 0, ++d.S), d.S >= 60 && (d.S = 0, ++d.M), d.M >= 60 && (d.M = 0, ++d.H); break; case 2: d.u >= .5 && (d.u = 0, ++d.S), d.S >= 60 && (d.S = 0, ++d.M); break }var T = "", j; for (s = 0; s < a.length; ++s)switch (a[s].t) { case "t": case "T": case " ": case "D": break; case "X": a[s].v = "", a[s].t = ";"; break; case "d": case "m": case "y": case "h": case "H": case "M": case "s": case "e": case "b": case "Z": a[s].v = Dme(a[s].t.charCodeAt(0), a[s].v, d, k), a[s].t = "t"; break; case "n": case "?": for (j = s + 1; a[j] != null && ((l = a[j].t) === "?" || l === "D" || (l === " " || l === "t") && a[j + 1] != null && (a[j + 1].t === "?" || a[j + 1].t === "t" && a[j + 1].v === "/") || a[s].t === "(" && (l === " " || l === "n" || l === ")") || l === "t" && (a[j].v === "/" || a[j].v === " " && a[j + 1] != null && a[j + 1].t == "?"));)a[s].v += a[j].v, a[j] = { v: "", t: ";" }, ++j; T += a[s].v, s = j - 1; break; case "G": a[s].t = "t", a[s].v = ec(t, r); break }var R = "", O, I; if (T.length > 0) { T.charCodeAt(0) == 40 ? (O = t < 0 && T.charCodeAt(0) === 45 ? -t : t, I = Ts("n", T, O)) : (O = t < 0 && n > 1 ? -t : t, I = Ts("n", T, O), O < 0 && a[0] && a[0].t == "t" && (I = I.substr(1), a[0].v = "-" + a[0].v)), j = I.length - 1; var H = a.length; for (s = 0; s < a.length; ++s)if (a[s] != null && a[s].t != "t" && a[s].v.indexOf(".") > -1) { H = s; break } var F = a.length; if (H === a.length && I.indexOf("E") === -1) { for (s = a.length - 1; s >= 0; --s)a[s] == null || "n?".indexOf(a[s].t) === -1 || (j >= a[s].v.length - 1 ? (j -= a[s].v.length, a[s].v = I.substr(j + 1, a[s].v.length)) : j < 0 ? a[s].v = "" : (a[s].v = I.substr(0, j + 1), j = -1), a[s].t = "t", F = s); j >= 0 && F < a.length && (a[F].v = I.substr(0, j + 1) + a[F].v) } else if (H !== a.length && I.indexOf("E") === -1) { for (j = I.indexOf(".") - 1, s = H; s >= 0; --s)if (!(a[s] == null || "n?".indexOf(a[s].t) === -1)) { for (h = a[s].v.indexOf(".") > -1 && s === H ? a[s].v.indexOf(".") - 1 : a[s].v.length - 1, R = a[s].v.substr(h + 1); h >= 0; --h)j >= 0 && (a[s].v.charAt(h) === "0" || a[s].v.charAt(h) === "#") && (R = I.charAt(j--) + R); a[s].v = R, a[s].t = "t", F = s } for (j >= 0 && F < a.length && (a[F].v = I.substr(0, j + 1) + a[F].v), j = I.indexOf(".") + 1, s = H; s < a.length; ++s)if (!(a[s] == null || "n?(".indexOf(a[s].t) === -1 && s !== H)) { for (h = a[s].v.indexOf(".") > -1 && s === H ? a[s].v.indexOf(".") + 1 : 0, R = a[s].v.substr(0, h); h < a[s].v.length; ++h)j < I.length && (R += I.charAt(j++)); a[s].v = R, a[s].t = "t", F = s } } } for (s = 0; s < a.length; ++s)a[s] != null && "n?".indexOf(a[s].t) > -1 && (O = n > 1 && t < 0 && s > 0 && a[s - 1].v === "-" ? -t : t, a[s].v = Ts(a[s].t, a[s].v, O), a[s].t = "t"); var X = ""; for (s = 0; s !== a.length; ++s)a[s] != null && (X += a[s].v); return X } var ID = /\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/; function OD(e, t) { if (t == null) return !1; var r = parseFloat(t[2]); switch (t[1]) { case "=": if (e == r) return !0; break; case ">": if (e > r) return !0; break; case "<": if (e < r) return !0; break; case "<>": if (e != r) return !0; break; case ">=": if (e >= r) return !0; break; case "<=": if (e <= r) return !0; break }return !1 } function qme(e, t) { var r = Gme(e), n = r.length, a = r[n - 1].indexOf("@"); if (n < 4 && a > -1 && --n, r.length > 4) throw new Error("cannot find right format for |" + r.join("|") + "|"); if (typeof t != "number") return [4, r.length === 4 || a > -1 ? r[r.length - 1] : "@"]; switch (r.length) { case 1: r = a > -1 ? ["General", "General", "General", r[0]] : [r[0], r[0], r[0], "@"]; break; case 2: r = a > -1 ? [r[0], r[0], r[0], r[1]] : [r[0], r[1], r[0], "@"]; break; case 3: r = a > -1 ? [r[0], r[1], r[0], r[2]] : [r[0], r[1], r[2], "@"]; break }var i = t > 0 ? r[0] : t < 0 ? r[1] : r[2]; if (r[0].indexOf("[") === -1 && r[1].indexOf("[") === -1) return [n, i]; if (r[0].match(/\[[=<>]/) != null || r[1].match(/\[[=<>]/) != null) { var s = r[0].match(ID), l = r[1].match(ID); return OD(t, s) ? [n, r[0]] : OD(t, l) ? [n, r[1]] : [n, r[s != null && l != null ? 2 : 1]] } return [n, i] } function Ja(e, t, r) { r == null && (r = {}); var n = ""; switch (typeof e) { case "string": e == "m/d/yy" && r.dateNF ? n = r.dateNF : n = e; break; case "number": e == 14 && r.dateNF ? n = r.dateNF : n = (r.table != null ? r.table : ft)[e], n == null && (n = r.table && r.table[AD[e]] || ft[AD[e]]), n == null && (n = Ame[e] || "General"); break }if (ng(n, 0)) return ec(t, r); t instanceof Date && (t = rF(t, r.date1904)); var a = qme(n, t); if (ng(a[1])) return ec(t, r); if (t === !0) t = "TRUE"; else if (t === !1) t = "FALSE"; else if (t === "" || t == null) return ""; return Vme(a[1], t, r, a[0]) } function Hl(e, t) { if (typeof t != "number") { t = +t || -1; for (var r = 0; r < 392; ++r) { if (ft[r] == null) { t < 0 && (t = r); continue } if (ft[r] == e) { t = r; break } } t < 0 && (t = 391) } return ft[t] = e, t } function dF() { ft = Nme() } var Wme = { 5: '"$"#,##0_);\\("$"#,##0\\)', 6: '"$"#,##0_);[Red]\\("$"#,##0\\)', 7: '"$"#,##0.00_);\\("$"#,##0.00\\)', 8: '"$"#,##0.00_);[Red]\\("$"#,##0.00\\)', 23: "General", 24: "General", 25: "General", 26: "General", 27: "m/d/yy", 28: "m/d/yy", 29: "m/d/yy", 30: "m/d/yy", 31: "m/d/yy", 32: "h:mm:ss", 33: "h:mm:ss", 34: "h:mm:ss", 35: "h:mm:ss", 36: "m/d/yy", 41: '_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)', 42: '_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)', 43: '_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)', 44: '_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)', 50: "m/d/yy", 51: "m/d/yy", 52: "m/d/yy", 53: "m/d/yy", 54: "m/d/yy", 55: "m/d/yy", 56: "m/d/yy", 57: "m/d/yy", 58: "m/d/yy", 59: "0", 60: "0.00", 61: "#,##0", 62: "#,##0.00", 63: '"$"#,##0_);\\("$"#,##0\\)', 64: '"$"#,##0_);[Red]\\("$"#,##0\\)', 65: '"$"#,##0.00_);\\("$"#,##0.00\\)', 66: '"$"#,##0.00_);[Red]\\("$"#,##0.00\\)', 67: "0%", 68: "0.00%", 69: "# ?/?", 70: "# ??/??", 71: "m/d/yy", 72: "m/d/yy", 73: "d-mmm-yy", 74: "d-mmm", 75: "mmm-yy", 76: "h:mm", 77: "h:mm:ss", 78: "m/d/yy h:mm", 79: "mm:ss", 80: "[h]:mm:ss", 81: "mmss.0" }, fF = /[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g; function Kme(e) { var t = typeof e == "number" ? ft[e] : e; return t = t.replace(fF, "(\\d+)"), new RegExp("^" + t + "$") } function Yme(e, t, r) { var n = -1, a = -1, i = -1, s = -1, l = -1, f = -1; (t.match(fF) || []).forEach(function (m, g) { var v = parseInt(r[g + 1], 10); switch (m.toLowerCase().charAt(0)) { case "y": n = v; break; case "d": i = v; break; case "h": s = v; break; case "s": f = v; break; case "m": s >= 0 ? l = v : a = v; break } }), f >= 0 && l == -1 && a >= 0 && (l = a, a = -1); var d = ("" + (n >= 0 ? n : new Date().getFullYear())).slice(-4) + "-" + ("00" + (a >= 1 ? a : 1)).slice(-2) + "-" + ("00" + (i >= 1 ? i : 1)).slice(-2); d.length == 7 && (d = "0" + d), d.length == 8 && (d = "20" + d); var h = ("00" + (s >= 0 ? s : 0)).slice(-2) + ":" + ("00" + (l >= 0 ? l : 0)).slice(-2) + ":" + ("00" + (f >= 0 ? f : 0)).slice(-2); return s == -1 && l == -1 && f == -1 ? d : n == -1 && a == -1 && i == -1 ? h : d + "T" + h } var Xme = (function () { var e = {}; e.version = "1.2.0"; function t() { for (var I = 0, H = new Array(256), F = 0; F != 256; ++F)I = F, I = I & 1 ? -306674912 ^ I >>> 1 : I >>> 1, I = I & 1 ? -306674912 ^ I >>> 1 : I >>> 1, I = I & 1 ? -306674912 ^ I >>> 1 : I >>> 1, I = I & 1 ? -306674912 ^ I >>> 1 : I >>> 1, I = I & 1 ? -306674912 ^ I >>> 1 : I >>> 1, I = I & 1 ? -306674912 ^ I >>> 1 : I >>> 1, I = I & 1 ? -306674912 ^ I >>> 1 : I >>> 1, I = I & 1 ? -306674912 ^ I >>> 1 : I >>> 1, H[F] = I; return typeof Int32Array < "u" ? new Int32Array(H) : H } var r = t(); function n(I) { var H = 0, F = 0, X = 0, V = typeof Int32Array < "u" ? new Int32Array(4096) : new Array(4096); for (X = 0; X != 256; ++X)V[X] = I[X]; for (X = 0; X != 256; ++X)for (F = I[X], H = 256 + X; H < 4096; H += 256)F = V[H] = F >>> 8 ^ I[F & 255]; var U = []; for (X = 1; X != 16; ++X)U[X - 1] = typeof Int32Array < "u" ? V.subarray(X * 256, X * 256 + 256) : V.slice(X * 256, X * 256 + 256); return U } var a = n(r), i = a[0], s = a[1], l = a[2], f = a[3], d = a[4], h = a[5], m = a[6], g = a[7], v = a[8], y = a[9], b = a[10], _ = a[11], k = a[12], C = a[13], T = a[14]; function j(I, H) { for (var F = H ^ -1, X = 0, V = I.length; X < V;)F = F >>> 8 ^ r[(F ^ I.charCodeAt(X++)) & 255]; return ~F } function R(I, H) { for (var F = H ^ -1, X = I.length - 15, V = 0; V < X;)F = T[I[V++] ^ F & 255] ^ C[I[V++] ^ F >> 8 & 255] ^ k[I[V++] ^ F >> 16 & 255] ^ _[I[V++] ^ F >>> 24] ^ b[I[V++]] ^ y[I[V++]] ^ v[I[V++]] ^ g[I[V++]] ^ m[I[V++]] ^ h[I[V++]] ^ d[I[V++]] ^ f[I[V++]] ^ l[I[V++]] ^ s[I[V++]] ^ i[I[V++]] ^ r[I[V++]]; for (X += 15; V < X;)F = F >>> 8 ^ r[(F ^ I[V++]) & 255]; return ~F } function O(I, H) { for (var F = H ^ -1, X = 0, V = I.length, U = 0, ee = 0; X < V;)U = I.charCodeAt(X++), U < 128 ? F = F >>> 8 ^ r[(F ^ U) & 255] : U < 2048 ? (F = F >>> 8 ^ r[(F ^ (192 | U >> 6 & 31)) & 255], F = F >>> 8 ^ r[(F ^ (128 | U & 63)) & 255]) : U >= 55296 && U < 57344 ? (U = (U & 1023) + 64, ee = I.charCodeAt(X++) & 1023, F = F >>> 8 ^ r[(F ^ (240 | U >> 8 & 7)) & 255], F = F >>> 8 ^ r[(F ^ (128 | U >> 2 & 63)) & 255], F = F >>> 8 ^ r[(F ^ (128 | ee >> 6 & 15 | (U & 3) << 4)) & 255], F = F >>> 8 ^ r[(F ^ (128 | ee & 63)) & 255]) : (F = F >>> 8 ^ r[(F ^ (224 | U >> 12 & 15)) & 255], F = F >>> 8 ^ r[(F ^ (128 | U >> 6 & 63)) & 255], F = F >>> 8 ^ r[(F ^ (128 | U & 63)) & 255]); return ~F } return e.table = r, e.bstr = j, e.buf = R, e.str = O, e })(), kt = (function () {
  var t = {}; t.version = "1.2.1"; function r(q, ae) { for (var Z = q.split("/"), Q = ae.split("/"), ne = 0, se = 0, we = Math.min(Z.length, Q.length); ne < we; ++ne) { if (se = Z[ne].length - Q[ne].length) return se; if (Z[ne] != Q[ne]) return Z[ne] < Q[ne] ? -1 : 1 } return Z.length - Q.length } function n(q) { if (q.charAt(q.length - 1) == "/") return q.slice(0, -1).indexOf("/") === -1 ? q : n(q.slice(0, -1)); var ae = q.lastIndexOf("/"); return ae === -1 ? q : q.slice(0, ae + 1) } function a(q) { if (q.charAt(q.length - 1) == "/") return a(q.slice(0, -1)); var ae = q.lastIndexOf("/"); return ae === -1 ? q : q.slice(ae + 1) } function i(q, ae) { typeof ae == "string" && (ae = new Date(ae)); var Z = ae.getHours(); Z = Z << 6 | ae.getMinutes(), Z = Z << 5 | ae.getSeconds() >>> 1, q.write_shift(2, Z); var Q = ae.getFullYear() - 1980; Q = Q << 4 | ae.getMonth() + 1, Q = Q << 5 | ae.getDate(), q.write_shift(2, Q) } function s(q) { var ae = q.read_shift(2) & 65535, Z = q.read_shift(2) & 65535, Q = new Date, ne = Z & 31; Z >>>= 5; var se = Z & 15; Z >>>= 4, Q.setMilliseconds(0), Q.setFullYear(Z + 1980), Q.setMonth(se - 1), Q.setDate(ne); var we = ae & 31; ae >>>= 5; var Ae = ae & 63; return ae >>>= 6, Q.setHours(ae), Q.setMinutes(Ae), Q.setSeconds(we << 1), Q } function l(q) { _n(q, 0); for (var ae = {}, Z = 0; q.l <= q.length - 4;) { var Q = q.read_shift(2), ne = q.read_shift(2), se = q.l + ne, we = {}; switch (Q) { case 21589: Z = q.read_shift(1), Z & 1 && (we.mtime = q.read_shift(4)), ne > 5 && (Z & 2 && (we.atime = q.read_shift(4)), Z & 4 && (we.ctime = q.read_shift(4))), we.mtime && (we.mt = new Date(we.mtime * 1e3)); break }q.l = se, ae[Q] = we } return ae } var f; function d() { return f || (f = {}) } function h(q, ae) { if (q[0] == 80 && q[1] == 75) return gt(q, ae); if ((q[0] | 32) == 109 && (q[1] | 32) == 105) return Ni(q, ae); if (q.length < 512) throw new Error("CFB file size " + q.length + " < 512"); var Z = 3, Q = 512, ne = 0, se = 0, we = 0, Ae = 0, _e = 0, Se = [], ke = q.slice(0, 512); _n(ke, 0); var Oe = m(ke); switch (Z = Oe[0], Z) { case 3: Q = 512; break; case 4: Q = 4096; break; case 0: if (Oe[1] == 0) return gt(q, ae); default: throw new Error("Major Version: Expected 3 or 4 saw " + Z) }Q !== 512 && (ke = q.slice(0, Q), _n(ke, 28)); var De = q.slice(0, Q); g(ke, Z); var Be = ke.read_shift(4, "i"); if (Z === 3 && Be !== 0) throw new Error("# Directory Sectors: Expected 0 saw " + Be); ke.l += 4, we = ke.read_shift(4, "i"), ke.l += 4, ke.chk("00100000", "Mini Stream Cutoff Size: "), Ae = ke.read_shift(4, "i"), ne = ke.read_shift(4, "i"), _e = ke.read_shift(4, "i"), se = ke.read_shift(4, "i"); for (var Re = -1, Ue = 0; Ue < 109 && (Re = ke.read_shift(4, "i"), !(Re < 0)); ++Ue)Se[Ue] = Re; var Ke = v(q, Q); _(_e, se, Ke, Q, Se); var Jt = C(Ke, we, Se, Q); Jt[we].name = "!Directory", ne > 0 && Ae !== ee && (Jt[Ae].name = "!MiniFAT"), Jt[Se[0]].name = "!FAT", Jt.fat_addrs = Se, Jt.ssz = Q; var Zt = {}, sr = [], Aa = [], Qo = []; T(we, Jt, Ke, sr, ne, Zt, Aa, Ae), y(Aa, Qo, sr), sr.shift(); var Ys = { FileIndex: Aa, FullPaths: Qo }; return ae && ae.raw && (Ys.raw = { header: De, sectors: Ke }), Ys } function m(q) { if (q[q.l] == 80 && q[q.l + 1] == 75) return [0, 0]; q.chk(re, "Header Signature: "), q.l += 16; var ae = q.read_shift(2, "u"); return [q.read_shift(2, "u"), ae] } function g(q, ae) { var Z = 9; switch (q.l += 2, Z = q.read_shift(2)) { case 9: if (ae != 3) throw new Error("Sector Shift: Expected 9 saw " + Z); break; case 12: if (ae != 4) throw new Error("Sector Shift: Expected 12 saw " + Z); break; default: throw new Error("Sector Shift: Expected 9 or 12 saw " + Z) }q.chk("0600", "Mini Sector Shift: "), q.chk("000000000000", "Reserved: ") } function v(q, ae) { for (var Z = Math.ceil(q.length / ae) - 1, Q = [], ne = 1; ne < Z; ++ne)Q[ne - 1] = q.slice(ne * ae, (ne + 1) * ae); return Q[Z - 1] = q.slice(Z * ae), Q } function y(q, ae, Z) { for (var Q = 0, ne = 0, se = 0, we = 0, Ae = 0, _e = Z.length, Se = [], ke = []; Q < _e; ++Q)Se[Q] = ke[Q] = Q, ae[Q] = Z[Q]; for (; Ae < ke.length; ++Ae)Q = ke[Ae], ne = q[Q].L, se = q[Q].R, we = q[Q].C, Se[Q] === Q && (ne !== -1 && Se[ne] !== ne && (Se[Q] = Se[ne]), se !== -1 && Se[se] !== se && (Se[Q] = Se[se])), we !== -1 && (Se[we] = Q), ne !== -1 && Q != Se[Q] && (Se[ne] = Se[Q], ke.lastIndexOf(ne) < Ae && ke.push(ne)), se !== -1 && Q != Se[Q] && (Se[se] = Se[Q], ke.lastIndexOf(se) < Ae && ke.push(se)); for (Q = 1; Q < _e; ++Q)Se[Q] === Q && (se !== -1 && Se[se] !== se ? Se[Q] = Se[se] : ne !== -1 && Se[ne] !== ne && (Se[Q] = Se[ne])); for (Q = 1; Q < _e; ++Q)if (q[Q].type !== 0) { if (Ae = Q, Ae != Se[Ae]) do Ae = Se[Ae], ae[Q] = ae[Ae] + "/" + ae[Q]; while (Ae !== 0 && Se[Ae] !== -1 && Ae != Se[Ae]); Se[Q] = -1 } for (ae[0] += "/", Q = 1; Q < _e; ++Q)q[Q].type !== 2 && (ae[Q] += "/") } function b(q, ae, Z) { for (var Q = q.start, ne = q.size, se = [], we = Q; Z && ne > 0 && we >= 0;)se.push(ae.slice(we * U, we * U + U)), ne -= U, we = Cl(Z, we * 4); return se.length === 0 ? Hr(0) : Co(se).slice(0, q.size) } function _(q, ae, Z, Q, ne) { var se = ee; if (q === ee) { if (ae !== 0) throw new Error("DIFAT chain shorter than expected") } else if (q !== -1) { var we = Z[q], Ae = (Q >>> 2) - 1; if (!we) return; for (var _e = 0; _e < Ae && (se = Cl(we, _e * 4)) !== ee; ++_e)ne.push(se); _(Cl(we, Q - 4), ae - 1, Z, Q, ne) } } function k(q, ae, Z, Q, ne) { var se = [], we = []; ne || (ne = []); var Ae = Q - 1, _e = 0, Se = 0; for (_e = ae; _e >= 0;) { ne[_e] = !0, se[se.length] = _e, we.push(q[_e]); var ke = Z[Math.floor(_e * 4 / Q)]; if (Se = _e * 4 & Ae, Q < 4 + Se) throw new Error("FAT boundary crossed: " + _e + " 4 " + Q); if (!q[ke]) break; _e = Cl(q[ke], Se) } return { nodes: se, data: zD([we]) } } function C(q, ae, Z, Q) { var ne = q.length, se = [], we = [], Ae = [], _e = [], Se = Q - 1, ke = 0, Oe = 0, De = 0, Be = 0; for (ke = 0; ke < ne; ++ke)if (Ae = [], De = ke + ae, De >= ne && (De -= ne), !we[De]) { _e = []; var Re = []; for (Oe = De; Oe >= 0;) { Re[Oe] = !0, we[Oe] = !0, Ae[Ae.length] = Oe, _e.push(q[Oe]); var Ue = Z[Math.floor(Oe * 4 / Q)]; if (Be = Oe * 4 & Se, Q < 4 + Be) throw new Error("FAT boundary crossed: " + Oe + " 4 " + Q); if (!q[Ue] || (Oe = Cl(q[Ue], Be), Re[Oe])) break } se[De] = { nodes: Ae, data: zD([_e]) } } return se } function T(q, ae, Z, Q, ne, se, we, Ae) { for (var _e = 0, Se = Q.length ? 2 : 0, ke = ae[q].data, Oe = 0, De = 0, Be; Oe < ke.length; Oe += 128) { var Re = ke.slice(Oe, Oe + 128); _n(Re, 64), De = Re.read_shift(2), Be = nk(Re, 0, De - Se), Q.push(Be); var Ue = { name: Be, type: Re.read_shift(1), color: Re.read_shift(1), L: Re.read_shift(4, "i"), R: Re.read_shift(4, "i"), C: Re.read_shift(4, "i"), clsid: Re.read_shift(16), state: Re.read_shift(4, "i"), start: 0, size: 0 }, Ke = Re.read_shift(2) + Re.read_shift(2) + Re.read_shift(2) + Re.read_shift(2); Ke !== 0 && (Ue.ct = j(Re, Re.l - 8)); var Jt = Re.read_shift(2) + Re.read_shift(2) + Re.read_shift(2) + Re.read_shift(2); Jt !== 0 && (Ue.mt = j(Re, Re.l - 8)), Ue.start = Re.read_shift(4, "i"), Ue.size = Re.read_shift(4, "i"), Ue.size < 0 && Ue.start < 0 && (Ue.size = Ue.type = 0, Ue.start = ee, Ue.name = ""), Ue.type === 5 ? (_e = Ue.start, ne > 0 && _e !== ee && (ae[_e].name = "!StreamData")) : Ue.size >= 4096 ? (Ue.storage = "fat", ae[Ue.start] === void 0 && (ae[Ue.start] = k(Z, Ue.start, ae.fat_addrs, ae.ssz)), ae[Ue.start].name = Ue.name, Ue.content = ae[Ue.start].data.slice(0, Ue.size)) : (Ue.storage = "minifat", Ue.size < 0 ? Ue.size = 0 : _e !== ee && Ue.start !== ee && ae[_e] && (Ue.content = b(Ue, ae[_e].data, (ae[Ae] || {}).data))), Ue.content && _n(Ue.content, 0), se[Be] = Ue, we.push(Ue) } } function j(q, ae) { return new Date((wa(q, ae + 4) / 1e7 * Math.pow(2, 32) + wa(q, ae) / 1e7 - 11644473600) * 1e3) } function R(q, ae) { return d(), h(f.readFileSync(q), ae) } function O(q, ae) { var Z = ae && ae.type; switch (Z || St && Buffer.isBuffer(q) && (Z = "buffer"), Z || "base64") { case "file": return R(q, ae); case "base64": return h(hi(Na(q)), ae); case "binary": return h(hi(q), ae) }return h(q, ae) } function I(q, ae) { var Z = ae || {}, Q = Z.root || "Root Entry"; if (q.FullPaths || (q.FullPaths = []), q.FileIndex || (q.FileIndex = []), q.FullPaths.length !== q.FileIndex.length) throw new Error("inconsistent CFB structure"); q.FullPaths.length === 0 && (q.FullPaths[0] = Q + "/", q.FileIndex[0] = { name: Q, type: 5 }), Z.CLSID && (q.FileIndex[0].clsid = Z.CLSID), H(q) } function H(q) { var ae = "Sh33tJ5"; if (!kt.find(q, "/" + ae)) { var Z = Hr(4); Z[0] = 55, Z[1] = Z[3] = 50, Z[2] = 54, q.FileIndex.push({ name: ae, type: 2, content: Z, size: 4, L: 69, R: 69, C: 69 }), q.FullPaths.push(q.FullPaths[0] + ae), F(q) } } function F(q, ae) { I(q); for (var Z = !1, Q = !1, ne = q.FullPaths.length - 1; ne >= 0; --ne) { var se = q.FileIndex[ne]; switch (se.type) { case 0: Q ? Z = !0 : (q.FileIndex.pop(), q.FullPaths.pop()); break; case 1: case 2: case 5: Q = !0, isNaN(se.R * se.L * se.C) && (Z = !0), se.R > -1 && se.L > -1 && se.R == se.L && (Z = !0); break; default: Z = !0; break } } if (!(!Z && !ae)) { var we = new Date(1987, 1, 19), Ae = 0, _e = Object.create ? Object.create(null) : {}, Se = []; for (ne = 0; ne < q.FullPaths.length; ++ne)_e[q.FullPaths[ne]] = !0, q.FileIndex[ne].type !== 0 && Se.push([q.FullPaths[ne], q.FileIndex[ne]]); for (ne = 0; ne < Se.length; ++ne) { var ke = n(Se[ne][0]); Q = _e[ke], Q || (Se.push([ke, { name: a(ke).replace("/", ""), type: 1, clsid: D, ct: we, mt: we, content: null }]), _e[ke] = !0) } for (Se.sort(function (Be, Re) { return r(Be[0], Re[0]) }), q.FullPaths = [], q.FileIndex = [], ne = 0; ne < Se.length; ++ne)q.FullPaths[ne] = Se[ne][0], q.FileIndex[ne] = Se[ne][1]; for (ne = 0; ne < Se.length; ++ne) { var Oe = q.FileIndex[ne], De = q.FullPaths[ne]; if (Oe.name = a(De).replace("/", ""), Oe.L = Oe.R = Oe.C = -(Oe.color = 1), Oe.size = Oe.content ? Oe.content.length : 0, Oe.start = 0, Oe.clsid = Oe.clsid || D, ne === 0) Oe.C = Se.length > 1 ? 1 : -1, Oe.size = 0, Oe.type = 5; else if (De.slice(-1) == "/") { for (Ae = ne + 1; Ae < Se.length && n(q.FullPaths[Ae]) != De; ++Ae); for (Oe.C = Ae >= Se.length ? -1 : Ae, Ae = ne + 1; Ae < Se.length && n(q.FullPaths[Ae]) != n(De); ++Ae); Oe.R = Ae >= Se.length ? -1 : Ae, Oe.type = 1 } else n(q.FullPaths[ne + 1] || "") == n(De) && (Oe.R = ne + 1), Oe.type = 2 } } } function X(q, ae) { var Z = ae || {}; if (Z.fileType == "mad") return pc(q, Z); switch (F(q), Z.fileType) { case "zip": return Jr(q, Z) }var Q = (function (Be) { for (var Re = 0, Ue = 0, Ke = 0; Ke < Be.FileIndex.length; ++Ke) { var Jt = Be.FileIndex[Ke]; if (Jt.content) { var Zt = Jt.content.length; Zt > 0 && (Zt < 4096 ? Re += Zt + 63 >> 6 : Ue += Zt + 511 >> 9) } } for (var sr = Be.FullPaths.length + 3 >> 2, Aa = Re + 7 >> 3, Qo = Re + 127 >> 7, Ys = Aa + Ue + sr + Qo, Ai = Ys + 127 >> 7, id = Ai <= 109 ? 0 : Math.ceil((Ai - 109) / 127); Ys + Ai + id + 127 >> 7 > Ai;)id = ++Ai <= 109 ? 0 : Math.ceil((Ai - 109) / 127); var ta = [1, id, Ai, Qo, sr, Ue, Re, 0]; return Be.FileIndex[0].size = Re << 6, ta[7] = (Be.FileIndex[0].start = ta[0] + ta[1] + ta[2] + ta[3] + ta[4] + ta[5]) + (ta[6] + 7 >> 3), ta })(q), ne = Hr(Q[7] << 9), se = 0, we = 0; { for (se = 0; se < 8; ++se)ne.write_shift(1, de[se]); for (se = 0; se < 8; ++se)ne.write_shift(2, 0); for (ne.write_shift(2, 62), ne.write_shift(2, 3), ne.write_shift(2, 65534), ne.write_shift(2, 9), ne.write_shift(2, 6), se = 0; se < 3; ++se)ne.write_shift(2, 0); for (ne.write_shift(4, 0), ne.write_shift(4, Q[2]), ne.write_shift(4, Q[0] + Q[1] + Q[2] + Q[3] - 1), ne.write_shift(4, 0), ne.write_shift(4, 4096), ne.write_shift(4, Q[3] ? Q[0] + Q[1] + Q[2] - 1 : ee), ne.write_shift(4, Q[3]), ne.write_shift(-4, Q[1] ? Q[0] - 1 : ee), ne.write_shift(4, Q[1]), se = 0; se < 109; ++se)ne.write_shift(-4, se < Q[2] ? Q[1] + se : -1) } if (Q[1]) for (we = 0; we < Q[1]; ++we) { for (; se < 236 + we * 127; ++se)ne.write_shift(-4, se < Q[2] ? Q[1] + se : -1); ne.write_shift(-4, we === Q[1] - 1 ? ee : we + 1) } var Ae = function (Be) { for (we += Be; se < we - 1; ++se)ne.write_shift(-4, se + 1); Be && (++se, ne.write_shift(-4, ee)) }; for (we = se = 0, we += Q[1]; se < we; ++se)ne.write_shift(-4, z.DIFSECT); for (we += Q[2]; se < we; ++se)ne.write_shift(-4, z.FATSECT); Ae(Q[3]), Ae(Q[4]); for (var _e = 0, Se = 0, ke = q.FileIndex[0]; _e < q.FileIndex.length; ++_e)ke = q.FileIndex[_e], ke.content && (Se = ke.content.length, !(Se < 4096) && (ke.start = we, Ae(Se + 511 >> 9))); for (Ae(Q[6] + 7 >> 3); ne.l & 511;)ne.write_shift(-4, z.ENDOFCHAIN); for (we = se = 0, _e = 0; _e < q.FileIndex.length; ++_e)ke = q.FileIndex[_e], ke.content && (Se = ke.content.length, !(!Se || Se >= 4096) && (ke.start = we, Ae(Se + 63 >> 6))); for (; ne.l & 511;)ne.write_shift(-4, z.ENDOFCHAIN); for (se = 0; se < Q[4] << 2; ++se) { var Oe = q.FullPaths[se]; if (!Oe || Oe.length === 0) { for (_e = 0; _e < 17; ++_e)ne.write_shift(4, 0); for (_e = 0; _e < 3; ++_e)ne.write_shift(4, -1); for (_e = 0; _e < 12; ++_e)ne.write_shift(4, 0); continue } ke = q.FileIndex[se], se === 0 && (ke.start = ke.size ? ke.start - 1 : ee); var De = se === 0 && Z.root || ke.name; if (Se = 2 * (De.length + 1), ne.write_shift(64, De, "utf16le"), ne.write_shift(2, Se), ne.write_shift(1, ke.type), ne.write_shift(1, ke.color), ne.write_shift(-4, ke.L), ne.write_shift(-4, ke.R), ne.write_shift(-4, ke.C), ke.clsid) ne.write_shift(16, ke.clsid, "hex"); else for (_e = 0; _e < 4; ++_e)ne.write_shift(4, 0); ne.write_shift(4, ke.state || 0), ne.write_shift(4, 0), ne.write_shift(4, 0), ne.write_shift(4, 0), ne.write_shift(4, 0), ne.write_shift(4, ke.start), ne.write_shift(4, ke.size), ne.write_shift(4, 0) } for (se = 1; se < q.FileIndex.length; ++se)if (ke = q.FileIndex[se], ke.size >= 4096) if (ne.l = ke.start + 1 << 9, St && Buffer.isBuffer(ke.content)) ke.content.copy(ne, ne.l, 0, ke.size), ne.l += ke.size + 511 & -512; else { for (_e = 0; _e < ke.size; ++_e)ne.write_shift(1, ke.content[_e]); for (; _e & 511; ++_e)ne.write_shift(1, 0) } for (se = 1; se < q.FileIndex.length; ++se)if (ke = q.FileIndex[se], ke.size > 0 && ke.size < 4096) if (St && Buffer.isBuffer(ke.content)) ke.content.copy(ne, ne.l, 0, ke.size), ne.l += ke.size + 63 & -64; else { for (_e = 0; _e < ke.size; ++_e)ne.write_shift(1, ke.content[_e]); for (; _e & 63; ++_e)ne.write_shift(1, 0) } if (St) ne.l = ne.length; else for (; ne.l < ne.length;)ne.write_shift(1, 0); return ne } function V(q, ae) { var Z = q.FullPaths.map(function (_e) { return _e.toUpperCase() }), Q = Z.map(function (_e) { var Se = _e.split("/"); return Se[Se.length - (_e.slice(-1) == "/" ? 2 : 1)] }), ne = !1; ae.charCodeAt(0) === 47 ? (ne = !0, ae = Z[0].slice(0, -1) + ae) : ne = ae.indexOf("/") !== -1; var se = ae.toUpperCase(), we = ne === !0 ? Z.indexOf(se) : Q.indexOf(se); if (we !== -1) return q.FileIndex[we]; var Ae = !se.match(gf); for (se = se.replace(Yn, ""), Ae && (se = se.replace(gf, "!")), we = 0; we < Z.length; ++we)if ((Ae ? Z[we].replace(gf, "!") : Z[we]).replace(Yn, "") == se || (Ae ? Q[we].replace(gf, "!") : Q[we]).replace(Yn, "") == se) return q.FileIndex[we]; return null } var U = 64, ee = -2, re = "d0cf11e0a1b11ae1", de = [208, 207, 17, 224, 161, 177, 26, 225], D = "00000000000000000000000000000000", z = { MAXREGSECT: -6, DIFSECT: -4, FATSECT: -3, ENDOFCHAIN: ee, FREESECT: -1, HEADER_SIGNATURE: re, HEADER_MINOR_VERSION: "3e00", MAXREGSID: -6, NOSTREAM: -1, HEADER_CLSID: D, EntryTypes: ["unknown", "storage", "stream", "lockbytes", "property", "root"] }; function ie(q, ae, Z) { d(); var Q = X(q, Z); f.writeFileSync(ae, Q) } function M(q) { for (var ae = new Array(q.length), Z = 0; Z < q.length; ++Z)ae[Z] = String.fromCharCode(q[Z]); return ae.join("") } function te(q, ae) { var Z = X(q, ae); switch (ae && ae.type || "buffer") { case "file": return d(), f.writeFileSync(ae.filename, Z), Z; case "binary": return typeof Z == "string" ? Z : M(Z); case "base64": return ED(typeof Z == "string" ? Z : M(Z)); case "buffer": if (St) return Buffer.isBuffer(Z) ? Z : oc(Z); case "array": return typeof Z == "string" ? hi(Z) : Z }return Z } var G; function P(q) { try { var ae = q.InflateRaw, Z = new ae; if (Z._processChunk(new Uint8Array([3, 0]), Z._finishFlushFlag), Z.bytesRead) G = q; else throw new Error("zlib does not expose bytesRead") } catch (Q) { console.error("cannot use native zlib: " + (Q.message || Q)) } } function W(q, ae) { if (!G) return Ge(q, ae); var Z = G.InflateRaw, Q = new Z, ne = Q._processChunk(q.slice(q.l), Q._finishFlushFlag); return q.l += Q.bytesRead, ne } function J(q) { return G ? G.deflateRawSync(q) : ut(q) } var B = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15], ce = [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258], fe = [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577]; function le(q) { var ae = (q << 1 | q << 11) & 139536 | (q << 5 | q << 15) & 558144; return (ae >> 16 | ae >> 8 | ae) & 255 } for (var oe = typeof Uint8Array < "u", pe = oe ? new Uint8Array(256) : [], Ie = 0; Ie < 256; ++Ie)pe[Ie] = le(Ie); function Y(q, ae) { var Z = pe[q & 255]; return ae <= 8 ? Z >>> 8 - ae : (Z = Z << 8 | pe[q >> 8 & 255], ae <= 16 ? Z >>> 16 - ae : (Z = Z << 8 | pe[q >> 16 & 255], Z >>> 24 - ae)) } function ct(q, ae) { var Z = ae & 7, Q = ae >>> 3; return (q[Q] | (Z <= 6 ? 0 : q[Q + 1] << 8)) >>> Z & 3 } function He(q, ae) { var Z = ae & 7, Q = ae >>> 3; return (q[Q] | (Z <= 5 ? 0 : q[Q + 1] << 8)) >>> Z & 7 } function tt(q, ae) { var Z = ae & 7, Q = ae >>> 3; return (q[Q] | (Z <= 4 ? 0 : q[Q + 1] << 8)) >>> Z & 15 } function Je(q, ae) { var Z = ae & 7, Q = ae >>> 3; return (q[Q] | (Z <= 3 ? 0 : q[Q + 1] << 8)) >>> Z & 31 } function Pe(q, ae) { var Z = ae & 7, Q = ae >>> 3; return (q[Q] | (Z <= 1 ? 0 : q[Q + 1] << 8)) >>> Z & 127 } function Ut(q, ae, Z) { var Q = ae & 7, ne = ae >>> 3, se = (1 << Z) - 1, we = q[ne] >>> Q; return Z < 8 - Q || (we |= q[ne + 1] << 8 - Q, Z < 16 - Q) || (we |= q[ne + 2] << 16 - Q, Z < 24 - Q) || (we |= q[ne + 3] << 24 - Q), we & se } function dn(q, ae, Z) { var Q = ae & 7, ne = ae >>> 3; return Q <= 5 ? q[ne] |= (Z & 7) << Q : (q[ne] |= Z << Q & 255, q[ne + 1] = (Z & 7) >> 8 - Q), ae + 3 } function kn(q, ae, Z) { var Q = ae & 7, ne = ae >>> 3; return Z = (Z & 1) << Q, q[ne] |= Z, ae + 1 } function Xr(q, ae, Z) { var Q = ae & 7, ne = ae >>> 3; return Z <<= Q, q[ne] |= Z & 255, Z >>>= 8, q[ne + 1] = Z, ae + 8 } function Ti(q, ae, Z) { var Q = ae & 7, ne = ae >>> 3; return Z <<= Q, q[ne] |= Z & 255, Z >>>= 8, q[ne + 1] = Z & 255, q[ne + 2] = Z >>> 8, ae + 16 } function fa(q, ae) { var Z = q.length, Q = 2 * Z > ae ? 2 * Z : ae + 5, ne = 0; if (Z >= ae) return q; if (St) { var se = kD(Q); if (q.copy) q.copy(se); else for (; ne < q.length; ++ne)se[ne] = q[ne]; return se } else if (oe) { var we = new Uint8Array(Q); if (we.set) we.set(q); else for (; ne < Z; ++ne)we[ne] = q[ne]; return we } return q.length = Q, q } function Mt(q) { for (var ae = new Array(q), Z = 0; Z < q; ++Z)ae[Z] = 0; return ae } function Tn(q, ae, Z) { var Q = 1, ne = 0, se = 0, we = 0, Ae = 0, _e = q.length, Se = oe ? new Uint16Array(32) : Mt(32); for (se = 0; se < 32; ++se)Se[se] = 0; for (se = _e; se < Z; ++se)q[se] = 0; _e = q.length; var ke = oe ? new Uint16Array(_e) : Mt(_e); for (se = 0; se < _e; ++se)Se[ne = q[se]]++, Q < ne && (Q = ne), ke[se] = 0; for (Se[0] = 0, se = 1; se <= Q; ++se)Se[se + 16] = Ae = Ae + Se[se - 1] << 1; for (se = 0; se < _e; ++se)Ae = q[se], Ae != 0 && (ke[se] = Se[Ae + 16]++); var Oe = 0; for (se = 0; se < _e; ++se)if (Oe = q[se], Oe != 0) for (Ae = Y(ke[se], Q) >> Q - Oe, we = (1 << Q + 4 - Oe) - 1; we >= 0; --we)ae[Ae | we << Oe] = Oe & 15 | se << 4; return Q } var Ht = oe ? new Uint16Array(512) : Mt(512), ei = oe ? new Uint16Array(32) : Mt(32); if (!oe) { for (var Fe = 0; Fe < 512; ++Fe)Ht[Fe] = 0; for (Fe = 0; Fe < 32; ++Fe)ei[Fe] = 0 } (function () { for (var q = [], ae = 0; ae < 32; ae++)q.push(5); Tn(q, ei, 32); var Z = []; for (ae = 0; ae <= 143; ae++)Z.push(8); for (; ae <= 255; ae++)Z.push(9); for (; ae <= 279; ae++)Z.push(7); for (; ae <= 287; ae++)Z.push(8); Tn(Z, Ht, 288) })(); var $n = (function () { for (var ae = oe ? new Uint8Array(32768) : [], Z = 0, Q = 0; Z < fe.length - 1; ++Z)for (; Q < fe[Z + 1]; ++Q)ae[Q] = Z; for (; Q < 32768; ++Q)ae[Q] = 29; var ne = oe ? new Uint8Array(259) : []; for (Z = 0, Q = 0; Z < ce.length - 1; ++Z)for (; Q < ce[Z + 1]; ++Q)ne[Q] = Z; function se(Ae, _e) { for (var Se = 0; Se < Ae.length;) { var ke = Math.min(65535, Ae.length - Se), Oe = Se + ke == Ae.length; for (_e.write_shift(1, +Oe), _e.write_shift(2, ke), _e.write_shift(2, ~ke & 65535); ke-- > 0;)_e[_e.l++] = Ae[Se++] } return _e.l } function we(Ae, _e) { for (var Se = 0, ke = 0, Oe = oe ? new Uint16Array(32768) : []; ke < Ae.length;) { var De = Math.min(65535, Ae.length - ke); if (De < 10) { for (Se = dn(_e, Se, +(ke + De == Ae.length)), Se & 7 && (Se += 8 - (Se & 7)), _e.l = Se / 8 | 0, _e.write_shift(2, De), _e.write_shift(2, ~De & 65535); De-- > 0;)_e[_e.l++] = Ae[ke++]; Se = _e.l * 8; continue } Se = dn(_e, Se, +(ke + De == Ae.length) + 2); for (var Be = 0; De-- > 0;) { var Re = Ae[ke]; Be = (Be << 5 ^ Re) & 32767; var Ue = -1, Ke = 0; if ((Ue = Oe[Be]) && (Ue |= ke & -32768, Ue > ke && (Ue -= 32768), Ue < ke)) for (; Ae[Ue + Ke] == Ae[ke + Ke] && Ke < 250;)++Ke; if (Ke > 2) { Re = ne[Ke], Re <= 22 ? Se = Xr(_e, Se, pe[Re + 1] >> 1) - 1 : (Xr(_e, Se, 3), Se += 5, Xr(_e, Se, pe[Re - 23] >> 5), Se += 3); var Jt = Re < 8 ? 0 : Re - 4 >> 2; Jt > 0 && (Ti(_e, Se, Ke - ce[Re]), Se += Jt), Re = ae[ke - Ue], Se = Xr(_e, Se, pe[Re] >> 3), Se -= 3; var Zt = Re < 4 ? 0 : Re - 2 >> 1; Zt > 0 && (Ti(_e, Se, ke - Ue - fe[Re]), Se += Zt); for (var sr = 0; sr < Ke; ++sr)Oe[Be] = ke & 32767, Be = (Be << 5 ^ Ae[ke]) & 32767, ++ke; De -= Ke - 1 } else Re <= 143 ? Re = Re + 48 : Se = kn(_e, Se, 1), Se = Xr(_e, Se, pe[Re]), Oe[Be] = ke & 32767, ++ke } Se = Xr(_e, Se, 0) - 1 } return _e.l = (Se + 7) / 8 | 0, _e.l } return function (_e, Se) { return _e.length < 8 ? se(_e, Se) : we(_e, Se) } })(); function ut(q) { var ae = Hr(50 + Math.floor(q.length * 1.1)), Z = $n(q, ae); return ae.slice(0, Z) } var Xt = oe ? new Uint16Array(32768) : Mt(32768), Nn = oe ? new Uint16Array(32768) : Mt(32768), Pt = oe ? new Uint16Array(128) : Mt(128), hr = 1, me = 1; function ve(q, ae) { var Z = Je(q, ae) + 257; ae += 5; var Q = Je(q, ae) + 1; ae += 5; var ne = tt(q, ae) + 4; ae += 4; for (var se = 0, we = oe ? new Uint8Array(19) : Mt(19), Ae = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], _e = 1, Se = oe ? new Uint8Array(8) : Mt(8), ke = oe ? new Uint8Array(8) : Mt(8), Oe = we.length, De = 0; De < ne; ++De)we[B[De]] = se = He(q, ae), _e < se && (_e = se), Se[se]++, ae += 3; var Be = 0; for (Se[0] = 0, De = 1; De <= _e; ++De)ke[De] = Be = Be + Se[De - 1] << 1; for (De = 0; De < Oe; ++De)(Be = we[De]) != 0 && (Ae[De] = ke[Be]++); var Re = 0; for (De = 0; De < Oe; ++De)if (Re = we[De], Re != 0) { Be = pe[Ae[De]] >> 8 - Re; for (var Ue = (1 << 7 - Re) - 1; Ue >= 0; --Ue)Pt[Be | Ue << Re] = Re & 7 | De << 3 } var Ke = []; for (_e = 1; Ke.length < Z + Q;)switch (Be = Pt[Pe(q, ae)], ae += Be & 7, Be >>>= 3) { case 16: for (se = 3 + ct(q, ae), ae += 2, Be = Ke[Ke.length - 1]; se-- > 0;)Ke.push(Be); break; case 17: for (se = 3 + He(q, ae), ae += 3; se-- > 0;)Ke.push(0); break; case 18: for (se = 11 + Pe(q, ae), ae += 7; se-- > 0;)Ke.push(0); break; default: Ke.push(Be), _e < Be && (_e = Be); break }var Jt = Ke.slice(0, Z), Zt = Ke.slice(Z); for (De = Z; De < 286; ++De)Jt[De] = 0; for (De = Q; De < 30; ++De)Zt[De] = 0; return hr = Tn(Jt, Xt, 286), me = Tn(Zt, Nn, 30), ae } function Me(q, ae) { if (q[0] == 3 && !(q[1] & 3)) return [$o(ae), 2]; for (var Z = 0, Q = 0, ne = kD(ae || 1 << 18), se = 0, we = ne.length >>> 0, Ae = 0, _e = 0; (Q & 1) == 0;) { if (Q = He(q, Z), Z += 3, Q >>> 1) Q >> 1 == 1 ? (Ae = 9, _e = 5) : (Z = ve(q, Z), Ae = hr, _e = me); else { Z & 7 && (Z += 8 - (Z & 7)); var Se = q[Z >>> 3] | q[(Z >>> 3) + 1] << 8; if (Z += 32, Se > 0) for (!ae && we < se + Se && (ne = fa(ne, se + Se), we = ne.length); Se-- > 0;)ne[se++] = q[Z >>> 3], Z += 8; continue } for (; ;) { !ae && we < se + 32767 && (ne = fa(ne, se + 32767), we = ne.length); var ke = Ut(q, Z, Ae), Oe = Q >>> 1 == 1 ? Ht[ke] : Xt[ke]; if (Z += Oe & 15, Oe >>>= 4, (Oe >>> 8 & 255) === 0) ne[se++] = Oe; else { if (Oe == 256) break; Oe -= 257; var De = Oe < 8 ? 0 : Oe - 4 >> 2; De > 5 && (De = 0); var Be = se + ce[Oe]; De > 0 && (Be += Ut(q, Z, De), Z += De), ke = Ut(q, Z, _e), Oe = Q >>> 1 == 1 ? ei[ke] : Nn[ke], Z += Oe & 15, Oe >>>= 4; var Re = Oe < 4 ? 0 : Oe - 2 >> 1, Ue = fe[Oe]; for (Re > 0 && (Ue += Ut(q, Z, Re), Z += Re), !ae && we < Be && (ne = fa(ne, Be + 100), we = ne.length); se < Be;)ne[se] = ne[se - Ue], ++se } } } return ae ? [ne, Z + 7 >>> 3] : [ne.slice(0, se), Z + 7 >>> 3] } function Ge(q, ae) { var Z = q.slice(q.l || 0), Q = Me(Z, ae); return q.l += Q[1], Q[0] } function Qe(q, ae) { if (q) typeof console < "u" && console.error(ae); else throw new Error(ae) } function gt(q, ae) { var Z = q; _n(Z, 0); var Q = [], ne = [], se = { FileIndex: Q, FullPaths: ne }; I(se, { root: ae.root }); for (var we = Z.length - 4; (Z[we] != 80 || Z[we + 1] != 75 || Z[we + 2] != 5 || Z[we + 3] != 6) && we >= 0;)--we; Z.l = we + 4, Z.l += 4; var Ae = Z.read_shift(2); Z.l += 6; var _e = Z.read_shift(4); for (Z.l = _e, we = 0; we < Ae; ++we) { Z.l += 20; var Se = Z.read_shift(4), ke = Z.read_shift(4), Oe = Z.read_shift(2), De = Z.read_shift(2), Be = Z.read_shift(2); Z.l += 8; var Re = Z.read_shift(4), Ue = l(Z.slice(Z.l + Oe, Z.l + Oe + De)); Z.l += Oe + De + Be; var Ke = Z.l; Z.l = Re + 4, Ct(Z, Se, ke, se, Ue), Z.l = Ke } return se } function Ct(q, ae, Z, Q, ne) { q.l += 2; var se = q.read_shift(2), we = q.read_shift(2), Ae = s(q); if (se & 8257) throw new Error("Unsupported ZIP encryption"); for (var _e = q.read_shift(4), Se = q.read_shift(4), ke = q.read_shift(4), Oe = q.read_shift(2), De = q.read_shift(2), Be = "", Re = 0; Re < Oe; ++Re)Be += String.fromCharCode(q[q.l++]); if (De) { var Ue = l(q.slice(q.l, q.l + De)); (Ue[21589] || {}).mt && (Ae = Ue[21589].mt), ((ne || {})[21589] || {}).mt && (Ae = ne[21589].mt) } q.l += De; var Ke = q.slice(q.l, q.l + Se); switch (we) { case 8: Ke = W(q, ke); break; case 0: break; default: throw new Error("Unsupported ZIP Compression method " + we) }var Jt = !1; se & 8 && (_e = q.read_shift(4), _e == 134695760 && (_e = q.read_shift(4), Jt = !0), Se = q.read_shift(4), ke = q.read_shift(4)), Se != ae && Qe(Jt, "Bad compressed size: " + ae + " != " + Se), ke != Z && Qe(Jt, "Bad uncompressed size: " + Z + " != " + ke), Qi(Q, Be, Ke, { unsafe: !0, mt: Ae }) } function Jr(q, ae) { var Z = ae || {}, Q = [], ne = [], se = Hr(1), we = Z.compression ? 8 : 0, Ae = 0, _e = 0, Se = 0, ke = 0, Oe = 0, De = q.FullPaths[0], Be = De, Re = q.FileIndex[0], Ue = [], Ke = 0; for (_e = 1; _e < q.FullPaths.length; ++_e)if (Be = q.FullPaths[_e].slice(De.length), Re = q.FileIndex[_e], !(!Re.size || !Re.content || Be == "Sh33tJ5")) { var Jt = ke, Zt = Hr(Be.length); for (Se = 0; Se < Be.length; ++Se)Zt.write_shift(1, Be.charCodeAt(Se) & 127); Zt = Zt.slice(0, Zt.l), Ue[Oe] = Xme.buf(Re.content, 0); var sr = Re.content; we == 8 && (sr = J(sr)), se = Hr(30), se.write_shift(4, 67324752), se.write_shift(2, 20), se.write_shift(2, Ae), se.write_shift(2, we), Re.mt ? i(se, Re.mt) : se.write_shift(4, 0), se.write_shift(-4, Ue[Oe]), se.write_shift(4, sr.length), se.write_shift(4, Re.content.length), se.write_shift(2, Zt.length), se.write_shift(2, 0), ke += se.length, Q.push(se), ke += Zt.length, Q.push(Zt), ke += sr.length, Q.push(sr), se = Hr(46), se.write_shift(4, 33639248), se.write_shift(2, 0), se.write_shift(2, 20), se.write_shift(2, Ae), se.write_shift(2, we), se.write_shift(4, 0), se.write_shift(-4, Ue[Oe]), se.write_shift(4, sr.length), se.write_shift(4, Re.content.length), se.write_shift(2, Zt.length), se.write_shift(2, 0), se.write_shift(2, 0), se.write_shift(2, 0), se.write_shift(2, 0), se.write_shift(4, 0), se.write_shift(4, Jt), Ke += se.l, ne.push(se), Ke += Zt.length, ne.push(Zt), ++Oe } return se = Hr(22), se.write_shift(4, 101010256), se.write_shift(2, 0), se.write_shift(2, 0), se.write_shift(2, Oe), se.write_shift(2, Oe), se.write_shift(4, Ke), se.write_shift(4, ke), se.write_shift(2, 0), Co([Co(Q), Co(ne), se]) } var mr = { htm: "text/html", xml: "text/xml", gif: "image/gif", jpg: "image/jpeg", png: "image/png", mso: "application/x-mso", thmx: "application/vnd.ms-officetheme", sh33tj5: "application/octet-stream" }; function Zr(q, ae) { if (q.ctype) return q.ctype; var Z = q.name || "", Q = Z.match(/\.([^\.]+)$/); return Q && mr[Q[1]] || ae && (Q = (Z = ae).match(/[\.\\]([^\.\\])+$/), Q && mr[Q[1]]) ? mr[Q[1]] : "application/octet-stream" } function fn(q) {
    for (var ae = ED(q), Z = [], Q = 0; Q < ae.length; Q += 76)Z.push(ae.slice(Q, Q + 76)); return Z.join(`\r
`) + `\r
`} function ti(q) {
    var ae = q.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g, function (Se) { var ke = Se.charCodeAt(0).toString(16).toUpperCase(); return "=" + (ke.length == 1 ? "0" + ke : ke) }); ae = ae.replace(/ $/mg, "=20").replace(/\t$/mg, "=09"), ae.charAt(0) == `
`&& (ae = "=0D" + ae.slice(1)), ae = ae.replace(/\r(?!\n)/mg, "=0D").replace(/\n\n/mg, `
=0A`).replace(/([^\r\n])\n/mg, "$1=0A"); for (var Z = [], Q = ae.split(`\r
`), ne = 0; ne < Q.length; ++ne) { var se = Q[ne]; if (se.length == 0) { Z.push(""); continue } for (var we = 0; we < se.length;) { var Ae = 76, _e = se.slice(we, we + Ae); _e.charAt(Ae - 1) == "=" ? Ae-- : _e.charAt(Ae - 2) == "=" ? Ae -= 2 : _e.charAt(Ae - 3) == "=" && (Ae -= 3), _e = se.slice(we, we + Ae), we += Ae, we < se.length && (_e += "="), Z.push(_e) } } return Z.join(`\r
`)
  } function hc(q) {
    for (var ae = [], Z = 0; Z < q.length; ++Z) { for (var Q = q[Z]; Z <= q.length && Q.charAt(Q.length - 1) == "=";)Q = Q.slice(0, Q.length - 1) + q[++Z]; ae.push(Q) } for (var ne = 0; ne < ae.length; ++ne)ae[ne] = ae[ne].replace(/[=][0-9A-Fa-f]{2}/g, function (se) { return String.fromCharCode(parseInt(se.slice(1), 16)) }); return hi(ae.join(`\r
`))
  } function hn(q, ae, Z) { for (var Q = "", ne = "", se = "", we, Ae = 0; Ae < 10; ++Ae) { var _e = ae[Ae]; if (!_e || _e.match(/^\s*$/)) break; var Se = _e.match(/^(.*?):\s*([^\s].*)$/); if (Se) switch (Se[1].toLowerCase()) { case "content-location": Q = Se[2].trim(); break; case "content-type": se = Se[2].trim(); break; case "content-transfer-encoding": ne = Se[2].trim(); break } } switch (++Ae, ne.toLowerCase()) { case "base64": we = hi(Na(ae.slice(Ae).join(""))); break; case "quoted-printable": we = hc(ae.slice(Ae)); break; default: throw new Error("Unsupported Content-Transfer-Encoding " + ne) }var ke = Qi(q, Q.slice(Z.length), we, { unsafe: !0 }); se && (ke.ctype = se) } function Ni(q, ae) {
    if (M(q.slice(0, 13)).toLowerCase() != "mime-version:") throw new Error("Unsupported MAD header"); var Z = ae && ae.root || "", Q = (St && Buffer.isBuffer(q) ? q.toString("binary") : M(q)).split(`\r
`), ne = 0, se = ""; for (ne = 0; ne < Q.length; ++ne)if (se = Q[ne], !!/^Content-Location:/i.test(se) && (se = se.slice(se.indexOf("file")), Z || (Z = se.slice(0, se.lastIndexOf("/") + 1)), se.slice(0, Z.length) != Z)) for (; Z.length > 0 && (Z = Z.slice(0, Z.length - 1), Z = Z.slice(0, Z.lastIndexOf("/") + 1), se.slice(0, Z.length) != Z);); var we = (Q[1] || "").match(/boundary="(.*?)"/); if (!we) throw new Error("MAD cannot find boundary"); var Ae = "--" + (we[1] || ""), _e = [], Se = [], ke = { FileIndex: _e, FullPaths: Se }; I(ke); var Oe, De = 0; for (ne = 0; ne < Q.length; ++ne) { var Be = Q[ne]; Be !== Ae && Be !== Ae + "--" || (De++ && hn(ke, Q.slice(Oe, ne), Z), Oe = ne) } return ke
  } function pc(q, ae) {
    var Z = ae || {}, Q = Z.boundary || "SheetJS"; Q = "------=" + Q; for (var ne = ["MIME-Version: 1.0", 'Content-Type: multipart/related; boundary="' + Q.slice(2) + '"', "", "", ""], se = q.FullPaths[0], we = se, Ae = q.FileIndex[0], _e = 1; _e < q.FullPaths.length; ++_e)if (we = q.FullPaths[_e].slice(se.length), Ae = q.FileIndex[_e], !(!Ae.size || !Ae.content || we == "Sh33tJ5")) { we = we.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g, function (Ke) { return "_x" + Ke.charCodeAt(0).toString(16) + "_" }).replace(/[\u0080-\uFFFF]/g, function (Ke) { return "_u" + Ke.charCodeAt(0).toString(16) + "_" }); for (var Se = Ae.content, ke = St && Buffer.isBuffer(Se) ? Se.toString("binary") : M(Se), Oe = 0, De = Math.min(1024, ke.length), Be = 0, Re = 0; Re <= De; ++Re)(Be = ke.charCodeAt(Re)) >= 32 && Be < 128 && ++Oe; var Ue = Oe >= De * 4 / 5; ne.push(Q), ne.push("Content-Location: " + (Z.root || "file:///C:/SheetJS/") + we), ne.push("Content-Transfer-Encoding: " + (Ue ? "quoted-printable" : "base64")), ne.push("Content-Type: " + Zr(Ae, we)), ne.push(""), ne.push(Ue ? ti(ke) : fn(ke)) } return ne.push(Q + `--\r
`), ne.join(`\r
`)
  } function Jo(q) { var ae = {}; return I(ae, q), ae } function Qi(q, ae, Z, Q) { var ne = Q && Q.unsafe; ne || I(q); var se = !ne && kt.find(q, ae); if (!se) { var we = q.FullPaths[0]; ae.slice(0, we.length) == we ? we = ae : (we.slice(-1) != "/" && (we += "/"), we = (we + ae).replace("//", "/")), se = { name: a(ae), type: 2 }, q.FileIndex.push(se), q.FullPaths.push(we), ne || kt.utils.cfb_gc(q) } return se.content = Z, se.size = Z ? Z.length : 0, Q && (Q.CLSID && (se.clsid = Q.CLSID), Q.mt && (se.mt = Q.mt), Q.ct && (se.ct = Q.ct)), se } function mc(q, ae) { I(q); var Z = kt.find(q, ae); if (Z) { for (var Q = 0; Q < q.FileIndex.length; ++Q)if (q.FileIndex[Q] == Z) return q.FileIndex.splice(Q, 1), q.FullPaths.splice(Q, 1), !0 } return !1 } function Zo(q, ae, Z) { I(q); var Q = kt.find(q, ae); if (Q) { for (var ne = 0; ne < q.FileIndex.length; ++ne)if (q.FileIndex[ne] == Q) return q.FileIndex[ne].name = a(Z), q.FullPaths[ne] = Z, !0 } return !1 } function Ks(q) { F(q, !0) } return t.find = V, t.read = O, t.parse = h, t.write = te, t.writeFile = ie, t.utils = { cfb_new: Jo, cfb_add: Qi, cfb_del: mc, cfb_mov: Zo, cfb_gc: Ks, ReadShift: Sf, CheckField: PF, prep_blob: _n, bconcat: Co, use_zlib: P, _deflateRaw: ut, _inflateRaw: Ge, consts: z }, t
})(); function Jme(e) { if (typeof Deno < "u") return Deno.readFileSync(e); if (typeof $ < "u" && typeof File < "u" && typeof Folder < "u") try { var t = File(e); t.open("r"), t.encoding = "binary"; var r = t.read(); return t.close(), r } catch (n) { if (!n.message || !n.message.match(/onstruct/)) throw n } throw new Error("Cannot access file " + e) } function Ki(e) { for (var t = Object.keys(e), r = [], n = 0; n < t.length; ++n)Object.prototype.hasOwnProperty.call(e, t[n]) && r.push(t[n]); return r } function QE(e) { for (var t = [], r = Ki(e), n = 0; n !== r.length; ++n)t[e[r[n]]] = r[n]; return t } var ig = new Date(1899, 11, 30, 0, 0, 0); function Qn(e, t) { var r = e.getTime(), n = ig.getTime() + (e.getTimezoneOffset() - ig.getTimezoneOffset()) * 6e4; return (r - n) / (1440 * 60 * 1e3) } var hF = new Date, Zme = ig.getTime() + (hF.getTimezoneOffset() - ig.getTimezoneOffset()) * 6e4, RD = hF.getTimezoneOffset(); function wx(e) { var t = new Date; return t.setTime(e * 24 * 60 * 60 * 1e3 + Zme), t.getTimezoneOffset() !== RD && t.setTime(t.getTime() + (t.getTimezoneOffset() - RD) * 6e4), t } function Qme(e) { var t = 0, r = 0, n = !1, a = e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/); if (!a) throw new Error("|" + e + "| is not an ISO8601 Duration"); for (var i = 1; i != a.length; ++i)if (a[i]) { switch (r = 1, i > 3 && (n = !0), a[i].slice(a[i].length - 1)) { case "Y": throw new Error("Unsupported ISO Duration Field: " + a[i].slice(a[i].length - 1)); case "D": r *= 24; case "H": r *= 60; case "M": if (n) r *= 60; else throw new Error("Unsupported ISO Duration Field: M") }t += r * parseInt(a[i], 10) } return t } var PD = new Date("2017-02-19T19:06:09.000Z"), pF = isNaN(PD.getFullYear()) ? new Date("2/19/17") : PD, ege = pF.getFullYear() == 2017; function sn(e, t) { var r = new Date(e); if (ege) return t > 0 ? r.setTime(r.getTime() + r.getTimezoneOffset() * 60 * 1e3) : t < 0 && r.setTime(r.getTime() - r.getTimezoneOffset() * 60 * 1e3), r; if (e instanceof Date) return e; if (pF.getFullYear() == 1917 && !isNaN(r.getFullYear())) { var n = r.getFullYear(); return e.indexOf("" + n) > -1 || r.setFullYear(r.getFullYear() + 100), r } var a = e.match(/\d+/g) || ["2017", "2", "19", "0", "0", "0"], i = new Date(+a[0], +a[1] - 1, +a[2], +a[3] || 0, +a[4] || 0, +a[5] || 0); return e.indexOf("Z") > -1 && (i = new Date(i.getTime() - i.getTimezoneOffset() * 60 * 1e3)), i } function tc(e, t) { if (St && Buffer.isBuffer(e)) { if (t) { if (e[0] == 255 && e[1] == 254) return vf(e.slice(2).toString("utf16le")); if (e[1] == 254 && e[2] == 255) return vf(eF(e.slice(2).toString("binary"))) } return e.toString("binary") } if (typeof TextDecoder < "u") try { if (t) { if (e[0] == 255 && e[1] == 254) return vf(new TextDecoder("utf-16le").decode(e.slice(2))); if (e[0] == 254 && e[1] == 255) return vf(new TextDecoder("utf-16be").decode(e.slice(2))) } var r = { "": "", "": "", : "", "": "", "": "", "": "", "": "", "": "", "": "", : "", "": "", : "", : "", "": "", "": "", "": "", "": "", "": "", "": "", "": "", "": "", "": "", : "", "": "", : "", : "", : "" }; return Array.isArray(e) && (e = new Uint8Array(e)), new TextDecoder("latin1").decode(e).replace(/[]/g, function (i) { return r[i] || i }) } catch { } for (var n = [], a = 0; a != e.length; ++a)n.push(String.fromCharCode(e[a])); return n.join("") } function Sn(e) { if (typeof JSON < "u" && !Array.isArray(e)) return JSON.parse(JSON.stringify(e)); if (typeof e != "object" || e == null) return e; if (e instanceof Date) return new Date(e.getTime()); var t = {}; for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && (t[r] = Sn(e[r])); return t } function _r(e, t) { for (var r = ""; r.length < t;)r += e; return r } function yi(e) { var t = Number(e); if (!isNaN(t)) return isFinite(t) ? t : NaN; if (!/\d/.test(e)) return t; var r = 1, n = e.replace(/([\d]),([\d])/g, "$1$2").replace(/[$]/g, "").replace(/[%]/g, function () { return r *= 100, "" }); return !isNaN(t = Number(n)) || (n = n.replace(/[(](.*)[)]/, function (a, i) { return r = -r, i }), !isNaN(t = Number(n))) ? t / r : t } var tge = ["january", "february", "march", "april", "may", "june", "july", "august", "september", "october", "november", "december"]; function Fu(e) { var t = new Date(e), r = new Date(NaN), n = t.getYear(), a = t.getMonth(), i = t.getDate(); if (isNaN(i)) return r; var s = e.toLowerCase(); if (s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)) { if (s = s.replace(/[^a-z]/g, "").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/, ""), s.length > 3 && tge.indexOf(s) == -1) return r } else if (s.match(/[a-z]/)) return r; return n < 0 || n > 8099 ? r : (a > 0 || i > 1) && n != 101 ? t : e.match(/[^-0-9:,\/\\]/) ? r : t } var rge = (function () { var e = "abacaba".split(/(:?b)/i).length == 5; return function (r, n, a) { if (e || typeof n == "string") return r.split(n); for (var i = r.split(n), s = [i[0]], l = 1; l < i.length; ++l)s.push(a), s.push(i[l]); return s } })(); function mF(e) { return e ? e.content && e.type ? tc(e.content, !0) : e.data ? mf(e.data) : e.asNodeBuffer && St ? mf(e.asNodeBuffer().toString("binary")) : e.asBinary ? mf(e.asBinary()) : e._data && e._data.getContent ? mf(tc(Array.prototype.slice.call(e._data.getContent(), 0))) : null : null } function gF(e) { if (!e) return null; if (e.data) return _D(e.data); if (e.asNodeBuffer && St) return e.asNodeBuffer(); if (e._data && e._data.getContent) { var t = e._data.getContent(); return typeof t == "string" ? _D(t) : Array.prototype.slice.call(t) } return e.content && e.type ? e.content : null } function nge(e) { return e && e.name.slice(-4) === ".bin" ? gF(e) : mF(e) } function Va(e, t) { for (var r = e.FullPaths || Ki(e.files), n = t.toLowerCase().replace(/[\/]/g, "\\"), a = n.replace(/\\/g, "/"), i = 0; i < r.length; ++i) { var s = r[i].replace(/^Root Entry[\/]/, "").toLowerCase(); if (n == s || a == s) return e.files ? e.files[r[i]] : e.FileIndex[i] } return null } function ek(e, t) { var r = Va(e, t); if (r == null) throw new Error("Cannot find file " + t + " in zip"); return r } function Mr(e, t, r) { if (!r) return nge(ek(e, t)); if (!t) return null; try { return Mr(e, t) } catch { return null } } function Sa(e, t, r) { if (!r) return mF(ek(e, t)); if (!t) return null; try { return Sa(e, t) } catch { return null } } function age(e, t, r) { return gF(ek(e, t)) } function DD(e) { for (var t = e.FullPaths || Ki(e.files), r = [], n = 0; n < t.length; ++n)t[n].slice(-1) != "/" && r.push(t[n].replace(/^Root Entry[\/]/, "")); return r.sort() } function ige(e, t, r) { if (e.FullPaths) { if (typeof r == "string") { var n; return St ? n = oc(r) : n = Eme(r), kt.utils.cfb_add(e, t, n) } kt.utils.cfb_add(e, t, r) } else e.file(t, r) } function xF(e, t) { switch (t.type) { case "base64": return kt.read(e, { type: "base64" }); case "binary": return kt.read(e, { type: "binary" }); case "buffer": case "array": return kt.read(e, { type: "buffer" }) }throw new Error("Unrecognized type " + t.type) } function xf(e, t) { if (e.charAt(0) == "/") return e.slice(1); var r = t.split("/"); t.slice(-1) != "/" && r.pop(); for (var n = e.split("/"); n.length !== 0;) { var a = n.shift(); a === ".." ? r.pop() : a !== "." && r.push(a) } return r.join("/") } var vF = `<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`, sge = /([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g, MD = /<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg, oge = /<[^>]*>/g, Bn = vF.match(MD) ? MD : oge, lge = /<\w*:/, cge = /<(\/?)\w+:/; function at(e, t, r) { for (var n = {}, a = 0, i = 0; a !== e.length && !((i = e.charCodeAt(a)) === 32 || i === 10 || i === 13); ++a); if (t || (n[0] = e.slice(0, a)), a === e.length) return n; var s = e.match(sge), l = 0, f = "", d = 0, h = "", m = "", g = 1; if (s) for (d = 0; d != s.length; ++d) { for (m = s[d], i = 0; i != m.length && m.charCodeAt(i) !== 61; ++i); for (h = m.slice(0, i).trim(); m.charCodeAt(i + 1) == 32;)++i; for (g = (a = m.charCodeAt(i + 1)) == 34 || a == 39 ? 1 : 0, f = m.slice(i + 1 + g, m.length - g), l = 0; l != h.length && h.charCodeAt(l) !== 58; ++l); if (l === h.length) h.indexOf("_") > 0 && (h = h.slice(0, h.indexOf("_"))), n[h] = f, n[h.toLowerCase()] = f; else { var v = (l === 5 && h.slice(0, 5) === "xmlns" ? "xmlns" : "") + h.slice(l + 1); if (n[v] && h.slice(l - 3, l) == "ext") continue; n[v] = f, n[v.toLowerCase()] = f } } return n } function Ji(e) { return e.replace(cge, "<$1") } var yF = { "&quot;": '"', "&apos;": "'", "&gt;": ">", "&lt;": "<", "&amp;": "&" }, uge = QE(yF), Nt = (function () { var e = /&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig, t = /_x([\da-fA-F]{4})_/ig; return function r(n) { var a = n + "", i = a.indexOf("<![CDATA["); if (i == -1) return a.replace(e, function (l, f) { return yF[l] || String.fromCharCode(parseInt(f, l.indexOf("x") > -1 ? 16 : 10)) || l }).replace(t, function (l, f) { return String.fromCharCode(parseInt(f, 16)) }); var s = a.indexOf("]]>"); return r(a.slice(0, i)) + a.slice(i + 9, s) + r(a.slice(s + 3)) } })(), dge = /[&<>'"]/g, fge = /[\u0000-\u001f]/g; function tk(e) { var t = e + ""; return t.replace(dge, function (r) { return uge[r] }).replace(/\n/g, "<br/>").replace(fge, function (r) { return "&#x" + ("000" + r.charCodeAt(0).toString(16)).slice(-4) + ";" }) } var LD = (function () { var e = /&#(\d+);/g; function t(r, n) { return String.fromCharCode(parseInt(n, 10)) } return function (n) { return n.replace(e, t) } })(); function ur(e) { switch (e) { case 1: case !0: case "1": case "true": case "TRUE": return !0; default: return !1 } } function P1(e) { for (var t = "", r = 0, n = 0, a = 0, i = 0, s = 0, l = 0; r < e.length;) { if (n = e.charCodeAt(r++), n < 128) { t += String.fromCharCode(n); continue } if (a = e.charCodeAt(r++), n > 191 && n < 224) { s = (n & 31) << 6, s |= a & 63, t += String.fromCharCode(s); continue } if (i = e.charCodeAt(r++), n < 240) { t += String.fromCharCode((n & 15) << 12 | (a & 63) << 6 | i & 63); continue } s = e.charCodeAt(r++), l = ((n & 7) << 18 | (a & 63) << 12 | (i & 63) << 6 | s & 63) - 65536, t += String.fromCharCode(55296 + (l >>> 10 & 1023)), t += String.fromCharCode(56320 + (l & 1023)) } return t } function FD(e) { var t = $o(2 * e.length), r, n, a = 1, i = 0, s = 0, l; for (n = 0; n < e.length; n += a)a = 1, (l = e.charCodeAt(n)) < 128 ? r = l : l < 224 ? (r = (l & 31) * 64 + (e.charCodeAt(n + 1) & 63), a = 2) : l < 240 ? (r = (l & 15) * 4096 + (e.charCodeAt(n + 1) & 63) * 64 + (e.charCodeAt(n + 2) & 63), a = 3) : (a = 4, r = (l & 7) * 262144 + (e.charCodeAt(n + 1) & 63) * 4096 + (e.charCodeAt(n + 2) & 63) * 64 + (e.charCodeAt(n + 3) & 63), r -= 65536, s = 55296 + (r >>> 10 & 1023), r = 56320 + (r & 1023)), s !== 0 && (t[i++] = s & 255, t[i++] = s >>> 8, s = 0), t[i++] = r % 256, t[i++] = r >>> 8; return t.slice(0, i).toString("ucs2") } function UD(e) { return oc(e, "binary").toString("utf8") } var Tp = "foo bar baz", tr = St && (UD(Tp) == P1(Tp) && UD || FD(Tp) == P1(Tp) && FD) || P1, vf = St ? function (e) { return oc(e, "utf8").toString("binary") } : function (e) { for (var t = [], r = 0, n = 0, a = 0; r < e.length;)switch (n = e.charCodeAt(r++), !0) { case n < 128: t.push(String.fromCharCode(n)); break; case n < 2048: t.push(String.fromCharCode(192 + (n >> 6))), t.push(String.fromCharCode(128 + (n & 63))); break; case (n >= 55296 && n < 57344): n -= 55296, a = e.charCodeAt(r++) - 56320 + (n << 10), t.push(String.fromCharCode(240 + (a >> 18 & 7))), t.push(String.fromCharCode(144 + (a >> 12 & 63))), t.push(String.fromCharCode(128 + (a >> 6 & 63))), t.push(String.fromCharCode(128 + (a & 63))); break; default: t.push(String.fromCharCode(224 + (n >> 12))), t.push(String.fromCharCode(128 + (n >> 6 & 63))), t.push(String.fromCharCode(128 + (n & 63))) }return t.join("") }, n0 = (function () { var e = {}; return function (r, n) { var a = r + "|" + (n || ""); return e[a] ? e[a] : e[a] = new RegExp("<(?:\\w+:)?" + r + '(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?' + r + ">", n || "") } })(), bF = (function () {
  var e = [["nbsp", " "], ["middot", ""], ["quot", '"'], ["apos", "'"], ["gt", ">"], ["lt", "<"], ["amp", "&"]].map(function (t) { return [new RegExp("&" + t[0] + ";", "ig"), t[1]] }); return function (r) {
    for (var n = r.replace(/^[\t\n\r ]+/, "").replace(/[\t\n\r ]+$/, "").replace(/>\s+/g, ">").replace(/\s+</g, "<").replace(/[\t\n\r ]+/g, " ").replace(/<\s*[bB][rR]\s*\/?>/g, `
`).replace(/<[^>]*>/g, ""), a = 0; a < e.length; ++a)n = n.replace(e[a][0], e[a][1]); return n
  }
})(), hge = (function () { var e = {}; return function (r) { return e[r] !== void 0 ? e[r] : e[r] = new RegExp("<(?:vt:)?" + r + ">([\\s\\S]*?)</(?:vt:)?" + r + ">", "g") } })(), pge = /<\/?(?:vt:)?variant>/g, mge = /<(?:vt:)([^>]*)>([\s\S]*)</; function BD(e, t) { var r = at(e), n = e.match(hge(r.baseType)) || [], a = []; if (n.length != r.size) { if (t.WTF) throw new Error("unexpected vector length " + n.length + " != " + r.size); return a } return n.forEach(function (i) { var s = i.replace(pge, "").match(mge); s && a.push({ v: tr(s[2]), t: s[1] }) }), a } var gge = /(^\s|\s$|\n)/; function xge(e) { return Ki(e).map(function (t) { return " " + t + '="' + e[t] + '"' }).join("") } function vge(e, t, r) { return "<" + e + (r != null ? xge(r) : "") + (t != null ? (t.match(gge) ? ' xml:space="preserve"' : "") + ">" + t + "</" + e : "/") + ">" } function rk(e) { if (St && Buffer.isBuffer(e)) return e.toString("utf8"); if (typeof e == "string") return e; if (typeof Uint8Array < "u" && e instanceof Uint8Array) return tr(lc(XE(e))); throw new Error("Bad input format: expected Buffer or string") } var a0 = /<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg, yge = { CT: "http://schemas.openxmlformats.org/package/2006/content-types" }, bge = ["http://schemas.openxmlformats.org/spreadsheetml/2006/main", "http://purl.oclc.org/ooxml/spreadsheetml/main", "http://schemas.microsoft.com/office/excel/2006/main", "http://schemas.microsoft.com/office/excel/2006/2"]; function wge(e, t) { for (var r = 1 - 2 * (e[t + 7] >>> 7), n = ((e[t + 7] & 127) << 4) + (e[t + 6] >>> 4 & 15), a = e[t + 6] & 15, i = 5; i >= 0; --i)a = a * 256 + e[t + i]; return n == 2047 ? a == 0 ? r * (1 / 0) : NaN : (n == 0 ? n = -1022 : (n -= 1023, a += Math.pow(2, 52)), r * Math.pow(2, n - 52) * a) } function _ge(e, t, r) { var n = (t < 0 || 1 / t == -1 / 0 ? 1 : 0) << 7, a = 0, i = 0, s = n ? -t : t; isFinite(s) ? s == 0 ? a = i = 0 : (a = Math.floor(Math.log(s) / Math.LN2), i = s * Math.pow(2, 52 - a), a <= -1023 && (!isFinite(i) || i < Math.pow(2, 52)) ? a = -1022 : (i -= Math.pow(2, 52), a += 1023)) : (a = 2047, i = isNaN(t) ? 26985 : 0); for (var l = 0; l <= 5; ++l, i /= 256)e[r + l] = i & 255; e[r + 6] = (a & 15) << 4 | i & 15, e[r + 7] = a >> 4 | n } var $D = function (e) { for (var t = [], r = 10240, n = 0; n < e[0].length; ++n)if (e[0][n]) for (var a = 0, i = e[0][n].length; a < i; a += r)t.push.apply(t, e[0][n].slice(a, a + r)); return t }, zD = St ? function (e) { return e[0].length > 0 && Buffer.isBuffer(e[0][0]) ? Buffer.concat(e[0].map(function (t) { return Buffer.isBuffer(t) ? t : oc(t) })) : $D(e) } : $D, HD = function (e, t, r) { for (var n = [], a = t; a < r; a += 2)n.push(String.fromCharCode(Ss(e, a))); return n.join("").replace(Yn, "") }, nk = St ? function (e, t, r) { return Buffer.isBuffer(e) ? e.toString("utf16le", t, r).replace(Yn, "") : HD(e, t, r) } : HD, GD = function (e, t, r) { for (var n = [], a = t; a < t + r; ++a)n.push(("0" + e[a].toString(16)).slice(-2)); return n.join("") }, wF = St ? function (e, t, r) { return Buffer.isBuffer(e) ? e.toString("hex", t, t + r) : GD(e, t, r) } : GD, VD = function (e, t, r) { for (var n = [], a = t; a < r; a++)n.push(String.fromCharCode(pu(e, a))); return n.join("") }, R0 = St ? function (t, r, n) { return Buffer.isBuffer(t) ? t.toString("utf8", r, n) : VD(t, r, n) } : VD, _F = function (e, t) { var r = wa(e, t); return r > 0 ? R0(e, t + 4, t + 4 + r - 1) : "" }, SF = _F, EF = function (e, t) { var r = wa(e, t); return r > 0 ? R0(e, t + 4, t + 4 + r - 1) : "" }, kF = EF, TF = function (e, t) { var r = 2 * wa(e, t); return r > 0 ? R0(e, t + 4, t + 4 + r - 1) : "" }, NF = TF, AF = function (t, r) { var n = wa(t, r); return n > 0 ? nk(t, r + 4, r + 4 + n) : "" }, CF = AF, jF = function (e, t) { var r = wa(e, t); return r > 0 ? R0(e, t + 4, t + 4 + r) : "" }, IF = jF, OF = function (e, t) { return wge(e, t) }, sg = OF, RF = function (t) { return Array.isArray(t) || typeof Uint8Array < "u" && t instanceof Uint8Array }; St && (SF = function (t, r) { if (!Buffer.isBuffer(t)) return _F(t, r); var n = t.readUInt32LE(r); return n > 0 ? t.toString("utf8", r + 4, r + 4 + n - 1) : "" }, kF = function (t, r) { if (!Buffer.isBuffer(t)) return EF(t, r); var n = t.readUInt32LE(r); return n > 0 ? t.toString("utf8", r + 4, r + 4 + n - 1) : "" }, NF = function (t, r) { if (!Buffer.isBuffer(t)) return TF(t, r); var n = 2 * t.readUInt32LE(r); return t.toString("utf16le", r + 4, r + 4 + n - 1) }, CF = function (t, r) { if (!Buffer.isBuffer(t)) return AF(t, r); var n = t.readUInt32LE(r); return t.toString("utf16le", r + 4, r + 4 + n) }, IF = function (t, r) { if (!Buffer.isBuffer(t)) return jF(t, r); var n = t.readUInt32LE(r); return t.toString("utf8", r + 4, r + 4 + n) }, sg = function (t, r) { return Buffer.isBuffer(t) ? t.readDoubleLE(r) : OF(t, r) }, RF = function (t) { return Buffer.isBuffer(t) || Array.isArray(t) || typeof Uint8Array < "u" && t instanceof Uint8Array }); var pu = function (e, t) { return e[t] }, Ss = function (e, t) { return e[t + 1] * 256 + e[t] }, Sge = function (e, t) { var r = e[t + 1] * 256 + e[t]; return r < 32768 ? r : (65535 - r + 1) * -1 }, wa = function (e, t) { return e[t + 3] * (1 << 24) + (e[t + 2] << 16) + (e[t + 1] << 8) + e[t] }, Cl = function (e, t) { return e[t + 3] << 24 | e[t + 2] << 16 | e[t + 1] << 8 | e[t] }, Ege = function (e, t) { return e[t] << 24 | e[t + 1] << 16 | e[t + 2] << 8 | e[t + 3] }; function Sf(e, t) { var r = "", n, a, i = [], s, l, f, d; switch (t) { case "dbcs": if (d = this.l, St && Buffer.isBuffer(this)) r = this.slice(this.l, this.l + 2 * e).toString("utf16le"); else for (f = 0; f < e; ++f)r += String.fromCharCode(Ss(this, d)), d += 2; e *= 2; break; case "utf8": r = R0(this, this.l, this.l + e); break; case "utf16le": e *= 2, r = nk(this, this.l, this.l + e); break; case "wstr": return Sf.call(this, e, "dbcs"); case "lpstr-ansi": r = SF(this, this.l), e = 4 + wa(this, this.l); break; case "lpstr-cp": r = kF(this, this.l), e = 4 + wa(this, this.l); break; case "lpwstr": r = NF(this, this.l), e = 4 + 2 * wa(this, this.l); break; case "lpp4": e = 4 + wa(this, this.l), r = CF(this, this.l), e & 2 && (e += 2); break; case "8lpp4": e = 4 + wa(this, this.l), r = IF(this, this.l), e & 3 && (e += 4 - (e & 3)); break; case "cstr": for (e = 0, r = ""; (s = pu(this, this.l + e++)) !== 0;)i.push(kp(s)); r = i.join(""); break; case "_wstr": for (e = 0, r = ""; (s = Ss(this, this.l + e)) !== 0;)i.push(kp(s)), e += 2; e += 2, r = i.join(""); break; case "dbcs-cont": for (r = "", d = this.l, f = 0; f < e; ++f) { if (this.lens && this.lens.indexOf(d) !== -1) return s = pu(this, d), this.l = d + 1, l = Sf.call(this, e - f, s ? "dbcs-cont" : "sbcs-cont"), i.join("") + l; i.push(kp(Ss(this, d))), d += 2 } r = i.join(""), e *= 2; break; case "cpstr": case "sbcs-cont": for (r = "", d = this.l, f = 0; f != e; ++f) { if (this.lens && this.lens.indexOf(d) !== -1) return s = pu(this, d), this.l = d + 1, l = Sf.call(this, e - f, s ? "dbcs-cont" : "sbcs-cont"), i.join("") + l; i.push(kp(pu(this, d))), d += 1 } r = i.join(""); break; default: switch (e) { case 1: return n = pu(this, this.l), this.l++, n; case 2: return n = (t === "i" ? Sge : Ss)(this, this.l), this.l += 2, n; case 4: case -4: return t === "i" || (this[this.l + 3] & 128) === 0 ? (n = (e > 0 ? Cl : Ege)(this, this.l), this.l += 4, n) : (a = wa(this, this.l), this.l += 4, a); case 8: case -8: if (t === "f") return e == 8 ? a = sg(this, this.l) : a = sg([this[this.l + 7], this[this.l + 6], this[this.l + 5], this[this.l + 4], this[this.l + 3], this[this.l + 2], this[this.l + 1], this[this.l + 0]], 0), this.l += 8, a; e = 8; case 16: r = wF(this, this.l, e); break } }return this.l += e, r } var kge = function (e, t, r) { e[r] = t & 255, e[r + 1] = t >>> 8 & 255, e[r + 2] = t >>> 16 & 255, e[r + 3] = t >>> 24 & 255 }, Tge = function (e, t, r) { e[r] = t & 255, e[r + 1] = t >> 8 & 255, e[r + 2] = t >> 16 & 255, e[r + 3] = t >> 24 & 255 }, Nge = function (e, t, r) { e[r] = t & 255, e[r + 1] = t >>> 8 & 255 }; function Age(e, t, r) { var n = 0, a = 0; if (r === "dbcs") { for (a = 0; a != t.length; ++a)Nge(this, t.charCodeAt(a), this.l + 2 * a); n = 2 * t.length } else if (r === "sbcs") { for (t = t.replace(/[^\x00-\x7F]/g, "_"), a = 0; a != t.length; ++a)this[this.l + a] = t.charCodeAt(a) & 255; n = t.length } else if (r === "hex") { for (; a < e; ++a)this[this.l++] = parseInt(t.slice(2 * a, 2 * a + 2), 16) || 0; return this } else if (r === "utf16le") { var i = Math.min(this.l + e, this.length); for (a = 0; a < Math.min(t.length, e); ++a) { var s = t.charCodeAt(a); this[this.l++] = s & 255, this[this.l++] = s >> 8 } for (; this.l < i;)this[this.l++] = 0; return this } else switch (e) { case 1: n = 1, this[this.l] = t & 255; break; case 2: n = 2, this[this.l] = t & 255, t >>>= 8, this[this.l + 1] = t & 255; break; case 3: n = 3, this[this.l] = t & 255, t >>>= 8, this[this.l + 1] = t & 255, t >>>= 8, this[this.l + 2] = t & 255; break; case 4: n = 4, kge(this, t, this.l); break; case 8: if (n = 8, r === "f") { _ge(this, t, this.l); break } case 16: break; case -4: n = 4, Tge(this, t, this.l); break }return this.l += n, this } function PF(e, t) { var r = wF(this, this.l, e.length >> 1); if (r !== e) throw new Error(t + "Expected " + e + " saw " + r); this.l += e.length >> 1 } function _n(e, t) { e.l = t, e.read_shift = Sf, e.chk = PF, e.write_shift = Age } function Un(e, t) { e.l += t } function Hr(e) { var t = $o(e); return _n(t, 0), t } function Ws(e, t, r) { if (e) { var n, a, i; _n(e, e.l || 0); for (var s = e.length, l = 0, f = 0; e.l < s;) { l = e.read_shift(1), l & 128 && (l = (l & 127) + ((e.read_shift(1) & 127) << 7)); var d = fg[l] || fg[65535]; for (n = e.read_shift(1), i = n & 127, a = 1; a < 4 && n & 128; ++a)i += ((n = e.read_shift(1)) & 127) << 7 * a; f = e.l + i; var h = d.f && d.f(e, i, r); if (e.l = f, t(h, d, l)) return } } } function b_() { var e = [], t = St ? 256 : 2048, r = function (d) { var h = Hr(d); return _n(h, 0), h }, n = r(t), a = function () { n && (n.length > n.l && (n = n.slice(0, n.l), n.l = n.length), n.length > 0 && e.push(n), n = null) }, i = function (d) { return n && d < n.length - n.l ? n : (a(), n = r(Math.max(d + 1, t))) }, s = function () { return a(), Co(e) }, l = function (d) { a(), n = d, n.l == null && (n.l = n.length), i(t) }; return { next: i, push: l, end: s, _bufs: e } } function Ef(e, t, r) { var n = Sn(e); if (t.s ? (n.cRel && (n.c += t.s.c), n.rRel && (n.r += t.s.r)) : (n.cRel && (n.c += t.c), n.rRel && (n.r += t.r)), !r || r.biff < 12) { for (; n.c >= 256;)n.c -= 256; for (; n.r >= 65536;)n.r -= 65536 } return n } function qD(e, t, r) { var n = Sn(e); return n.s = Ef(n.s, t.s, r), n.e = Ef(n.e, t.s, r), n } function kf(e, t) { if (e.cRel && e.c < 0) for (e = Sn(e); e.c < 0;)e.c += t > 8 ? 16384 : 256; if (e.rRel && e.r < 0) for (e = Sn(e); e.r < 0;)e.r += t > 8 ? 1048576 : t > 5 ? 65536 : 16384; var r = lt(e); return !e.cRel && e.cRel != null && (r = Ige(r)), !e.rRel && e.rRel != null && (r = Cge(r)), r } function D1(e, t) { return e.s.r == 0 && !e.s.rRel && e.e.r == (t.biff >= 12 ? 1048575 : t.biff >= 8 ? 65536 : 16384) && !e.e.rRel ? (e.s.cRel ? "" : "$") + Vr(e.s.c) + ":" + (e.e.cRel ? "" : "$") + Vr(e.e.c) : e.s.c == 0 && !e.s.cRel && e.e.c == (t.biff >= 12 ? 16383 : 255) && !e.e.cRel ? (e.s.rRel ? "" : "$") + En(e.s.r) + ":" + (e.e.rRel ? "" : "$") + En(e.e.r) : kf(e.s, t.biff) + ":" + kf(e.e, t.biff) } function ak(e) { return parseInt(jge(e), 10) - 1 } function En(e) { return "" + (e + 1) } function Cge(e) { return e.replace(/([A-Z]|^)(\d+)$/, "$1$$$2") } function jge(e) { return e.replace(/\$(\d+)$/, "$1") } function ik(e) { for (var t = Oge(e), r = 0, n = 0; n !== t.length; ++n)r = 26 * r + t.charCodeAt(n) - 64; return r - 1 } function Vr(e) { if (e < 0) throw new Error("invalid column " + e); var t = ""; for (++e; e; e = Math.floor((e - 1) / 26))t = String.fromCharCode((e - 1) % 26 + 65) + t; return t } function Ige(e) { return e.replace(/^([A-Z])/, "$$$1") } function Oge(e) { return e.replace(/^\$([A-Z])/, "$1") } function Rge(e) { return e.replace(/(\$?[A-Z]*)(\$?\d*)/, "$1,$2").split(",") } function Kn(e) { for (var t = 0, r = 0, n = 0; n < e.length; ++n) { var a = e.charCodeAt(n); a >= 48 && a <= 57 ? t = 10 * t + (a - 48) : a >= 65 && a <= 90 && (r = 26 * r + (a - 64)) } return { c: r - 1, r: t - 1 } } function lt(e) { for (var t = e.c + 1, r = ""; t; t = (t - 1) / 26 | 0)r = String.fromCharCode((t - 1) % 26 + 65) + r; return r + (e.r + 1) } function nd(e) { var t = e.indexOf(":"); return t == -1 ? { s: Kn(e), e: Kn(e) } : { s: Kn(e.slice(0, t)), e: Kn(e.slice(t + 1)) } } function Tt(e, t) { return typeof t > "u" || typeof t == "number" ? Tt(e.s, e.e) : (typeof e != "string" && (e = lt(e)), typeof t != "string" && (t = lt(t)), e == t ? e : e + ":" + t) } function Er(e) { var t = { s: { c: 0, r: 0 }, e: { c: 0, r: 0 } }, r = 0, n = 0, a = 0, i = e.length; for (r = 0; n < i && !((a = e.charCodeAt(n) - 64) < 1 || a > 26); ++n)r = 26 * r + a; for (t.s.c = --r, r = 0; n < i && !((a = e.charCodeAt(n) - 48) < 0 || a > 9); ++n)r = 10 * r + a; if (t.s.r = --r, n === i || a != 10) return t.e.c = t.s.c, t.e.r = t.s.r, t; for (++n, r = 0; n != i && !((a = e.charCodeAt(n) - 64) < 1 || a > 26); ++n)r = 26 * r + a; for (t.e.c = --r, r = 0; n != i && !((a = e.charCodeAt(n) - 48) < 0 || a > 9); ++n)r = 10 * r + a; return t.e.r = --r, t } function WD(e, t) { var r = e.t == "d" && t instanceof Date; if (e.z != null) try { return e.w = Ja(e.z, r ? Qn(t) : t) } catch { } try { return e.w = Ja((e.XF || {}).numFmtId || (r ? 14 : 0), r ? Qn(t) : t) } catch { return "" + t } } function Ms(e, t, r) { return e == null || e.t == null || e.t == "z" ? "" : e.w !== void 0 ? e.w : (e.t == "d" && !e.z && r && r.dateNF && (e.z = r.dateNF), e.t == "e" ? dc[e.v] || e.v : t == null ? WD(e, e.v) : WD(e, t)) } function Xo(e, t) { var r = t && t.sheet ? t.sheet : "Sheet1", n = {}; return n[r] = e, { SheetNames: [r], Sheets: n } } function DF(e, t, r) { var n = r || {}, a = e ? Array.isArray(e) : n.dense, i = e || (a ? [] : {}), s = 0, l = 0; if (i && n.origin != null) { if (typeof n.origin == "number") s = n.origin; else { var f = typeof n.origin == "string" ? Kn(n.origin) : n.origin; s = f.r, l = f.c } i["!ref"] || (i["!ref"] = "A1:A1") } var d = { s: { c: 1e7, r: 1e7 }, e: { c: 0, r: 0 } }; if (i["!ref"]) { var h = Er(i["!ref"]); d.s.c = h.s.c, d.s.r = h.s.r, d.e.c = Math.max(d.e.c, h.e.c), d.e.r = Math.max(d.e.r, h.e.r), s == -1 && (d.e.r = s = h.e.r + 1) } for (var m = 0; m != t.length; ++m)if (t[m]) { if (!Array.isArray(t[m])) throw new Error("aoa_to_sheet expects an array of arrays"); for (var g = 0; g != t[m].length; ++g)if (!(typeof t[m][g] > "u")) { var v = { v: t[m][g] }, y = s + m, b = l + g; if (d.s.r > y && (d.s.r = y), d.s.c > b && (d.s.c = b), d.e.r < y && (d.e.r = y), d.e.c < b && (d.e.c = b), t[m][g] && typeof t[m][g] == "object" && !Array.isArray(t[m][g]) && !(t[m][g] instanceof Date)) v = t[m][g]; else if (Array.isArray(v.v) && (v.f = t[m][g][1], v.v = v.v[0]), v.v === null) if (v.f) v.t = "n"; else if (n.nullError) v.t = "e", v.v = 0; else if (n.sheetStubs) v.t = "z"; else continue; else typeof v.v == "number" ? v.t = "n" : typeof v.v == "boolean" ? v.t = "b" : v.v instanceof Date ? (v.z = n.dateNF || ft[14], n.cellDates ? (v.t = "d", v.w = Ja(v.z, Qn(v.v))) : (v.t = "n", v.v = Qn(v.v), v.w = Ja(v.z, v.v))) : v.t = "s"; if (a) i[y] || (i[y] = []), i[y][b] && i[y][b].z && (v.z = i[y][b].z), i[y][b] = v; else { var _ = lt({ c: b, r: y }); i[_] && i[_].z && (v.z = i[_].z), i[_] = v } } } return d.s.c < 1e7 && (i["!ref"] = Tt(d)), i } function ad(e, t) { return DF(null, e, t) } function Pge(e) { return e.read_shift(4, "i") } function Ln(e) { var t = e.read_shift(4); return t === 0 ? "" : e.read_shift(t, "dbcs") } function Dge(e) { return { ich: e.read_shift(2), ifnt: e.read_shift(2) } } function sk(e, t) { var r = e.l, n = e.read_shift(1), a = Ln(e), i = [], s = { t: a, h: a }; if ((n & 1) !== 0) { for (var l = e.read_shift(4), f = 0; f != l; ++f)i.push(Dge(e)); s.r = i } else s.r = [{ ich: 0, ifnt: 0 }]; return e.l = r + t, s } var Mge = sk; function Qa(e) { var t = e.read_shift(4), r = e.read_shift(2); return r += e.read_shift(1) << 16, e.l++, { c: t, iStyleRef: r } } function cc(e) { var t = e.read_shift(2); return t += e.read_shift(1) << 16, e.l++, { c: -1, iStyleRef: t } } var Lge = Ln; function ok(e) { var t = e.read_shift(4); return t === 0 || t === 4294967295 ? "" : e.read_shift(t, "dbcs") } var Fge = Ln, w_ = ok; function lk(e) { var t = e.slice(e.l, e.l + 4), r = t[0] & 1, n = t[0] & 2; e.l += 4; var a = n === 0 ? sg([0, 0, 0, 0, t[0] & 252, t[1], t[2], t[3]], 0) : Cl(t, 0) >> 2; return r ? a / 100 : a } function MF(e) { var t = { s: {}, e: {} }; return t.s.r = e.read_shift(4), t.e.r = e.read_shift(4), t.s.c = e.read_shift(4), t.e.c = e.read_shift(4), t } var uc = MF; function Rn(e) { if (e.length - e.l < 8) throw "XLS Xnum Buffer underflow"; return e.read_shift(8, "f") } function Uge(e) { var t = {}, r = e.read_shift(1), n = r >>> 1, a = e.read_shift(1), i = e.read_shift(2, "i"), s = e.read_shift(1), l = e.read_shift(1), f = e.read_shift(1); switch (e.l++, n) { case 0: t.auto = 1; break; case 1: t.index = a; var d = Gl[a]; d && (t.rgb = s0(d)); break; case 2: t.rgb = s0([s, l, f]); break; case 3: t.theme = a; break }return i != 0 && (t.tint = i > 0 ? i / 32767 : i / 32768), t } function Bge(e) { var t = e.read_shift(1); e.l++; var r = { fBold: t & 1, fItalic: t & 2, fUnderline: t & 4, fStrikeout: t & 8, fOutline: t & 16, fShadow: t & 32, fCondense: t & 64, fExtend: t & 128 }; return r } function LF(e, t) { var r = { 2: "BITMAP", 3: "METAFILEPICT", 8: "DIB", 14: "ENHMETAFILE" }, n = e.read_shift(4); switch (n) { case 0: return ""; case 4294967295: case 4294967294: return r[e.read_shift(4)] || "" }if (n > 400) throw new Error("Unsupported Clipboard: " + n.toString(16)); return e.l -= 4, e.read_shift(0, t == 1 ? "lpstr" : "lpwstr") } function $ge(e) { return LF(e, 1) } function zge(e) { return LF(e, 2) } var ck = 2, la = 3, Np = 11, KD = 12, og = 19, Ap = 64, Hge = 65, Gge = 71, Vge = 4108, qge = 4126, nn = 80, FF = 81, Wge = [nn, FF], Kge = { 1: { n: "CodePage", t: ck }, 2: { n: "Category", t: nn }, 3: { n: "PresentationFormat", t: nn }, 4: { n: "ByteCount", t: la }, 5: { n: "LineCount", t: la }, 6: { n: "ParagraphCount", t: la }, 7: { n: "SlideCount", t: la }, 8: { n: "NoteCount", t: la }, 9: { n: "HiddenCount", t: la }, 10: { n: "MultimediaClipCount", t: la }, 11: { n: "ScaleCrop", t: Np }, 12: { n: "HeadingPairs", t: Vge }, 13: { n: "TitlesOfParts", t: qge }, 14: { n: "Manager", t: nn }, 15: { n: "Company", t: nn }, 16: { n: "LinksUpToDate", t: Np }, 17: { n: "CharacterCount", t: la }, 19: { n: "SharedDoc", t: Np }, 22: { n: "HyperlinksChanged", t: Np }, 23: { n: "AppVersion", t: la, p: "version" }, 24: { n: "DigSig", t: Hge }, 26: { n: "ContentType", t: nn }, 27: { n: "ContentStatus", t: nn }, 28: { n: "Language", t: nn }, 29: { n: "Version", t: nn }, 255: {}, 2147483648: { n: "Locale", t: og }, 2147483651: { n: "Behavior", t: og }, 1919054434: {} }, Yge = { 1: { n: "CodePage", t: ck }, 2: { n: "Title", t: nn }, 3: { n: "Subject", t: nn }, 4: { n: "Author", t: nn }, 5: { n: "Keywords", t: nn }, 6: { n: "Comments", t: nn }, 7: { n: "Template", t: nn }, 8: { n: "LastAuthor", t: nn }, 9: { n: "RevNumber", t: nn }, 10: { n: "EditTime", t: Ap }, 11: { n: "LastPrinted", t: Ap }, 12: { n: "CreatedDate", t: Ap }, 13: { n: "ModifiedDate", t: Ap }, 14: { n: "PageCount", t: la }, 15: { n: "WordCount", t: la }, 16: { n: "CharCount", t: la }, 17: { n: "Thumbnail", t: Gge }, 18: { n: "Application", t: nn }, 19: { n: "DocSecurity", t: la }, 255: {}, 2147483648: { n: "Locale", t: og }, 2147483651: { n: "Behavior", t: og }, 1919054434: {} }, YD = { 1: "US", 2: "CA", 3: "", 7: "RU", 20: "EG", 30: "GR", 31: "NL", 32: "BE", 33: "FR", 34: "ES", 36: "HU", 39: "IT", 41: "CH", 43: "AT", 44: "GB", 45: "DK", 46: "SE", 47: "NO", 48: "PL", 49: "DE", 52: "MX", 55: "BR", 61: "AU", 64: "NZ", 66: "TH", 81: "JP", 82: "KR", 84: "VN", 86: "CN", 90: "TR", 105: "JS", 213: "DZ", 216: "MA", 218: "LY", 351: "PT", 354: "IS", 358: "FI", 420: "CZ", 886: "TW", 961: "LB", 962: "JO", 963: "SY", 964: "IQ", 965: "KW", 966: "SA", 971: "AE", 972: "IL", 974: "QA", 981: "IR", 65535: "US" }, Xge = [null, "solid", "mediumGray", "darkGray", "lightGray", "darkHorizontal", "darkVertical", "darkDown", "darkUp", "darkGrid", "darkTrellis", "lightHorizontal", "lightVertical", "lightDown", "lightUp", "lightGrid", "lightTrellis", "gray125", "gray0625"]; function Jge(e) { return e.map(function (t) { return [t >> 16 & 255, t >> 8 & 255, t & 255] }) } var Zge = Jge([0, 16777215, 16711680, 65280, 255, 16776960, 16711935, 65535, 0, 16777215, 16711680, 65280, 255, 16776960, 16711935, 65535, 8388608, 32768, 128, 8421376, 8388736, 32896, 12632256, 8421504, 10066431, 10040166, 16777164, 13434879, 6684774, 16744576, 26316, 13421823, 128, 16711935, 16776960, 65535, 8388736, 8388608, 32896, 255, 52479, 13434879, 13434828, 16777113, 10079487, 16751052, 13408767, 16764057, 3368703, 3394764, 10079232, 16763904, 16750848, 16737792, 6710937, 9868950, 13158, 3381606, 13056, 3355392, 10040064, 10040166, 3355545, 3355443, 16777215, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]), Gl = Sn(Zge), dc = { 0: "#NULL!", 7: "#DIV/0!", 15: "#VALUE!", 23: "#REF!", 29: "#NAME?", 36: "#NUM!", 42: "#N/A", 43: "#GETTING_DATA", 255: "#WTF?" }, UF = { "#NULL!": 0, "#DIV/0!": 7, "#VALUE!": 15, "#REF!": 23, "#NAME?": 29, "#NUM!": 36, "#N/A": 42, "#GETTING_DATA": 43, "#WTF?": 255 }, XD = { "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml": "workbooks", "application/vnd.ms-excel.sheet.macroEnabled.main+xml": "workbooks", "application/vnd.ms-excel.sheet.binary.macroEnabled.main": "workbooks", "application/vnd.ms-excel.addin.macroEnabled.main+xml": "workbooks", "application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml": "workbooks", "application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml": "sheets", "application/vnd.ms-excel.worksheet": "sheets", "application/vnd.ms-excel.binIndexWs": "TODO", "application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml": "charts", "application/vnd.ms-excel.chartsheet": "charts", "application/vnd.ms-excel.macrosheet+xml": "macros", "application/vnd.ms-excel.macrosheet": "macros", "application/vnd.ms-excel.intlmacrosheet": "TODO", "application/vnd.ms-excel.binIndexMs": "TODO", "application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml": "dialogs", "application/vnd.ms-excel.dialogsheet": "dialogs", "application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml": "strs", "application/vnd.ms-excel.sharedStrings": "strs", "application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml": "styles", "application/vnd.ms-excel.styles": "styles", "application/vnd.openxmlformats-package.core-properties+xml": "coreprops", "application/vnd.openxmlformats-officedocument.custom-properties+xml": "custprops", "application/vnd.openxmlformats-officedocument.extended-properties+xml": "extprops", "application/vnd.openxmlformats-officedocument.customXmlProperties+xml": "TODO", "application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty": "TODO", "application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml": "comments", "application/vnd.ms-excel.comments": "comments", "application/vnd.ms-excel.threadedcomments+xml": "threadedcomments", "application/vnd.ms-excel.person+xml": "people", "application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml": "metadata", "application/vnd.ms-excel.sheetMetadata": "metadata", "application/vnd.ms-excel.pivotTable": "TODO", "application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml": "TODO", "application/vnd.openxmlformats-officedocument.drawingml.chart+xml": "TODO", "application/vnd.ms-office.chartcolorstyle+xml": "TODO", "application/vnd.ms-office.chartstyle+xml": "TODO", "application/vnd.ms-office.chartex+xml": "TODO", "application/vnd.ms-excel.calcChain": "calcchains", "application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml": "calcchains", "application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings": "TODO", "application/vnd.ms-office.activeX": "TODO", "application/vnd.ms-office.activeX+xml": "TODO", "application/vnd.ms-excel.attachedToolbars": "TODO", "application/vnd.ms-excel.connections": "TODO", "application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml": "TODO", "application/vnd.ms-excel.externalLink": "links", "application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml": "links", "application/vnd.ms-excel.pivotCacheDefinition": "TODO", "application/vnd.ms-excel.pivotCacheRecords": "TODO", "application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml": "TODO", "application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml": "TODO", "application/vnd.ms-excel.queryTable": "TODO", "application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml": "TODO", "application/vnd.ms-excel.userNames": "TODO", "application/vnd.ms-excel.revisionHeaders": "TODO", "application/vnd.ms-excel.revisionLog": "TODO", "application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml": "TODO", "application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml": "TODO", "application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml": "TODO", "application/vnd.ms-excel.tableSingleCells": "TODO", "application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml": "TODO", "application/vnd.ms-excel.slicer": "TODO", "application/vnd.ms-excel.slicerCache": "TODO", "application/vnd.ms-excel.slicer+xml": "TODO", "application/vnd.ms-excel.slicerCache+xml": "TODO", "application/vnd.ms-excel.wsSortMap": "TODO", "application/vnd.ms-excel.table": "TODO", "application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml": "TODO", "application/vnd.openxmlformats-officedocument.theme+xml": "themes", "application/vnd.openxmlformats-officedocument.themeOverride+xml": "TODO", "application/vnd.ms-excel.Timeline+xml": "TODO", "application/vnd.ms-excel.TimelineCache+xml": "TODO", "application/vnd.ms-office.vbaProject": "vba", "application/vnd.ms-office.vbaProjectSignature": "TODO", "application/vnd.ms-office.volatileDependencies": "TODO", "application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml": "TODO", "application/vnd.ms-excel.controlproperties+xml": "TODO", "application/vnd.openxmlformats-officedocument.model+data": "TODO", "application/vnd.ms-excel.Survey+xml": "TODO", "application/vnd.openxmlformats-officedocument.drawing+xml": "drawings", "application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml": "TODO", "application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml": "TODO", "application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml": "TODO", "application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml": "TODO", "application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml": "TODO", "application/vnd.openxmlformats-officedocument.vmlDrawing": "TODO", "application/vnd.openxmlformats-package.relationships+xml": "rels", "application/vnd.openxmlformats-officedocument.oleObject": "TODO", "image/png": "TODO", sheet: "js" }; function Qge() { return { workbooks: [], sheets: [], charts: [], dialogs: [], macros: [], rels: [], strs: [], comments: [], threadedcomments: [], links: [], coreprops: [], extprops: [], custprops: [], themes: [], styles: [], calcchains: [], vba: [], drawings: [], metadata: [], people: [], TODO: [], xmlns: "" } } function exe(e) { var t = Qge(); if (!e || !e.match) return t; var r = {}; if ((e.match(Bn) || []).forEach(function (n) { var a = at(n); switch (a[0].replace(lge, "<")) { case "<?xml": break; case "<Types": t.xmlns = a["xmlns" + (a[0].match(/<(\w+):/) || ["", ""])[1]]; break; case "<Default": r[a.Extension] = a.ContentType; break; case "<Override": t[XD[a.ContentType]] !== void 0 && t[XD[a.ContentType]].push(a.PartName); break } }), t.xmlns !== yge.CT) throw new Error("Unknown Namespace: " + t.xmlns); return t.calcchain = t.calcchains.length > 0 ? t.calcchains[0] : "", t.sst = t.strs.length > 0 ? t.strs[0] : "", t.style = t.styles.length > 0 ? t.styles[0] : "", t.defaults = r, delete t.calcchains, t } var wu = { WB: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument", SHEET: "http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument", HLINK: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink", VML: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing", XPATH: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath", XMISS: "http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing", XLINK: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink", CXML: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml", CXMLP: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps", CMNT: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments", CORE_PROPS: "http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties", EXT_PROPS: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties", CUST_PROPS: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties", SST: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings", STY: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles", THEME: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme", CHART: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart", CHARTEX: "http://schemas.microsoft.com/office/2014/relationships/chartEx", CS: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet", WS: ["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet", "http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"], DS: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet", MS: "http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet", IMG: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/image", DRAW: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing", XLMETA: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata", TCMNT: "http://schemas.microsoft.com/office/2017/10/relationships/threadedComment", PEOPLE: "http://schemas.microsoft.com/office/2017/10/relationships/person", VBA: "http://schemas.microsoft.com/office/2006/relationships/vbaProject" }; function __(e) { var t = e.lastIndexOf("/"); return e.slice(0, t + 1) + "_rels/" + e.slice(t + 1) + ".rels" } function Tf(e, t) { var r = { "!id": {} }; if (!e) return r; t.charAt(0) !== "/" && (t = "/" + t); var n = {}; return (e.match(Bn) || []).forEach(function (a) { var i = at(a); if (i[0] === "<Relationship") { var s = {}; s.Type = i.Type, s.Target = i.Target, s.Id = i.Id, i.TargetMode && (s.TargetMode = i.TargetMode); var l = i.TargetMode === "External" ? i.Target : xf(i.Target, t); r[l] = s, n[i.Id] = s } }), r["!id"] = n, r } var txe = "application/vnd.oasis.opendocument.spreadsheet"; function rxe(e, t) { for (var r = rk(e), n, a; n = a0.exec(r);)switch (n[3]) { case "manifest": break; case "file-entry": if (a = at(n[0], !1), a.path == "/" && a.type !== txe) throw new Error("This OpenDocument is not a spreadsheet"); break; case "encryption-data": case "algorithm": case "start-key-generation": case "key-derivation": throw new Error("Unsupported ODS Encryption"); default: if (t && t.WTF) throw n } } var Nf = [["cp:category", "Category"], ["cp:contentStatus", "ContentStatus"], ["cp:keywords", "Keywords"], ["cp:lastModifiedBy", "LastAuthor"], ["cp:lastPrinted", "LastPrinted"], ["cp:revision", "RevNumber"], ["cp:version", "Version"], ["dc:creator", "Author"], ["dc:description", "Comments"], ["dc:identifier", "Identifier"], ["dc:language", "Language"], ["dc:subject", "Subject"], ["dc:title", "Title"], ["dcterms:created", "CreatedDate", "date"], ["dcterms:modified", "ModifiedDate", "date"]], nxe = (function () { for (var e = new Array(Nf.length), t = 0; t < Nf.length; ++t) { var r = Nf[t], n = "(?:" + r[0].slice(0, r[0].indexOf(":")) + ":)" + r[0].slice(r[0].indexOf(":") + 1); e[t] = new RegExp("<" + n + "[^>]*>([\\s\\S]*?)</" + n + ">") } return e })(); function BF(e) { var t = {}; e = tr(e); for (var r = 0; r < Nf.length; ++r) { var n = Nf[r], a = e.match(nxe[r]); a != null && a.length > 0 && (t[n[1]] = Nt(a[1])), n[2] === "date" && t[n[1]] && (t[n[1]] = sn(t[n[1]])) } return t } var axe = [["Application", "Application", "string"], ["AppVersion", "AppVersion", "string"], ["Company", "Company", "string"], ["DocSecurity", "DocSecurity", "string"], ["Manager", "Manager", "string"], ["HyperlinksChanged", "HyperlinksChanged", "bool"], ["SharedDoc", "SharedDoc", "bool"], ["LinksUpToDate", "LinksUpToDate", "bool"], ["ScaleCrop", "ScaleCrop", "bool"], ["HeadingPairs", "HeadingPairs", "raw"], ["TitlesOfParts", "TitlesOfParts", "raw"]]; function $F(e, t, r, n) { var a = []; if (typeof e == "string") a = BD(e, n); else for (var i = 0; i < e.length; ++i)a = a.concat(e[i].map(function (h) { return { v: h } })); var s = typeof t == "string" ? BD(t, n).map(function (h) { return h.v }) : t, l = 0, f = 0; if (s.length > 0) for (var d = 0; d !== a.length; d += 2) { switch (f = +a[d + 1].v, a[d].v) { case "Worksheets": case "": case "": case " ": case "": case " ": case "Arbeitsbltter": case "alma Sayfalar": case "Feuilles de calcul": case "Fogli di lavoro": case "Folhas de clculo": case "Planilhas": case "Regneark": case "Hojas de clculo": case "Werkbladen": r.Worksheets = f, r.SheetNames = s.slice(l, l + f); break; case "Named Ranges": case "Rangos con nombre": case "": case "Benannte Bereiche": case "Navngivne omrder": r.NamedRanges = f, r.DefinedNames = s.slice(l, l + f); break; case "Charts": case "Diagramme": r.Chartsheets = f, r.ChartNames = s.slice(l, l + f); break }l += f } } function ixe(e, t, r) { var n = {}; return t || (t = {}), e = tr(e), axe.forEach(function (a) { var i = (e.match(n0(a[0])) || [])[1]; switch (a[2]) { case "string": i && (t[a[1]] = Nt(i)); break; case "bool": t[a[1]] = i === "true"; break; case "raw": var s = e.match(new RegExp("<" + a[0] + "[^>]*>([\\s\\S]*?)</" + a[0] + ">")); s && s.length > 0 && (n[a[1]] = s[1]); break } }), n.HeadingPairs && n.TitlesOfParts && $F(n.HeadingPairs, n.TitlesOfParts, t, r), t } var sxe = /<[^>]+>[^<]*/g; function oxe(e, t) { var r = {}, n = "", a = e.match(sxe); if (a) for (var i = 0; i != a.length; ++i) { var s = a[i], l = at(s); switch (l[0]) { case "<?xml": break; case "<Properties": break; case "<property": n = Nt(l.name); break; case "</property>": n = null; break; default: if (s.indexOf("<vt:") === 0) { var f = s.split(">"), d = f[0].slice(4), h = f[1]; switch (d) { case "lpstr": case "bstr": case "lpwstr": r[n] = Nt(h); break; case "bool": r[n] = ur(h); break; case "i1": case "i2": case "i4": case "i8": case "int": case "uint": r[n] = parseInt(h, 10); break; case "r4": case "r8": case "decimal": r[n] = parseFloat(h); break; case "filetime": case "date": r[n] = sn(h); break; case "cy": case "error": r[n] = Nt(h); break; default: if (d.slice(-1) == "/") break; t.WTF && typeof console < "u" && console.warn("Unexpected", s, d, f) } } else if (s.slice(0, 2) !== "</") { if (t.WTF) throw new Error(s) } } } return r } var lxe = { Title: "Title", Subject: "Subject", Author: "Author", Keywords: "Keywords", Comments: "Description", LastAuthor: "LastAuthor", RevNumber: "Revision", Application: "AppName", LastPrinted: "LastPrinted", CreatedDate: "Created", ModifiedDate: "LastSaved", Category: "Category", Manager: "Manager", Company: "Company", AppVersion: "Version", ContentStatus: "ContentStatus", Identifier: "Identifier", Language: "Language" }, M1; function cxe(e, t, r) { M1 || (M1 = QE(lxe)), t = M1[t] || t, e[t] = r } function uk(e) { var t = e.read_shift(4), r = e.read_shift(4); return new Date((r / 1e7 * Math.pow(2, 32) + t / 1e7 - 11644473600) * 1e3).toISOString().replace(/\.000/, "") } function zF(e, t, r) { var n = e.l, a = e.read_shift(0, "lpstr-cp"); if (r) for (; e.l - n & 3;)++e.l; return a } function HF(e, t, r) { var n = e.read_shift(0, "lpwstr"); return n } function GF(e, t, r) { return t === 31 ? HF(e) : zF(e, t, r) } function S_(e, t, r) { return GF(e, t, r === !1 ? 0 : 4) } function uxe(e, t) { if (!t) throw new Error("VtUnalignedString must have positive length"); return GF(e, t, 0) } function dxe(e) { for (var t = e.read_shift(4), r = [], n = 0; n != t; ++n) { var a = e.l; r[n] = e.read_shift(0, "lpwstr").replace(Yn, ""), e.l - a & 2 && (e.l += 2) } return r } function fxe(e) { for (var t = e.read_shift(4), r = [], n = 0; n != t; ++n)r[n] = e.read_shift(0, "lpstr-cp").replace(Yn, ""); return r } function hxe(e) { var t = e.l, r = lg(e, FF); e[e.l] == 0 && e[e.l + 1] == 0 && e.l - t & 2 && (e.l += 2); var n = lg(e, la); return [r, n] } function pxe(e) { for (var t = e.read_shift(4), r = [], n = 0; n < t / 2; ++n)r.push(hxe(e)); return r } function JD(e, t) { for (var r = e.read_shift(4), n = {}, a = 0; a != r; ++a) { var i = e.read_shift(4), s = e.read_shift(4); n[i] = e.read_shift(s, t === 1200 ? "utf16le" : "utf8").replace(Yn, "").replace(gf, "!"), t === 1200 && s % 2 && (e.l += 2) } return e.l & 3 && (e.l = e.l >> 3 << 2), n } function VF(e) { var t = e.read_shift(4), r = e.slice(e.l, e.l + t); return e.l += t, (t & 3) > 0 && (e.l += 4 - (t & 3) & 3), r } function mxe(e) { var t = {}; return t.Size = e.read_shift(4), e.l += t.Size + 3 - (t.Size - 1) % 4, t } function lg(e, t, r) { var n = e.read_shift(2), a, i = r || {}; if (e.l += 2, t !== KD && n !== t && Wge.indexOf(t) === -1 && !((t & 65534) == 4126 && (n & 65534) == 4126)) throw new Error("Expected type " + t + " saw " + n); switch (t === KD ? n : t) { case 2: return a = e.read_shift(2, "i"), i.raw || (e.l += 2), a; case 3: return a = e.read_shift(4, "i"), a; case 11: return e.read_shift(4) !== 0; case 19: return a = e.read_shift(4), a; case 30: return zF(e, n, 4).replace(Yn, ""); case 31: return HF(e); case 64: return uk(e); case 65: return VF(e); case 71: return mxe(e); case 80: return S_(e, n, !i.raw).replace(Yn, ""); case 81: return uxe(e, n).replace(Yn, ""); case 4108: return pxe(e); case 4126: case 4127: return n == 4127 ? dxe(e) : fxe(e); default: throw new Error("TypedPropertyValue unrecognized type " + t + " " + n) } } function ZD(e, t) { var r = e.l, n = e.read_shift(4), a = e.read_shift(4), i = [], s = 0, l = 0, f = -1, d = {}; for (s = 0; s != a; ++s) { var h = e.read_shift(4), m = e.read_shift(4); i[s] = [h, m + r] } i.sort(function (C, T) { return C[1] - T[1] }); var g = {}; for (s = 0; s != a; ++s) { if (e.l !== i[s][1]) { var v = !0; if (s > 0 && t) switch (t[i[s - 1][0]].t) { case 2: e.l + 2 === i[s][1] && (e.l += 2, v = !1); break; case 80: e.l <= i[s][1] && (e.l = i[s][1], v = !1); break; case 4108: e.l <= i[s][1] && (e.l = i[s][1], v = !1); break }if ((!t || s == 0) && e.l <= i[s][1] && (v = !1, e.l = i[s][1]), v) throw new Error("Read Error: Expected address " + i[s][1] + " at " + e.l + " :" + s) } if (t) { var y = t[i[s][0]]; if (g[y.n] = lg(e, y.t, { raw: !0 }), y.p === "version" && (g[y.n] = String(g[y.n] >> 16) + "." + ("0000" + String(g[y.n] & 65535)).slice(-4)), y.n == "CodePage") switch (g[y.n]) { case 0: g[y.n] = 1252; case 874: case 932: case 936: case 949: case 950: case 1250: case 1251: case 1253: case 1254: case 1255: case 1256: case 1257: case 1258: case 1e4: case 1200: case 1201: case 1252: case 65e3: case -536: case 65001: case -535: pi(l = g[y.n] >>> 0 & 65535); break; default: throw new Error("Unsupported CodePage: " + g[y.n]) } } else if (i[s][0] === 1) { if (l = g.CodePage = lg(e, ck), pi(l), f !== -1) { var b = e.l; e.l = i[f][1], d = JD(e, l), e.l = b } } else if (i[s][0] === 0) { if (l === 0) { f = s, e.l = i[s + 1][1]; continue } d = JD(e, l) } else { var _ = d[i[s][0]], k; switch (e[e.l]) { case 65: e.l += 4, k = VF(e); break; case 30: e.l += 4, k = S_(e, e[e.l - 4]).replace(/\u0000+$/, ""); break; case 31: e.l += 4, k = S_(e, e[e.l - 4]).replace(/\u0000+$/, ""); break; case 3: e.l += 4, k = e.read_shift(4, "i"); break; case 19: e.l += 4, k = e.read_shift(4); break; case 5: e.l += 4, k = e.read_shift(8, "f"); break; case 11: e.l += 4, k = Cr(e, 4); break; case 64: e.l += 4, k = sn(uk(e)); break; default: throw new Error("unparsed value: " + e[e.l]) }g[_] = k } } return e.l = r + n, g } function QD(e, t, r) { var n = e.content; if (!n) return {}; _n(n, 0); var a, i, s, l, f = 0; n.chk("feff", "Byte Order: "), n.read_shift(2); var d = n.read_shift(4), h = n.read_shift(16); if (h !== kt.utils.consts.HEADER_CLSID && h !== r) throw new Error("Bad PropertySet CLSID " + h); if (a = n.read_shift(4), a !== 1 && a !== 2) throw new Error("Unrecognized #Sets: " + a); if (i = n.read_shift(16), l = n.read_shift(4), a === 1 && l !== n.l) throw new Error("Length mismatch: " + l + " !== " + n.l); a === 2 && (s = n.read_shift(16), f = n.read_shift(4)); var m = ZD(n, t), g = { SystemIdentifier: d }; for (var v in m) g[v] = m[v]; if (g.FMTID = i, a === 1) return g; if (f - n.l == 2 && (n.l += 2), n.l !== f) throw new Error("Length mismatch 2: " + n.l + " !== " + f); var y; try { y = ZD(n, null) } catch { } for (v in y) g[v] = y[v]; return g.FMTID = [i, s], g } function wo(e, t) { return e.read_shift(t), null } function gxe(e, t, r) { for (var n = [], a = e.l + t; e.l < a;)n.push(r(e, a - e.l)); if (a !== e.l) throw new Error("Slurp error"); return n } function Cr(e, t) { return e.read_shift(t) === 1 } function Lr(e) { return e.read_shift(2, "u") } function qF(e, t) { return gxe(e, t, Lr) } function xxe(e) { var t = e.read_shift(1), r = e.read_shift(1); return r === 1 ? t : t === 1 } function P0(e, t, r) { var n = e.read_shift(r && r.biff >= 12 ? 2 : 1), a = "sbcs-cont"; if (r && r.biff >= 8, !r || r.biff == 8) { var i = e.read_shift(1); i && (a = "dbcs-cont") } else r.biff == 12 && (a = "wstr"); r.biff >= 2 && r.biff <= 5 && (a = "cpstr"); var s = n ? e.read_shift(n, a) : ""; return s } function vxe(e) { var t = e.read_shift(2), r = e.read_shift(1), n = r & 4, a = r & 8, i = 1 + (r & 1), s = 0, l, f = {}; a && (s = e.read_shift(2)), n && (l = e.read_shift(4)); var d = i == 2 ? "dbcs-cont" : "sbcs-cont", h = t === 0 ? "" : e.read_shift(t, d); return a && (e.l += 4 * s), n && (e.l += l), f.t = h, a || (f.raw = "<t>" + f.t + "</t>", f.r = f.t), f } function rc(e, t, r) { var n; if (r) { if (r.biff >= 2 && r.biff <= 5) return e.read_shift(t, "cpstr"); if (r.biff >= 12) return e.read_shift(t, "dbcs-cont") } var a = e.read_shift(1); return a === 0 ? n = e.read_shift(t, "sbcs-cont") : n = e.read_shift(t, "dbcs-cont"), n } function D0(e, t, r) { var n = e.read_shift(r && r.biff == 2 ? 1 : 2); return n === 0 ? (e.l++, "") : rc(e, n, r) } function fc(e, t, r) { if (r.biff > 5) return D0(e, t, r); var n = e.read_shift(1); return n === 0 ? (e.l++, "") : e.read_shift(n, r.biff <= 4 || !e.lens ? "cpstr" : "sbcs-cont") } function yxe(e) { var t = e.read_shift(1); e.l++; var r = e.read_shift(2); return e.l += 2, [t, r] } function bxe(e) { var t = e.read_shift(4), r = e.l, n = !1; t > 24 && (e.l += t - 24, e.read_shift(16) === "795881f43b1d7f48af2c825dc4852763" && (n = !0), e.l = r); var a = e.read_shift((n ? t - 24 : t) >> 1, "utf16le").replace(Yn, ""); return n && (e.l += 24), a } function wxe(e) { for (var t = e.read_shift(2), r = ""; t-- > 0;)r += "../"; var n = e.read_shift(0, "lpstr-ansi"); if (e.l += 2, e.read_shift(2) != 57005) throw new Error("Bad FileMoniker"); var a = e.read_shift(4); if (a === 0) return r + n.replace(/\\/g, "/"); var i = e.read_shift(4); if (e.read_shift(2) != 3) throw new Error("Bad FileMoniker"); var s = e.read_shift(i >> 1, "utf16le").replace(Yn, ""); return r + s } function _xe(e, t) { var r = e.read_shift(16); switch (r) { case "e0c9ea79f9bace118c8200aa004ba90b": return bxe(e); case "0303000000000000c000000000000046": return wxe(e); default: throw new Error("Unsupported Moniker " + r) } } function Cp(e) { var t = e.read_shift(4), r = t > 0 ? e.read_shift(t, "utf16le").replace(Yn, "") : ""; return r } function Sxe(e, t) { var r = e.l + t, n = e.read_shift(4); if (n !== 2) throw new Error("Unrecognized streamVersion: " + n); var a = e.read_shift(2); e.l += 2; var i, s, l, f, d = "", h, m; a & 16 && (i = Cp(e, r - e.l)), a & 128 && (s = Cp(e, r - e.l)), (a & 257) === 257 && (l = Cp(e, r - e.l)), (a & 257) === 1 && (f = _xe(e, r - e.l)), a & 8 && (d = Cp(e, r - e.l)), a & 32 && (h = e.read_shift(16)), a & 64 && (m = uk(e)), e.l = r; var g = s || l || f || ""; g && d && (g += "#" + d), g || (g = "#" + d), a & 2 && g.charAt(0) == "/" && g.charAt(1) != "/" && (g = "file://" + g); var v = { Target: g }; return h && (v.guid = h), m && (v.time = m), i && (v.Tooltip = i), v } function WF(e) { var t = e.read_shift(1), r = e.read_shift(1), n = e.read_shift(1), a = e.read_shift(1); return [t, r, n, a] } function KF(e, t) { var r = WF(e); return r[3] = 0, r } function Zi(e) { var t = e.read_shift(2), r = e.read_shift(2), n = e.read_shift(2); return { r: t, c: r, ixfe: n } } function Exe(e) { var t = e.read_shift(2), r = e.read_shift(2); return e.l += 8, { type: t, flags: r } } function kxe(e, t, r) { return t === 0 ? "" : fc(e, t, r) } function Txe(e, t, r) { var n = r.biff > 8 ? 4 : 2, a = e.read_shift(n), i = e.read_shift(n, "i"), s = e.read_shift(n, "i"); return [a, i, s] } function YF(e) { var t = e.read_shift(2), r = lk(e); return [t, r] } function Nxe(e, t, r) { e.l += 4, t -= 4; var n = e.l + t, a = P0(e, t, r), i = e.read_shift(2); if (n -= e.l, i !== n) throw new Error("Malformed AddinUdf: padding = " + n + " != " + i); return e.l += i, a } function _x(e) { var t = e.read_shift(2), r = e.read_shift(2), n = e.read_shift(2), a = e.read_shift(2); return { s: { c: n, r: t }, e: { c: a, r } } } function XF(e) { var t = e.read_shift(2), r = e.read_shift(2), n = e.read_shift(1), a = e.read_shift(1); return { s: { c: n, r: t }, e: { c: a, r } } } var Axe = XF; function JF(e) { e.l += 4; var t = e.read_shift(2), r = e.read_shift(2), n = e.read_shift(2); return e.l += 12, [r, t, n] } function Cxe(e) { var t = {}; return e.l += 4, e.l += 16, t.fSharedNote = e.read_shift(2), e.l += 4, t } function jxe(e) { var t = {}; return e.l += 4, e.cf = e.read_shift(2), t } function Cn(e) { e.l += 2, e.l += e.read_shift(2) } var Ixe = { 0: Cn, 4: Cn, 5: Cn, 6: Cn, 7: jxe, 8: Cn, 9: Cn, 10: Cn, 11: Cn, 12: Cn, 13: Cxe, 14: Cn, 15: Cn, 16: Cn, 17: Cn, 18: Cn, 19: Cn, 20: Cn, 21: JF }; function Oxe(e, t) { for (var r = e.l + t, n = []; e.l < r;) { var a = e.read_shift(2); e.l -= 2; try { n.push(Ixe[a](e, r - e.l)) } catch { return e.l = r, n } } return e.l != r && (e.l = r), n } function jp(e, t) { var r = { BIFFVer: 0, dt: 0 }; switch (r.BIFFVer = e.read_shift(2), t -= 2, t >= 2 && (r.dt = e.read_shift(2), e.l -= 2), r.BIFFVer) { case 1536: case 1280: case 1024: case 768: case 512: case 2: case 7: break; default: if (t > 6) throw new Error("Unexpected BIFF Ver " + r.BIFFVer) }return e.read_shift(t), r } function Rxe(e, t) { return t === 0 || e.read_shift(2), 1200 } function Pxe(e, t, r) { if (r.enc) return e.l += t, ""; var n = e.l, a = fc(e, 0, r); return e.read_shift(t + n - e.l), a } function Dxe(e, t, r) { var n = r && r.biff == 8 || t == 2 ? e.read_shift(2) : (e.l += t, 0); return { fDialog: n & 16, fBelow: n & 64, fRight: n & 128 } } function Mxe(e, t, r) { var n = e.read_shift(4), a = e.read_shift(1) & 3, i = e.read_shift(1); switch (i) { case 0: i = "Worksheet"; break; case 1: i = "Macrosheet"; break; case 2: i = "Chartsheet"; break; case 6: i = "VBAModule"; break }var s = P0(e, 0, r); return s.length === 0 && (s = "Sheet1"), { pos: n, hs: a, dt: i, name: s } } function Lxe(e, t) { for (var r = e.l + t, n = e.read_shift(4), a = e.read_shift(4), i = [], s = 0; s != a && e.l < r; ++s)i.push(vxe(e)); return i.Count = n, i.Unique = a, i } function Fxe(e, t) { var r = {}; return r.dsst = e.read_shift(2), e.l += t - 2, r } function Uxe(e) { var t = {}; t.r = e.read_shift(2), t.c = e.read_shift(2), t.cnt = e.read_shift(2) - t.c; var r = e.read_shift(2); e.l += 4; var n = e.read_shift(1); return e.l += 3, n & 7 && (t.level = n & 7), n & 32 && (t.hidden = !0), n & 64 && (t.hpt = r / 20), t } function Bxe(e) { var t = Exe(e); if (t.type != 2211) throw new Error("Invalid Future Record " + t.type); var r = e.read_shift(4); return r !== 0 } function $xe(e) { return e.read_shift(2), e.read_shift(4) } function e4(e, t, r) { var n = 0; r && r.biff == 2 || (n = e.read_shift(2)); var a = e.read_shift(2); r && r.biff == 2 && (n = 1 - (a >> 15), a &= 32767); var i = { Unsynced: n & 1, DyZero: (n & 2) >> 1, ExAsc: (n & 4) >> 2, ExDsc: (n & 8) >> 3 }; return [i, a] } function zxe(e) { var t = e.read_shift(2), r = e.read_shift(2), n = e.read_shift(2), a = e.read_shift(2), i = e.read_shift(2), s = e.read_shift(2), l = e.read_shift(2), f = e.read_shift(2), d = e.read_shift(2); return { Pos: [t, r], Dim: [n, a], Flags: i, CurTab: s, FirstTab: l, Selected: f, TabRatio: d } } function Hxe(e, t, r) { if (r && r.biff >= 2 && r.biff < 5) return {}; var n = e.read_shift(2); return { RTL: n & 64 } } function Gxe() { } function Vxe(e, t, r) { var n = { dyHeight: e.read_shift(2), fl: e.read_shift(2) }; switch (r && r.biff || 8) { case 2: break; case 3: case 4: e.l += 2; break; default: e.l += 10; break }return n.name = P0(e, 0, r), n } function qxe(e) { var t = Zi(e); return t.isst = e.read_shift(4), t } function Wxe(e, t, r) { r.biffguess && r.biff == 2 && (r.biff = 5); var n = e.l + t, a = Zi(e); r.biff == 2 && e.l++; var i = D0(e, n - e.l, r); return a.val = i, a } function Kxe(e, t, r) { var n = e.read_shift(2), a = fc(e, 0, r); return [n, a] } var Yxe = fc; function t4(e, t, r) { var n = e.l + t, a = r.biff == 8 || !r.biff ? 4 : 2, i = e.read_shift(a), s = e.read_shift(a), l = e.read_shift(2), f = e.read_shift(2); return e.l = n, { s: { r: i, c: l }, e: { r: s, c: f } } } function Xxe(e) { var t = e.read_shift(2), r = e.read_shift(2), n = YF(e); return { r: t, c: r, ixfe: n[0], rknum: n[1] } } function Jxe(e, t) { for (var r = e.l + t - 2, n = e.read_shift(2), a = e.read_shift(2), i = []; e.l < r;)i.push(YF(e)); if (e.l !== r) throw new Error("MulRK read error"); var s = e.read_shift(2); if (i.length != s - a + 1) throw new Error("MulRK length mismatch"); return { r: n, c: a, C: s, rkrec: i } } function Zxe(e, t) { for (var r = e.l + t - 2, n = e.read_shift(2), a = e.read_shift(2), i = []; e.l < r;)i.push(e.read_shift(2)); if (e.l !== r) throw new Error("MulBlank read error"); var s = e.read_shift(2); if (i.length != s - a + 1) throw new Error("MulBlank length mismatch"); return { r: n, c: a, C: s, ixfe: i } } function Qxe(e, t, r, n) { var a = {}, i = e.read_shift(4), s = e.read_shift(4), l = e.read_shift(4), f = e.read_shift(2); return a.patternType = Xge[l >> 26], n.cellStyles && (a.alc = i & 7, a.fWrap = i >> 3 & 1, a.alcV = i >> 4 & 7, a.fJustLast = i >> 7 & 1, a.trot = i >> 8 & 255, a.cIndent = i >> 16 & 15, a.fShrinkToFit = i >> 20 & 1, a.iReadOrder = i >> 22 & 2, a.fAtrNum = i >> 26 & 1, a.fAtrFnt = i >> 27 & 1, a.fAtrAlc = i >> 28 & 1, a.fAtrBdr = i >> 29 & 1, a.fAtrPat = i >> 30 & 1, a.fAtrProt = i >> 31 & 1, a.dgLeft = s & 15, a.dgRight = s >> 4 & 15, a.dgTop = s >> 8 & 15, a.dgBottom = s >> 12 & 15, a.icvLeft = s >> 16 & 127, a.icvRight = s >> 23 & 127, a.grbitDiag = s >> 30 & 3, a.icvTop = l & 127, a.icvBottom = l >> 7 & 127, a.icvDiag = l >> 14 & 127, a.dgDiag = l >> 21 & 15, a.icvFore = f & 127, a.icvBack = f >> 7 & 127, a.fsxButton = f >> 14 & 1), a } function eve(e, t, r) { var n = {}; return n.ifnt = e.read_shift(2), n.numFmtId = e.read_shift(2), n.flags = e.read_shift(2), n.fStyle = n.flags >> 2 & 1, t -= 6, n.data = Qxe(e, t, n.fStyle, r), n } function tve(e) { e.l += 4; var t = [e.read_shift(2), e.read_shift(2)]; if (t[0] !== 0 && t[0]--, t[1] !== 0 && t[1]--, t[0] > 7 || t[1] > 7) throw new Error("Bad Gutters: " + t.join("|")); return t } function r4(e, t, r) { var n = Zi(e); (r.biff == 2 || t == 9) && ++e.l; var a = xxe(e); return n.val = a, n.t = a === !0 || a === !1 ? "b" : "e", n } function rve(e, t, r) { r.biffguess && r.biff == 2 && (r.biff = 5); var n = Zi(e), a = Rn(e); return n.val = a, n } var n4 = kxe; function nve(e, t, r) { var n = e.l + t, a = e.read_shift(2), i = e.read_shift(2); if (r.sbcch = i, i == 1025 || i == 14849) return [i, a]; if (i < 1 || i > 255) throw new Error("Unexpected SupBook type: " + i); for (var s = rc(e, i), l = []; n > e.l;)l.push(D0(e)); return [i, a, s, l] } function a4(e, t, r) { var n = e.read_shift(2), a, i = { fBuiltIn: n & 1, fWantAdvise: n >>> 1 & 1, fWantPict: n >>> 2 & 1, fOle: n >>> 3 & 1, fOleLink: n >>> 4 & 1, cf: n >>> 5 & 1023, fIcon: n >>> 15 & 1 }; return r.sbcch === 14849 && (a = Nxe(e, t - 2, r)), i.body = a || e.read_shift(t - 2), typeof a == "string" && (i.Name = a), i } var ave = ["_xlnm.Consolidate_Area", "_xlnm.Auto_Open", "_xlnm.Auto_Close", "_xlnm.Extract", "_xlnm.Database", "_xlnm.Criteria", "_xlnm.Print_Area", "_xlnm.Print_Titles", "_xlnm.Recorder", "_xlnm.Data_Form", "_xlnm.Auto_Activate", "_xlnm.Auto_Deactivate", "_xlnm.Sheet_Title", "_xlnm._FilterDatabase"]; function i4(e, t, r) { var n = e.l + t, a = e.read_shift(2), i = e.read_shift(1), s = e.read_shift(1), l = e.read_shift(r && r.biff == 2 ? 1 : 2), f = 0; (!r || r.biff >= 5) && (r.biff != 5 && (e.l += 2), f = e.read_shift(2), r.biff == 5 && (e.l += 2), e.l += 4); var d = rc(e, s, r); a & 32 && (d = ave[d.charCodeAt(0)]); var h = n - e.l; r && r.biff == 2 && --h; var m = n == e.l || l === 0 || !(h > 0) ? [] : U1e(e, h, r, l); return { chKey: i, Name: d, itab: f, rgce: m } } function ZF(e, t, r) { if (r.biff < 8) return ive(e, t, r); for (var n = [], a = e.l + t, i = e.read_shift(r.biff > 8 ? 4 : 2); i-- !== 0;)n.push(Txe(e, r.biff > 8 ? 12 : 6, r)); if (e.l != a) throw new Error("Bad ExternSheet: " + e.l + " != " + a); return n } function ive(e, t, r) { e[e.l + 1] == 3 && e[e.l]++; var n = P0(e, t, r); return n.charCodeAt(0) == 3 ? n.slice(1) : n } function sve(e, t, r) { if (r.biff < 8) { e.l += t; return } var n = e.read_shift(2), a = e.read_shift(2), i = rc(e, n, r), s = rc(e, a, r); return [i, s] } function ove(e, t, r) { var n = XF(e); e.l++; var a = e.read_shift(1); return t -= 8, [B1e(e, t, r), a, n] } function s4(e, t, r) { var n = Axe(e); switch (r.biff) { case 2: e.l++, t -= 7; break; case 3: case 4: e.l += 2, t -= 8; break; default: e.l += 6, t -= 12 }return [n, L1e(e, t, r)] } function lve(e) { var t = e.read_shift(4) !== 0, r = e.read_shift(4) !== 0, n = e.read_shift(4); return [t, r, n] } function cve(e, t, r) { if (!(r.biff < 8)) { var n = e.read_shift(2), a = e.read_shift(2), i = e.read_shift(2), s = e.read_shift(2), l = fc(e, 0, r); return r.biff < 8 && e.read_shift(1), [{ r: n, c: a }, l, s, i] } } function uve(e, t, r) { return cve(e, t, r) } function dve(e, t) { for (var r = [], n = e.read_shift(2); n--;)r.push(_x(e)); return r } function fve(e, t, r) { if (r && r.biff < 8) return pve(e, t, r); var n = JF(e), a = Oxe(e, t - 22, n[1]); return { cmo: n, ft: a } } var hve = { 8: function (e, t) { var r = e.l + t; e.l += 10; var n = e.read_shift(2); e.l += 4, e.l += 2, e.l += 2, e.l += 2, e.l += 4; var a = e.read_shift(1); return e.l += a, e.l = r, { fmt: n } } }; function pve(e, t, r) { e.l += 4; var n = e.read_shift(2), a = e.read_shift(2), i = e.read_shift(2); e.l += 2, e.l += 2, e.l += 2, e.l += 2, e.l += 2, e.l += 2, e.l += 2, e.l += 2, e.l += 2, e.l += 6, t -= 36; var s = []; return s.push((hve[n] || Un)(e, t, r)), { cmo: [a, n, i], ft: s } } function mve(e, t, r) { var n = e.l, a = ""; try { e.l += 4; var i = (r.lastobj || { cmo: [0, 0] }).cmo[1], s;[0, 5, 7, 11, 12, 14].indexOf(i) == -1 ? e.l += 6 : s = yxe(e, 6, r); var l = e.read_shift(2); e.read_shift(2), Lr(e, 2); var f = e.read_shift(2); e.l += f; for (var d = 1; d < e.lens.length - 1; ++d) { if (e.l - n != e.lens[d]) throw new Error("TxO: bad continue record"); var h = e[e.l], m = rc(e, e.lens[d + 1] - e.lens[d] - 1); if (a += m, a.length >= (h ? l : 2 * l)) break } if (a.length !== l && a.length !== l * 2) throw new Error("cchText: " + l + " != " + a.length); return e.l = n + t, { t: a } } catch { return e.l = n + t, { t: a } } } function gve(e, t) { var r = _x(e); e.l += 16; var n = Sxe(e, t - 24); return [r, n] } function xve(e, t) { e.read_shift(2); var r = _x(e), n = e.read_shift((t - 10) / 2, "dbcs-cont"); return n = n.replace(Yn, ""), [r, n] } function vve(e) { var t = [0, 0], r; return r = e.read_shift(2), t[0] = YD[r] || r, r = e.read_shift(2), t[1] = YD[r] || r, t } function yve(e) { for (var t = e.read_shift(2), r = []; t-- > 0;)r.push(KF(e)); return r } function bve(e) { for (var t = e.read_shift(2), r = []; t-- > 0;)r.push(KF(e)); return r } function wve(e) { e.l += 2; var t = { cxfs: 0, crc: 0 }; return t.cxfs = e.read_shift(2), t.crc = e.read_shift(4), t } function QF(e, t, r) { if (!r.cellStyles) return Un(e, t); var n = r && r.biff >= 12 ? 4 : 2, a = e.read_shift(n), i = e.read_shift(n), s = e.read_shift(n), l = e.read_shift(n), f = e.read_shift(2); n == 2 && (e.l += 2); var d = { s: a, e: i, w: s, ixfe: l, flags: f }; return (r.biff >= 5 || !r.biff) && (d.level = f >> 8 & 7), d } function _ve(e, t) { var r = {}; return t < 32 || (e.l += 16, r.header = Rn(e), r.footer = Rn(e), e.l += 2), r } function Sve(e, t, r) { var n = { area: !1 }; if (r.biff != 5) return e.l += t, n; var a = e.read_shift(1); return e.l += 3, a & 16 && (n.area = !0), n } var Eve = Zi, kve = qF, Tve = D0; function Nve(e) { var t = e.read_shift(2), r = e.read_shift(2), n = e.read_shift(4), a = { fmt: t, env: r, len: n, data: e.slice(e.l, e.l + n) }; return e.l += n, a } function Ave(e, t, r) { r.biffguess && r.biff == 5 && (r.biff = 2); var n = Zi(e); ++e.l; var a = fc(e, t - 7, r); return n.t = "str", n.val = a, n } function Cve(e) { var t = Zi(e); ++e.l; var r = Rn(e); return t.t = "n", t.val = r, t } function jve(e) { var t = Zi(e); ++e.l; var r = e.read_shift(2); return t.t = "n", t.val = r, t } function Ive(e) { var t = e.read_shift(1); return t === 0 ? (e.l++, "") : e.read_shift(t, "sbcs-cont") } function Ove(e, t) { e.l += 6, e.l += 2, e.l += 1, e.l += 3, e.l += 1, e.l += t - 13 } function Rve(e, t, r) { var n = e.l + t, a = Zi(e), i = e.read_shift(2), s = rc(e, i, r); return e.l = n, a.t = "str", a.val = s, a } var Pve = [2, 3, 48, 49, 131, 139, 140, 245], o4 = (function () { var e = { 1: 437, 2: 850, 3: 1252, 4: 1e4, 100: 852, 101: 866, 102: 865, 103: 861, 104: 895, 105: 620, 106: 737, 107: 857, 120: 950, 121: 949, 122: 936, 123: 932, 124: 874, 125: 1255, 126: 1256, 150: 10007, 151: 10029, 152: 10006, 200: 1250, 201: 1251, 202: 1254, 203: 1253, 0: 20127, 8: 865, 9: 437, 10: 850, 11: 437, 13: 437, 14: 850, 15: 437, 16: 850, 17: 437, 18: 850, 19: 932, 20: 850, 21: 437, 22: 850, 23: 865, 24: 437, 25: 437, 26: 850, 27: 437, 28: 863, 29: 850, 31: 852, 34: 852, 35: 852, 36: 860, 37: 850, 38: 866, 55: 850, 64: 852, 77: 936, 78: 949, 79: 950, 80: 874, 87: 1252, 88: 1252, 89: 1252, 108: 863, 134: 737, 135: 852, 136: 857, 204: 1257, 255: 16969 }, t = QE({ 1: 437, 2: 850, 3: 1252, 4: 1e4, 100: 852, 101: 866, 102: 865, 103: 861, 104: 895, 105: 620, 106: 737, 107: 857, 120: 950, 121: 949, 122: 936, 123: 932, 124: 874, 125: 1255, 126: 1256, 150: 10007, 151: 10029, 152: 10006, 200: 1250, 201: 1251, 202: 1254, 203: 1253, 0: 20127 }); function r(l, f) { var d = [], h = $o(1); switch (f.type) { case "base64": h = hi(Na(l)); break; case "binary": h = hi(l); break; case "buffer": case "array": h = l; break }_n(h, 0); var m = h.read_shift(1), g = !!(m & 136), v = !1, y = !1; switch (m) { case 2: break; case 3: break; case 48: v = !0, g = !0; break; case 49: v = !0, g = !0; break; case 131: break; case 139: break; case 140: y = !0; break; case 245: break; default: throw new Error("DBF Unsupported Version: " + m.toString(16)) }var b = 0, _ = 521; m == 2 && (b = h.read_shift(2)), h.l += 3, m != 2 && (b = h.read_shift(4)), b > 1048576 && (b = 1e6), m != 2 && (_ = h.read_shift(2)); var k = h.read_shift(2), C = f.codepage || 1252; m != 2 && (h.l += 16, h.read_shift(1), h[h.l] !== 0 && (C = e[h[h.l]]), h.l += 1, h.l += 2), y && (h.l += 36); for (var T = [], j = {}, R = Math.min(h.length, m == 2 ? 521 : _ - 10 - (v ? 264 : 0)), O = y ? 32 : 11; h.l < R && h[h.l] != 13;)switch (j = {}, j.name = t0.utils.decode(C, h.slice(h.l, h.l + O)).replace(/[\u0000\r\n].*$/g, ""), h.l += O, j.type = String.fromCharCode(h.read_shift(1)), m != 2 && !y && (j.offset = h.read_shift(4)), j.len = h.read_shift(1), m == 2 && (j.offset = h.read_shift(2)), j.dec = h.read_shift(1), j.name.length && T.push(j), m != 2 && (h.l += y ? 13 : 14), j.type) { case "B": (!v || j.len != 8) && f.WTF && console.log("Skipping " + j.name + ":" + j.type); break; case "G": case "P": f.WTF && console.log("Skipping " + j.name + ":" + j.type); break; case "+": case "0": case "@": case "C": case "D": case "F": case "I": case "L": case "M": case "N": case "O": case "T": case "Y": break; default: throw new Error("Unknown Field Type: " + j.type) }if (h[h.l] !== 13 && (h.l = _ - 1), h.read_shift(1) !== 13) throw new Error("DBF Terminator not found " + h.l + " " + h[h.l]); h.l = _; var I = 0, H = 0; for (d[0] = [], H = 0; H != T.length; ++H)d[0][H] = T[H].name; for (; b-- > 0;) { if (h[h.l] === 42) { h.l += k; continue } for (++h.l, d[++I] = [], H = 0, H = 0; H != T.length; ++H) { var F = h.slice(h.l, h.l + T[H].len); h.l += T[H].len, _n(F, 0); var X = t0.utils.decode(C, F); switch (T[H].type) { case "C": X.trim().length && (d[I][H] = X.replace(/\s+$/, "")); break; case "D": X.length === 8 ? d[I][H] = new Date(+X.slice(0, 4), +X.slice(4, 6) - 1, +X.slice(6, 8)) : d[I][H] = X; break; case "F": d[I][H] = parseFloat(X.trim()); break; case "+": case "I": d[I][H] = y ? F.read_shift(-4, "i") ^ 2147483648 : F.read_shift(4, "i"); break; case "L": switch (X.trim().toUpperCase()) { case "Y": case "T": d[I][H] = !0; break; case "N": case "F": d[I][H] = !1; break; case "": case "?": break; default: throw new Error("DBF Unrecognized L:|" + X + "|") }break; case "M": if (!g) throw new Error("DBF Unexpected MEMO for type " + m.toString(16)); d[I][H] = "##MEMO##" + (y ? parseInt(X.trim(), 10) : F.read_shift(4)); break; case "N": X = X.replace(/\u0000/g, "").trim(), X && X != "." && (d[I][H] = +X || 0); break; case "@": d[I][H] = new Date(F.read_shift(-8, "f") - 621356832e5); break; case "T": d[I][H] = new Date((F.read_shift(4) - 2440588) * 864e5 + F.read_shift(4)); break; case "Y": d[I][H] = F.read_shift(4, "i") / 1e4 + F.read_shift(4, "i") / 1e4 * Math.pow(2, 32); break; case "O": d[I][H] = -F.read_shift(-8, "f"); break; case "B": if (v && T[H].len == 8) { d[I][H] = F.read_shift(8, "f"); break } case "G": case "P": F.l += T[H].len; break; case "0": if (T[H].name === "_NullFlags") break; default: throw new Error("DBF Unsupported data type " + T[H].type) } } } if (m != 2 && h.l < h.length && h[h.l++] != 26) throw new Error("DBF EOF Marker missing " + (h.l - 1) + " of " + h.length + " " + h[h.l - 1].toString(16)); return f && f.sheetRows && (d = d.slice(0, f.sheetRows)), f.DBF = T, d } function n(l, f) { var d = f || {}; d.dateNF || (d.dateNF = "yyyymmdd"); var h = ad(r(l, d), d); return h["!cols"] = d.DBF.map(function (m) { return { wch: m.len, DBF: m } }), delete d.DBF, h } function a(l, f) { try { return Xo(n(l, f), f) } catch (d) { if (f && f.WTF) throw d } return { SheetNames: [], Sheets: {} } } var i = { B: 8, C: 250, L: 1, D: 8, "?": 0, "": 0 }; function s(l, f) { var d = f || {}; if (+d.codepage >= 0 && pi(+d.codepage), d.type == "string") throw new Error("Cannot write DBF to JS string"); var h = b_(), m = C_(l, { header: 1, raw: !0, cellDates: !0 }), g = m[0], v = m.slice(1), y = l["!cols"] || [], b = 0, _ = 0, k = 0, C = 1; for (b = 0; b < g.length; ++b) { if (((y[b] || {}).DBF || {}).name) { g[b] = y[b].DBF.name, ++k; continue } if (g[b] != null) { if (++k, typeof g[b] == "number" && (g[b] = g[b].toString(10)), typeof g[b] != "string") throw new Error("DBF Invalid column name " + g[b] + " |" + typeof g[b] + "|"); if (g.indexOf(g[b]) !== b) { for (_ = 0; _ < 1024; ++_)if (g.indexOf(g[b] + "_" + _) == -1) { g[b] += "_" + _; break } } } } var T = Er(l["!ref"]), j = [], R = [], O = []; for (b = 0; b <= T.e.c - T.s.c; ++b) { var I = "", H = "", F = 0, X = []; for (_ = 0; _ < v.length; ++_)v[_][b] != null && X.push(v[_][b]); if (X.length == 0 || g[b] == null) { j[b] = "?"; continue } for (_ = 0; _ < X.length; ++_) { switch (typeof X[_]) { case "number": H = "B"; break; case "string": H = "C"; break; case "boolean": H = "L"; break; case "object": H = X[_] instanceof Date ? "D" : "C"; break; default: H = "C" }F = Math.max(F, String(X[_]).length), I = I && I != H ? "C" : H } F > 250 && (F = 250), H = ((y[b] || {}).DBF || {}).type, H == "C" && y[b].DBF.len > F && (F = y[b].DBF.len), I == "B" && H == "N" && (I = "N", O[b] = y[b].DBF.dec, F = y[b].DBF.len), R[b] = I == "C" || H == "N" ? F : i[I] || 0, C += R[b], j[b] = I } var V = h.next(32); for (V.write_shift(4, 318902576), V.write_shift(4, v.length), V.write_shift(2, 296 + 32 * k), V.write_shift(2, C), b = 0; b < 4; ++b)V.write_shift(4, 0); for (V.write_shift(4, 0 | (+t[ZL] || 3) << 8), b = 0, _ = 0; b < g.length; ++b)if (g[b] != null) { var U = h.next(32), ee = (g[b].slice(-10) + "\0\0\0\0\0\0\0\0\0\0\0").slice(0, 11); U.write_shift(1, ee, "sbcs"), U.write_shift(1, j[b] == "?" ? "C" : j[b], "sbcs"), U.write_shift(4, _), U.write_shift(1, R[b] || i[j[b]] || 0), U.write_shift(1, O[b] || 0), U.write_shift(1, 2), U.write_shift(4, 0), U.write_shift(1, 0), U.write_shift(4, 0), U.write_shift(4, 0), _ += R[b] || i[j[b]] || 0 } var re = h.next(264); for (re.write_shift(4, 13), b = 0; b < 65; ++b)re.write_shift(4, 0); for (b = 0; b < v.length; ++b) { var de = h.next(C); for (de.write_shift(1, 0), _ = 0; _ < g.length; ++_)if (g[_] != null) switch (j[_]) { case "L": de.write_shift(1, v[b][_] == null ? 63 : v[b][_] ? 84 : 70); break; case "B": de.write_shift(8, v[b][_] || 0, "f"); break; case "N": var D = "0"; for (typeof v[b][_] == "number" && (D = v[b][_].toFixed(O[_] || 0)), k = 0; k < R[_] - D.length; ++k)de.write_shift(1, 32); de.write_shift(1, D, "sbcs"); break; case "D": v[b][_] ? (de.write_shift(4, ("0000" + v[b][_].getFullYear()).slice(-4), "sbcs"), de.write_shift(2, ("00" + (v[b][_].getMonth() + 1)).slice(-2), "sbcs"), de.write_shift(2, ("00" + v[b][_].getDate()).slice(-2), "sbcs")) : de.write_shift(8, "00000000", "sbcs"); break; case "C": var z = String(v[b][_] != null ? v[b][_] : "").slice(0, R[_]); for (de.write_shift(1, z, "sbcs"), k = 0; k < R[_] - z.length; ++k)de.write_shift(1, 32); break } } return h.next(1).write_shift(1, 26), h.end() } return { to_workbook: a, to_sheet: n, from_sheet: s } })(), Dve = (function () {
  var e = { AA: "", BA: "", CA: "", DA: 195, HA: "", JA: 197, AE: "", BE: "", CE: "", HE: "", AI: "", BI: "", CI: "", HI: "", AO: "", BO: "", CO: "", DO: 213, HO: "", AU: "", BU: "", CU: "", HU: "", Aa: "", Ba: "", Ca: "", Da: 227, Ha: "", Ja: 229, Ae: "", Be: "", Ce: "", He: "", Ai: "", Bi: "", Ci: "", Hi: "", Ao: "", Bo: "", Co: "", Do: 245, Ho: "", Au: "", Bu: "", Cu: "", Hu: "", KC: "", Kc: "", q: "", z: "", a: "", j: "", DN: 209, Dn: 241, Hy: 255, S: 169, c: 170, R: 174, "B ": 180, 0: 176, 1: 177, 2: 178, 3: 179, 5: 181, 6: 182, 7: 183, Q: 185, k: 186, b: 208, i: 216, l: 222, s: 240, y: 248, "!": 161, '"': 162, "#": 163, "(": 164, "%": 165, "'": 167, "H ": 168, "+": 171, ";": 187, "<": 188, "=": 189, ">": 190, "?": 191, "{": 223 }, t = new RegExp("\x1BN(" + Ki(e).join("|").replace(/\|\|\|/, "|\\||").replace(/([?()+])/g, "\\$1") + "|\\|)", "gm"), r = function (g, v) { var y = e[v]; return typeof y == "number" ? SD(y) : y }, n = function (g, v, y) { var b = v.charCodeAt(0) - 32 << 4 | y.charCodeAt(0) - 48; return b == 59 ? g : SD(b) }; e["|"] = 254; function a(g, v) { switch (v.type) { case "base64": return i(Na(g), v); case "binary": return i(g, v); case "buffer": return i(St && Buffer.isBuffer(g) ? g.toString("binary") : lc(g), v); case "array": return i(tc(g), v) }throw new Error("Unrecognized type " + v.type) } function i(g, v) { var y = g.split(/[\n\r]+/), b = -1, _ = -1, k = 0, C = 0, T = [], j = [], R = null, O = {}, I = [], H = [], F = [], X = 0, V; for (+v.codepage >= 0 && pi(+v.codepage); k !== y.length; ++k) { X = 0; var U = y[k].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g, n).replace(t, r), ee = U.replace(/;;/g, "\0").split(";").map(function (B) { return B.replace(/\u0000/g, ";") }), re = ee[0], de; if (U.length > 0) switch (re) { case "ID": break; case "E": break; case "B": break; case "O": break; case "W": break; case "P": ee[1].charAt(0) == "P" && j.push(U.slice(3).replace(/;;/g, ";")); break; case "C": var D = !1, z = !1, ie = !1, M = !1, te = -1, G = -1; for (C = 1; C < ee.length; ++C)switch (ee[C].charAt(0)) { case "A": break; case "X": _ = parseInt(ee[C].slice(1)) - 1, z = !0; break; case "Y": for (b = parseInt(ee[C].slice(1)) - 1, z || (_ = 0), V = T.length; V <= b; ++V)T[V] = []; break; case "K": de = ee[C].slice(1), de.charAt(0) === '"' ? de = de.slice(1, de.length - 1) : de === "TRUE" ? de = !0 : de === "FALSE" ? de = !1 : isNaN(yi(de)) ? isNaN(Fu(de).getDate()) || (de = sn(de)) : (de = yi(de), R !== null && rd(R) && (de = wx(de))), D = !0; break; case "E": M = !0; var P = Cu(ee[C].slice(1), { r: b, c: _ }); T[b][_] = [T[b][_], P]; break; case "S": ie = !0, T[b][_] = [T[b][_], "S5S"]; break; case "G": break; case "R": te = parseInt(ee[C].slice(1)) - 1; break; case "C": G = parseInt(ee[C].slice(1)) - 1; break; default: if (v && v.WTF) throw new Error("SYLK bad record " + U) }if (D && (T[b][_] && T[b][_].length == 2 ? T[b][_][0] = de : T[b][_] = de, R = null), ie) { if (M) throw new Error("SYLK shared formula cannot have own formula"); var W = te > -1 && T[te][G]; if (!W || !W[1]) throw new Error("SYLK shared formula cannot find base"); T[b][_][1] = cU(W[1], { r: b - te, c: _ - G }) } break; case "F": var J = 0; for (C = 1; C < ee.length; ++C)switch (ee[C].charAt(0)) { case "X": _ = parseInt(ee[C].slice(1)) - 1, ++J; break; case "Y": for (b = parseInt(ee[C].slice(1)) - 1, V = T.length; V <= b; ++V)T[V] = []; break; case "M": X = parseInt(ee[C].slice(1)) / 20; break; case "F": break; case "G": break; case "P": R = j[parseInt(ee[C].slice(1))]; break; case "S": break; case "D": break; case "N": break; case "W": for (F = ee[C].slice(1).split(" "), V = parseInt(F[0], 10); V <= parseInt(F[1], 10); ++V)X = parseInt(F[2], 10), H[V - 1] = X === 0 ? { hidden: !0 } : { wch: X }, Uu(H[V - 1]); break; case "C": _ = parseInt(ee[C].slice(1)) - 1, H[_] || (H[_] = {}); break; case "R": b = parseInt(ee[C].slice(1)) - 1, I[b] || (I[b] = {}), X > 0 ? (I[b].hpt = X, I[b].hpx = o0(X)) : X === 0 && (I[b].hidden = !0); break; default: if (v && v.WTF) throw new Error("SYLK bad record " + U) }J < 1 && (R = null); break; default: if (v && v.WTF) throw new Error("SYLK bad record " + U) } } return I.length > 0 && (O["!rows"] = I), H.length > 0 && (O["!cols"] = H), v && v.sheetRows && (T = T.slice(0, v.sheetRows)), [T, O] } function s(g, v) { var y = a(g, v), b = y[0], _ = y[1], k = ad(b, v); return Ki(_).forEach(function (C) { k[C] = _[C] }), k } function l(g, v) { return Xo(s(g, v), v) } function f(g, v, y, b) { var _ = "C;Y" + (y + 1) + ";X" + (b + 1) + ";K"; switch (g.t) { case "n": _ += g.v || 0, g.f && !g.F && (_ += ";E" + wbe(g.f, { r: y, c: b })); break; case "b": _ += g.v ? "TRUE" : "FALSE"; break; case "e": _ += g.w || g.v; break; case "d": _ += '"' + (g.w || g.v) + '"'; break; case "s": _ += '"' + g.v.replace(/"/g, "").replace(/;/g, ";;") + '"'; break }return _ } function d(g, v) { v.forEach(function (y, b) { var _ = "F;W" + (b + 1) + " " + (b + 1) + " "; y.hidden ? _ += "0" : (typeof y.width == "number" && !y.wpx && (y.wpx = ug(y.width)), typeof y.wpx == "number" && !y.wch && (y.wch = dg(y.wpx)), typeof y.wch == "number" && (_ += Math.round(y.wch))), _.charAt(_.length - 1) != " " && g.push(_) }) } function h(g, v) { v.forEach(function (y, b) { var _ = "F;"; y.hidden ? _ += "M0;" : y.hpt ? _ += "M" + 20 * y.hpt + ";" : y.hpx && (_ += "M" + 20 * sU(y.hpx) + ";"), _.length > 2 && g.push(_ + "R" + (b + 1)) }) } function m(g, v) {
    var y = ["ID;PWXL;N;E"], b = [], _ = Er(g["!ref"]), k, C = Array.isArray(g), T = `\r
`; y.push("P;PGeneral"), y.push("F;P0;DG0G8;M255"), g["!cols"] && d(y, g["!cols"]), g["!rows"] && h(y, g["!rows"]), y.push("B;Y" + (_.e.r - _.s.r + 1) + ";X" + (_.e.c - _.s.c + 1) + ";D" + [_.s.c, _.s.r, _.e.c, _.e.r].join(" ")); for (var j = _.s.r; j <= _.e.r; ++j)for (var R = _.s.c; R <= _.e.c; ++R) { var O = lt({ r: j, c: R }); k = C ? (g[j] || [])[R] : g[O], !(!k || k.v == null && (!k.f || k.F)) && b.push(f(k, g, j, R)) } return y.join(T) + T + b.join(T) + T + "E" + T
  } return { to_workbook: l, to_sheet: s, from_sheet: m }
})(), Mve = (function () {
  function e(i, s) { switch (s.type) { case "base64": return t(Na(i), s); case "binary": return t(i, s); case "buffer": return t(St && Buffer.isBuffer(i) ? i.toString("binary") : lc(i), s); case "array": return t(tc(i), s) }throw new Error("Unrecognized type " + s.type) } function t(i, s) {
    for (var l = i.split(`
`), f = -1, d = -1, h = 0, m = []; h !== l.length; ++h) {
      if (l[h].trim() === "BOT") { m[++f] = [], d = 0; continue } if (!(f < 0)) {
        var g = l[h].trim().split(","), v = g[0], y = g[1]; ++h; for (var b = l[h] || ""; (b.match(/["]/g) || []).length & 1 && h < l.length - 1;)b += `
`+ l[++h]; switch (b = b.trim(), +v) { case -1: if (b === "BOT") { m[++f] = [], d = 0; continue } else if (b !== "EOD") throw new Error("Unrecognized DIF special command " + b); break; case 0: b === "TRUE" ? m[f][d] = !0 : b === "FALSE" ? m[f][d] = !1 : isNaN(yi(y)) ? isNaN(Fu(y).getDate()) ? m[f][d] = y : m[f][d] = sn(y) : m[f][d] = yi(y), ++d; break; case 1: b = b.slice(1, b.length - 1), b = b.replace(/""/g, '"'), b && b.match(/^=".*"$/) && (b = b.slice(2, -1)), m[f][d++] = b !== "" ? b : null; break }if (b === "EOD") break
      }
    } return s && s.sheetRows && (m = m.slice(0, s.sheetRows)), m
  } function r(i, s) { return ad(e(i, s), s) } function n(i, s) { return Xo(r(i, s), s) } var a = (function () {
    var i = function (f, d, h, m, g) { f.push(d), f.push(h + "," + m), f.push('"' + g.replace(/"/g, '""') + '"') }, s = function (f, d, h, m) { f.push(d + "," + h), f.push(d == 1 ? '"' + m.replace(/"/g, '""') + '"' : m) }; return function (f) {
      var d = [], h = Er(f["!ref"]), m, g = Array.isArray(f); i(d, "TABLE", 0, 1, "sheetjs"), i(d, "VECTORS", 0, h.e.r - h.s.r + 1, ""), i(d, "TUPLES", 0, h.e.c - h.s.c + 1, ""), i(d, "DATA", 0, 0, ""); for (var v = h.s.r; v <= h.e.r; ++v) { s(d, -1, 0, "BOT"); for (var y = h.s.c; y <= h.e.c; ++y) { var b = lt({ r: v, c: y }); if (m = g ? (f[v] || [])[y] : f[b], !m) { s(d, 1, 0, ""); continue } switch (m.t) { case "n": var _ = m.w; !_ && m.v != null && (_ = m.v), _ == null ? m.f && !m.F ? s(d, 1, 0, "=" + m.f) : s(d, 1, 0, "") : s(d, 0, _, "V"); break; case "b": s(d, 0, m.v ? 1 : 0, m.v ? "TRUE" : "FALSE"); break; case "s": s(d, 1, 0, isNaN(m.v) ? m.v : '="' + m.v + '"'); break; case "d": m.w || (m.w = Ja(m.z || ft[14], Qn(sn(m.v)))), s(d, 0, m.w, "V"); break; default: s(d, 1, 0, "") } } } s(d, -1, 0, "EOD"); var k = `\r
`, C = d.join(k); return C
    }
  })(); return { to_workbook: n, to_sheet: r, from_sheet: a }
})(), Lve = (function () {
  function e(m) {
    return m.replace(/\\b/g, "\\").replace(/\\c/g, ":").replace(/\\n/g, `
`)
  } function t(m) { return m.replace(/\\/g, "\\b").replace(/:/g, "\\c").replace(/\n/g, "\\n") } function r(m, g) {
    for (var v = m.split(`
`), y = -1, b = -1, _ = 0, k = []; _ !== v.length; ++_) { var C = v[_].trim().split(":"); if (C[0] === "cell") { var T = Kn(C[1]); if (k.length <= T.r) for (y = k.length; y <= T.r; ++y)k[y] || (k[y] = []); switch (y = T.r, b = T.c, C[2]) { case "t": k[y][b] = e(C[3]); break; case "v": k[y][b] = +C[3]; break; case "vtf": var j = C[C.length - 1]; case "vtc": switch (C[3]) { case "nl": k[y][b] = !!+C[4]; break; default: k[y][b] = +C[4]; break }C[2] == "vtf" && (k[y][b] = [k[y][b], j]) } } } return g && g.sheetRows && (k = k.slice(0, g.sheetRows)), k
  } function n(m, g) { return ad(r(m, g), g) } function a(m, g) { return Xo(n(m, g), g) } var i = ["socialcalc:version:1.5", "MIME-Version: 1.0", "Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`), s = ["--SocialCalcSpreadsheetControlSave", "Content-type: text/plain; charset=UTF-8"].join(`
`) + `
`, l = ["# SocialCalc Spreadsheet Control Save", "part:sheet"].join(`
`), f = "--SocialCalcSpreadsheetControlSave--"; function d(m) {
    if (!m || !m["!ref"]) return ""; for (var g = [], v = [], y, b = "", _ = nd(m["!ref"]), k = Array.isArray(m), C = _.s.r; C <= _.e.r; ++C)for (var T = _.s.c; T <= _.e.c; ++T)if (b = lt({ r: C, c: T }), y = k ? (m[C] || [])[T] : m[b], !(!y || y.v == null || y.t === "z")) { switch (v = ["cell", b, "t"], y.t) { case "s": case "str": v.push(t(y.v)); break; case "n": y.f ? (v[2] = "vtf", v[3] = "n", v[4] = y.v, v[5] = t(y.f)) : (v[2] = "v", v[3] = y.v); break; case "b": v[2] = "vt" + (y.f ? "f" : "c"), v[3] = "nl", v[4] = y.v ? "1" : "0", v[5] = t(y.f || (y.v ? "TRUE" : "FALSE")); break; case "d": var j = Qn(sn(y.v)); v[2] = "vtc", v[3] = "nd", v[4] = "" + j, v[5] = y.w || Ja(y.z || ft[14], j); break; case "e": continue }g.push(v.join(":")) } return g.push("sheet:c:" + (_.e.c - _.s.c + 1) + ":r:" + (_.e.r - _.s.r + 1) + ":tvf:1"), g.push("valueformat:1:text-wiki"), g.join(`
`)
  } function h(m) {
    return [i, s, l, s, d(m), f].join(`
`)
  } return { to_workbook: a, to_sheet: n, from_sheet: h }
})(), i0 = (function () {
  function e(h, m, g, v, y) { y.raw ? m[g][v] = h : h === "" || (h === "TRUE" ? m[g][v] = !0 : h === "FALSE" ? m[g][v] = !1 : isNaN(yi(h)) ? isNaN(Fu(h).getDate()) ? m[g][v] = h : m[g][v] = sn(h) : m[g][v] = yi(h)) } function t(h, m) { var g = m || {}, v = []; if (!h || h.length === 0) return v; for (var y = h.split(/[\r\n]/), b = y.length - 1; b >= 0 && y[b].length === 0;)--b; for (var _ = 10, k = 0, C = 0; C <= b; ++C)k = y[C].indexOf(" "), k == -1 ? k = y[C].length : k++, _ = Math.max(_, k); for (C = 0; C <= b; ++C) { v[C] = []; var T = 0; for (e(y[C].slice(0, _).trim(), v, C, T, g), T = 1; T <= (y[C].length - _) / 10 + 1; ++T)e(y[C].slice(_ + (T - 1) * 10, _ + T * 10).trim(), v, C, T, g) } return g.sheetRows && (v = v.slice(0, g.sheetRows)), v } var r = { 44: ",", 9: "	", 59: ";", 124: "|" }, n = { 44: 3, 9: 2, 59: 1, 124: 0 }; function a(h) { for (var m = {}, g = !1, v = 0, y = 0; v < h.length; ++v)(y = h.charCodeAt(v)) == 34 ? g = !g : !g && y in r && (m[y] = (m[y] || 0) + 1); y = []; for (v in m) Object.prototype.hasOwnProperty.call(m, v) && y.push([m[v], v]); if (!y.length) { m = n; for (v in m) Object.prototype.hasOwnProperty.call(m, v) && y.push([m[v], v]) } return y.sort(function (b, _) { return b[0] - _[0] || n[b[1]] - n[_[1]] }), r[y.pop()[1]] || 44 } function i(h, m) {
    var g = m || {}, v = "", y = g.dense ? [] : {}, b = { s: { c: 0, r: 0 }, e: { c: 0, r: 0 } }; h.slice(0, 4) == "sep=" ? h.charCodeAt(5) == 13 && h.charCodeAt(6) == 10 ? (v = h.charAt(4), h = h.slice(7)) : h.charCodeAt(5) == 13 || h.charCodeAt(5) == 10 ? (v = h.charAt(4), h = h.slice(6)) : v = a(h.slice(0, 1024)) : g && g.FS ? v = g.FS : v = a(h.slice(0, 1024)); var _ = 0, k = 0, C = 0, T = 0, j = 0, R = v.charCodeAt(0), O = !1, I = 0, H = h.charCodeAt(0); h = h.replace(/\r\n/mg, `
`); var F = g.dateNF != null ? Kme(g.dateNF) : null; function X() { var V = h.slice(T, j), U = {}; if (V.charAt(0) == '"' && V.charAt(V.length - 1) == '"' && (V = V.slice(1, -1).replace(/""/g, '"')), V.length === 0) U.t = "z"; else if (g.raw) U.t = "s", U.v = V; else if (V.trim().length === 0) U.t = "s", U.v = V; else if (V.charCodeAt(0) == 61) V.charCodeAt(1) == 34 && V.charCodeAt(V.length - 1) == 34 ? (U.t = "s", U.v = V.slice(2, -1).replace(/""/g, '"')) : Sbe(V) ? (U.t = "n", U.f = V.slice(1)) : (U.t = "s", U.v = V); else if (V == "TRUE") U.t = "b", U.v = !0; else if (V == "FALSE") U.t = "b", U.v = !1; else if (!isNaN(C = yi(V))) U.t = "n", g.cellText !== !1 && (U.w = V), U.v = C; else if (!isNaN(Fu(V).getDate()) || F && V.match(F)) { U.z = g.dateNF || ft[14]; var ee = 0; F && V.match(F) && (V = Yme(V, g.dateNF, V.match(F) || []), ee = 1), g.cellDates ? (U.t = "d", U.v = sn(V, ee)) : (U.t = "n", U.v = Qn(sn(V, ee))), g.cellText !== !1 && (U.w = Ja(U.z, U.v instanceof Date ? Qn(U.v) : U.v)), g.cellNF || delete U.z } else U.t = "s", U.v = V; if (U.t == "z" || (g.dense ? (y[_] || (y[_] = []), y[_][k] = U) : y[lt({ c: k, r: _ })] = U), T = j + 1, H = h.charCodeAt(T), b.e.c < k && (b.e.c = k), b.e.r < _ && (b.e.r = _), I == R) ++k; else if (k = 0, ++_, g.sheetRows && g.sheetRows <= _) return !0 } e: for (; j < h.length; ++j)switch (I = h.charCodeAt(j)) { case 34: H === 34 && (O = !O); break; case R: case 10: case 13: if (!O && X()) break e; break }return j - T > 0 && X(), y["!ref"] = Tt(b), y
  } function s(h, m) { return !(m && m.PRN) || m.FS || h.slice(0, 4) == "sep=" || h.indexOf("	") >= 0 || h.indexOf(",") >= 0 || h.indexOf(";") >= 0 ? i(h, m) : ad(t(h, m), m) } function l(h, m) { var g = "", v = m.type == "string" ? [0, 0, 0, 0] : vk(h, m); switch (m.type) { case "base64": g = Na(h); break; case "binary": g = h; break; case "buffer": m.codepage == 65001 ? g = h.toString("utf8") : m.codepage && typeof t0 < "u" || (g = St && Buffer.isBuffer(h) ? h.toString("binary") : lc(h)); break; case "array": g = tc(h); break; case "string": g = h; break; default: throw new Error("Unrecognized type " + m.type) }return v[0] == 239 && v[1] == 187 && v[2] == 191 ? g = tr(g.slice(3)) : m.type != "string" && m.type != "buffer" && m.codepage == 65001 ? g = tr(g) : m.type == "binary" && typeof t0 < "u", g.slice(0, 19) == "socialcalc:version:" ? Lve.to_sheet(m.type == "string" ? g : tr(g), m) : s(g, m) } function f(h, m) { return Xo(l(h, m), m) } function d(h) {
    for (var m = [], g = Er(h["!ref"]), v, y = Array.isArray(h), b = g.s.r; b <= g.e.r; ++b) { for (var _ = [], k = g.s.c; k <= g.e.c; ++k) { var C = lt({ r: b, c: k }); if (v = y ? (h[b] || [])[k] : h[C], !v || v.v == null) { _.push("          "); continue } for (var T = (v.w || (Ms(v), v.w) || "").slice(0, 10); T.length < 10;)T += " "; _.push(T + (k === 0 ? " " : "")) } m.push(_.join("")) } return m.join(`
`)
  } return { to_workbook: f, to_sheet: l, from_sheet: d }
})(); function Fve(e, t) { var r = t || {}, n = !!r.WTF; r.WTF = !0; try { var a = Dve.to_workbook(e, r); return r.WTF = n, a } catch (i) { if (r.WTF = n, !i.message.match(/SYLK bad record ID/) && n) throw i; return i0.to_workbook(e, t) } } var Af = (function () { function e(P, W, J) { if (P) { _n(P, P.l || 0); for (var B = J.Enum || te; P.l < P.length;) { var ce = P.read_shift(2), fe = B[ce] || B[65535], le = P.read_shift(2), oe = P.l + le, pe = fe.f && fe.f(P, le, J); if (P.l = oe, W(pe, fe, ce)) return } } } function t(P, W) { switch (W.type) { case "base64": return r(hi(Na(P)), W); case "binary": return r(hi(P), W); case "buffer": case "array": return r(P, W) }throw "Unsupported type " + W.type } function r(P, W) { if (!P) return P; var J = W || {}, B = J.dense ? [] : {}, ce = "Sheet1", fe = "", le = 0, oe = {}, pe = [], Ie = [], Y = { s: { r: 0, c: 0 }, e: { r: 0, c: 0 } }, ct = J.sheetRows || 0; if (P[2] == 0 && (P[3] == 8 || P[3] == 9) && P.length >= 16 && P[14] == 5 && P[15] === 108) throw new Error("Unsupported Works 3 for Mac file"); if (P[2] == 2) J.Enum = te, e(P, function (Pe, Ut, dn) { switch (dn) { case 0: J.vers = Pe, Pe >= 4096 && (J.qpro = !0); break; case 6: Y = Pe; break; case 204: Pe && (fe = Pe); break; case 222: fe = Pe; break; case 15: case 51: J.qpro || (Pe[1].v = Pe[1].v.slice(1)); case 13: case 14: case 16: dn == 14 && (Pe[2] & 112) == 112 && (Pe[2] & 15) > 1 && (Pe[2] & 15) < 15 && (Pe[1].z = J.dateNF || ft[14], J.cellDates && (Pe[1].t = "d", Pe[1].v = wx(Pe[1].v))), J.qpro && Pe[3] > le && (B["!ref"] = Tt(Y), oe[ce] = B, pe.push(ce), B = J.dense ? [] : {}, Y = { s: { r: 0, c: 0 }, e: { r: 0, c: 0 } }, le = Pe[3], ce = fe || "Sheet" + (le + 1), fe = ""); var kn = J.dense ? (B[Pe[0].r] || [])[Pe[0].c] : B[lt(Pe[0])]; if (kn) { kn.t = Pe[1].t, kn.v = Pe[1].v, Pe[1].z != null && (kn.z = Pe[1].z), Pe[1].f != null && (kn.f = Pe[1].f); break } J.dense ? (B[Pe[0].r] || (B[Pe[0].r] = []), B[Pe[0].r][Pe[0].c] = Pe[1]) : B[lt(Pe[0])] = Pe[1]; break } }, J); else if (P[2] == 26 || P[2] == 14) J.Enum = G, P[2] == 14 && (J.qpro = !0, P.l = 0), e(P, function (Pe, Ut, dn) { switch (dn) { case 204: ce = Pe; break; case 22: Pe[1].v = Pe[1].v.slice(1); case 23: case 24: case 25: case 37: case 39: case 40: if (Pe[3] > le && (B["!ref"] = Tt(Y), oe[ce] = B, pe.push(ce), B = J.dense ? [] : {}, Y = { s: { r: 0, c: 0 }, e: { r: 0, c: 0 } }, le = Pe[3], ce = "Sheet" + (le + 1)), ct > 0 && Pe[0].r >= ct) break; J.dense ? (B[Pe[0].r] || (B[Pe[0].r] = []), B[Pe[0].r][Pe[0].c] = Pe[1]) : B[lt(Pe[0])] = Pe[1], Y.e.c < Pe[0].c && (Y.e.c = Pe[0].c), Y.e.r < Pe[0].r && (Y.e.r = Pe[0].r); break; case 27: Pe[14e3] && (Ie[Pe[14e3][0]] = Pe[14e3][1]); break; case 1537: Ie[Pe[0]] = Pe[1], Pe[0] == le && (ce = Pe[1]); break } }, J); else throw new Error("Unrecognized LOTUS BOF " + P[2]); if (B["!ref"] = Tt(Y), oe[fe || ce] = B, pe.push(fe || ce), !Ie.length) return { SheetNames: pe, Sheets: oe }; for (var He = {}, tt = [], Je = 0; Je < Ie.length; ++Je)oe[pe[Je]] ? (tt.push(Ie[Je] || pe[Je]), He[Ie[Je]] = oe[Ie[Je]] || oe[pe[Je]]) : (tt.push(Ie[Je]), He[Ie[Je]] = { "!ref": "A1" }); return { SheetNames: tt, Sheets: He } } function n(P, W) { var J = W || {}; if (+J.codepage >= 0 && pi(+J.codepage), J.type == "string") throw new Error("Cannot write WK1 to JS string"); var B = b_(), ce = Er(P["!ref"]), fe = Array.isArray(P), le = []; si(B, 0, i(1030)), si(B, 6, f(ce)); for (var oe = Math.min(ce.e.r, 8191), pe = ce.s.r; pe <= oe; ++pe)for (var Ie = En(pe), Y = ce.s.c; Y <= ce.e.c; ++Y) { pe === ce.s.r && (le[Y] = Vr(Y)); var ct = le[Y] + Ie, He = fe ? (P[pe] || [])[Y] : P[ct]; if (!(!He || He.t == "z")) if (He.t == "n") (He.v | 0) == He.v && He.v >= -32768 && He.v <= 32767 ? si(B, 13, v(pe, Y, He.v)) : si(B, 14, b(pe, Y, He.v)); else { var tt = Ms(He); si(B, 15, m(pe, Y, tt.slice(0, 239))) } } return si(B, 1), B.end() } function a(P, W) { var J = W || {}; if (+J.codepage >= 0 && pi(+J.codepage), J.type == "string") throw new Error("Cannot write WK3 to JS string"); var B = b_(); si(B, 0, s(P)); for (var ce = 0, fe = 0; ce < P.SheetNames.length; ++ce)(P.Sheets[P.SheetNames[ce]] || {})["!ref"] && si(B, 27, M(P.SheetNames[ce], fe++)); var le = 0; for (ce = 0; ce < P.SheetNames.length; ++ce) { var oe = P.Sheets[P.SheetNames[ce]]; if (!(!oe || !oe["!ref"])) { for (var pe = Er(oe["!ref"]), Ie = Array.isArray(oe), Y = [], ct = Math.min(pe.e.r, 8191), He = pe.s.r; He <= ct; ++He)for (var tt = En(He), Je = pe.s.c; Je <= pe.e.c; ++Je) { He === pe.s.r && (Y[Je] = Vr(Je)); var Pe = Y[Je] + tt, Ut = Ie ? (oe[He] || [])[Je] : oe[Pe]; if (!(!Ut || Ut.t == "z")) if (Ut.t == "n") si(B, 23, X(He, Je, le, Ut.v)); else { var dn = Ms(Ut); si(B, 22, I(He, Je, le, dn.slice(0, 239))) } } ++le } } return si(B, 1), B.end() } function i(P) { var W = Hr(2); return W.write_shift(2, P), W } function s(P) { var W = Hr(26); W.write_shift(2, 4096), W.write_shift(2, 4), W.write_shift(4, 0); for (var J = 0, B = 0, ce = 0, fe = 0; fe < P.SheetNames.length; ++fe) { var le = P.SheetNames[fe], oe = P.Sheets[le]; if (!(!oe || !oe["!ref"])) { ++ce; var pe = nd(oe["!ref"]); J < pe.e.r && (J = pe.e.r), B < pe.e.c && (B = pe.e.c) } } return J > 8191 && (J = 8191), W.write_shift(2, J), W.write_shift(1, ce), W.write_shift(1, B), W.write_shift(2, 0), W.write_shift(2, 0), W.write_shift(1, 1), W.write_shift(1, 2), W.write_shift(4, 0), W.write_shift(4, 0), W } function l(P, W, J) { var B = { s: { c: 0, r: 0 }, e: { c: 0, r: 0 } }; return W == 8 && J.qpro ? (B.s.c = P.read_shift(1), P.l++, B.s.r = P.read_shift(2), B.e.c = P.read_shift(1), P.l++, B.e.r = P.read_shift(2), B) : (B.s.c = P.read_shift(2), B.s.r = P.read_shift(2), W == 12 && J.qpro && (P.l += 2), B.e.c = P.read_shift(2), B.e.r = P.read_shift(2), W == 12 && J.qpro && (P.l += 2), B.s.c == 65535 && (B.s.c = B.e.c = B.s.r = B.e.r = 0), B) } function f(P) { var W = Hr(8); return W.write_shift(2, P.s.c), W.write_shift(2, P.s.r), W.write_shift(2, P.e.c), W.write_shift(2, P.e.r), W } function d(P, W, J) { var B = [{ c: 0, r: 0 }, { t: "n", v: 0 }, 0, 0]; return J.qpro && J.vers != 20768 ? (B[0].c = P.read_shift(1), B[3] = P.read_shift(1), B[0].r = P.read_shift(2), P.l += 2) : (B[2] = P.read_shift(1), B[0].c = P.read_shift(2), B[0].r = P.read_shift(2)), B } function h(P, W, J) { var B = P.l + W, ce = d(P, W, J); if (ce[1].t = "s", J.vers == 20768) { P.l++; var fe = P.read_shift(1); return ce[1].v = P.read_shift(fe, "utf8"), ce } return J.qpro && P.l++, ce[1].v = P.read_shift(B - P.l, "cstr"), ce } function m(P, W, J) { var B = Hr(7 + J.length); B.write_shift(1, 255), B.write_shift(2, W), B.write_shift(2, P), B.write_shift(1, 39); for (var ce = 0; ce < B.length; ++ce) { var fe = J.charCodeAt(ce); B.write_shift(1, fe >= 128 ? 95 : fe) } return B.write_shift(1, 0), B } function g(P, W, J) { var B = d(P, W, J); return B[1].v = P.read_shift(2, "i"), B } function v(P, W, J) { var B = Hr(7); return B.write_shift(1, 255), B.write_shift(2, W), B.write_shift(2, P), B.write_shift(2, J, "i"), B } function y(P, W, J) { var B = d(P, W, J); return B[1].v = P.read_shift(8, "f"), B } function b(P, W, J) { var B = Hr(13); return B.write_shift(1, 255), B.write_shift(2, W), B.write_shift(2, P), B.write_shift(8, J, "f"), B } function _(P, W, J) { var B = P.l + W, ce = d(P, W, J); if (ce[1].v = P.read_shift(8, "f"), J.qpro) P.l = B; else { var fe = P.read_shift(2); j(P.slice(P.l, P.l + fe), ce), P.l += fe } return ce } function k(P, W, J) { var B = W & 32768; return W &= -32769, W = (B ? P : 0) + (W >= 8192 ? W - 16384 : W), (B ? "" : "$") + (J ? Vr(W) : En(W)) } var C = { 51: ["FALSE", 0], 52: ["TRUE", 0], 70: ["LEN", 1], 80: ["SUM", 69], 81: ["AVERAGEA", 69], 82: ["COUNTA", 69], 83: ["MINA", 69], 84: ["MAXA", 69], 111: ["T", 1] }, T = ["", "", "", "", "", "", "", "", "", "+", "-", "*", "/", "^", "=", "<>", "<=", ">=", "<", ">", "", "", "", "", "&", "", "", "", "", "", "", ""]; function j(P, W) { _n(P, 0); for (var J = [], B = 0, ce = "", fe = "", le = "", oe = ""; P.l < P.length;) { var pe = P[P.l++]; switch (pe) { case 0: J.push(P.read_shift(8, "f")); break; case 1: fe = k(W[0].c, P.read_shift(2), !0), ce = k(W[0].r, P.read_shift(2), !1), J.push(fe + ce); break; case 2: { var Ie = k(W[0].c, P.read_shift(2), !0), Y = k(W[0].r, P.read_shift(2), !1); fe = k(W[0].c, P.read_shift(2), !0), ce = k(W[0].r, P.read_shift(2), !1), J.push(Ie + Y + ":" + fe + ce) } break; case 3: if (P.l < P.length) { console.error("WK1 premature formula end"); return } break; case 4: J.push("(" + J.pop() + ")"); break; case 5: J.push(P.read_shift(2)); break; case 6: { for (var ct = ""; pe = P[P.l++];)ct += String.fromCharCode(pe); J.push('"' + ct.replace(/"/g, '""') + '"') } break; case 8: J.push("-" + J.pop()); break; case 23: J.push("+" + J.pop()); break; case 22: J.push("NOT(" + J.pop() + ")"); break; case 20: case 21: oe = J.pop(), le = J.pop(), J.push(["AND", "OR"][pe - 20] + "(" + le + "," + oe + ")"); break; default: if (pe < 32 && T[pe]) oe = J.pop(), le = J.pop(), J.push(le + T[pe] + oe); else if (C[pe]) { if (B = C[pe][1], B == 69 && (B = P[P.l++]), B > J.length) { console.error("WK1 bad formula parse 0x" + pe.toString(16) + ":|" + J.join("|") + "|"); return } var He = J.slice(-B); J.length -= B, J.push(C[pe][0] + "(" + He.join(",") + ")") } else return pe <= 7 ? console.error("WK1 invalid opcode " + pe.toString(16)) : pe <= 24 ? console.error("WK1 unsupported op " + pe.toString(16)) : pe <= 30 ? console.error("WK1 invalid opcode " + pe.toString(16)) : pe <= 115 ? console.error("WK1 unsupported function opcode " + pe.toString(16)) : console.error("WK1 unrecognized opcode " + pe.toString(16)) } } J.length == 1 ? W[1].f = "" + J[0] : console.error("WK1 bad formula parse |" + J.join("|") + "|") } function R(P) { var W = [{ c: 0, r: 0 }, { t: "n", v: 0 }, 0]; return W[0].r = P.read_shift(2), W[3] = P[P.l++], W[0].c = P[P.l++], W } function O(P, W) { var J = R(P); return J[1].t = "s", J[1].v = P.read_shift(W - 4, "cstr"), J } function I(P, W, J, B) { var ce = Hr(6 + B.length); ce.write_shift(2, P), ce.write_shift(1, J), ce.write_shift(1, W), ce.write_shift(1, 39); for (var fe = 0; fe < B.length; ++fe) { var le = B.charCodeAt(fe); ce.write_shift(1, le >= 128 ? 95 : le) } return ce.write_shift(1, 0), ce } function H(P, W) { var J = R(P); J[1].v = P.read_shift(2); var B = J[1].v >> 1; if (J[1].v & 1) switch (B & 7) { case 0: B = (B >> 3) * 5e3; break; case 1: B = (B >> 3) * 500; break; case 2: B = (B >> 3) / 20; break; case 3: B = (B >> 3) / 200; break; case 4: B = (B >> 3) / 2e3; break; case 5: B = (B >> 3) / 2e4; break; case 6: B = (B >> 3) / 16; break; case 7: B = (B >> 3) / 64; break }return J[1].v = B, J } function F(P, W) { var J = R(P), B = P.read_shift(4), ce = P.read_shift(4), fe = P.read_shift(2); if (fe == 65535) return B === 0 && ce === 3221225472 ? (J[1].t = "e", J[1].v = 15) : B === 0 && ce === 3489660928 ? (J[1].t = "e", J[1].v = 42) : J[1].v = 0, J; var le = fe & 32768; return fe = (fe & 32767) - 16446, J[1].v = (1 - le * 2) * (ce * Math.pow(2, fe + 32) + B * Math.pow(2, fe)), J } function X(P, W, J, B) { var ce = Hr(14); if (ce.write_shift(2, P), ce.write_shift(1, J), ce.write_shift(1, W), B == 0) return ce.write_shift(4, 0), ce.write_shift(4, 0), ce.write_shift(2, 65535), ce; var fe = 0, le = 0, oe = 0, pe = 0; return B < 0 && (fe = 1, B = -B), le = Math.log2(B) | 0, B /= Math.pow(2, le - 31), pe = B >>> 0, (pe & 2147483648) == 0 && (B /= 2, ++le, pe = B >>> 0), B -= pe, pe |= 2147483648, pe >>>= 0, B *= Math.pow(2, 32), oe = B >>> 0, ce.write_shift(4, oe), ce.write_shift(4, pe), le += 16383 + (fe ? 32768 : 0), ce.write_shift(2, le), ce } function V(P, W) { var J = F(P); return P.l += W - 14, J } function U(P, W) { var J = R(P), B = P.read_shift(4); return J[1].v = B >> 6, J } function ee(P, W) { var J = R(P), B = P.read_shift(8, "f"); return J[1].v = B, J } function re(P, W) { var J = ee(P); return P.l += W - 10, J } function de(P, W) { return P[P.l + W - 1] == 0 ? P.read_shift(W, "cstr") : "" } function D(P, W) { var J = P[P.l++]; J > W - 1 && (J = W - 1); for (var B = ""; B.length < J;)B += String.fromCharCode(P[P.l++]); return B } function z(P, W, J) { if (!(!J.qpro || W < 21)) { var B = P.read_shift(1); P.l += 17, P.l += 1, P.l += 2; var ce = P.read_shift(W - 21, "cstr"); return [B, ce] } } function ie(P, W) { for (var J = {}, B = P.l + W; P.l < B;) { var ce = P.read_shift(2); if (ce == 14e3) { for (J[ce] = [0, ""], J[ce][0] = P.read_shift(2); P[P.l];)J[ce][1] += String.fromCharCode(P[P.l]), P.l++; P.l++ } } return J } function M(P, W) { var J = Hr(5 + P.length); J.write_shift(2, 14e3), J.write_shift(2, W); for (var B = 0; B < P.length; ++B) { var ce = P.charCodeAt(B); J[J.l++] = ce > 127 ? 95 : ce } return J[J.l++] = 0, J } var te = { 0: { n: "BOF", f: Lr }, 1: { n: "EOF" }, 2: { n: "CALCMODE" }, 3: { n: "CALCORDER" }, 4: { n: "SPLIT" }, 5: { n: "SYNC" }, 6: { n: "RANGE", f: l }, 7: { n: "WINDOW1" }, 8: { n: "COLW1" }, 9: { n: "WINTWO" }, 10: { n: "COLW2" }, 11: { n: "NAME" }, 12: { n: "BLANK" }, 13: { n: "INTEGER", f: g }, 14: { n: "NUMBER", f: y }, 15: { n: "LABEL", f: h }, 16: { n: "FORMULA", f: _ }, 24: { n: "TABLE" }, 25: { n: "ORANGE" }, 26: { n: "PRANGE" }, 27: { n: "SRANGE" }, 28: { n: "FRANGE" }, 29: { n: "KRANGE1" }, 32: { n: "HRANGE" }, 35: { n: "KRANGE2" }, 36: { n: "PROTEC" }, 37: { n: "FOOTER" }, 38: { n: "HEADER" }, 39: { n: "SETUP" }, 40: { n: "MARGINS" }, 41: { n: "LABELFMT" }, 42: { n: "TITLES" }, 43: { n: "SHEETJS" }, 45: { n: "GRAPH" }, 46: { n: "NGRAPH" }, 47: { n: "CALCCOUNT" }, 48: { n: "UNFORMATTED" }, 49: { n: "CURSORW12" }, 50: { n: "WINDOW" }, 51: { n: "STRING", f: h }, 55: { n: "PASSWORD" }, 56: { n: "LOCKED" }, 60: { n: "QUERY" }, 61: { n: "QUERYNAME" }, 62: { n: "PRINT" }, 63: { n: "PRINTNAME" }, 64: { n: "GRAPH2" }, 65: { n: "GRAPHNAME" }, 66: { n: "ZOOM" }, 67: { n: "SYMSPLIT" }, 68: { n: "NSROWS" }, 69: { n: "NSCOLS" }, 70: { n: "RULER" }, 71: { n: "NNAME" }, 72: { n: "ACOMM" }, 73: { n: "AMACRO" }, 74: { n: "PARSE" }, 102: { n: "PRANGES??" }, 103: { n: "RRANGES??" }, 104: { n: "FNAME??" }, 105: { n: "MRANGES??" }, 204: { n: "SHEETNAMECS", f: de }, 222: { n: "SHEETNAMELP", f: D }, 65535: { n: "" } }, G = { 0: { n: "BOF" }, 1: { n: "EOF" }, 2: { n: "PASSWORD" }, 3: { n: "CALCSET" }, 4: { n: "WINDOWSET" }, 5: { n: "SHEETCELLPTR" }, 6: { n: "SHEETLAYOUT" }, 7: { n: "COLUMNWIDTH" }, 8: { n: "HIDDENCOLUMN" }, 9: { n: "USERRANGE" }, 10: { n: "SYSTEMRANGE" }, 11: { n: "ZEROFORCE" }, 12: { n: "SORTKEYDIR" }, 13: { n: "FILESEAL" }, 14: { n: "DATAFILLNUMS" }, 15: { n: "PRINTMAIN" }, 16: { n: "PRINTSTRING" }, 17: { n: "GRAPHMAIN" }, 18: { n: "GRAPHSTRING" }, 19: { n: "??" }, 20: { n: "ERRCELL" }, 21: { n: "NACELL" }, 22: { n: "LABEL16", f: O }, 23: { n: "NUMBER17", f: F }, 24: { n: "NUMBER18", f: H }, 25: { n: "FORMULA19", f: V }, 26: { n: "FORMULA1A" }, 27: { n: "XFORMAT", f: ie }, 28: { n: "DTLABELMISC" }, 29: { n: "DTLABELCELL" }, 30: { n: "GRAPHWINDOW" }, 31: { n: "CPA" }, 32: { n: "LPLAUTO" }, 33: { n: "QUERY" }, 34: { n: "HIDDENSHEET" }, 35: { n: "??" }, 37: { n: "NUMBER25", f: U }, 38: { n: "??" }, 39: { n: "NUMBER27", f: ee }, 40: { n: "FORMULA28", f: re }, 142: { n: "??" }, 147: { n: "??" }, 150: { n: "??" }, 151: { n: "??" }, 152: { n: "??" }, 153: { n: "??" }, 154: { n: "??" }, 155: { n: "??" }, 156: { n: "??" }, 163: { n: "??" }, 174: { n: "??" }, 175: { n: "??" }, 176: { n: "??" }, 177: { n: "??" }, 184: { n: "??" }, 185: { n: "??" }, 186: { n: "??" }, 187: { n: "??" }, 188: { n: "??" }, 195: { n: "??" }, 201: { n: "??" }, 204: { n: "SHEETNAMECS", f: de }, 205: { n: "??" }, 206: { n: "??" }, 207: { n: "??" }, 208: { n: "??" }, 256: { n: "??" }, 259: { n: "??" }, 260: { n: "??" }, 261: { n: "??" }, 262: { n: "??" }, 263: { n: "??" }, 265: { n: "??" }, 266: { n: "??" }, 267: { n: "??" }, 268: { n: "??" }, 270: { n: "??" }, 271: { n: "??" }, 384: { n: "??" }, 389: { n: "??" }, 390: { n: "??" }, 393: { n: "??" }, 396: { n: "??" }, 512: { n: "??" }, 514: { n: "??" }, 513: { n: "??" }, 516: { n: "??" }, 517: { n: "??" }, 640: { n: "??" }, 641: { n: "??" }, 642: { n: "??" }, 643: { n: "??" }, 644: { n: "??" }, 645: { n: "??" }, 646: { n: "??" }, 647: { n: "??" }, 648: { n: "??" }, 658: { n: "??" }, 659: { n: "??" }, 660: { n: "??" }, 661: { n: "??" }, 662: { n: "??" }, 665: { n: "??" }, 666: { n: "??" }, 768: { n: "??" }, 772: { n: "??" }, 1537: { n: "SHEETINFOQP", f: z }, 1600: { n: "??" }, 1602: { n: "??" }, 1793: { n: "??" }, 1794: { n: "??" }, 1795: { n: "??" }, 1796: { n: "??" }, 1920: { n: "??" }, 2048: { n: "??" }, 2049: { n: "??" }, 2052: { n: "??" }, 2688: { n: "??" }, 10998: { n: "??" }, 12849: { n: "??" }, 28233: { n: "??" }, 28484: { n: "??" }, 65535: { n: "" } }; return { sheet_to_wk1: n, book_to_wk3: a, to_workbook: t } })(); function Uve(e) { var t = {}, r = e.match(Bn), n = 0, a = !1; if (r) for (; n != r.length; ++n) { var i = at(r[n]); switch (i[0].replace(/\w*:/g, "")) { case "<condense": break; case "<extend": break; case "<shadow": if (!i.val) break; case "<shadow>": case "<shadow/>": t.shadow = 1; break; case "</shadow>": break; case "<charset": if (i.val == "1") break; t.cp = KE[parseInt(i.val, 10)]; break; case "<outline": if (!i.val) break; case "<outline>": case "<outline/>": t.outline = 1; break; case "</outline>": break; case "<rFont": t.name = i.val; break; case "<sz": t.sz = i.val; break; case "<strike": if (!i.val) break; case "<strike>": case "<strike/>": t.strike = 1; break; case "</strike>": break; case "<u": if (!i.val) break; switch (i.val) { case "double": t.uval = "double"; break; case "singleAccounting": t.uval = "single-accounting"; break; case "doubleAccounting": t.uval = "double-accounting"; break }case "<u>": case "<u/>": t.u = 1; break; case "</u>": break; case "<b": if (i.val == "0") break; case "<b>": case "<b/>": t.b = 1; break; case "</b>": break; case "<i": if (i.val == "0") break; case "<i>": case "<i/>": t.i = 1; break; case "</i>": break; case "<color": i.rgb && (t.color = i.rgb.slice(2, 8)); break; case "<color>": case "<color/>": case "</color>": break; case "<family": t.family = i.val; break; case "<family>": case "<family/>": case "</family>": break; case "<vertAlign": t.valign = i.val; break; case "<vertAlign>": case "<vertAlign/>": case "</vertAlign>": break; case "<scheme": break; case "<scheme>": case "<scheme/>": case "</scheme>": break; case "<extLst": case "<extLst>": case "</extLst>": break; case "<ext": a = !0; break; case "</ext>": a = !1; break; default: if (i[0].charCodeAt(1) !== 47 && !a) throw new Error("Unrecognized rich format " + i[0]) } } return t } var Bve = (function () { var e = n0("t"), t = n0("rPr"); function r(i) { var s = i.match(e); if (!s) return { t: "s", v: "" }; var l = { t: "s", v: Nt(s[1]) }, f = i.match(t); return f && (l.s = Uve(f[1])), l } var n = /<(?:\w+:)?r>/g, a = /<\/(?:\w+:)?r>/; return function (s) { return s.replace(n, "").split(a).map(r).filter(function (l) { return l.v }) } })(), $ve = (function () { var t = /(\r\n|\n)/g; function r(a, i, s) { var l = []; a.u && l.push("text-decoration: underline;"), a.uval && l.push("text-underline-style:" + a.uval + ";"), a.sz && l.push("font-size:" + a.sz + "pt;"), a.outline && l.push("text-effect: outline;"), a.shadow && l.push("text-shadow: auto;"), i.push('<span style="' + l.join("") + '">'), a.b && (i.push("<b>"), s.push("</b>")), a.i && (i.push("<i>"), s.push("</i>")), a.strike && (i.push("<s>"), s.push("</s>")); var f = a.valign || ""; return f == "superscript" || f == "super" ? f = "sup" : f == "subscript" && (f = "sub"), f != "" && (i.push("<" + f + ">"), s.push("</" + f + ">")), s.push("</span>"), a } function n(a) { var i = [[], a.v, []]; return a.v ? (a.s && r(a.s, i[0], i[2]), i[0].join("") + i[1].replace(t, "<br/>") + i[2].join("")) : "" } return function (i) { return i.map(n).join("") } })(), zve = /<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g, Hve = /<(?:\w+:)?r>/, Gve = /<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g; function dk(e, t) { var r = t ? t.cellHTML : !0, n = {}; return e ? (e.match(/^\s*<(?:\w+:)?t[^>]*>/) ? (n.t = Nt(tr(e.slice(e.indexOf(">") + 1).split(/<\/(?:\w+:)?t>/)[0] || "")), n.r = tr(e), r && (n.h = tk(n.t))) : e.match(Hve) && (n.r = tr(e), n.t = Nt(tr((e.replace(Gve, "").match(zve) || []).join("").replace(Bn, ""))), r && (n.h = $ve(Bve(n.r)))), n) : { t: "" } } var Vve = /<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/, qve = /<(?:\w+:)?(?:si|sstItem)>/g, Wve = /<\/(?:\w+:)?(?:si|sstItem)>/; function Kve(e, t) { var r = [], n = ""; if (!e) return r; var a = e.match(Vve); if (a) { n = a[2].replace(qve, "").split(Wve); for (var i = 0; i != n.length; ++i) { var s = dk(n[i].trim(), t); s != null && (r[r.length] = s) } a = at(a[1]), r.Count = a.count, r.Unique = a.uniqueCount } return r } function Yve(e) { return [e.read_shift(4), e.read_shift(4)] } function Xve(e, t) { var r = [], n = !1; return Ws(e, function (i, s, l) { switch (l) { case 159: r.Count = i[0], r.Unique = i[1]; break; case 19: r.push(i); break; case 160: return !0; case 35: n = !0; break; case 36: n = !1; break; default: if (s.T, !n || t.WTF) throw new Error("Unexpected record 0x" + l.toString(16)) } }), r } function eU(e) { for (var t = [], r = e.split(""), n = 0; n < r.length; ++n)t[n] = r[n].charCodeAt(0); return t } function Ns(e, t) { var r = {}; return r.Major = e.read_shift(2), r.Minor = e.read_shift(2), t >= 4 && (e.l += t - 4), r } function Jve(e) { var t = {}; return t.id = e.read_shift(0, "lpp4"), t.R = Ns(e, 4), t.U = Ns(e, 4), t.W = Ns(e, 4), t } function Zve(e) { for (var t = e.read_shift(4), r = e.l + t - 4, n = {}, a = e.read_shift(4), i = []; a-- > 0;)i.push({ t: e.read_shift(4), v: e.read_shift(0, "lpp4") }); if (n.name = e.read_shift(0, "lpp4"), n.comps = i, e.l != r) throw new Error("Bad DataSpaceMapEntry: " + e.l + " != " + r); return n } function Qve(e) { var t = []; e.l += 4; for (var r = e.read_shift(4); r-- > 0;)t.push(Zve(e)); return t } function eye(e) { var t = []; e.l += 4; for (var r = e.read_shift(4); r-- > 0;)t.push(e.read_shift(0, "lpp4")); return t } function tye(e) { var t = {}; return e.read_shift(4), e.l += 4, t.id = e.read_shift(0, "lpp4"), t.name = e.read_shift(0, "lpp4"), t.R = Ns(e, 4), t.U = Ns(e, 4), t.W = Ns(e, 4), t } function rye(e) { var t = tye(e); if (t.ename = e.read_shift(0, "8lpp4"), t.blksz = e.read_shift(4), t.cmode = e.read_shift(4), e.read_shift(4) != 4) throw new Error("Bad !Primary record"); return t } function tU(e, t) { var r = e.l + t, n = {}; n.Flags = e.read_shift(4) & 63, e.l += 4, n.AlgID = e.read_shift(4); var a = !1; switch (n.AlgID) { case 26126: case 26127: case 26128: a = n.Flags == 36; break; case 26625: a = n.Flags == 4; break; case 0: a = n.Flags == 16 || n.Flags == 4 || n.Flags == 36; break; default: throw "Unrecognized encryption algorithm: " + n.AlgID }if (!a) throw new Error("Encryption Flags/AlgID mismatch"); return n.AlgIDHash = e.read_shift(4), n.KeySize = e.read_shift(4), n.ProviderType = e.read_shift(4), e.l += 8, n.CSPName = e.read_shift(r - e.l >> 1, "utf16le"), e.l = r, n } function rU(e, t) { var r = {}, n = e.l + t; return e.l += 4, r.Salt = e.slice(e.l, e.l + 16), e.l += 16, r.Verifier = e.slice(e.l, e.l + 16), e.l += 16, e.read_shift(4), r.VerifierHash = e.slice(e.l, n), e.l = n, r } function nye(e) { var t = Ns(e); switch (t.Minor) { case 2: return [t.Minor, aye(e)]; case 3: return [t.Minor, iye()]; case 4: return [t.Minor, sye(e)] }throw new Error("ECMA-376 Encrypted file unrecognized Version: " + t.Minor) } function aye(e) { var t = e.read_shift(4); if ((t & 63) != 36) throw new Error("EncryptionInfo mismatch"); var r = e.read_shift(4), n = tU(e, r), a = rU(e, e.length - e.l); return { t: "Std", h: n, v: a } } function iye() { throw new Error("File is password-protected: ECMA-376 Extensible") } function sye(e) { var t = ["saltSize", "blockSize", "keyBits", "hashSize", "cipherAlgorithm", "cipherChaining", "hashAlgorithm", "saltValue"]; e.l += 4; var r = e.read_shift(e.length - e.l, "utf8"), n = {}; return r.replace(Bn, function (i) { var s = at(i); switch (Ji(s[0])) { case "<?xml": break; case "<encryption": case "</encryption>": break; case "<keyData": t.forEach(function (l) { n[l] = s[l] }); break; case "<dataIntegrity": n.encryptedHmacKey = s.encryptedHmacKey, n.encryptedHmacValue = s.encryptedHmacValue; break; case "<keyEncryptors>": case "<keyEncryptors": n.encs = []; break; case "</keyEncryptors>": break; case "<keyEncryptor": n.uri = s.uri; break; case "</keyEncryptor>": break; case "<encryptedKey": n.encs.push(s); break; default: throw s[0] } }), n } function oye(e, t) { var r = {}, n = r.EncryptionVersionInfo = Ns(e, 4); if (t -= 4, n.Minor != 2) throw new Error("unrecognized minor version code: " + n.Minor); if (n.Major > 4 || n.Major < 2) throw new Error("unrecognized major version code: " + n.Major); r.Flags = e.read_shift(4), t -= 4; var a = e.read_shift(4); return t -= 4, r.EncryptionHeader = tU(e, a), t -= a, r.EncryptionVerifier = rU(e, t), r } function lye(e) { var t = {}, r = t.EncryptionVersionInfo = Ns(e, 4); if (r.Major != 1 || r.Minor != 1) throw "unrecognized version code " + r.Major + " : " + r.Minor; return t.Salt = e.read_shift(16), t.EncryptedVerifier = e.read_shift(16), t.EncryptedVerifierHash = e.read_shift(16), t } function cye(e) { var t = 0, r, n = eU(e), a = n.length + 1, i, s, l, f, d; for (r = $o(a), r[0] = n.length, i = 1; i != a; ++i)r[i] = n[i - 1]; for (i = a - 1; i >= 0; --i)s = r[i], l = (t & 16384) === 0 ? 0 : 1, f = t << 1 & 32767, d = l | f, t = d ^ s; return t ^ 52811 } var nU = (function () { var e = [187, 255, 255, 186, 255, 255, 185, 128, 0, 190, 15, 0, 191, 15, 0], t = [57840, 7439, 52380, 33984, 4364, 3600, 61902, 12606, 6258, 57657, 54287, 34041, 10252, 43370, 20163], r = [44796, 19929, 39858, 10053, 20106, 40212, 10761, 31585, 63170, 64933, 60267, 50935, 40399, 11199, 17763, 35526, 1453, 2906, 5812, 11624, 23248, 885, 1770, 3540, 7080, 14160, 28320, 56640, 55369, 41139, 20807, 41614, 21821, 43642, 17621, 28485, 56970, 44341, 19019, 38038, 14605, 29210, 60195, 50791, 40175, 10751, 21502, 43004, 24537, 18387, 36774, 3949, 7898, 15796, 31592, 63184, 47201, 24803, 49606, 37805, 14203, 28406, 56812, 17824, 35648, 1697, 3394, 6788, 13576, 27152, 43601, 17539, 35078, 557, 1114, 2228, 4456, 30388, 60776, 51953, 34243, 7079, 14158, 28316, 14128, 28256, 56512, 43425, 17251, 34502, 7597, 13105, 26210, 52420, 35241, 883, 1766, 3532, 4129, 8258, 16516, 33032, 4657, 9314, 18628], n = function (s) { return (s / 2 | s * 128) & 255 }, a = function (s, l) { return n(s ^ l) }, i = function (s) { for (var l = t[s.length - 1], f = 104, d = s.length - 1; d >= 0; --d)for (var h = s[d], m = 0; m != 7; ++m)h & 64 && (l ^= r[f]), h *= 2, --f; return l }; return function (s) { for (var l = eU(s), f = i(l), d = l.length, h = $o(16), m = 0; m != 16; ++m)h[m] = 0; var g, v, y; for ((d & 1) === 1 && (g = f >> 8, h[d] = a(e[0], g), --d, g = f & 255, v = l[l.length - 1], h[d] = a(v, g)); d > 0;)--d, g = f >> 8, h[d] = a(l[d], g), --d, g = f & 255, h[d] = a(l[d], g); for (d = 15, y = 15 - l.length; y > 0;)g = f >> 8, h[d] = a(e[y], g), --d, --y, g = f & 255, h[d] = a(l[d], g), --d, --y; return h } })(), uye = function (e, t, r, n, a) { a || (a = t), n || (n = nU(e)); var i, s; for (i = 0; i != t.length; ++i)s = t[i], s ^= n[r], s = (s >> 5 | s << 3) & 255, a[i] = s, ++r; return [a, r, n] }, dye = function (e) { var t = 0, r = nU(e); return function (n) { var a = uye("", n, t, r); return t = a[1], a[0] } }; function fye(e, t, r, n) { var a = { key: Lr(e), verificationBytes: Lr(e) }; return r.password && (a.verifier = cye(r.password)), n.valid = a.verificationBytes === a.verifier, n.valid && (n.insitu = dye(r.password)), a } function hye(e, t, r) { var n = r || {}; return n.Info = e.read_shift(2), e.l -= 2, n.Info === 1 ? n.Data = lye(e) : n.Data = oye(e, t), n } function pye(e, t, r) { var n = { Type: r.biff >= 8 ? e.read_shift(2) : 0 }; return n.Type ? hye(e, t - 2, n) : fye(e, r.biff >= 8 ? t : t - 2, r, n), n } var mye = (function () { function e(a, i) { switch (i.type) { case "base64": return t(Na(a), i); case "binary": return t(a, i); case "buffer": return t(St && Buffer.isBuffer(a) ? a.toString("binary") : lc(a), i); case "array": return t(tc(a), i) }throw new Error("Unrecognized type " + i.type) } function t(a, i) { var s = i || {}, l = s.dense ? [] : {}, f = a.match(/\\trowd.*?\\row\b/g); if (!f.length) throw new Error("RTF missing table"); var d = { s: { c: 0, r: 0 }, e: { c: 0, r: f.length - 1 } }; return f.forEach(function (h, m) { Array.isArray(l) && (l[m] = []); for (var g = /\\\w+\b/g, v = 0, y, b = -1; y = g.exec(h);) { switch (y[0]) { case "\\cell": var _ = h.slice(v, g.lastIndex - y[0].length); if (_[0] == " " && (_ = _.slice(1)), ++b, _.length) { var k = { v: _, t: "s" }; Array.isArray(l) ? l[m][b] = k : l[lt({ r: m, c: b })] = k } break }v = g.lastIndex } b > d.e.c && (d.e.c = b) }), l["!ref"] = Tt(d), l } function r(a, i) { return Xo(e(a, i), i) } function n(a) { for (var i = ["{\\rtf1\\ansi"], s = Er(a["!ref"]), l, f = Array.isArray(a), d = s.s.r; d <= s.e.r; ++d) { i.push("\\trowd\\trautofit1"); for (var h = s.s.c; h <= s.e.c; ++h)i.push("\\cellx" + (h + 1)); for (i.push("\\pard\\intbl"), h = s.s.c; h <= s.e.c; ++h) { var m = lt({ r: d, c: h }); l = f ? (a[d] || [])[h] : a[m], !(!l || l.v == null && (!l.f || l.F)) && (i.push(" " + (l.w || (Ms(l), l.w))), i.push("\\cell")) } i.push("\\pard\\intbl\\row") } return i.join("") + "}" } return { to_workbook: r, to_sheet: e, from_sheet: n } })(); function gye(e) { var t = e.slice(e[0] === "#" ? 1 : 0).slice(0, 6); return [parseInt(t.slice(0, 2), 16), parseInt(t.slice(2, 4), 16), parseInt(t.slice(4, 6), 16)] } function s0(e) { for (var t = 0, r = 1; t != 3; ++t)r = r * 256 + (e[t] > 255 ? 255 : e[t] < 0 ? 0 : e[t]); return r.toString(16).toUpperCase().slice(1) } function xye(e) { var t = e[0] / 255, r = e[1] / 255, n = e[2] / 255, a = Math.max(t, r, n), i = Math.min(t, r, n), s = a - i; if (s === 0) return [0, 0, t]; var l = 0, f = 0, d = a + i; switch (f = s / (d > 1 ? 2 - d : d), a) { case t: l = ((r - n) / s + 6) % 6; break; case r: l = (n - t) / s + 2; break; case n: l = (t - r) / s + 4; break }return [l / 6, f, d / 2] } function vye(e) { var t = e[0], r = e[1], n = e[2], a = r * 2 * (n < .5 ? n : 1 - n), i = n - a / 2, s = [i, i, i], l = 6 * t, f; if (r !== 0) switch (l | 0) { case 0: case 6: f = a * l, s[0] += a, s[1] += f; break; case 1: f = a * (2 - l), s[0] += f, s[1] += a; break; case 2: f = a * (l - 2), s[1] += a, s[2] += f; break; case 3: f = a * (4 - l), s[1] += f, s[2] += a; break; case 4: f = a * (l - 4), s[2] += a, s[0] += f; break; case 5: f = a * (6 - l), s[2] += f, s[0] += a; break }for (var d = 0; d != 3; ++d)s[d] = Math.round(s[d] * 255); return s } function cg(e, t) { if (t === 0) return e; var r = xye(gye(e)); return t < 0 ? r[2] = r[2] * (1 + t) : r[2] = 1 - (1 - r[2]) * (1 - t), s0(vye(r)) } var aU = 6, yye = 15, bye = 1, qn = aU; function ug(e) { return Math.floor((e + Math.round(128 / qn) / 256) * qn) } function dg(e) { return Math.floor((e - 5) / qn * 100 + .5) / 100 } function E_(e) { return Math.round((e * qn + 5) / qn * 256) / 256 } function L1(e) { return E_(dg(ug(e))) } function fk(e) { var t = Math.abs(e - L1(e)), r = qn; if (t > .005) for (qn = bye; qn < yye; ++qn)Math.abs(e - L1(e)) <= t && (t = Math.abs(e - L1(e)), r = qn); qn = r } function Uu(e) { e.width ? (e.wpx = ug(e.width), e.wch = dg(e.wpx), e.MDW = qn) : e.wpx ? (e.wch = dg(e.wpx), e.width = E_(e.wch), e.MDW = qn) : typeof e.wch == "number" && (e.width = E_(e.wch), e.wpx = ug(e.width), e.MDW = qn), e.customWidth && delete e.customWidth } var wye = 96, iU = wye; function sU(e) { return e * 96 / iU } function o0(e) { return e * iU / 96 } var _ye = { None: "none", Solid: "solid", Gray50: "mediumGray", Gray75: "darkGray", Gray25: "lightGray", HorzStripe: "darkHorizontal", VertStripe: "darkVertical", ReverseDiagStripe: "darkDown", DiagStripe: "darkUp", DiagCross: "darkGrid", ThickDiagCross: "darkTrellis", ThinHorzStripe: "lightHorizontal", ThinVertStripe: "lightVertical", ThinReverseDiagStripe: "lightDown", ThinHorzCross: "lightGrid" }; function Sye(e, t, r, n) { t.Borders = []; var a = {}, i = !1; (e[0].match(Bn) || []).forEach(function (s) { var l = at(s); switch (Ji(l[0])) { case "<borders": case "<borders>": case "</borders>": break; case "<border": case "<border>": case "<border/>": a = {}, l.diagonalUp && (a.diagonalUp = ur(l.diagonalUp)), l.diagonalDown && (a.diagonalDown = ur(l.diagonalDown)), t.Borders.push(a); break; case "</border>": break; case "<left/>": break; case "<left": case "<left>": break; case "</left>": break; case "<right/>": break; case "<right": case "<right>": break; case "</right>": break; case "<top/>": break; case "<top": case "<top>": break; case "</top>": break; case "<bottom/>": break; case "<bottom": case "<bottom>": break; case "</bottom>": break; case "<diagonal": case "<diagonal>": case "<diagonal/>": break; case "</diagonal>": break; case "<horizontal": case "<horizontal>": case "<horizontal/>": break; case "</horizontal>": break; case "<vertical": case "<vertical>": case "<vertical/>": break; case "</vertical>": break; case "<start": case "<start>": case "<start/>": break; case "</start>": break; case "<end": case "<end>": case "<end/>": break; case "</end>": break; case "<color": case "<color>": break; case "<color/>": case "</color>": break; case "<extLst": case "<extLst>": case "</extLst>": break; case "<ext": i = !0; break; case "</ext>": i = !1; break; default: if (n && n.WTF && !i) throw new Error("unrecognized " + l[0] + " in borders") } }) } function Eye(e, t, r, n) { t.Fills = []; var a = {}, i = !1; (e[0].match(Bn) || []).forEach(function (s) { var l = at(s); switch (Ji(l[0])) { case "<fills": case "<fills>": case "</fills>": break; case "<fill>": case "<fill": case "<fill/>": a = {}, t.Fills.push(a); break; case "</fill>": break; case "<gradientFill>": break; case "<gradientFill": case "</gradientFill>": t.Fills.push(a), a = {}; break; case "<patternFill": case "<patternFill>": l.patternType && (a.patternType = l.patternType); break; case "<patternFill/>": case "</patternFill>": break; case "<bgColor": a.bgColor || (a.bgColor = {}), l.indexed && (a.bgColor.indexed = parseInt(l.indexed, 10)), l.theme && (a.bgColor.theme = parseInt(l.theme, 10)), l.tint && (a.bgColor.tint = parseFloat(l.tint)), l.rgb && (a.bgColor.rgb = l.rgb.slice(-6)); break; case "<bgColor/>": case "</bgColor>": break; case "<fgColor": a.fgColor || (a.fgColor = {}), l.theme && (a.fgColor.theme = parseInt(l.theme, 10)), l.tint && (a.fgColor.tint = parseFloat(l.tint)), l.rgb != null && (a.fgColor.rgb = l.rgb.slice(-6)); break; case "<fgColor/>": case "</fgColor>": break; case "<stop": case "<stop/>": break; case "</stop>": break; case "<color": case "<color/>": break; case "</color>": break; case "<extLst": case "<extLst>": case "</extLst>": break; case "<ext": i = !0; break; case "</ext>": i = !1; break; default: if (n && n.WTF && !i) throw new Error("unrecognized " + l[0] + " in fills") } }) } function kye(e, t, r, n) { t.Fonts = []; var a = {}, i = !1; (e[0].match(Bn) || []).forEach(function (s) { var l = at(s); switch (Ji(l[0])) { case "<fonts": case "<fonts>": case "</fonts>": break; case "<font": case "<font>": break; case "</font>": case "<font/>": t.Fonts.push(a), a = {}; break; case "<name": l.val && (a.name = tr(l.val)); break; case "<name/>": case "</name>": break; case "<b": a.bold = l.val ? ur(l.val) : 1; break; case "<b/>": a.bold = 1; break; case "<i": a.italic = l.val ? ur(l.val) : 1; break; case "<i/>": a.italic = 1; break; case "<u": switch (l.val) { case "none": a.underline = 0; break; case "single": a.underline = 1; break; case "double": a.underline = 2; break; case "singleAccounting": a.underline = 33; break; case "doubleAccounting": a.underline = 34; break }break; case "<u/>": a.underline = 1; break; case "<strike": a.strike = l.val ? ur(l.val) : 1; break; case "<strike/>": a.strike = 1; break; case "<outline": a.outline = l.val ? ur(l.val) : 1; break; case "<outline/>": a.outline = 1; break; case "<shadow": a.shadow = l.val ? ur(l.val) : 1; break; case "<shadow/>": a.shadow = 1; break; case "<condense": a.condense = l.val ? ur(l.val) : 1; break; case "<condense/>": a.condense = 1; break; case "<extend": a.extend = l.val ? ur(l.val) : 1; break; case "<extend/>": a.extend = 1; break; case "<sz": l.val && (a.sz = +l.val); break; case "<sz/>": case "</sz>": break; case "<vertAlign": l.val && (a.vertAlign = l.val); break; case "<vertAlign/>": case "</vertAlign>": break; case "<family": l.val && (a.family = parseInt(l.val, 10)); break; case "<family/>": case "</family>": break; case "<scheme": l.val && (a.scheme = l.val); break; case "<scheme/>": case "</scheme>": break; case "<charset": if (l.val == "1") break; l.codepage = KE[parseInt(l.val, 10)]; break; case "<color": if (a.color || (a.color = {}), l.auto && (a.color.auto = ur(l.auto)), l.rgb) a.color.rgb = l.rgb.slice(-6); else if (l.indexed) { a.color.index = parseInt(l.indexed, 10); var f = Gl[a.color.index]; a.color.index == 81 && (f = Gl[1]), f || (f = Gl[1]), a.color.rgb = f[0].toString(16) + f[1].toString(16) + f[2].toString(16) } else l.theme && (a.color.theme = parseInt(l.theme, 10), l.tint && (a.color.tint = parseFloat(l.tint)), l.theme && r.themeElements && r.themeElements.clrScheme && (a.color.rgb = cg(r.themeElements.clrScheme[a.color.theme].rgb, a.color.tint || 0))); break; case "<color/>": case "</color>": break; case "<AlternateContent": i = !0; break; case "</AlternateContent>": i = !1; break; case "<extLst": case "<extLst>": case "</extLst>": break; case "<ext": i = !0; break; case "</ext>": i = !1; break; default: if (n && n.WTF && !i) throw new Error("unrecognized " + l[0] + " in fonts") } }) } function Tye(e, t, r) { t.NumberFmt = []; for (var n = Ki(ft), a = 0; a < n.length; ++a)t.NumberFmt[n[a]] = ft[n[a]]; var i = e[0].match(Bn); if (i) for (a = 0; a < i.length; ++a) { var s = at(i[a]); switch (Ji(s[0])) { case "<numFmts": case "</numFmts>": case "<numFmts/>": case "<numFmts>": break; case "<numFmt": { var l = Nt(tr(s.formatCode)), f = parseInt(s.numFmtId, 10); if (t.NumberFmt[f] = l, f > 0) { if (f > 392) { for (f = 392; f > 60 && t.NumberFmt[f] != null; --f); t.NumberFmt[f] = l } Hl(l, f) } } break; case "</numFmt>": break; default: if (r.WTF) throw new Error("unrecognized " + s[0] + " in numFmts") } } } var Ip = ["numFmtId", "fillId", "fontId", "borderId", "xfId"], Op = ["applyAlignment", "applyBorder", "applyFill", "applyFont", "applyNumberFormat", "applyProtection", "pivotButton", "quotePrefix"]; function Nye(e, t, r) { t.CellXf = []; var n, a = !1; (e[0].match(Bn) || []).forEach(function (i) { var s = at(i), l = 0; switch (Ji(s[0])) { case "<cellXfs": case "<cellXfs>": case "<cellXfs/>": case "</cellXfs>": break; case "<xf": case "<xf/>": for (n = s, delete n[0], l = 0; l < Ip.length; ++l)n[Ip[l]] && (n[Ip[l]] = parseInt(n[Ip[l]], 10)); for (l = 0; l < Op.length; ++l)n[Op[l]] && (n[Op[l]] = ur(n[Op[l]])); if (t.NumberFmt && n.numFmtId > 392) { for (l = 392; l > 60; --l)if (t.NumberFmt[n.numFmtId] == t.NumberFmt[l]) { n.numFmtId = l; break } } t.CellXf.push(n); break; case "</xf>": break; case "<alignment": case "<alignment/>": var f = {}; s.vertical && (f.vertical = s.vertical), s.horizontal && (f.horizontal = s.horizontal), s.textRotation != null && (f.textRotation = s.textRotation), s.indent && (f.indent = s.indent), s.wrapText && (f.wrapText = ur(s.wrapText)), n.alignment = f; break; case "</alignment>": break; case "<protection": break; case "</protection>": case "<protection/>": break; case "<AlternateContent": a = !0; break; case "</AlternateContent>": a = !1; break; case "<extLst": case "<extLst>": case "</extLst>": break; case "<ext": a = !0; break; case "</ext>": a = !1; break; default: if (r && r.WTF && !a) throw new Error("unrecognized " + s[0] + " in cellXfs") } }) } var Aye = (function () { var t = /<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/, r = /<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/, n = /<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/, a = /<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/, i = /<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/; return function (l, f, d) { var h = {}; if (!l) return h; l = l.replace(/<!--([\s\S]*?)-->/mg, "").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm, ""); var m; return (m = l.match(t)) && Tye(m, h, d), (m = l.match(a)) && kye(m, h, f, d), (m = l.match(n)) && Eye(m, h, f, d), (m = l.match(i)) && Sye(m, h, f, d), (m = l.match(r)) && Nye(m, h, d), h } })(); function Cye(e, t) { var r = e.read_shift(2), n = Ln(e); return [r, n] } function jye(e, t, r) { var n = {}; n.sz = e.read_shift(2) / 20; var a = Bge(e); a.fItalic && (n.italic = 1), a.fCondense && (n.condense = 1), a.fExtend && (n.extend = 1), a.fShadow && (n.shadow = 1), a.fOutline && (n.outline = 1), a.fStrikeout && (n.strike = 1); var i = e.read_shift(2); switch (i === 700 && (n.bold = 1), e.read_shift(2)) { case 1: n.vertAlign = "superscript"; break; case 2: n.vertAlign = "subscript"; break }var s = e.read_shift(1); s != 0 && (n.underline = s); var l = e.read_shift(1); l > 0 && (n.family = l); var f = e.read_shift(1); switch (f > 0 && (n.charset = f), e.l++, n.color = Uge(e), e.read_shift(1)) { case 1: n.scheme = "major"; break; case 2: n.scheme = "minor"; break }return n.name = Ln(e), n } var Iye = Un; function Oye(e, t) { var r = e.l + t, n = e.read_shift(2), a = e.read_shift(2); return e.l = r, { ixfe: n, numFmtId: a } } var Rye = Un; function Pye(e, t, r) { var n = {}; n.NumberFmt = []; for (var a in ft) n.NumberFmt[a] = ft[a]; n.CellXf = [], n.Fonts = []; var i = [], s = !1; return Ws(e, function (f, d, h) { switch (h) { case 44: n.NumberFmt[f[0]] = f[1], Hl(f[1], f[0]); break; case 43: n.Fonts.push(f), f.color.theme != null && t && t.themeElements && t.themeElements.clrScheme && (f.color.rgb = cg(t.themeElements.clrScheme[f.color.theme].rgb, f.color.tint || 0)); break; case 1025: break; case 45: break; case 46: break; case 47: i[i.length - 1] == 617 && n.CellXf.push(f); break; case 48: case 507: case 572: case 475: break; case 1171: case 2102: case 1130: case 512: case 2095: case 3072: break; case 35: s = !0; break; case 36: s = !1; break; case 37: i.push(h), s = !0; break; case 38: i.pop(), s = !1; break; default: if (d.T > 0) i.push(h); else if (d.T < 0) i.pop(); else if (!s || r.WTF && i[i.length - 1] != 37) throw new Error("Unexpected record 0x" + h.toString(16)) } }), n } var Dye = ["</a:lt1>", "</a:dk1>", "</a:lt2>", "</a:dk2>", "</a:accent1>", "</a:accent2>", "</a:accent3>", "</a:accent4>", "</a:accent5>", "</a:accent6>", "</a:hlink>", "</a:folHlink>"]; function Mye(e, t, r) { t.themeElements.clrScheme = []; var n = {}; (e[0].match(Bn) || []).forEach(function (a) { var i = at(a); switch (i[0]) { case "<a:clrScheme": case "</a:clrScheme>": break; case "<a:srgbClr": n.rgb = i.val; break; case "<a:sysClr": n.rgb = i.lastClr; break; case "<a:dk1>": case "</a:dk1>": case "<a:lt1>": case "</a:lt1>": case "<a:dk2>": case "</a:dk2>": case "<a:lt2>": case "</a:lt2>": case "<a:accent1>": case "</a:accent1>": case "<a:accent2>": case "</a:accent2>": case "<a:accent3>": case "</a:accent3>": case "<a:accent4>": case "</a:accent4>": case "<a:accent5>": case "</a:accent5>": case "<a:accent6>": case "</a:accent6>": case "<a:hlink>": case "</a:hlink>": case "<a:folHlink>": case "</a:folHlink>": i[0].charAt(1) === "/" ? (t.themeElements.clrScheme[Dye.indexOf(i[0])] = n, n = {}) : n.name = i[0].slice(3, i[0].length - 1); break; default: if (r && r.WTF) throw new Error("Unrecognized " + i[0] + " in clrScheme") } }) } function Lye() { } function Fye() { } var Uye = /<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/, Bye = /<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/, $ye = /<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/; function zye(e, t, r) { t.themeElements = {}; var n;[["clrScheme", Uye, Mye], ["fontScheme", Bye, Lye], ["fmtScheme", $ye, Fye]].forEach(function (a) { if (!(n = e.match(a[1]))) throw new Error(a[0] + " not found in themeElements"); a[2](n, t, r) }) } var Hye = /<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/; function oU(e, t) { (!e || e.length === 0) && (e = Gye()); var r, n = {}; if (!(r = e.match(Hye))) throw new Error("themeElements not found in theme"); return zye(r[0], n, t), n.raw = e, n } function Gye(e, t) { var r = [vF]; return r[r.length] = '<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">', r[r.length] = "<a:themeElements>", r[r.length] = '<a:clrScheme name="Office">', r[r.length] = '<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>', r[r.length] = '<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>', r[r.length] = '<a:dk2><a:srgbClr val="1F497D"/></a:dk2>', r[r.length] = '<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>', r[r.length] = '<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>', r[r.length] = '<a:accent2><a:srgbClr val="C0504D"/></a:accent2>', r[r.length] = '<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>', r[r.length] = '<a:accent4><a:srgbClr val="8064A2"/></a:accent4>', r[r.length] = '<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>', r[r.length] = '<a:accent6><a:srgbClr val="F79646"/></a:accent6>', r[r.length] = '<a:hlink><a:srgbClr val="0000FF"/></a:hlink>', r[r.length] = '<a:folHlink><a:srgbClr val="800080"/></a:folHlink>', r[r.length] = "</a:clrScheme>", r[r.length] = '<a:fontScheme name="Office">', r[r.length] = "<a:majorFont>", r[r.length] = '<a:latin typeface="Cambria"/>', r[r.length] = '<a:ea typeface=""/>', r[r.length] = '<a:cs typeface=""/>', r[r.length] = '<a:font script="Jpan" typeface=" "/>', r[r.length] = '<a:font script="Hang" typeface=" "/>', r[r.length] = '<a:font script="Hans" typeface=""/>', r[r.length] = '<a:font script="Hant" typeface=""/>', r[r.length] = '<a:font script="Arab" typeface="Times New Roman"/>', r[r.length] = '<a:font script="Hebr" typeface="Times New Roman"/>', r[r.length] = '<a:font script="Thai" typeface="Tahoma"/>', r[r.length] = '<a:font script="Ethi" typeface="Nyala"/>', r[r.length] = '<a:font script="Beng" typeface="Vrinda"/>', r[r.length] = '<a:font script="Gujr" typeface="Shruti"/>', r[r.length] = '<a:font script="Khmr" typeface="MoolBoran"/>', r[r.length] = '<a:font script="Knda" typeface="Tunga"/>', r[r.length] = '<a:font script="Guru" typeface="Raavi"/>', r[r.length] = '<a:font script="Cans" typeface="Euphemia"/>', r[r.length] = '<a:font script="Cher" typeface="Plantagenet Cherokee"/>', r[r.length] = '<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>', r[r.length] = '<a:font script="Tibt" typeface="Microsoft Himalaya"/>', r[r.length] = '<a:font script="Thaa" typeface="MV Boli"/>', r[r.length] = '<a:font script="Deva" typeface="Mangal"/>', r[r.length] = '<a:font script="Telu" typeface="Gautami"/>', r[r.length] = '<a:font script="Taml" typeface="Latha"/>', r[r.length] = '<a:font script="Syrc" typeface="Estrangelo Edessa"/>', r[r.length] = '<a:font script="Orya" typeface="Kalinga"/>', r[r.length] = '<a:font script="Mlym" typeface="Kartika"/>', r[r.length] = '<a:font script="Laoo" typeface="DokChampa"/>', r[r.length] = '<a:font script="Sinh" typeface="Iskoola Pota"/>', r[r.length] = '<a:font script="Mong" typeface="Mongolian Baiti"/>', r[r.length] = '<a:font script="Viet" typeface="Times New Roman"/>', r[r.length] = '<a:font script="Uigh" typeface="Microsoft Uighur"/>', r[r.length] = '<a:font script="Geor" typeface="Sylfaen"/>', r[r.length] = "</a:majorFont>", r[r.length] = "<a:minorFont>", r[r.length] = '<a:latin typeface="Calibri"/>', r[r.length] = '<a:ea typeface=""/>', r[r.length] = '<a:cs typeface=""/>', r[r.length] = '<a:font script="Jpan" typeface=" "/>', r[r.length] = '<a:font script="Hang" typeface=" "/>', r[r.length] = '<a:font script="Hans" typeface=""/>', r[r.length] = '<a:font script="Hant" typeface=""/>', r[r.length] = '<a:font script="Arab" typeface="Arial"/>', r[r.length] = '<a:font script="Hebr" typeface="Arial"/>', r[r.length] = '<a:font script="Thai" typeface="Tahoma"/>', r[r.length] = '<a:font script="Ethi" typeface="Nyala"/>', r[r.length] = '<a:font script="Beng" typeface="Vrinda"/>', r[r.length] = '<a:font script="Gujr" typeface="Shruti"/>', r[r.length] = '<a:font script="Khmr" typeface="DaunPenh"/>', r[r.length] = '<a:font script="Knda" typeface="Tunga"/>', r[r.length] = '<a:font script="Guru" typeface="Raavi"/>', r[r.length] = '<a:font script="Cans" typeface="Euphemia"/>', r[r.length] = '<a:font script="Cher" typeface="Plantagenet Cherokee"/>', r[r.length] = '<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>', r[r.length] = '<a:font script="Tibt" typeface="Microsoft Himalaya"/>', r[r.length] = '<a:font script="Thaa" typeface="MV Boli"/>', r[r.length] = '<a:font script="Deva" typeface="Mangal"/>', r[r.length] = '<a:font script="Telu" typeface="Gautami"/>', r[r.length] = '<a:font script="Taml" typeface="Latha"/>', r[r.length] = '<a:font script="Syrc" typeface="Estrangelo Edessa"/>', r[r.length] = '<a:font script="Orya" typeface="Kalinga"/>', r[r.length] = '<a:font script="Mlym" typeface="Kartika"/>', r[r.length] = '<a:font script="Laoo" typeface="DokChampa"/>', r[r.length] = '<a:font script="Sinh" typeface="Iskoola Pota"/>', r[r.length] = '<a:font script="Mong" typeface="Mongolian Baiti"/>', r[r.length] = '<a:font script="Viet" typeface="Arial"/>', r[r.length] = '<a:font script="Uigh" typeface="Microsoft Uighur"/>', r[r.length] = '<a:font script="Geor" typeface="Sylfaen"/>', r[r.length] = "</a:minorFont>", r[r.length] = "</a:fontScheme>", r[r.length] = '<a:fmtScheme name="Office">', r[r.length] = "<a:fillStyleLst>", r[r.length] = '<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>', r[r.length] = '<a:gradFill rotWithShape="1">', r[r.length] = "<a:gsLst>", r[r.length] = '<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>', r[r.length] = '<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>', r[r.length] = '<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>', r[r.length] = "</a:gsLst>", r[r.length] = '<a:lin ang="16200000" scaled="1"/>', r[r.length] = "</a:gradFill>", r[r.length] = '<a:gradFill rotWithShape="1">', r[r.length] = "<a:gsLst>", r[r.length] = '<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>', r[r.length] = '<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>', r[r.length] = "</a:gsLst>", r[r.length] = '<a:lin ang="16200000" scaled="0"/>', r[r.length] = "</a:gradFill>", r[r.length] = "</a:fillStyleLst>", r[r.length] = "<a:lnStyleLst>", r[r.length] = '<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>', r[r.length] = '<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>', r[r.length] = '<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>', r[r.length] = "</a:lnStyleLst>", r[r.length] = "<a:effectStyleLst>", r[r.length] = "<a:effectStyle>", r[r.length] = "<a:effectLst>", r[r.length] = '<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>', r[r.length] = "</a:effectLst>", r[r.length] = "</a:effectStyle>", r[r.length] = "<a:effectStyle>", r[r.length] = "<a:effectLst>", r[r.length] = '<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>', r[r.length] = "</a:effectLst>", r[r.length] = "</a:effectStyle>", r[r.length] = "<a:effectStyle>", r[r.length] = "<a:effectLst>", r[r.length] = '<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>', r[r.length] = "</a:effectLst>", r[r.length] = '<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>', r[r.length] = '<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>', r[r.length] = "</a:effectStyle>", r[r.length] = "</a:effectStyleLst>", r[r.length] = "<a:bgFillStyleLst>", r[r.length] = '<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>', r[r.length] = '<a:gradFill rotWithShape="1">', r[r.length] = "<a:gsLst>", r[r.length] = '<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>', r[r.length] = '<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>', r[r.length] = '<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>', r[r.length] = "</a:gsLst>", r[r.length] = '<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>', r[r.length] = "</a:gradFill>", r[r.length] = '<a:gradFill rotWithShape="1">', r[r.length] = "<a:gsLst>", r[r.length] = '<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>', r[r.length] = '<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>', r[r.length] = "</a:gsLst>", r[r.length] = '<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>', r[r.length] = "</a:gradFill>", r[r.length] = "</a:bgFillStyleLst>", r[r.length] = "</a:fmtScheme>", r[r.length] = "</a:themeElements>", r[r.length] = "<a:objectDefaults>", r[r.length] = "<a:spDef>", r[r.length] = '<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>', r[r.length] = "</a:spDef>", r[r.length] = "<a:lnDef>", r[r.length] = '<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>', r[r.length] = "</a:lnDef>", r[r.length] = "</a:objectDefaults>", r[r.length] = "<a:extraClrSchemeLst/>", r[r.length] = "</a:theme>", r.join("") } function Vye(e, t, r) { var n = e.l + t, a = e.read_shift(4); if (a !== 124226) { if (!r.cellStyles) { e.l = n; return } var i = e.slice(e.l); e.l = n; var s; try { s = xF(i, { type: "array" }) } catch { return } var l = Sa(s, "theme/theme/theme1.xml", !0); if (l) return oU(l, r) } } function qye(e) { return e.read_shift(4) } function Wye(e) { var t = {}; switch (t.xclrType = e.read_shift(2), t.nTintShade = e.read_shift(2), t.xclrType) { case 0: e.l += 4; break; case 1: t.xclrValue = Kye(e, 4); break; case 2: t.xclrValue = WF(e); break; case 3: t.xclrValue = qye(e); break; case 4: e.l += 4; break }return e.l += 8, t } function Kye(e, t) { return Un(e, t) } function Yye(e, t) { return Un(e, t) } function Xye(e) { var t = e.read_shift(2), r = e.read_shift(2) - 4, n = [t]; switch (t) { case 4: case 5: case 7: case 8: case 9: case 10: case 11: case 13: n[1] = Wye(e); break; case 6: n[1] = Yye(e, r); break; case 14: case 15: n[1] = e.read_shift(r === 1 ? 1 : 2); break; default: throw new Error("Unrecognized ExtProp type: " + t + " " + r) }return n } function Jye(e, t) { var r = e.l + t; e.l += 2; var n = e.read_shift(2); e.l += 2; for (var a = e.read_shift(2), i = []; a-- > 0;)i.push(Xye(e, r - e.l)); return { ixfe: n, ext: i } } function Zye(e, t) { t.forEach(function (r) { r[0] }) } function Qye(e, t) { return { flags: e.read_shift(4), version: e.read_shift(4), name: Ln(e) } } function ebe(e) { for (var t = [], r = e.read_shift(4); r-- > 0;)t.push([e.read_shift(4), e.read_shift(4)]); return t } function tbe(e) { return e.l += 4, e.read_shift(4) != 0 } function rbe(e, t, r) { var n = { Types: [], Cell: [], Value: [] }, a = r || {}, i = [], s = !1, l = 2; return Ws(e, function (f, d, h) { switch (h) { case 335: n.Types.push({ name: f.name }); break; case 51: f.forEach(function (m) { l == 1 ? n.Cell.push({ type: n.Types[m[0] - 1].name, index: m[1] }) : l == 0 && n.Value.push({ type: n.Types[m[0] - 1].name, index: m[1] }) }); break; case 337: l = f ? 1 : 0; break; case 338: l = 2; break; case 35: i.push(h), s = !0; break; case 36: i.pop(), s = !1; break; default: if (!d.T) { if (!s || a.WTF && i[i.length - 1] != 35) throw new Error("Unexpected record 0x" + h.toString(16)) } } }), n } function nbe(e, t, r) { var n = { Types: [], Cell: [], Value: [] }; if (!e) return n; var a = !1, i = 2, s; return e.replace(Bn, function (l) { var f = at(l); switch (Ji(f[0])) { case "<?xml": break; case "<metadata": case "</metadata>": break; case "<metadataTypes": case "</metadataTypes>": break; case "<metadataType": n.Types.push({ name: f.name }); break; case "</metadataType>": break; case "<futureMetadata": for (var d = 0; d < n.Types.length; ++d)n.Types[d].name == f.name && (s = n.Types[d]); break; case "</futureMetadata>": break; case "<bk>": break; case "</bk>": break; case "<rc": i == 1 ? n.Cell.push({ type: n.Types[f.t - 1].name, index: +f.v }) : i == 0 && n.Value.push({ type: n.Types[f.t - 1].name, index: +f.v }); break; case "</rc>": break; case "<cellMetadata": i = 1; break; case "</cellMetadata>": i = 2; break; case "<valueMetadata": i = 0; break; case "</valueMetadata>": i = 2; break; case "<extLst": case "<extLst>": case "</extLst>": case "<extLst/>": break; case "<ext": a = !0; break; case "</ext>": a = !1; break; case "<rvb": if (!s) break; s.offsets || (s.offsets = []), s.offsets.push(+f.i); break; default: if (!a && r.WTF) throw new Error("unrecognized " + f[0] + " in metadata") }return l }), n } function abe(e) { var t = []; if (!e) return t; var r = 1; return (e.match(Bn) || []).forEach(function (n) { var a = at(n); switch (a[0]) { case "<?xml": break; case "<calcChain": case "<calcChain>": case "</calcChain>": break; case "<c": delete a[0], a.i ? r = a.i : a.i = r, t.push(a); break } }), t } function ibe(e) { var t = {}; t.i = e.read_shift(4); var r = {}; r.r = e.read_shift(4), r.c = e.read_shift(4), t.r = lt(r); var n = e.read_shift(1); return n & 2 && (t.l = "1"), n & 8 && (t.a = "1"), t } function sbe(e, t, r) { var n = []; return Ws(e, function (i, s, l) { switch (l) { case 63: n.push(i); break; default: if (!s.T) throw new Error("Unexpected record 0x" + l.toString(16)) } }), n } function obe(e, t, r, n) { if (!e) return e; var a = n || {}, i = !1; Ws(e, function (l, f, d) { switch (d) { case 359: case 363: case 364: case 366: case 367: case 368: case 369: case 370: case 371: case 472: case 577: case 578: case 579: case 580: case 581: case 582: case 583: case 584: case 585: case 586: case 587: break; case 35: i = !0; break; case 36: i = !1; break; default: if (!f.T) { if (!i || a.WTF) throw new Error("Unexpected record 0x" + d.toString(16)) } } }, a) } function lbe(e, t) { if (!e) return "??"; var r = (e.match(/<c:chart [^>]*r:id="([^"]*)"/) || ["", ""])[1]; return t["!id"][r].Target } function l4(e, t, r, n) { var a = Array.isArray(e), i; t.forEach(function (s) { var l = Kn(s.ref); if (a ? (e[l.r] || (e[l.r] = []), i = e[l.r][l.c]) : i = e[s.ref], !i) { i = { t: "z" }, a ? e[l.r][l.c] = i : e[s.ref] = i; var f = Er(e["!ref"] || "BDWGO1000001:A1"); f.s.r > l.r && (f.s.r = l.r), f.e.r < l.r && (f.e.r = l.r), f.s.c > l.c && (f.s.c = l.c), f.e.c < l.c && (f.e.c = l.c); var d = Tt(f); d !== e["!ref"] && (e["!ref"] = d) } i.c || (i.c = []); var h = { a: s.author, t: s.t, r: s.r, T: r }; s.h && (h.h = s.h); for (var m = i.c.length - 1; m >= 0; --m) { if (!r && i.c[m].T) return; r && !i.c[m].T && i.c.splice(m, 1) } if (r && n) { for (m = 0; m < n.length; ++m)if (h.a == n[m].id) { h.a = n[m].name || h.a; break } } i.c.push(h) }) } function cbe(e, t) {
  if (e.match(/<(?:\w+:)?comments *\/>/)) return []; var r = [], n = [], a = e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/); a && a[1] && a[1].split(/<\/\w*:?author>/).forEach(function (s) { if (!(s === "" || s.trim() === "")) { var l = s.match(/<(?:\w+:)?author[^>]*>(.*)/); l && r.push(l[1]) } }); var i = e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/); return i && i[1] && i[1].split(/<\/\w*:?comment>/).forEach(function (s) {
    if (!(s === "" || s.trim() === "")) {
      var l = s.match(/<(?:\w+:)?comment[^>]*>/); if (l) {
        var f = at(l[0]), d = { author: f.authorId && r[f.authorId] || "sheetjsghost", ref: f.ref, guid: f.guid }, h = Kn(f.ref); if (!(t.sheetRows && t.sheetRows <= h.r)) {
          var m = s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/), g = !!m && !!m[1] && dk(m[1]) || { r: "", t: "", h: "" }; d.r = g.r, g.r == "<t></t>" && (g.t = g.h = ""), d.t = (g.t || "").replace(/\r\n/g, `
`).replace(/\r/g, `
`), t.cellHTML && (d.h = g.h), n.push(d)
        }
      }
    }
  }), n
} function ube(e, t) {
  var r = [], n = !1, a = {}, i = 0; return e.replace(Bn, function (l, f) {
    var d = at(l); switch (Ji(d[0])) {
      case "<?xml": break; case "<ThreadedComments": break; case "</ThreadedComments>": break; case "<threadedComment": a = { author: d.personId, guid: d.id, ref: d.ref, T: 1 }; break; case "</threadedComment>": a.t != null && r.push(a); break; case "<text>": case "<text": i = f + l.length; break; case "</text>": a.t = e.slice(i, f).replace(/\r\n/g, `
`).replace(/\r/g, `
`); break; case "<mentions": case "<mentions>": n = !0; break; case "</mentions>": n = !1; break; case "<extLst": case "<extLst>": case "</extLst>": case "<extLst/>": break; case "<ext": n = !0; break; case "</ext>": n = !1; break; default: if (!n && t.WTF) throw new Error("unrecognized " + d[0] + " in threaded comments")
    }return l
  }), r
} function dbe(e, t) { var r = [], n = !1; return e.replace(Bn, function (i) { var s = at(i); switch (Ji(s[0])) { case "<?xml": break; case "<personList": break; case "</personList>": break; case "<person": r.push({ name: s.displayname, id: s.id }); break; case "</person>": break; case "<extLst": case "<extLst>": case "</extLst>": case "<extLst/>": break; case "<ext": n = !0; break; case "</ext>": n = !1; break; default: if (!n && t.WTF) throw new Error("unrecognized " + s[0] + " in threaded comments") }return i }), r } function fbe(e) { var t = {}; t.iauthor = e.read_shift(4); var r = uc(e); return t.rfx = r.s, t.ref = lt(r.s), e.l += 16, t } var hbe = Ln; function pbe(e, t) { var r = [], n = [], a = {}, i = !1; return Ws(e, function (l, f, d) { switch (d) { case 632: n.push(l); break; case 635: a = l; break; case 637: a.t = l.t, a.h = l.h, a.r = l.r; break; case 636: if (a.author = n[a.iauthor], delete a.iauthor, t.sheetRows && a.rfx && t.sheetRows <= a.rfx.r) break; a.t || (a.t = ""), delete a.rfx, r.push(a); break; case 3072: break; case 35: i = !0; break; case 36: i = !1; break; case 37: break; case 38: break; default: if (!f.T) { if (!i || t.WTF) throw new Error("Unexpected record 0x" + d.toString(16)) } } }), r } var mbe = "application/vnd.ms-office.vbaProject"; function gbe(e) { var t = kt.utils.cfb_new({ root: "R" }); return e.FullPaths.forEach(function (r, n) { if (!(r.slice(-1) === "/" || !r.match(/_VBA_PROJECT_CUR/))) { var a = r.replace(/^[^\/]*/, "R").replace(/\/_VBA_PROJECT_CUR\u0000*/, ""); kt.utils.cfb_add(t, a, e.FileIndex[n].content) } }), kt.write(t) } function xbe() { return { "!type": "dialog" } } function vbe() { return { "!type": "dialog" } } function ybe() { return { "!type": "macro" } } function bbe() { return { "!type": "macro" } } var Cu = (function () { var e = /(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g, t = { r: 0, c: 0 }; function r(n, a, i, s) { var l = !1, f = !1; i.length == 0 ? f = !0 : i.charAt(0) == "[" && (f = !0, i = i.slice(1, -1)), s.length == 0 ? l = !0 : s.charAt(0) == "[" && (l = !0, s = s.slice(1, -1)); var d = i.length > 0 ? parseInt(i, 10) | 0 : 0, h = s.length > 0 ? parseInt(s, 10) | 0 : 0; return l ? h += t.c : --h, f ? d += t.r : --d, a + (l ? "" : "$") + Vr(h) + (f ? "" : "$") + En(d) } return function (a, i) { return t = i, a.replace(e, r) } })(), lU = /(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g, wbe = (function () { return function (t, r) { return t.replace(lU, function (n, a, i, s, l, f) { var d = ik(s) - (i ? 0 : r.c), h = ak(f) - (l ? 0 : r.r), m = h == 0 ? "" : l ? h + 1 : "[" + h + "]", g = d == 0 ? "" : i ? d + 1 : "[" + d + "]"; return a + "R" + m + "C" + g }) } })(); function cU(e, t) { return e.replace(lU, function (r, n, a, i, s, l) { return n + (a == "$" ? a + i : Vr(ik(i) + t.c)) + (s == "$" ? s + l : En(ak(l) + t.r)) }) } function _be(e, t, r) { var n = nd(t), a = n.s, i = Kn(r), s = { r: i.r - a.r, c: i.c - a.c }; return cU(e, s) } function Sbe(e) { return e.length != 1 } function c4(e) { return e.replace(/_xlfn\./g, "") } function Dr(e) { e.l += 1 } function zo(e, t) { var r = e.read_shift(2); return [r & 16383, r >> 14 & 1, r >> 15 & 1] } function uU(e, t, r) { var n = 2; if (r) { if (r.biff >= 2 && r.biff <= 5) return dU(e); r.biff == 12 && (n = 4) } var a = e.read_shift(n), i = e.read_shift(n), s = zo(e), l = zo(e); return { s: { r: a, c: s[0], cRel: s[1], rRel: s[2] }, e: { r: i, c: l[0], cRel: l[1], rRel: l[2] } } } function dU(e) { var t = zo(e), r = zo(e), n = e.read_shift(1), a = e.read_shift(1); return { s: { r: t[0], c: n, cRel: t[1], rRel: t[2] }, e: { r: r[0], c: a, cRel: r[1], rRel: r[2] } } } function Ebe(e, t, r) { if (r.biff < 8) return dU(e); var n = e.read_shift(r.biff == 12 ? 4 : 2), a = e.read_shift(r.biff == 12 ? 4 : 2), i = zo(e), s = zo(e); return { s: { r: n, c: i[0], cRel: i[1], rRel: i[2] }, e: { r: a, c: s[0], cRel: s[1], rRel: s[2] } } } function fU(e, t, r) { if (r && r.biff >= 2 && r.biff <= 5) return kbe(e); var n = e.read_shift(r && r.biff == 12 ? 4 : 2), a = zo(e); return { r: n, c: a[0], cRel: a[1], rRel: a[2] } } function kbe(e) { var t = zo(e), r = e.read_shift(1); return { r: t[0], c: r, cRel: t[1], rRel: t[2] } } function Tbe(e) { var t = e.read_shift(2), r = e.read_shift(2); return { r: t, c: r & 255, fQuoted: !!(r & 16384), cRel: r >> 15, rRel: r >> 15 } } function Nbe(e, t, r) { var n = r && r.biff ? r.biff : 8; if (n >= 2 && n <= 5) return Abe(e); var a = e.read_shift(n >= 12 ? 4 : 2), i = e.read_shift(2), s = (i & 16384) >> 14, l = (i & 32768) >> 15; if (i &= 16383, l == 1) for (; a > 524287;)a -= 1048576; if (s == 1) for (; i > 8191;)i = i - 16384; return { r: a, c: i, cRel: s, rRel: l } } function Abe(e) { var t = e.read_shift(2), r = e.read_shift(1), n = (t & 32768) >> 15, a = (t & 16384) >> 14; return t &= 16383, n == 1 && t >= 8192 && (t = t - 16384), a == 1 && r >= 128 && (r = r - 256), { r: t, c: r, cRel: a, rRel: n } } function Cbe(e, t, r) { var n = (e[e.l++] & 96) >> 5, a = uU(e, r.biff >= 2 && r.biff <= 5 ? 6 : 8, r); return [n, a] } function jbe(e, t, r) { var n = (e[e.l++] & 96) >> 5, a = e.read_shift(2, "i"), i = 8; if (r) switch (r.biff) { case 5: e.l += 12, i = 6; break; case 12: i = 12; break }var s = uU(e, i, r); return [n, a, s] } function Ibe(e, t, r) { var n = (e[e.l++] & 96) >> 5; return e.l += r && r.biff > 8 ? 12 : r.biff < 8 ? 6 : 8, [n] } function Obe(e, t, r) { var n = (e[e.l++] & 96) >> 5, a = e.read_shift(2), i = 8; if (r) switch (r.biff) { case 5: e.l += 12, i = 6; break; case 12: i = 12; break }return e.l += i, [n, a] } function Rbe(e, t, r) { var n = (e[e.l++] & 96) >> 5, a = Ebe(e, t - 1, r); return [n, a] } function Pbe(e, t, r) { var n = (e[e.l++] & 96) >> 5; return e.l += r.biff == 2 ? 6 : r.biff == 12 ? 14 : 7, [n] } function u4(e) { var t = e[e.l + 1] & 1, r = 1; return e.l += 4, [t, r] } function Dbe(e, t, r) { e.l += 2; for (var n = e.read_shift(r && r.biff == 2 ? 1 : 2), a = [], i = 0; i <= n; ++i)a.push(e.read_shift(r && r.biff == 2 ? 1 : 2)); return a } function Mbe(e, t, r) { var n = e[e.l + 1] & 255 ? 1 : 0; return e.l += 2, [n, e.read_shift(r && r.biff == 2 ? 1 : 2)] } function Lbe(e, t, r) { var n = e[e.l + 1] & 255 ? 1 : 0; return e.l += 2, [n, e.read_shift(r && r.biff == 2 ? 1 : 2)] } function Fbe(e) { var t = e[e.l + 1] & 255 ? 1 : 0; return e.l += 2, [t, e.read_shift(2)] } function Ube(e, t, r) { var n = e[e.l + 1] & 255 ? 1 : 0; return e.l += r && r.biff == 2 ? 3 : 4, [n] } function hU(e) { var t = e.read_shift(1), r = e.read_shift(1); return [t, r] } function Bbe(e) { return e.read_shift(2), hU(e) } function $be(e) { return e.read_shift(2), hU(e) } function zbe(e, t, r) { var n = (e[e.l] & 96) >> 5; e.l += 1; var a = fU(e, 0, r); return [n, a] } function Hbe(e, t, r) { var n = (e[e.l] & 96) >> 5; e.l += 1; var a = Nbe(e, 0, r); return [n, a] } function Gbe(e, t, r) { var n = (e[e.l] & 96) >> 5; e.l += 1; var a = e.read_shift(2); r && r.biff == 5 && (e.l += 12); var i = fU(e, 0, r); return [n, a, i] } function Vbe(e, t, r) { var n = (e[e.l] & 96) >> 5; e.l += 1; var a = e.read_shift(r && r.biff <= 3 ? 1 : 2); return [q1e[a], gU[a], n] } function qbe(e, t, r) { var n = e[e.l++], a = e.read_shift(1), i = r && r.biff <= 3 ? [n == 88 ? -1 : 0, e.read_shift(1)] : Wbe(e); return [a, (i[0] === 0 ? gU : V1e)[i[1]]] } function Wbe(e) { return [e[e.l + 1] >> 7, e.read_shift(2) & 32767] } function Kbe(e, t, r) { e.l += r && r.biff == 2 ? 3 : 4 } function Ybe(e, t, r) { if (e.l++, r && r.biff == 12) return [e.read_shift(4, "i"), 0]; var n = e.read_shift(2), a = e.read_shift(r && r.biff == 2 ? 1 : 2); return [n, a] } function Xbe(e) { return e.l++, dc[e.read_shift(1)] } function Jbe(e) { return e.l++, e.read_shift(2) } function Zbe(e) { return e.l++, e.read_shift(1) !== 0 } function Qbe(e) { return e.l++, Rn(e) } function e1e(e, t, r) { return e.l++, P0(e, t - 1, r) } function t1e(e, t) { var r = [e.read_shift(1)]; if (t == 12) switch (r[0]) { case 2: r[0] = 4; break; case 4: r[0] = 16; break; case 0: r[0] = 1; break; case 1: r[0] = 2; break }switch (r[0]) { case 4: r[1] = Cr(e, 1) ? "TRUE" : "FALSE", t != 12 && (e.l += 7); break; case 37: case 16: r[1] = dc[e[e.l]], e.l += t == 12 ? 4 : 8; break; case 0: e.l += 8; break; case 1: r[1] = Rn(e); break; case 2: r[1] = fc(e, 0, { biff: t > 0 && t < 8 ? 2 : t }); break; default: throw new Error("Bad SerAr: " + r[0]) }return r } function r1e(e, t, r) { for (var n = e.read_shift(r.biff == 12 ? 4 : 2), a = [], i = 0; i != n; ++i)a.push((r.biff == 12 ? uc : _x)(e)); return a } function n1e(e, t, r) { var n = 0, a = 0; r.biff == 12 ? (n = e.read_shift(4), a = e.read_shift(4)) : (a = 1 + e.read_shift(1), n = 1 + e.read_shift(2)), r.biff >= 2 && r.biff < 8 && (--n, --a == 0 && (a = 256)); for (var i = 0, s = []; i != n && (s[i] = []); ++i)for (var l = 0; l != a; ++l)s[i][l] = t1e(e, r.biff); return s } function a1e(e, t, r) { var n = e.read_shift(1) >>> 5 & 3, a = !r || r.biff >= 8 ? 4 : 2, i = e.read_shift(a); switch (r.biff) { case 2: e.l += 5; break; case 3: case 4: e.l += 8; break; case 5: e.l += 12; break }return [n, 0, i] } function i1e(e, t, r) { if (r.biff == 5) return s1e(e); var n = e.read_shift(1) >>> 5 & 3, a = e.read_shift(2), i = e.read_shift(4); return [n, a, i] } function s1e(e) { var t = e.read_shift(1) >>> 5 & 3, r = e.read_shift(2, "i"); e.l += 8; var n = e.read_shift(2); return e.l += 12, [t, r, n] } function o1e(e, t, r) { var n = e.read_shift(1) >>> 5 & 3; e.l += r && r.biff == 2 ? 3 : 4; var a = e.read_shift(r && r.biff == 2 ? 1 : 2); return [n, a] } function l1e(e, t, r) { var n = e.read_shift(1) >>> 5 & 3, a = e.read_shift(r && r.biff == 2 ? 1 : 2); return [n, a] } function c1e(e, t, r) { var n = e.read_shift(1) >>> 5 & 3; return e.l += 4, r.biff < 8 && e.l--, r.biff == 12 && (e.l += 2), [n] } function u1e(e, t, r) { var n = (e[e.l++] & 96) >> 5, a = e.read_shift(2), i = 4; if (r) switch (r.biff) { case 5: i = 15; break; case 12: i = 6; break }return e.l += i, [n, a] } var d1e = Un, f1e = Un, h1e = Un; function M0(e, t, r) { return e.l += 2, [Tbe(e)] } function hk(e) { return e.l += 6, [] } var p1e = M0, m1e = hk, g1e = hk, x1e = M0; function pU(e) { return e.l += 2, [Lr(e), e.read_shift(2) & 1] } var v1e = M0, y1e = pU, b1e = hk, w1e = M0, _1e = M0, S1e = ["Data", "All", "Headers", "??", "?Data2", "??", "?DataHeaders", "??", "Totals", "??", "??", "??", "?DataTotals", "??", "??", "??", "?Current"]; function E1e(e) { e.l += 2; var t = e.read_shift(2), r = e.read_shift(2), n = e.read_shift(4), a = e.read_shift(2), i = e.read_shift(2), s = S1e[r >> 2 & 31]; return { ixti: t, coltype: r & 3, rt: s, idx: n, c: a, C: i } } function k1e(e) { return e.l += 2, [e.read_shift(4)] } function T1e(e, t, r) { return e.l += 5, e.l += 2, e.l += r.biff == 2 ? 1 : 4, ["PTGSHEET"] } function N1e(e, t, r) { return e.l += r.biff == 2 ? 4 : 5, ["PTGENDSHEET"] } function A1e(e) { var t = e.read_shift(1) >>> 5 & 3, r = e.read_shift(2); return [t, r] } function C1e(e) { var t = e.read_shift(1) >>> 5 & 3, r = e.read_shift(2); return [t, r] } function j1e(e) { return e.l += 4, [0, 0] } var d4 = { 1: { n: "PtgExp", f: Ybe }, 2: { n: "PtgTbl", f: h1e }, 3: { n: "PtgAdd", f: Dr }, 4: { n: "PtgSub", f: Dr }, 5: { n: "PtgMul", f: Dr }, 6: { n: "PtgDiv", f: Dr }, 7: { n: "PtgPower", f: Dr }, 8: { n: "PtgConcat", f: Dr }, 9: { n: "PtgLt", f: Dr }, 10: { n: "PtgLe", f: Dr }, 11: { n: "PtgEq", f: Dr }, 12: { n: "PtgGe", f: Dr }, 13: { n: "PtgGt", f: Dr }, 14: { n: "PtgNe", f: Dr }, 15: { n: "PtgIsect", f: Dr }, 16: { n: "PtgUnion", f: Dr }, 17: { n: "PtgRange", f: Dr }, 18: { n: "PtgUplus", f: Dr }, 19: { n: "PtgUminus", f: Dr }, 20: { n: "PtgPercent", f: Dr }, 21: { n: "PtgParen", f: Dr }, 22: { n: "PtgMissArg", f: Dr }, 23: { n: "PtgStr", f: e1e }, 26: { n: "PtgSheet", f: T1e }, 27: { n: "PtgEndSheet", f: N1e }, 28: { n: "PtgErr", f: Xbe }, 29: { n: "PtgBool", f: Zbe }, 30: { n: "PtgInt", f: Jbe }, 31: { n: "PtgNum", f: Qbe }, 32: { n: "PtgArray", f: Pbe }, 33: { n: "PtgFunc", f: Vbe }, 34: { n: "PtgFuncVar", f: qbe }, 35: { n: "PtgName", f: a1e }, 36: { n: "PtgRef", f: zbe }, 37: { n: "PtgArea", f: Cbe }, 38: { n: "PtgMemArea", f: o1e }, 39: { n: "PtgMemErr", f: d1e }, 40: { n: "PtgMemNoMem", f: f1e }, 41: { n: "PtgMemFunc", f: l1e }, 42: { n: "PtgRefErr", f: c1e }, 43: { n: "PtgAreaErr", f: Ibe }, 44: { n: "PtgRefN", f: Hbe }, 45: { n: "PtgAreaN", f: Rbe }, 46: { n: "PtgMemAreaN", f: A1e }, 47: { n: "PtgMemNoMemN", f: C1e }, 57: { n: "PtgNameX", f: i1e }, 58: { n: "PtgRef3d", f: Gbe }, 59: { n: "PtgArea3d", f: jbe }, 60: { n: "PtgRefErr3d", f: u1e }, 61: { n: "PtgAreaErr3d", f: Obe }, 255: {} }, I1e = { 64: 32, 96: 32, 65: 33, 97: 33, 66: 34, 98: 34, 67: 35, 99: 35, 68: 36, 100: 36, 69: 37, 101: 37, 70: 38, 102: 38, 71: 39, 103: 39, 72: 40, 104: 40, 73: 41, 105: 41, 74: 42, 106: 42, 75: 43, 107: 43, 76: 44, 108: 44, 77: 45, 109: 45, 78: 46, 110: 46, 79: 47, 111: 47, 88: 34, 120: 34, 89: 57, 121: 57, 90: 58, 122: 58, 91: 59, 123: 59, 92: 60, 124: 60, 93: 61, 125: 61 }, O1e = { 1: { n: "PtgElfLel", f: pU }, 2: { n: "PtgElfRw", f: w1e }, 3: { n: "PtgElfCol", f: p1e }, 6: { n: "PtgElfRwV", f: _1e }, 7: { n: "PtgElfColV", f: x1e }, 10: { n: "PtgElfRadical", f: v1e }, 11: { n: "PtgElfRadicalS", f: b1e }, 13: { n: "PtgElfColS", f: m1e }, 15: { n: "PtgElfColSV", f: g1e }, 16: { n: "PtgElfRadicalLel", f: y1e }, 25: { n: "PtgList", f: E1e }, 29: { n: "PtgSxName", f: k1e }, 255: {} }, R1e = { 0: { n: "PtgAttrNoop", f: j1e }, 1: { n: "PtgAttrSemi", f: Ube }, 2: { n: "PtgAttrIf", f: Lbe }, 4: { n: "PtgAttrChoose", f: Dbe }, 8: { n: "PtgAttrGoto", f: Mbe }, 16: { n: "PtgAttrSum", f: Kbe }, 32: { n: "PtgAttrBaxcel", f: u4 }, 33: { n: "PtgAttrBaxcel", f: u4 }, 64: { n: "PtgAttrSpace", f: Bbe }, 65: { n: "PtgAttrSpaceSemi", f: $be }, 128: { n: "PtgAttrIfError", f: Fbe }, 255: {} }; function L0(e, t, r, n) { if (n.biff < 8) return Un(e, t); for (var a = e.l + t, i = [], s = 0; s !== r.length; ++s)switch (r[s][0]) { case "PtgArray": r[s][1] = n1e(e, 0, n), i.push(r[s][1]); break; case "PtgMemArea": r[s][2] = r1e(e, r[s][1], n), i.push(r[s][2]); break; case "PtgExp": n && n.biff == 12 && (r[s][1][1] = e.read_shift(4), i.push(r[s][1])); break; case "PtgList": case "PtgElfRadicalS": case "PtgElfColS": case "PtgElfColSV": throw "Unsupported " + r[s][0] }return t = a - e.l, t !== 0 && i.push(Un(e, t)), i } function F0(e, t, r) { for (var n = e.l + t, a, i, s = []; n != e.l;)t = n - e.l, i = e[e.l], a = d4[i] || d4[I1e[i]], (i === 24 || i === 25) && (a = (i === 24 ? O1e : R1e)[e[e.l + 1]]), !a || !a.f ? Un(e, t) : s.push([a.n, a.f(e, t, r)]); return s } function P1e(e) { for (var t = [], r = 0; r < e.length; ++r) { for (var n = e[r], a = [], i = 0; i < n.length; ++i) { var s = n[i]; if (s) switch (s[0]) { case 2: a.push('"' + s[1].replace(/"/g, '""') + '"'); break; default: a.push(s[1]) } else a.push("") } t.push(a.join(",")) } return t.join(";") } var D1e = { PtgAdd: "+", PtgConcat: "&", PtgDiv: "/", PtgEq: "=", PtgGe: ">=", PtgGt: ">", PtgLe: "<=", PtgLt: "<", PtgMul: "*", PtgNe: "<>", PtgPower: "^", PtgSub: "-" }; function M1e(e, t) { if (!e && !(t && t.biff <= 5 && t.biff >= 2)) throw new Error("empty sheet name"); return /[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e) ? "'" + e + "'" : e } function mU(e, t, r) { if (!e) return "SH33TJSERR0"; if (r.biff > 8 && (!e.XTI || !e.XTI[t])) return e.SheetNames[t]; if (!e.XTI) return "SH33TJSERR6"; var n = e.XTI[t]; if (r.biff < 8) return t > 1e4 && (t -= 65536), t < 0 && (t = -t), t == 0 ? "" : e.XTI[t - 1]; if (!n) return "SH33TJSERR1"; var a = ""; if (r.biff > 8) switch (e[n[0]][0]) { case 357: return a = n[1] == -1 ? "#REF" : e.SheetNames[n[1]], n[1] == n[2] ? a : a + ":" + e.SheetNames[n[2]]; case 358: return r.SID != null ? e.SheetNames[r.SID] : "SH33TJSSAME" + e[n[0]][0]; case 355: default: return "SH33TJSSRC" + e[n[0]][0] }switch (e[n[0]][0][0]) { case 1025: return a = n[1] == -1 ? "#REF" : e.SheetNames[n[1]] || "SH33TJSERR3", n[1] == n[2] ? a : a + ":" + e.SheetNames[n[2]]; case 14849: return e[n[0]].slice(1).map(function (i) { return i.Name }).join(";;"); default: return e[n[0]][0][3] ? (a = n[1] == -1 ? "#REF" : e[n[0]][0][3][n[1]] || "SH33TJSERR4", n[1] == n[2] ? a : a + ":" + e[n[0]][0][3][n[2]]) : "SH33TJSERR2" } } function f4(e, t, r) { var n = mU(e, t, r); return n == "#REF" ? n : M1e(n, r) } function In(e, t, r, n, a) { var i = a && a.biff || 8, s = { s: { c: 0, r: 0 } }, l = [], f, d, h, m = 0, g = 0, v, y = ""; if (!e[0] || !e[0][0]) return ""; for (var b = -1, _ = "", k = 0, C = e[0].length; k < C; ++k) { var T = e[0][k]; switch (T[0]) { case "PtgUminus": l.push("-" + l.pop()); break; case "PtgUplus": l.push("+" + l.pop()); break; case "PtgPercent": l.push(l.pop() + "%"); break; case "PtgAdd": case "PtgConcat": case "PtgDiv": case "PtgEq": case "PtgGe": case "PtgGt": case "PtgLe": case "PtgLt": case "PtgMul": case "PtgNe": case "PtgPower": case "PtgSub": if (f = l.pop(), d = l.pop(), b >= 0) { switch (e[0][b][1][0]) { case 0: _ = _r(" ", e[0][b][1][1]); break; case 1: _ = _r("\r", e[0][b][1][1]); break; default: if (_ = "", a.WTF) throw new Error("Unexpected PtgAttrSpaceType " + e[0][b][1][0]) }d = d + _, b = -1 } l.push(d + D1e[T[0]] + f); break; case "PtgIsect": f = l.pop(), d = l.pop(), l.push(d + " " + f); break; case "PtgUnion": f = l.pop(), d = l.pop(), l.push(d + "," + f); break; case "PtgRange": f = l.pop(), d = l.pop(), l.push(d + ":" + f); break; case "PtgAttrChoose": break; case "PtgAttrGoto": break; case "PtgAttrIf": break; case "PtgAttrIfError": break; case "PtgRef": h = Ef(T[1][1], s, a), l.push(kf(h, i)); break; case "PtgRefN": h = r ? Ef(T[1][1], r, a) : T[1][1], l.push(kf(h, i)); break; case "PtgRef3d": m = T[1][1], h = Ef(T[1][2], s, a), y = f4(n, m, a), l.push(y + "!" + kf(h, i)); break; case "PtgFunc": case "PtgFuncVar": var j = T[1][0], R = T[1][1]; j || (j = 0), j &= 127; var O = j == 0 ? [] : l.slice(-j); l.length -= j, R === "User" && (R = O.shift()), l.push(R + "(" + O.join(",") + ")"); break; case "PtgBool": l.push(T[1] ? "TRUE" : "FALSE"); break; case "PtgInt": l.push(T[1]); break; case "PtgNum": l.push(String(T[1])); break; case "PtgStr": l.push('"' + T[1].replace(/"/g, '""') + '"'); break; case "PtgErr": l.push(T[1]); break; case "PtgAreaN": v = qD(T[1][1], r ? { s: r } : s, a), l.push(D1(v, a)); break; case "PtgArea": v = qD(T[1][1], s, a), l.push(D1(v, a)); break; case "PtgArea3d": m = T[1][1], v = T[1][2], y = f4(n, m, a), l.push(y + "!" + D1(v, a)); break; case "PtgAttrSum": l.push("SUM(" + l.pop() + ")"); break; case "PtgAttrBaxcel": case "PtgAttrSemi": break; case "PtgName": g = T[1][2]; var I = (n.names || [])[g - 1] || (n[0] || [])[g], H = I ? I.Name : "SH33TJSNAME" + String(g); H && H.slice(0, 6) == "_xlfn." && !a.xlfn && (H = H.slice(6)), l.push(H); break; case "PtgNameX": var F = T[1][1]; g = T[1][2]; var X; if (a.biff <= 5) F < 0 && (F = -F), n[F] && (X = n[F][g]); else { var V = ""; if (((n[F] || [])[0] || [])[0] == 14849 || (((n[F] || [])[0] || [])[0] == 1025 ? n[F][g] && n[F][g].itab > 0 && (V = n.SheetNames[n[F][g].itab - 1] + "!") : V = n.SheetNames[g - 1] + "!"), n[F] && n[F][g]) V += n[F][g].Name; else if (n[0] && n[0][g]) V += n[0][g].Name; else { var U = (mU(n, F, a) || "").split(";;"); U[g - 1] ? V = U[g - 1] : V += "SH33TJSERRX" } l.push(V); break } X || (X = { Name: "SH33TJSERRY" }), l.push(X.Name); break; case "PtgParen": var ee = "(", re = ")"; if (b >= 0) { switch (_ = "", e[0][b][1][0]) { case 2: ee = _r(" ", e[0][b][1][1]) + ee; break; case 3: ee = _r("\r", e[0][b][1][1]) + ee; break; case 4: re = _r(" ", e[0][b][1][1]) + re; break; case 5: re = _r("\r", e[0][b][1][1]) + re; break; default: if (a.WTF) throw new Error("Unexpected PtgAttrSpaceType " + e[0][b][1][0]) }b = -1 } l.push(ee + l.pop() + re); break; case "PtgRefErr": l.push("#REF!"); break; case "PtgRefErr3d": l.push("#REF!"); break; case "PtgExp": h = { c: T[1][1], r: T[1][0] }; var de = { c: r.c, r: r.r }; if (n.sharedf[lt(h)]) { var D = n.sharedf[lt(h)]; l.push(In(D, s, de, n, a)) } else { var z = !1; for (f = 0; f != n.arrayf.length; ++f)if (d = n.arrayf[f], !(h.c < d[0].s.c || h.c > d[0].e.c) && !(h.r < d[0].s.r || h.r > d[0].e.r)) { l.push(In(d[1], s, de, n, a)), z = !0; break } z || l.push(T[1]) } break; case "PtgArray": l.push("{" + P1e(T[1]) + "}"); break; case "PtgMemArea": break; case "PtgAttrSpace": case "PtgAttrSpaceSemi": b = k; break; case "PtgTbl": break; case "PtgMemErr": break; case "PtgMissArg": l.push(""); break; case "PtgAreaErr": l.push("#REF!"); break; case "PtgAreaErr3d": l.push("#REF!"); break; case "PtgList": l.push("Table" + T[1].idx + "[#" + T[1].rt + "]"); break; case "PtgMemAreaN": case "PtgMemNoMemN": case "PtgAttrNoop": case "PtgSheet": case "PtgEndSheet": break; case "PtgMemFunc": break; case "PtgMemNoMem": break; case "PtgElfCol": case "PtgElfColS": case "PtgElfColSV": case "PtgElfColV": case "PtgElfLel": case "PtgElfRadical": case "PtgElfRadicalLel": case "PtgElfRadicalS": case "PtgElfRw": case "PtgElfRwV": throw new Error("Unsupported ELFs"); case "PtgSxName": throw new Error("Unrecognized Formula Token: " + String(T)); default: throw new Error("Unrecognized Formula Token: " + String(T)) }var ie = ["PtgAttrSpace", "PtgAttrSpaceSemi", "PtgAttrGoto"]; if (a.biff != 3 && b >= 0 && ie.indexOf(e[0][k][0]) == -1) { T = e[0][b]; var M = !0; switch (T[1][0]) { case 4: M = !1; case 0: _ = _r(" ", T[1][1]); break; case 5: M = !1; case 1: _ = _r("\r", T[1][1]); break; default: if (_ = "", a.WTF) throw new Error("Unexpected PtgAttrSpaceType " + T[1][0]) }l.push((M ? _ : "") + l.pop() + (M ? "" : _)), b = -1 } } if (l.length > 1 && a.WTF) throw new Error("bad formula stack"); return l[0] } function L1e(e, t, r) { var n = e.l + t, a = r.biff == 2 ? 1 : 2, i, s = e.read_shift(a); if (s == 65535) return [[], Un(e, t - 2)]; var l = F0(e, s, r); return t !== s + a && (i = L0(e, t - s - a, l, r)), e.l = n, [l, i] } function F1e(e, t, r) { var n = e.l + t, a = r.biff == 2 ? 1 : 2, i, s = e.read_shift(a); if (s == 65535) return [[], Un(e, t - 2)]; var l = F0(e, s, r); return t !== s + a && (i = L0(e, t - s - a, l, r)), e.l = n, [l, i] } function U1e(e, t, r, n) { var a = e.l + t, i = F0(e, n, r), s; return a !== e.l && (s = L0(e, a - e.l, i, r)), [i, s] } function B1e(e, t, r) { var n = e.l + t, a, i = e.read_shift(2), s = F0(e, i, r); return i == 65535 ? [[], Un(e, t - 2)] : (t !== i + 2 && (a = L0(e, n - i - 2, s, r)), [s, a]) } function $1e(e) { var t; if (Ss(e, e.l + 6) !== 65535) return [Rn(e), "n"]; switch (e[e.l]) { case 0: return e.l += 8, ["String", "s"]; case 1: return t = e[e.l + 2] === 1, e.l += 8, [t, "b"]; case 2: return t = e[e.l + 2], e.l += 8, [t, "e"]; case 3: return e.l += 8, ["", "s"] }return [] } function F1(e, t, r) { var n = e.l + t, a = Zi(e); r.biff == 2 && ++e.l; var i = $1e(e), s = e.read_shift(1); r.biff != 2 && (e.read_shift(1), r.biff >= 5 && e.read_shift(4)); var l = F1e(e, n - e.l, r); return { cell: a, val: i[0], formula: l, shared: s >> 3 & 1, tt: i[1] } } function Sx(e, t, r) { var n = e.read_shift(4), a = F0(e, n, r), i = e.read_shift(4), s = i > 0 ? L0(e, i, a, r) : null; return [a, s] } var z1e = Sx, Ex = Sx, H1e = Sx, G1e = Sx, V1e = { 0: "BEEP", 1: "OPEN", 2: "OPEN.LINKS", 3: "CLOSE.ALL", 4: "SAVE", 5: "SAVE.AS", 6: "FILE.DELETE", 7: "PAGE.SETUP", 8: "PRINT", 9: "PRINTER.SETUP", 10: "QUIT", 11: "NEW.WINDOW", 12: "ARRANGE.ALL", 13: "WINDOW.SIZE", 14: "WINDOW.MOVE", 15: "FULL", 16: "CLOSE", 17: "RUN", 22: "SET.PRINT.AREA", 23: "SET.PRINT.TITLES", 24: "SET.PAGE.BREAK", 25: "REMOVE.PAGE.BREAK", 26: "FONT", 27: "DISPLAY", 28: "PROTECT.DOCUMENT", 29: "PRECISION", 30: "A1.R1C1", 31: "CALCULATE.NOW", 32: "CALCULATION", 34: "DATA.FIND", 35: "EXTRACT", 36: "DATA.DELETE", 37: "SET.DATABASE", 38: "SET.CRITERIA", 39: "SORT", 40: "DATA.SERIES", 41: "TABLE", 42: "FORMAT.NUMBER", 43: "ALIGNMENT", 44: "STYLE", 45: "BORDER", 46: "CELL.PROTECTION", 47: "COLUMN.WIDTH", 48: "UNDO", 49: "CUT", 50: "COPY", 51: "PASTE", 52: "CLEAR", 53: "PASTE.SPECIAL", 54: "EDIT.DELETE", 55: "INSERT", 56: "FILL.RIGHT", 57: "FILL.DOWN", 61: "DEFINE.NAME", 62: "CREATE.NAMES", 63: "FORMULA.GOTO", 64: "FORMULA.FIND", 65: "SELECT.LAST.CELL", 66: "SHOW.ACTIVE.CELL", 67: "GALLERY.AREA", 68: "GALLERY.BAR", 69: "GALLERY.COLUMN", 70: "GALLERY.LINE", 71: "GALLERY.PIE", 72: "GALLERY.SCATTER", 73: "COMBINATION", 74: "PREFERRED", 75: "ADD.OVERLAY", 76: "GRIDLINES", 77: "SET.PREFERRED", 78: "AXES", 79: "LEGEND", 80: "ATTACH.TEXT", 81: "ADD.ARROW", 82: "SELECT.CHART", 83: "SELECT.PLOT.AREA", 84: "PATTERNS", 85: "MAIN.CHART", 86: "OVERLAY", 87: "SCALE", 88: "FORMAT.LEGEND", 89: "FORMAT.TEXT", 90: "EDIT.REPEAT", 91: "PARSE", 92: "JUSTIFY", 93: "HIDE", 94: "UNHIDE", 95: "WORKSPACE", 96: "FORMULA", 97: "FORMULA.FILL", 98: "FORMULA.ARRAY", 99: "DATA.FIND.NEXT", 100: "DATA.FIND.PREV", 101: "FORMULA.FIND.NEXT", 102: "FORMULA.FIND.PREV", 103: "ACTIVATE", 104: "ACTIVATE.NEXT", 105: "ACTIVATE.PREV", 106: "UNLOCKED.NEXT", 107: "UNLOCKED.PREV", 108: "COPY.PICTURE", 109: "SELECT", 110: "DELETE.NAME", 111: "DELETE.FORMAT", 112: "VLINE", 113: "HLINE", 114: "VPAGE", 115: "HPAGE", 116: "VSCROLL", 117: "HSCROLL", 118: "ALERT", 119: "NEW", 120: "CANCEL.COPY", 121: "SHOW.CLIPBOARD", 122: "MESSAGE", 124: "PASTE.LINK", 125: "APP.ACTIVATE", 126: "DELETE.ARROW", 127: "ROW.HEIGHT", 128: "FORMAT.MOVE", 129: "FORMAT.SIZE", 130: "FORMULA.REPLACE", 131: "SEND.KEYS", 132: "SELECT.SPECIAL", 133: "APPLY.NAMES", 134: "REPLACE.FONT", 135: "FREEZE.PANES", 136: "SHOW.INFO", 137: "SPLIT", 138: "ON.WINDOW", 139: "ON.DATA", 140: "DISABLE.INPUT", 142: "OUTLINE", 143: "LIST.NAMES", 144: "FILE.CLOSE", 145: "SAVE.WORKBOOK", 146: "DATA.FORM", 147: "COPY.CHART", 148: "ON.TIME", 149: "WAIT", 150: "FORMAT.FONT", 151: "FILL.UP", 152: "FILL.LEFT", 153: "DELETE.OVERLAY", 155: "SHORT.MENUS", 159: "SET.UPDATE.STATUS", 161: "COLOR.PALETTE", 162: "DELETE.STYLE", 163: "WINDOW.RESTORE", 164: "WINDOW.MAXIMIZE", 166: "CHANGE.LINK", 167: "CALCULATE.DOCUMENT", 168: "ON.KEY", 169: "APP.RESTORE", 170: "APP.MOVE", 171: "APP.SIZE", 172: "APP.MINIMIZE", 173: "APP.MAXIMIZE", 174: "BRING.TO.FRONT", 175: "SEND.TO.BACK", 185: "MAIN.CHART.TYPE", 186: "OVERLAY.CHART.TYPE", 187: "SELECT.END", 188: "OPEN.MAIL", 189: "SEND.MAIL", 190: "STANDARD.FONT", 191: "CONSOLIDATE", 192: "SORT.SPECIAL", 193: "GALLERY.3D.AREA", 194: "GALLERY.3D.COLUMN", 195: "GALLERY.3D.LINE", 196: "GALLERY.3D.PIE", 197: "VIEW.3D", 198: "GOAL.SEEK", 199: "WORKGROUP", 200: "FILL.GROUP", 201: "UPDATE.LINK", 202: "PROMOTE", 203: "DEMOTE", 204: "SHOW.DETAIL", 206: "UNGROUP", 207: "OBJECT.PROPERTIES", 208: "SAVE.NEW.OBJECT", 209: "SHARE", 210: "SHARE.NAME", 211: "DUPLICATE", 212: "APPLY.STYLE", 213: "ASSIGN.TO.OBJECT", 214: "OBJECT.PROTECTION", 215: "HIDE.OBJECT", 216: "SET.EXTRACT", 217: "CREATE.PUBLISHER", 218: "SUBSCRIBE.TO", 219: "ATTRIBUTES", 220: "SHOW.TOOLBAR", 222: "PRINT.PREVIEW", 223: "EDIT.COLOR", 224: "SHOW.LEVELS", 225: "FORMAT.MAIN", 226: "FORMAT.OVERLAY", 227: "ON.RECALC", 228: "EDIT.SERIES", 229: "DEFINE.STYLE", 240: "LINE.PRINT", 243: "ENTER.DATA", 249: "GALLERY.RADAR", 250: "MERGE.STYLES", 251: "EDITION.OPTIONS", 252: "PASTE.PICTURE", 253: "PASTE.PICTURE.LINK", 254: "SPELLING", 256: "ZOOM", 259: "INSERT.OBJECT", 260: "WINDOW.MINIMIZE", 265: "SOUND.NOTE", 266: "SOUND.PLAY", 267: "FORMAT.SHAPE", 268: "EXTEND.POLYGON", 269: "FORMAT.AUTO", 272: "GALLERY.3D.BAR", 273: "GALLERY.3D.SURFACE", 274: "FILL.AUTO", 276: "CUSTOMIZE.TOOLBAR", 277: "ADD.TOOL", 278: "EDIT.OBJECT", 279: "ON.DOUBLECLICK", 280: "ON.ENTRY", 281: "WORKBOOK.ADD", 282: "WORKBOOK.MOVE", 283: "WORKBOOK.COPY", 284: "WORKBOOK.OPTIONS", 285: "SAVE.WORKSPACE", 288: "CHART.WIZARD", 289: "DELETE.TOOL", 290: "MOVE.TOOL", 291: "WORKBOOK.SELECT", 292: "WORKBOOK.ACTIVATE", 293: "ASSIGN.TO.TOOL", 295: "COPY.TOOL", 296: "RESET.TOOL", 297: "CONSTRAIN.NUMERIC", 298: "PASTE.TOOL", 302: "WORKBOOK.NEW", 305: "SCENARIO.CELLS", 306: "SCENARIO.DELETE", 307: "SCENARIO.ADD", 308: "SCENARIO.EDIT", 309: "SCENARIO.SHOW", 310: "SCENARIO.SHOW.NEXT", 311: "SCENARIO.SUMMARY", 312: "PIVOT.TABLE.WIZARD", 313: "PIVOT.FIELD.PROPERTIES", 314: "PIVOT.FIELD", 315: "PIVOT.ITEM", 316: "PIVOT.ADD.FIELDS", 318: "OPTIONS.CALCULATION", 319: "OPTIONS.EDIT", 320: "OPTIONS.VIEW", 321: "ADDIN.MANAGER", 322: "MENU.EDITOR", 323: "ATTACH.TOOLBARS", 324: "VBAActivate", 325: "OPTIONS.CHART", 328: "VBA.INSERT.FILE", 330: "VBA.PROCEDURE.DEFINITION", 336: "ROUTING.SLIP", 338: "ROUTE.DOCUMENT", 339: "MAIL.LOGON", 342: "INSERT.PICTURE", 343: "EDIT.TOOL", 344: "GALLERY.DOUGHNUT", 350: "CHART.TREND", 352: "PIVOT.ITEM.PROPERTIES", 354: "WORKBOOK.INSERT", 355: "OPTIONS.TRANSITION", 356: "OPTIONS.GENERAL", 370: "FILTER.ADVANCED", 373: "MAIL.ADD.MAILER", 374: "MAIL.DELETE.MAILER", 375: "MAIL.REPLY", 376: "MAIL.REPLY.ALL", 377: "MAIL.FORWARD", 378: "MAIL.NEXT.LETTER", 379: "DATA.LABEL", 380: "INSERT.TITLE", 381: "FONT.PROPERTIES", 382: "MACRO.OPTIONS", 383: "WORKBOOK.HIDE", 384: "WORKBOOK.UNHIDE", 385: "WORKBOOK.DELETE", 386: "WORKBOOK.NAME", 388: "GALLERY.CUSTOM", 390: "ADD.CHART.AUTOFORMAT", 391: "DELETE.CHART.AUTOFORMAT", 392: "CHART.ADD.DATA", 393: "AUTO.OUTLINE", 394: "TAB.ORDER", 395: "SHOW.DIALOG", 396: "SELECT.ALL", 397: "UNGROUP.SHEETS", 398: "SUBTOTAL.CREATE", 399: "SUBTOTAL.REMOVE", 400: "RENAME.OBJECT", 412: "WORKBOOK.SCROLL", 413: "WORKBOOK.NEXT", 414: "WORKBOOK.PREV", 415: "WORKBOOK.TAB.SPLIT", 416: "FULL.SCREEN", 417: "WORKBOOK.PROTECT", 420: "SCROLLBAR.PROPERTIES", 421: "PIVOT.SHOW.PAGES", 422: "TEXT.TO.COLUMNS", 423: "FORMAT.CHARTTYPE", 424: "LINK.FORMAT", 425: "TRACER.DISPLAY", 430: "TRACER.NAVIGATE", 431: "TRACER.CLEAR", 432: "TRACER.ERROR", 433: "PIVOT.FIELD.GROUP", 434: "PIVOT.FIELD.UNGROUP", 435: "CHECKBOX.PROPERTIES", 436: "LABEL.PROPERTIES", 437: "LISTBOX.PROPERTIES", 438: "EDITBOX.PROPERTIES", 439: "PIVOT.REFRESH", 440: "LINK.COMBO", 441: "OPEN.TEXT", 442: "HIDE.DIALOG", 443: "SET.DIALOG.FOCUS", 444: "ENABLE.OBJECT", 445: "PUSHBUTTON.PROPERTIES", 446: "SET.DIALOG.DEFAULT", 447: "FILTER", 448: "FILTER.SHOW.ALL", 449: "CLEAR.OUTLINE", 450: "FUNCTION.WIZARD", 451: "ADD.LIST.ITEM", 452: "SET.LIST.ITEM", 453: "REMOVE.LIST.ITEM", 454: "SELECT.LIST.ITEM", 455: "SET.CONTROL.VALUE", 456: "SAVE.COPY.AS", 458: "OPTIONS.LISTS.ADD", 459: "OPTIONS.LISTS.DELETE", 460: "SERIES.AXES", 461: "SERIES.X", 462: "SERIES.Y", 463: "ERRORBAR.X", 464: "ERRORBAR.Y", 465: "FORMAT.CHART", 466: "SERIES.ORDER", 467: "MAIL.LOGOFF", 468: "CLEAR.ROUTING.SLIP", 469: "APP.ACTIVATE.MICROSOFT", 470: "MAIL.EDIT.MAILER", 471: "ON.SHEET", 472: "STANDARD.WIDTH", 473: "SCENARIO.MERGE", 474: "SUMMARY.INFO", 475: "FIND.FILE", 476: "ACTIVE.CELL.FONT", 477: "ENABLE.TIPWIZARD", 478: "VBA.MAKE.ADDIN", 480: "INSERTDATATABLE", 481: "WORKGROUP.OPTIONS", 482: "MAIL.SEND.MAILER", 485: "AUTOCORRECT", 489: "POST.DOCUMENT", 491: "PICKLIST", 493: "VIEW.SHOW", 494: "VIEW.DEFINE", 495: "VIEW.DELETE", 509: "SHEET.BACKGROUND", 510: "INSERT.MAP.OBJECT", 511: "OPTIONS.MENONO", 517: "MSOCHECKS", 518: "NORMAL", 519: "LAYOUT", 520: "RM.PRINT.AREA", 521: "CLEAR.PRINT.AREA", 522: "ADD.PRINT.AREA", 523: "MOVE.BRK", 545: "HIDECURR.NOTE", 546: "HIDEALL.NOTES", 547: "DELETE.NOTE", 548: "TRAVERSE.NOTES", 549: "ACTIVATE.NOTES", 620: "PROTECT.REVISIONS", 621: "UNPROTECT.REVISIONS", 647: "OPTIONS.ME", 653: "WEB.PUBLISH", 667: "NEWWEBQUERY", 673: "PIVOT.TABLE.CHART", 753: "OPTIONS.SAVE", 755: "OPTIONS.SPELL", 808: "HIDEALL.INKANNOTS" }, gU = { 0: "COUNT", 1: "IF", 2: "ISNA", 3: "ISERROR", 4: "SUM", 5: "AVERAGE", 6: "MIN", 7: "MAX", 8: "ROW", 9: "COLUMN", 10: "NA", 11: "NPV", 12: "STDEV", 13: "DOLLAR", 14: "FIXED", 15: "SIN", 16: "COS", 17: "TAN", 18: "ATAN", 19: "PI", 20: "SQRT", 21: "EXP", 22: "LN", 23: "LOG10", 24: "ABS", 25: "INT", 26: "SIGN", 27: "ROUND", 28: "LOOKUP", 29: "INDEX", 30: "REPT", 31: "MID", 32: "LEN", 33: "VALUE", 34: "TRUE", 35: "FALSE", 36: "AND", 37: "OR", 38: "NOT", 39: "MOD", 40: "DCOUNT", 41: "DSUM", 42: "DAVERAGE", 43: "DMIN", 44: "DMAX", 45: "DSTDEV", 46: "VAR", 47: "DVAR", 48: "TEXT", 49: "LINEST", 50: "TREND", 51: "LOGEST", 52: "GROWTH", 53: "GOTO", 54: "HALT", 55: "RETURN", 56: "PV", 57: "FV", 58: "NPER", 59: "PMT", 60: "RATE", 61: "MIRR", 62: "IRR", 63: "RAND", 64: "MATCH", 65: "DATE", 66: "TIME", 67: "DAY", 68: "MONTH", 69: "YEAR", 70: "WEEKDAY", 71: "HOUR", 72: "MINUTE", 73: "SECOND", 74: "NOW", 75: "AREAS", 76: "ROWS", 77: "COLUMNS", 78: "OFFSET", 79: "ABSREF", 80: "RELREF", 81: "ARGUMENT", 82: "SEARCH", 83: "TRANSPOSE", 84: "ERROR", 85: "STEP", 86: "TYPE", 87: "ECHO", 88: "SET.NAME", 89: "CALLER", 90: "DEREF", 91: "WINDOWS", 92: "SERIES", 93: "DOCUMENTS", 94: "ACTIVE.CELL", 95: "SELECTION", 96: "RESULT", 97: "ATAN2", 98: "ASIN", 99: "ACOS", 100: "CHOOSE", 101: "HLOOKUP", 102: "VLOOKUP", 103: "LINKS", 104: "INPUT", 105: "ISREF", 106: "GET.FORMULA", 107: "GET.NAME", 108: "SET.VALUE", 109: "LOG", 110: "EXEC", 111: "CHAR", 112: "LOWER", 113: "UPPER", 114: "PROPER", 115: "LEFT", 116: "RIGHT", 117: "EXACT", 118: "TRIM", 119: "REPLACE", 120: "SUBSTITUTE", 121: "CODE", 122: "NAMES", 123: "DIRECTORY", 124: "FIND", 125: "CELL", 126: "ISERR", 127: "ISTEXT", 128: "ISNUMBER", 129: "ISBLANK", 130: "T", 131: "N", 132: "FOPEN", 133: "FCLOSE", 134: "FSIZE", 135: "FREADLN", 136: "FREAD", 137: "FWRITELN", 138: "FWRITE", 139: "FPOS", 140: "DATEVALUE", 141: "TIMEVALUE", 142: "SLN", 143: "SYD", 144: "DDB", 145: "GET.DEF", 146: "REFTEXT", 147: "TEXTREF", 148: "INDIRECT", 149: "REGISTER", 150: "CALL", 151: "ADD.BAR", 152: "ADD.MENU", 153: "ADD.COMMAND", 154: "ENABLE.COMMAND", 155: "CHECK.COMMAND", 156: "RENAME.COMMAND", 157: "SHOW.BAR", 158: "DELETE.MENU", 159: "DELETE.COMMAND", 160: "GET.CHART.ITEM", 161: "DIALOG.BOX", 162: "CLEAN", 163: "MDETERM", 164: "MINVERSE", 165: "MMULT", 166: "FILES", 167: "IPMT", 168: "PPMT", 169: "COUNTA", 170: "CANCEL.KEY", 171: "FOR", 172: "WHILE", 173: "BREAK", 174: "NEXT", 175: "INITIATE", 176: "REQUEST", 177: "POKE", 178: "EXECUTE", 179: "TERMINATE", 180: "RESTART", 181: "HELP", 182: "GET.BAR", 183: "PRODUCT", 184: "FACT", 185: "GET.CELL", 186: "GET.WORKSPACE", 187: "GET.WINDOW", 188: "GET.DOCUMENT", 189: "DPRODUCT", 190: "ISNONTEXT", 191: "GET.NOTE", 192: "NOTE", 193: "STDEVP", 194: "VARP", 195: "DSTDEVP", 196: "DVARP", 197: "TRUNC", 198: "ISLOGICAL", 199: "DCOUNTA", 200: "DELETE.BAR", 201: "UNREGISTER", 204: "USDOLLAR", 205: "FINDB", 206: "SEARCHB", 207: "REPLACEB", 208: "LEFTB", 209: "RIGHTB", 210: "MIDB", 211: "LENB", 212: "ROUNDUP", 213: "ROUNDDOWN", 214: "ASC", 215: "DBCS", 216: "RANK", 219: "ADDRESS", 220: "DAYS360", 221: "TODAY", 222: "VDB", 223: "ELSE", 224: "ELSE.IF", 225: "END.IF", 226: "FOR.CELL", 227: "MEDIAN", 228: "SUMPRODUCT", 229: "SINH", 230: "COSH", 231: "TANH", 232: "ASINH", 233: "ACOSH", 234: "ATANH", 235: "DGET", 236: "CREATE.OBJECT", 237: "VOLATILE", 238: "LAST.ERROR", 239: "CUSTOM.UNDO", 240: "CUSTOM.REPEAT", 241: "FORMULA.CONVERT", 242: "GET.LINK.INFO", 243: "TEXT.BOX", 244: "INFO", 245: "GROUP", 246: "GET.OBJECT", 247: "DB", 248: "PAUSE", 251: "RESUME", 252: "FREQUENCY", 253: "ADD.TOOLBAR", 254: "DELETE.TOOLBAR", 255: "User", 256: "RESET.TOOLBAR", 257: "EVALUATE", 258: "GET.TOOLBAR", 259: "GET.TOOL", 260: "SPELLING.CHECK", 261: "ERROR.TYPE", 262: "APP.TITLE", 263: "WINDOW.TITLE", 264: "SAVE.TOOLBAR", 265: "ENABLE.TOOL", 266: "PRESS.TOOL", 267: "REGISTER.ID", 268: "GET.WORKBOOK", 269: "AVEDEV", 270: "BETADIST", 271: "GAMMALN", 272: "BETAINV", 273: "BINOMDIST", 274: "CHIDIST", 275: "CHIINV", 276: "COMBIN", 277: "CONFIDENCE", 278: "CRITBINOM", 279: "EVEN", 280: "EXPONDIST", 281: "FDIST", 282: "FINV", 283: "FISHER", 284: "FISHERINV", 285: "FLOOR", 286: "GAMMADIST", 287: "GAMMAINV", 288: "CEILING", 289: "HYPGEOMDIST", 290: "LOGNORMDIST", 291: "LOGINV", 292: "NEGBINOMDIST", 293: "NORMDIST", 294: "NORMSDIST", 295: "NORMINV", 296: "NORMSINV", 297: "STANDARDIZE", 298: "ODD", 299: "PERMUT", 300: "POISSON", 301: "TDIST", 302: "WEIBULL", 303: "SUMXMY2", 304: "SUMX2MY2", 305: "SUMX2PY2", 306: "CHITEST", 307: "CORREL", 308: "COVAR", 309: "FORECAST", 310: "FTEST", 311: "INTERCEPT", 312: "PEARSON", 313: "RSQ", 314: "STEYX", 315: "SLOPE", 316: "TTEST", 317: "PROB", 318: "DEVSQ", 319: "GEOMEAN", 320: "HARMEAN", 321: "SUMSQ", 322: "KURT", 323: "SKEW", 324: "ZTEST", 325: "LARGE", 326: "SMALL", 327: "QUARTILE", 328: "PERCENTILE", 329: "PERCENTRANK", 330: "MODE", 331: "TRIMMEAN", 332: "TINV", 334: "MOVIE.COMMAND", 335: "GET.MOVIE", 336: "CONCATENATE", 337: "POWER", 338: "PIVOT.ADD.DATA", 339: "GET.PIVOT.TABLE", 340: "GET.PIVOT.FIELD", 341: "GET.PIVOT.ITEM", 342: "RADIANS", 343: "DEGREES", 344: "SUBTOTAL", 345: "SUMIF", 346: "COUNTIF", 347: "COUNTBLANK", 348: "SCENARIO.GET", 349: "OPTIONS.LISTS.GET", 350: "ISPMT", 351: "DATEDIF", 352: "DATESTRING", 353: "NUMBERSTRING", 354: "ROMAN", 355: "OPEN.DIALOG", 356: "SAVE.DIALOG", 357: "VIEW.GET", 358: "GETPIVOTDATA", 359: "HYPERLINK", 360: "PHONETIC", 361: "AVERAGEA", 362: "MAXA", 363: "MINA", 364: "STDEVPA", 365: "VARPA", 366: "STDEVA", 367: "VARA", 368: "BAHTTEXT", 369: "THAIDAYOFWEEK", 370: "THAIDIGIT", 371: "THAIMONTHOFYEAR", 372: "THAINUMSOUND", 373: "THAINUMSTRING", 374: "THAISTRINGLENGTH", 375: "ISTHAIDIGIT", 376: "ROUNDBAHTDOWN", 377: "ROUNDBAHTUP", 378: "THAIYEAR", 379: "RTD", 380: "CUBEVALUE", 381: "CUBEMEMBER", 382: "CUBEMEMBERPROPERTY", 383: "CUBERANKEDMEMBER", 384: "HEX2BIN", 385: "HEX2DEC", 386: "HEX2OCT", 387: "DEC2BIN", 388: "DEC2HEX", 389: "DEC2OCT", 390: "OCT2BIN", 391: "OCT2HEX", 392: "OCT2DEC", 393: "BIN2DEC", 394: "BIN2OCT", 395: "BIN2HEX", 396: "IMSUB", 397: "IMDIV", 398: "IMPOWER", 399: "IMABS", 400: "IMSQRT", 401: "IMLN", 402: "IMLOG2", 403: "IMLOG10", 404: "IMSIN", 405: "IMCOS", 406: "IMEXP", 407: "IMARGUMENT", 408: "IMCONJUGATE", 409: "IMAGINARY", 410: "IMREAL", 411: "COMPLEX", 412: "IMSUM", 413: "IMPRODUCT", 414: "SERIESSUM", 415: "FACTDOUBLE", 416: "SQRTPI", 417: "QUOTIENT", 418: "DELTA", 419: "GESTEP", 420: "ISEVEN", 421: "ISODD", 422: "MROUND", 423: "ERF", 424: "ERFC", 425: "BESSELJ", 426: "BESSELK", 427: "BESSELY", 428: "BESSELI", 429: "XIRR", 430: "XNPV", 431: "PRICEMAT", 432: "YIELDMAT", 433: "INTRATE", 434: "RECEIVED", 435: "DISC", 436: "PRICEDISC", 437: "YIELDDISC", 438: "TBILLEQ", 439: "TBILLPRICE", 440: "TBILLYIELD", 441: "PRICE", 442: "YIELD", 443: "DOLLARDE", 444: "DOLLARFR", 445: "NOMINAL", 446: "EFFECT", 447: "CUMPRINC", 448: "CUMIPMT", 449: "EDATE", 450: "EOMONTH", 451: "YEARFRAC", 452: "COUPDAYBS", 453: "COUPDAYS", 454: "COUPDAYSNC", 455: "COUPNCD", 456: "COUPNUM", 457: "COUPPCD", 458: "DURATION", 459: "MDURATION", 460: "ODDLPRICE", 461: "ODDLYIELD", 462: "ODDFPRICE", 463: "ODDFYIELD", 464: "RANDBETWEEN", 465: "WEEKNUM", 466: "AMORDEGRC", 467: "AMORLINC", 468: "CONVERT", 724: "SHEETJS", 469: "ACCRINT", 470: "ACCRINTM", 471: "WORKDAY", 472: "NETWORKDAYS", 473: "GCD", 474: "MULTINOMIAL", 475: "LCM", 476: "FVSCHEDULE", 477: "CUBEKPIMEMBER", 478: "CUBESET", 479: "CUBESETCOUNT", 480: "IFERROR", 481: "COUNTIFS", 482: "SUMIFS", 483: "AVERAGEIF", 484: "AVERAGEIFS" }, q1e = { 2: 1, 3: 1, 10: 0, 15: 1, 16: 1, 17: 1, 18: 1, 19: 0, 20: 1, 21: 1, 22: 1, 23: 1, 24: 1, 25: 1, 26: 1, 27: 2, 30: 2, 31: 3, 32: 1, 33: 1, 34: 0, 35: 0, 38: 1, 39: 2, 40: 3, 41: 3, 42: 3, 43: 3, 44: 3, 45: 3, 47: 3, 48: 2, 53: 1, 61: 3, 63: 0, 65: 3, 66: 3, 67: 1, 68: 1, 69: 1, 70: 1, 71: 1, 72: 1, 73: 1, 74: 0, 75: 1, 76: 1, 77: 1, 79: 2, 80: 2, 83: 1, 85: 0, 86: 1, 89: 0, 90: 1, 94: 0, 95: 0, 97: 2, 98: 1, 99: 1, 101: 3, 102: 3, 105: 1, 106: 1, 108: 2, 111: 1, 112: 1, 113: 1, 114: 1, 117: 2, 118: 1, 119: 4, 121: 1, 126: 1, 127: 1, 128: 1, 129: 1, 130: 1, 131: 1, 133: 1, 134: 1, 135: 1, 136: 2, 137: 2, 138: 2, 140: 1, 141: 1, 142: 3, 143: 4, 144: 4, 161: 1, 162: 1, 163: 1, 164: 1, 165: 2, 172: 1, 175: 2, 176: 2, 177: 3, 178: 2, 179: 1, 184: 1, 186: 1, 189: 3, 190: 1, 195: 3, 196: 3, 197: 1, 198: 1, 199: 3, 201: 1, 207: 4, 210: 3, 211: 1, 212: 2, 213: 2, 214: 1, 215: 1, 225: 0, 229: 1, 230: 1, 231: 1, 232: 1, 233: 1, 234: 1, 235: 3, 244: 1, 247: 4, 252: 2, 257: 1, 261: 1, 271: 1, 273: 4, 274: 2, 275: 2, 276: 2, 277: 3, 278: 3, 279: 1, 280: 3, 281: 3, 282: 3, 283: 1, 284: 1, 285: 2, 286: 4, 287: 3, 288: 2, 289: 4, 290: 3, 291: 3, 292: 3, 293: 4, 294: 1, 295: 3, 296: 1, 297: 3, 298: 1, 299: 2, 300: 3, 301: 3, 302: 4, 303: 2, 304: 2, 305: 2, 306: 2, 307: 2, 308: 2, 309: 3, 310: 2, 311: 2, 312: 2, 313: 2, 314: 2, 315: 2, 316: 4, 325: 2, 326: 2, 327: 2, 328: 2, 331: 2, 332: 2, 337: 2, 342: 1, 343: 1, 346: 2, 347: 1, 350: 4, 351: 3, 352: 1, 353: 2, 360: 1, 368: 1, 369: 1, 370: 1, 371: 1, 372: 1, 373: 1, 374: 1, 375: 1, 376: 1, 377: 1, 378: 1, 382: 3, 385: 1, 392: 1, 393: 1, 396: 2, 397: 2, 398: 2, 399: 1, 400: 1, 401: 1, 402: 1, 403: 1, 404: 1, 405: 1, 406: 1, 407: 1, 408: 1, 409: 1, 410: 1, 414: 4, 415: 1, 416: 1, 417: 2, 420: 1, 421: 1, 422: 2, 424: 1, 425: 2, 426: 2, 427: 2, 428: 2, 430: 3, 438: 3, 439: 3, 440: 3, 443: 2, 444: 2, 445: 2, 446: 2, 447: 6, 448: 6, 449: 2, 450: 2, 464: 2, 468: 3, 476: 2, 479: 1, 480: 2, 65535: 0 }; function h4(e) { return e.slice(0, 3) == "of:" && (e = e.slice(3)), e.charCodeAt(0) == 61 && (e = e.slice(1), e.charCodeAt(0) == 61 && (e = e.slice(1))), e = e.replace(/COM\.MICROSOFT\./g, ""), e = e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g, function (t, r) { return r.replace(/\./g, "") }), e = e.replace(/\[.(#[A-Z]*[?!])\]/g, "$1"), e.replace(/[;~]/g, ",").replace(/\|/g, ";") } function U1(e) { var t = e.split(":"), r = t[0].split(".")[0]; return [r, t[0].split(".")[1] + (t.length > 1 ? ":" + (t[1].split(".")[1] || t[1].split(".")[0]) : "")] } var Cf = {}, ju = {}; function jf(e, t) { if (e) { var r = [.7, .7, .75, .75, .3, .3]; t == "xlml" && (r = [1, 1, 1, 1, .5, .5]), e.left == null && (e.left = r[0]), e.right == null && (e.right = r[1]), e.top == null && (e.top = r[2]), e.bottom == null && (e.bottom = r[3]), e.header == null && (e.header = r[4]), e.footer == null && (e.footer = r[5]) } } function xU(e, t, r, n, a, i) { try { n.cellNF && (e.z = ft[t]) } catch (l) { if (n.WTF) throw l } if (!(e.t === "z" && !n.cellStyles)) { if (e.t === "d" && typeof e.v == "string" && (e.v = sn(e.v)), (!n || n.cellText !== !1) && e.t !== "z") try { if (ft[t] == null && Hl(Wme[t] || "General", t), e.t === "e") e.w = e.w || dc[e.v]; else if (t === 0) if (e.t === "n") (e.v | 0) === e.v ? e.w = e.v.toString(10) : e.w = r0(e.v); else if (e.t === "d") { var s = Qn(e.v); (s | 0) === s ? e.w = s.toString(10) : e.w = r0(s) } else { if (e.v === void 0) return ""; e.w = ec(e.v, ju) } else e.t === "d" ? e.w = Ja(t, Qn(e.v), ju) : e.w = Ja(t, e.v, ju) } catch (l) { if (n.WTF) throw l } if (n.cellStyles && r != null) try { e.s = i.Fills[r], e.s.fgColor && e.s.fgColor.theme && !e.s.fgColor.rgb && (e.s.fgColor.rgb = cg(a.themeElements.clrScheme[e.s.fgColor.theme].rgb, e.s.fgColor.tint || 0), n.WTF && (e.s.fgColor.raw_rgb = a.themeElements.clrScheme[e.s.fgColor.theme].rgb)), e.s.bgColor && e.s.bgColor.theme && (e.s.bgColor.rgb = cg(a.themeElements.clrScheme[e.s.bgColor.theme].rgb, e.s.bgColor.tint || 0), n.WTF && (e.s.bgColor.raw_rgb = a.themeElements.clrScheme[e.s.bgColor.theme].rgb)) } catch (l) { if (n.WTF && i.Fills) throw l } } } function W1e(e, t) { var r = Er(t); r.s.r <= r.e.r && r.s.c <= r.e.c && r.s.r >= 0 && r.s.c >= 0 && (e["!ref"] = Tt(r)) } var K1e = /<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g, Y1e = /<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/, X1e = /<(?:\w:)?hyperlink [^>]*>/mg, J1e = /"(\w*:\w*)"/, Z1e = /<(?:\w:)?col\b[^>]*[\/]?>/g, Q1e = /<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g, ewe = /<(?:\w:)?pageMargins[^>]*\/>/g, vU = /<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/, twe = /<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/, rwe = /<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/; function nwe(e, t, r, n, a, i, s) { if (!e) return e; n || (n = { "!id": {} }); var l = t.dense ? [] : {}, f = { s: { r: 2e6, c: 2e6 }, e: { r: 0, c: 0 } }, d = "", h = "", m = e.match(Y1e); m ? (d = e.slice(0, m.index), h = e.slice(m.index + m[0].length)) : d = h = e; var g = d.match(vU); g ? pk(g[0], l, a, r) : (g = d.match(twe)) && awe(g[0], g[1] || "", l, a, r); var v = (d.match(/<(?:\w*:)?dimension/) || { index: -1 }).index; if (v > 0) { var y = d.slice(v, v + 50).match(J1e); y && W1e(l, y[1]) } var b = d.match(rwe); b && b[1] && uwe(b[1], a); var _ = []; if (t.cellStyles) { var k = d.match(Z1e); k && owe(_, k) } m && dwe(m[1], l, t, f, i, s); var C = h.match(Q1e); C && (l["!autofilter"] = lwe(C[0])); var T = [], j = h.match(K1e); if (j) for (v = 0; v != j.length; ++v)T[v] = Er(j[v].slice(j[v].indexOf('"') + 1)); var R = h.match(X1e); R && iwe(l, R, n); var O = h.match(ewe); if (O && (l["!margins"] = swe(at(O[0]))), !l["!ref"] && f.e.c >= f.s.c && f.e.r >= f.s.r && (l["!ref"] = Tt(f)), t.sheetRows > 0 && l["!ref"]) { var I = Er(l["!ref"]); t.sheetRows <= +I.e.r && (I.e.r = t.sheetRows - 1, I.e.r > f.e.r && (I.e.r = f.e.r), I.e.r < I.s.r && (I.s.r = I.e.r), I.e.c > f.e.c && (I.e.c = f.e.c), I.e.c < I.s.c && (I.s.c = I.e.c), l["!fullref"] = l["!ref"], l["!ref"] = Tt(I)) } return _.length > 0 && (l["!cols"] = _), T.length > 0 && (l["!merges"] = T), l } function pk(e, t, r, n) { var a = at(e); r.Sheets[n] || (r.Sheets[n] = {}), a.codeName && (r.Sheets[n].CodeName = Nt(tr(a.codeName))) } function awe(e, t, r, n, a) { pk(e.slice(0, e.indexOf(">")), r, n, a) } function iwe(e, t, r) { for (var n = Array.isArray(e), a = 0; a != t.length; ++a) { var i = at(tr(t[a]), !0); if (!i.ref) return; var s = ((r || {})["!id"] || [])[i.id]; s ? (i.Target = s.Target, i.location && (i.Target += "#" + Nt(i.location))) : (i.Target = "#" + Nt(i.location), s = { Target: i.Target, TargetMode: "Internal" }), i.Rel = s, i.tooltip && (i.Tooltip = i.tooltip, delete i.tooltip); for (var l = Er(i.ref), f = l.s.r; f <= l.e.r; ++f)for (var d = l.s.c; d <= l.e.c; ++d) { var h = lt({ c: d, r: f }); n ? (e[f] || (e[f] = []), e[f][d] || (e[f][d] = { t: "z", v: void 0 }), e[f][d].l = i) : (e[h] || (e[h] = { t: "z", v: void 0 }), e[h].l = i) } } } function swe(e) { var t = {}; return ["left", "right", "top", "bottom", "header", "footer"].forEach(function (r) { e[r] && (t[r] = parseFloat(e[r])) }), t } function owe(e, t) { for (var r = !1, n = 0; n != t.length; ++n) { var a = at(t[n], !0); a.hidden && (a.hidden = ur(a.hidden)); var i = parseInt(a.min, 10) - 1, s = parseInt(a.max, 10) - 1; for (a.outlineLevel && (a.level = +a.outlineLevel || 0), delete a.min, delete a.max, a.width = +a.width, !r && a.width && (r = !0, fk(a.width)), Uu(a); i <= s;)e[i++] = Sn(a) } } function lwe(e) { var t = { ref: (e.match(/ref="([^"]*)"/) || [])[1] }; return t } var cwe = /<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/; function uwe(e, t) { t.Views || (t.Views = [{}]), (e.match(cwe) || []).forEach(function (r, n) { var a = at(r); t.Views[n] || (t.Views[n] = {}), +a.zoomScale && (t.Views[n].zoom = +a.zoomScale), ur(a.rightToLeft) && (t.Views[n].RTL = !0) }) } var dwe = (function () {
  var e = /<(?:\w+:)?c[ \/>]/, t = /<\/(?:\w+:)?row>/, r = /r=["']([^"']*)["']/, n = /<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/, a = /ref=["']([^"']*)["']/, i = n0("v"), s = n0("f"); return function (f, d, h, m, g, v) {
    for (var y = 0, b = "", _ = [], k = [], C = 0, T = 0, j = 0, R = "", O, I, H = 0, F = 0, X, V, U = 0, ee = 0, re = Array.isArray(v.CellXf), de, D = [], z = [], ie = Array.isArray(d), M = [], te = {}, G = !1, P = !!h.sheetStubs, W = f.split(t), J = 0, B = W.length; J != B; ++J) {
      b = W[J].trim(); var ce = b.length; if (ce !== 0) {
        var fe = 0; e: for (y = 0; y < ce; ++y)switch (b[y]) { case ">": if (b[y - 1] != "/") { ++y; break e } if (h && h.cellStyles) { if (I = at(b.slice(fe, y), !0), H = I.r != null ? parseInt(I.r, 10) : H + 1, F = -1, h.sheetRows && h.sheetRows < H) continue; te = {}, G = !1, I.ht && (G = !0, te.hpt = parseFloat(I.ht), te.hpx = o0(te.hpt)), I.hidden == "1" && (G = !0, te.hidden = !0), I.outlineLevel != null && (G = !0, te.level = +I.outlineLevel), G && (M[H - 1] = te) } break; case "<": fe = y; break }if (fe >= y) break; if (I = at(b.slice(fe, y), !0), H = I.r != null ? parseInt(I.r, 10) : H + 1, F = -1, !(h.sheetRows && h.sheetRows < H)) {
          m.s.r > H - 1 && (m.s.r = H - 1), m.e.r < H - 1 && (m.e.r = H - 1), h && h.cellStyles && (te = {}, G = !1, I.ht && (G = !0, te.hpt = parseFloat(I.ht), te.hpx = o0(te.hpt)), I.hidden == "1" && (G = !0, te.hidden = !0), I.outlineLevel != null && (G = !0, te.level = +I.outlineLevel), G && (M[H - 1] = te)), _ = b.slice(y).split(e); for (var le = 0; le != _.length && _[le].trim().charAt(0) == "<"; ++le); for (_ = _.slice(le), y = 0; y != _.length; ++y)if (b = _[y].trim(), b.length !== 0) {
            if (k = b.match(r), C = y, T = 0, j = 0, b = "<c " + (b.slice(0, 1) == "<" ? ">" : "") + b, k != null && k.length === 2) { for (C = 0, R = k[1], T = 0; T != R.length && !((j = R.charCodeAt(T) - 64) < 1 || j > 26); ++T)C = 26 * C + j; --C, F = C } else ++F; for (T = 0; T != b.length && b.charCodeAt(T) !== 62; ++T); if (++T, I = at(b.slice(0, T), !0), I.r || (I.r = lt({ r: H - 1, c: F })), R = b.slice(T), O = { t: "" }, (k = R.match(i)) != null && k[1] !== "" && (O.v = Nt(k[1])), h.cellFormula) {
              if ((k = R.match(s)) != null && k[1] !== "") {
                if (O.f = Nt(tr(k[1])).replace(/\r\n/g, `
`), h.xlfn || (O.f = c4(O.f)), k[0].indexOf('t="array"') > -1) O.F = (R.match(a) || [])[1], O.F.indexOf(":") > -1 && D.push([Er(O.F), O.F]); else if (k[0].indexOf('t="shared"') > -1) { V = at(k[0]); var oe = Nt(tr(k[1])); h.xlfn || (oe = c4(oe)), z[parseInt(V.si, 10)] = [V, oe, I.r] }
              } else (k = R.match(/<f[^>]*\/>/)) && (V = at(k[0]), z[V.si] && (O.f = _be(z[V.si][1], z[V.si][2], I.r))); var pe = Kn(I.r); for (T = 0; T < D.length; ++T)pe.r >= D[T][0].s.r && pe.r <= D[T][0].e.r && pe.c >= D[T][0].s.c && pe.c <= D[T][0].e.c && (O.F = D[T][1])
            } if (I.t == null && O.v === void 0) if (O.f || O.F) O.v = 0, O.t = "n"; else if (P) O.t = "z"; else continue; else O.t = I.t || "n"; switch (m.s.c > F && (m.s.c = F), m.e.c < F && (m.e.c = F), O.t) { case "n": if (O.v == "" || O.v == null) { if (!P) continue; O.t = "z" } else O.v = parseFloat(O.v); break; case "s": if (typeof O.v > "u") { if (!P) continue; O.t = "z" } else X = Cf[parseInt(O.v, 10)], O.v = X.t, O.r = X.r, h.cellHTML && (O.h = X.h); break; case "str": O.t = "s", O.v = O.v != null ? tr(O.v) : "", h.cellHTML && (O.h = tk(O.v)); break; case "inlineStr": k = R.match(n), O.t = "s", k != null && (X = dk(k[1])) ? (O.v = X.t, h.cellHTML && (O.h = X.h)) : O.v = ""; break; case "b": O.v = ur(O.v); break; case "d": h.cellDates ? O.v = sn(O.v, 1) : (O.v = Qn(sn(O.v, 1)), O.t = "n"); break; case "e": (!h || h.cellText !== !1) && (O.w = O.v), O.v = UF[O.v]; break }if (U = ee = 0, de = null, re && I.s !== void 0 && (de = v.CellXf[I.s], de != null && (de.numFmtId != null && (U = de.numFmtId), h.cellStyles && de.fillId != null && (ee = de.fillId))), xU(O, U, ee, h, g, v), h.cellDates && re && O.t == "n" && rd(ft[U]) && (O.t = "d", O.v = wx(O.v)), I.cm && h.xlmeta) { var Ie = (h.xlmeta.Cell || [])[+I.cm - 1]; Ie && Ie.type == "XLDAPR" && (O.D = !0) } if (ie) { var Y = Kn(I.r); d[Y.r] || (d[Y.r] = []), d[Y.r][Y.c] = O } else d[I.r] = O
          }
        }
      }
    } M.length > 0 && (d["!rows"] = M)
  }
})(); function fwe(e, t) { var r = {}, n = e.l + t; r.r = e.read_shift(4), e.l += 4; var a = e.read_shift(2); e.l += 1; var i = e.read_shift(1); return e.l = n, i & 7 && (r.level = i & 7), i & 16 && (r.hidden = !0), i & 32 && (r.hpt = a / 20), r } var hwe = uc; function pwe() { } function mwe(e, t) { var r = {}, n = e[e.l]; return ++e.l, r.above = !(n & 64), r.left = !(n & 128), e.l += 18, r.name = Lge(e), r } function gwe(e) { var t = Qa(e); return [t] } function xwe(e) { var t = cc(e); return [t] } function vwe(e) { var t = Qa(e), r = e.read_shift(1); return [t, r, "b"] } function ywe(e) { var t = cc(e), r = e.read_shift(1); return [t, r, "b"] } function bwe(e) { var t = Qa(e), r = e.read_shift(1); return [t, r, "e"] } function wwe(e) { var t = cc(e), r = e.read_shift(1); return [t, r, "e"] } function _we(e) { var t = Qa(e), r = e.read_shift(4); return [t, r, "s"] } function Swe(e) { var t = cc(e), r = e.read_shift(4); return [t, r, "s"] } function Ewe(e) { var t = Qa(e), r = Rn(e); return [t, r, "n"] } function yU(e) { var t = cc(e), r = Rn(e); return [t, r, "n"] } function kwe(e) { var t = Qa(e), r = lk(e); return [t, r, "n"] } function Twe(e) { var t = cc(e), r = lk(e); return [t, r, "n"] } function Nwe(e) { var t = Qa(e), r = sk(e); return [t, r, "is"] } function Awe(e) { var t = Qa(e), r = Ln(e); return [t, r, "str"] } function Cwe(e) { var t = cc(e), r = Ln(e); return [t, r, "str"] } function jwe(e, t, r) { var n = e.l + t, a = Qa(e); a.r = r["!row"]; var i = e.read_shift(1), s = [a, i, "b"]; if (r.cellFormula) { e.l += 2; var l = Ex(e, n - e.l, r); s[3] = In(l, null, a, r.supbooks, r) } else e.l = n; return s } function Iwe(e, t, r) { var n = e.l + t, a = Qa(e); a.r = r["!row"]; var i = e.read_shift(1), s = [a, i, "e"]; if (r.cellFormula) { e.l += 2; var l = Ex(e, n - e.l, r); s[3] = In(l, null, a, r.supbooks, r) } else e.l = n; return s } function Owe(e, t, r) { var n = e.l + t, a = Qa(e); a.r = r["!row"]; var i = Rn(e), s = [a, i, "n"]; if (r.cellFormula) { e.l += 2; var l = Ex(e, n - e.l, r); s[3] = In(l, null, a, r.supbooks, r) } else e.l = n; return s } function Rwe(e, t, r) { var n = e.l + t, a = Qa(e); a.r = r["!row"]; var i = Ln(e), s = [a, i, "str"]; if (r.cellFormula) { e.l += 2; var l = Ex(e, n - e.l, r); s[3] = In(l, null, a, r.supbooks, r) } else e.l = n; return s } var Pwe = uc; function Dwe(e, t) { var r = e.l + t, n = uc(e), a = ok(e), i = Ln(e), s = Ln(e), l = Ln(e); e.l = r; var f = { rfx: n, relId: a, loc: i, display: l }; return s && (f.Tooltip = s), f } function Mwe() { } function Lwe(e, t, r) { var n = e.l + t, a = MF(e), i = e.read_shift(1), s = [a]; if (s[2] = i, r.cellFormula) { var l = z1e(e, n - e.l, r); s[1] = l } else e.l = n; return s } function Fwe(e, t, r) { var n = e.l + t, a = uc(e), i = [a]; if (r.cellFormula) { var s = G1e(e, n - e.l, r); i[1] = s, e.l = n } else e.l = n; return i } var Uwe = ["left", "right", "top", "bottom", "header", "footer"]; function Bwe(e) { var t = {}; return Uwe.forEach(function (r) { t[r] = Rn(e) }), t } function $we(e) { var t = e.read_shift(2); return e.l += 28, { RTL: t & 32 } } function zwe() { } function Hwe() { } function Gwe(e, t, r, n, a, i, s) { if (!e) return e; var l = t || {}; n || (n = { "!id": {} }); var f = l.dense ? [] : {}, d, h = { s: { r: 2e6, c: 2e6 }, e: { r: 0, c: 0 } }, m = !1, g = !1, v, y, b, _, k, C, T, j, R, O = []; l.biff = 12, l["!row"] = 0; var I = 0, H = !1, F = [], X = {}, V = l.supbooks || a.supbooks || [[]]; if (V.sharedf = X, V.arrayf = F, V.SheetNames = a.SheetNames || a.Sheets.map(function (ie) { return ie.name }), !l.supbooks && (l.supbooks = V, a.Names)) for (var U = 0; U < a.Names.length; ++U)V[0][U + 1] = a.Names[U]; var ee = [], re = [], de = !1; fg[16] = { n: "BrtShortReal", f: yU }; var D; if (Ws(e, function (M, te, G) { if (!g) switch (G) { case 148: d = M; break; case 0: v = M, l.sheetRows && l.sheetRows <= v.r && (g = !0), j = En(_ = v.r), l["!row"] = v.r, (M.hidden || M.hpt || M.level != null) && (M.hpt && (M.hpx = o0(M.hpt)), re[M.r] = M); break; case 2: case 3: case 4: case 5: case 6: case 7: case 8: case 9: case 10: case 11: case 13: case 14: case 15: case 16: case 17: case 18: case 62: switch (y = { t: M[2] }, M[2]) { case "n": y.v = M[1]; break; case "s": T = Cf[M[1]], y.v = T.t, y.r = T.r; break; case "b": y.v = !!M[1]; break; case "e": y.v = M[1], l.cellText !== !1 && (y.w = dc[y.v]); break; case "str": y.t = "s", y.v = M[1]; break; case "is": y.t = "s", y.v = M[1].t; break }if ((b = s.CellXf[M[0].iStyleRef]) && xU(y, b.numFmtId, null, l, i, s), k = M[0].c == -1 ? k + 1 : M[0].c, l.dense ? (f[_] || (f[_] = []), f[_][k] = y) : f[Vr(k) + j] = y, l.cellFormula) { for (H = !1, I = 0; I < F.length; ++I) { var P = F[I]; v.r >= P[0].s.r && v.r <= P[0].e.r && k >= P[0].s.c && k <= P[0].e.c && (y.F = Tt(P[0]), H = !0) } !H && M.length > 3 && (y.f = M[3]) } if (h.s.r > v.r && (h.s.r = v.r), h.s.c > k && (h.s.c = k), h.e.r < v.r && (h.e.r = v.r), h.e.c < k && (h.e.c = k), l.cellDates && b && y.t == "n" && rd(ft[b.numFmtId])) { var W = Fl(y.v); W && (y.t = "d", y.v = new Date(W.y, W.m - 1, W.d, W.H, W.M, W.S, W.u)) } D && (D.type == "XLDAPR" && (y.D = !0), D = void 0); break; case 1: case 12: if (!l.sheetStubs || m) break; y = { t: "z", v: void 0 }, k = M[0].c == -1 ? k + 1 : M[0].c, l.dense ? (f[_] || (f[_] = []), f[_][k] = y) : f[Vr(k) + j] = y, h.s.r > v.r && (h.s.r = v.r), h.s.c > k && (h.s.c = k), h.e.r < v.r && (h.e.r = v.r), h.e.c < k && (h.e.c = k), D && (D.type == "XLDAPR" && (y.D = !0), D = void 0); break; case 176: O.push(M); break; case 49: D = ((l.xlmeta || {}).Cell || [])[M - 1]; break; case 494: var J = n["!id"][M.relId]; for (J ? (M.Target = J.Target, M.loc && (M.Target += "#" + M.loc), M.Rel = J) : M.relId == "" && (M.Target = "#" + M.loc), _ = M.rfx.s.r; _ <= M.rfx.e.r; ++_)for (k = M.rfx.s.c; k <= M.rfx.e.c; ++k)l.dense ? (f[_] || (f[_] = []), f[_][k] || (f[_][k] = { t: "z", v: void 0 }), f[_][k].l = M) : (C = lt({ c: k, r: _ }), f[C] || (f[C] = { t: "z", v: void 0 }), f[C].l = M); break; case 426: if (!l.cellFormula) break; F.push(M), R = l.dense ? f[_][k] : f[Vr(k) + j], R.f = In(M[1], h, { r: v.r, c: k }, V, l), R.F = Tt(M[0]); break; case 427: if (!l.cellFormula) break; X[lt(M[0].s)] = M[1], R = l.dense ? f[_][k] : f[Vr(k) + j], R.f = In(M[1], h, { r: v.r, c: k }, V, l); break; case 60: if (!l.cellStyles) break; for (; M.e >= M.s;)ee[M.e--] = { width: M.w / 256, hidden: !!(M.flags & 1), level: M.level }, de || (de = !0, fk(M.w / 256)), Uu(ee[M.e + 1]); break; case 161: f["!autofilter"] = { ref: Tt(M) }; break; case 476: f["!margins"] = M; break; case 147: a.Sheets[r] || (a.Sheets[r] = {}), M.name && (a.Sheets[r].CodeName = M.name), (M.above || M.left) && (f["!outline"] = { above: M.above, left: M.left }); break; case 137: a.Views || (a.Views = [{}]), a.Views[0] || (a.Views[0] = {}), M.RTL && (a.Views[0].RTL = !0); break; case 485: break; case 64: case 1053: break; case 151: break; case 152: case 175: case 644: case 625: case 562: case 396: case 1112: case 1146: case 471: case 1050: case 649: case 1105: case 589: case 607: case 564: case 1055: case 168: case 174: case 1180: case 499: case 507: case 550: case 171: case 167: case 1177: case 169: case 1181: case 551: case 552: case 661: case 639: case 478: case 537: case 477: case 536: case 1103: case 680: case 1104: case 1024: case 663: case 535: case 678: case 504: case 1043: case 428: case 170: case 3072: case 50: case 2070: case 1045: break; case 35: m = !0; break; case 36: m = !1; break; case 37: m = !0; break; case 38: m = !1; break; default: if (!te.T) { if (!m || l.WTF) throw new Error("Unexpected record 0x" + G.toString(16)) } } }, l), delete l.supbooks, delete l["!row"], !f["!ref"] && (h.s.r < 2e6 || d && (d.e.r > 0 || d.e.c > 0 || d.s.r > 0 || d.s.c > 0)) && (f["!ref"] = Tt(d || h)), l.sheetRows && f["!ref"]) { var z = Er(f["!ref"]); l.sheetRows <= +z.e.r && (z.e.r = l.sheetRows - 1, z.e.r > h.e.r && (z.e.r = h.e.r), z.e.r < z.s.r && (z.s.r = z.e.r), z.e.c > h.e.c && (z.e.c = h.e.c), z.e.c < z.s.c && (z.s.c = z.e.c), f["!fullref"] = f["!ref"], f["!ref"] = Tt(z)) } return O.length > 0 && (f["!merges"] = O), ee.length > 0 && (f["!cols"] = ee), re.length > 0 && (f["!rows"] = re), f } function Vwe(e) { var t = [], r = e.match(/^<c:numCache>/), n; (e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg) || []).forEach(function (i) { var s = i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/); s && (t[+s[1]] = r ? +s[2] : s[2]) }); var a = Nt((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/) || ["", "General"])[1]); return (e.match(/<c:f>(.*?)<\/c:f>/mg) || []).forEach(function (i) { n = i.replace(/<.*?>/g, "") }), [t, a, n] } function qwe(e, t, r, n, a, i) { var s = i || { "!type": "chart" }; if (!e) return i; var l = 0, f = 0, d = "A", h = { s: { r: 2e6, c: 2e6 }, e: { r: 0, c: 0 } }; return (e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm) || []).forEach(function (m) { var g = Vwe(m); h.s.r = h.s.c = 0, h.e.c = l, d = Vr(l), g[0].forEach(function (v, y) { s[d + En(y)] = { t: "n", v, z: g[1] }, f = y }), h.e.r < f && (h.e.r = f), ++l }), l > 0 && (s["!ref"] = Tt(h)), s } function Wwe(e, t, r, n, a) { if (!e) return e; n || (n = { "!id": {} }); var i = { "!type": "chart", "!drawel": null, "!rel": "" }, s, l = e.match(vU); return l && pk(l[0], i, a, r), (s = e.match(/drawing r:id="(.*?)"/)) && (i["!rel"] = s[1]), n["!id"][i["!rel"]] && (i["!drawel"] = n["!id"][i["!rel"]]), i } function Kwe(e, t) { e.l += 10; var r = Ln(e); return { name: r } } function Ywe(e, t, r, n, a) { if (!e) return e; n || (n = { "!id": {} }); var i = { "!type": "chart", "!drawel": null, "!rel": "" }, s = !1; return Ws(e, function (f, d, h) { switch (h) { case 550: i["!rel"] = f; break; case 651: a.Sheets[r] || (a.Sheets[r] = {}), f.name && (a.Sheets[r].CodeName = f.name); break; case 562: case 652: case 669: case 679: case 551: case 552: case 476: case 3072: break; case 35: s = !0; break; case 36: s = !1; break; case 37: break; case 38: break; default: if (!(d.T > 0)) { if (!(d.T < 0)) { if (!s || t.WTF) throw new Error("Unexpected record 0x" + h.toString(16)) } } } }, t), n["!id"][i["!rel"]] && (i["!drawel"] = n["!id"][i["!rel"]]), i } var bU = [["allowRefreshQuery", !1, "bool"], ["autoCompressPictures", !0, "bool"], ["backupFile", !1, "bool"], ["checkCompatibility", !1, "bool"], ["CodeName", ""], ["date1904", !1, "bool"], ["defaultThemeVersion", 0, "int"], ["filterPrivacy", !1, "bool"], ["hidePivotFieldList", !1, "bool"], ["promptedSolutions", !1, "bool"], ["publishItems", !1, "bool"], ["refreshAllConnections", !1, "bool"], ["saveExternalLinkValues", !0, "bool"], ["showBorderUnselectedTables", !0, "bool"], ["showInkAnnotation", !0, "bool"], ["showObjects", "all"], ["showPivotChartFilter", !1, "bool"], ["updateLinks", "userSet"]], Xwe = [["activeTab", 0, "int"], ["autoFilterDateGrouping", !0, "bool"], ["firstSheet", 0, "int"], ["minimized", !1, "bool"], ["showHorizontalScroll", !0, "bool"], ["showSheetTabs", !0, "bool"], ["showVerticalScroll", !0, "bool"], ["tabRatio", 600, "int"], ["visibility", "visible"]], Jwe = [], Zwe = [["calcCompleted", "true"], ["calcMode", "auto"], ["calcOnSave", "true"], ["concurrentCalc", "true"], ["fullCalcOnLoad", "false"], ["fullPrecision", "true"], ["iterate", "false"], ["iterateCount", "100"], ["iterateDelta", "0.001"], ["refMode", "A1"]]; function p4(e, t) { for (var r = 0; r != e.length; ++r)for (var n = e[r], a = 0; a != t.length; ++a) { var i = t[a]; if (n[i[0]] == null) n[i[0]] = i[1]; else switch (i[2]) { case "bool": typeof n[i[0]] == "string" && (n[i[0]] = ur(n[i[0]])); break; case "int": typeof n[i[0]] == "string" && (n[i[0]] = parseInt(n[i[0]], 10)); break } } } function m4(e, t) { for (var r = 0; r != t.length; ++r) { var n = t[r]; if (e[n[0]] == null) e[n[0]] = n[1]; else switch (n[2]) { case "bool": typeof e[n[0]] == "string" && (e[n[0]] = ur(e[n[0]])); break; case "int": typeof e[n[0]] == "string" && (e[n[0]] = parseInt(e[n[0]], 10)); break } } } function wU(e) { m4(e.WBProps, bU), m4(e.CalcPr, Zwe), p4(e.WBView, Xwe), p4(e.Sheets, Jwe), ju.date1904 = ur(e.WBProps.date1904) } var Qwe = "][*?/\\".split(""); function e_e(e, t) { if (e.length > 31) throw new Error("Sheet names cannot exceed 31 chars"); var r = !0; return Qwe.forEach(function (n) { if (e.indexOf(n) != -1) throw new Error("Sheet name cannot contain : \\ / ? * [ ]") }), r } var t_e = /<\w+:workbook/; function r_e(e, t) { if (!e) throw new Error("Could not find file"); var r = { AppVersion: {}, WBProps: {}, WBView: [], Sheets: [], CalcPr: {}, Names: [], xmlns: "" }, n = !1, a = "xmlns", i = {}, s = 0; if (e.replace(Bn, function (f, d) { var h = at(f); switch (Ji(h[0])) { case "<?xml": break; case "<workbook": f.match(t_e) && (a = "xmlns" + f.match(/<(\w+):/)[1]), r.xmlns = h[a]; break; case "</workbook>": break; case "<fileVersion": delete h[0], r.AppVersion = h; break; case "<fileVersion/>": case "</fileVersion>": break; case "<fileSharing": break; case "<fileSharing/>": break; case "<workbookPr": case "<workbookPr/>": bU.forEach(function (m) { if (h[m[0]] != null) switch (m[2]) { case "bool": r.WBProps[m[0]] = ur(h[m[0]]); break; case "int": r.WBProps[m[0]] = parseInt(h[m[0]], 10); break; default: r.WBProps[m[0]] = h[m[0]] } }), h.codeName && (r.WBProps.CodeName = tr(h.codeName)); break; case "</workbookPr>": break; case "<workbookProtection": break; case "<workbookProtection/>": break; case "<bookViews": case "<bookViews>": case "</bookViews>": break; case "<workbookView": case "<workbookView/>": delete h[0], r.WBView.push(h); break; case "</workbookView>": break; case "<sheets": case "<sheets>": case "</sheets>": break; case "<sheet": switch (h.state) { case "hidden": h.Hidden = 1; break; case "veryHidden": h.Hidden = 2; break; default: h.Hidden = 0 }delete h.state, h.name = Nt(tr(h.name)), delete h[0], r.Sheets.push(h); break; case "</sheet>": break; case "<functionGroups": case "<functionGroups/>": break; case "<functionGroup": break; case "<externalReferences": case "</externalReferences>": case "<externalReferences>": break; case "<externalReference": break; case "<definedNames/>": break; case "<definedNames>": case "<definedNames": n = !0; break; case "</definedNames>": n = !1; break; case "<definedName": i = {}, i.Name = tr(h.name), h.comment && (i.Comment = h.comment), h.localSheetId && (i.Sheet = +h.localSheetId), ur(h.hidden || "0") && (i.Hidden = !0), s = d + f.length; break; case "</definedName>": i.Ref = Nt(tr(e.slice(s, d))), r.Names.push(i); break; case "<definedName/>": break; case "<calcPr": delete h[0], r.CalcPr = h; break; case "<calcPr/>": delete h[0], r.CalcPr = h; break; case "</calcPr>": break; case "<oleSize": break; case "<customWorkbookViews>": case "</customWorkbookViews>": case "<customWorkbookViews": break; case "<customWorkbookView": case "</customWorkbookView>": break; case "<pivotCaches>": case "</pivotCaches>": case "<pivotCaches": break; case "<pivotCache": break; case "<smartTagPr": case "<smartTagPr/>": break; case "<smartTagTypes": case "<smartTagTypes>": case "</smartTagTypes>": break; case "<smartTagType": break; case "<webPublishing": case "<webPublishing/>": break; case "<fileRecoveryPr": case "<fileRecoveryPr/>": break; case "<webPublishObjects>": case "<webPublishObjects": case "</webPublishObjects>": break; case "<webPublishObject": break; case "<extLst": case "<extLst>": case "</extLst>": case "<extLst/>": break; case "<ext": n = !0; break; case "</ext>": n = !1; break; case "<ArchID": break; case "<AlternateContent": case "<AlternateContent>": n = !0; break; case "</AlternateContent>": n = !1; break; case "<revisionPtr": break; default: if (!n && t.WTF) throw new Error("unrecognized " + h[0] + " in workbook") }return f }), bge.indexOf(r.xmlns) === -1) throw new Error("Unknown Namespace: " + r.xmlns); return wU(r), r } function n_e(e, t) { var r = {}; return r.Hidden = e.read_shift(4), r.iTabID = e.read_shift(4), r.strRelID = w_(e), r.name = Ln(e), r } function a_e(e, t) { var r = {}, n = e.read_shift(4); r.defaultThemeVersion = e.read_shift(4); var a = t > 8 ? Ln(e) : ""; return a.length > 0 && (r.CodeName = a), r.autoCompressPictures = !!(n & 65536), r.backupFile = !!(n & 64), r.checkCompatibility = !!(n & 4096), r.date1904 = !!(n & 1), r.filterPrivacy = !!(n & 8), r.hidePivotFieldList = !!(n & 1024), r.promptedSolutions = !!(n & 16), r.publishItems = !!(n & 2048), r.refreshAllConnections = !!(n & 262144), r.saveExternalLinkValues = !!(n & 128), r.showBorderUnselectedTables = !!(n & 4), r.showInkAnnotation = !!(n & 32), r.showObjects = ["all", "placeholders", "none"][n >> 13 & 3], r.showPivotChartFilter = !!(n & 32768), r.updateLinks = ["userSet", "never", "always"][n >> 8 & 3], r } function i_e(e, t) { var r = {}; return e.read_shift(4), r.ArchID = e.read_shift(4), e.l += t - 8, r } function s_e(e, t, r) { var n = e.l + t; e.l += 4, e.l += 1; var a = e.read_shift(4), i = Fge(e), s = H1e(e, 0, r), l = ok(e); e.l = n; var f = { Name: i, Ptg: s }; return a < 268435455 && (f.Sheet = a), l && (f.Comment = l), f } function o_e(e, t) { var r = { AppVersion: {}, WBProps: {}, WBView: [], Sheets: [], CalcPr: {}, xmlns: "" }, n = [], a = !1; t || (t = {}), t.biff = 12; var i = [], s = [[]]; return s.SheetNames = [], s.XTI = [], fg[16] = { n: "BrtFRTArchID$", f: i_e }, Ws(e, function (f, d, h) { switch (h) { case 156: s.SheetNames.push(f.name), r.Sheets.push(f); break; case 153: r.WBProps = f; break; case 39: f.Sheet != null && (t.SID = f.Sheet), f.Ref = In(f.Ptg, null, null, s, t), delete t.SID, delete f.Ptg, i.push(f); break; case 1036: break; case 357: case 358: case 355: case 667: s[0].length ? s.push([h, f]) : s[0] = [h, f], s[s.length - 1].XTI = []; break; case 362: s.length === 0 && (s[0] = [], s[0].XTI = []), s[s.length - 1].XTI = s[s.length - 1].XTI.concat(f), s.XTI = s.XTI.concat(f); break; case 361: break; case 2071: case 158: case 143: case 664: case 353: break; case 3072: case 3073: case 534: case 677: case 157: case 610: case 2050: case 155: case 548: case 676: case 128: case 665: case 2128: case 2125: case 549: case 2053: case 596: case 2076: case 2075: case 2082: case 397: case 154: case 1117: case 553: case 2091: break; case 35: n.push(h), a = !0; break; case 36: n.pop(), a = !1; break; case 37: n.push(h), a = !0; break; case 38: n.pop(), a = !1; break; case 16: break; default: if (!d.T) { if (!a || t.WTF && n[n.length - 1] != 37 && n[n.length - 1] != 35) throw new Error("Unexpected record 0x" + h.toString(16)) } } }, t), wU(r), r.Names = i, r.supbooks = s, r } function l_e(e, t, r) { return t.slice(-4) === ".bin" ? o_e(e, r) : r_e(e, r) } function c_e(e, t, r, n, a, i, s, l) { return t.slice(-4) === ".bin" ? Gwe(e, n, r, a, i, s, l) : nwe(e, n, r, a, i, s, l) } function u_e(e, t, r, n, a, i, s, l) { return t.slice(-4) === ".bin" ? Ywe(e, n, r, a, i) : Wwe(e, n, r, a, i) } function d_e(e, t, r, n, a, i, s, l) { return t.slice(-4) === ".bin" ? ybe() : bbe() } function f_e(e, t, r, n, a, i, s, l) { return t.slice(-4) === ".bin" ? xbe() : vbe() } function h_e(e, t, r, n) { return t.slice(-4) === ".bin" ? Pye(e, r, n) : Aye(e, r, n) } function p_e(e, t, r) { return oU(e, r) } function m_e(e, t, r) { return t.slice(-4) === ".bin" ? Xve(e, r) : Kve(e, r) } function g_e(e, t, r) { return t.slice(-4) === ".bin" ? pbe(e, r) : cbe(e, r) } function x_e(e, t, r) { return t.slice(-4) === ".bin" ? sbe(e) : abe(e) } function v_e(e, t, r, n) { return r.slice(-4) === ".bin" ? obe(e, t, r, n) : void 0 } function y_e(e, t, r) { return t.slice(-4) === ".bin" ? rbe(e, t, r) : nbe(e, t, r) } var _U = /([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g, SU = /([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/; function ii(e, t) { var r = e.split(/\s+/), n = []; if (n[0] = r[0], r.length === 1) return n; var a = e.match(_U), i, s, l, f; if (a) for (f = 0; f != a.length; ++f)i = a[f].match(SU), (s = i[1].indexOf(":")) === -1 ? n[i[1]] = i[2].slice(1, i[2].length - 1) : (i[1].slice(0, 6) === "xmlns:" ? l = "xmlns" + i[1].slice(6) : l = i[1].slice(s + 1), n[l] = i[2].slice(1, i[2].length - 1)); return n } function b_e(e) { var t = e.split(/\s+/), r = {}; if (t.length === 1) return r; var n = e.match(_U), a, i, s, l; if (n) for (l = 0; l != n.length; ++l)a = n[l].match(SU), (i = a[1].indexOf(":")) === -1 ? r[a[1]] = a[2].slice(1, a[2].length - 1) : (a[1].slice(0, 6) === "xmlns:" ? s = "xmlns" + a[1].slice(6) : s = a[1].slice(i + 1), r[s] = a[2].slice(1, a[2].length - 1)); return r } var If; function w_e(e, t) { var r = If[e] || Nt(e); return r === "General" ? ec(t) : Ja(r, t) } function __e(e, t, r, n) { var a = n; switch ((r[0].match(/dt:dt="([\w.]+)"/) || ["", ""])[1]) { case "boolean": a = ur(n); break; case "i2": case "int": a = parseInt(n, 10); break; case "r4": case "float": a = parseFloat(n); break; case "date": case "dateTime.tz": a = sn(n); break; case "i8": case "string": case "fixed": case "uuid": case "bin.base64": break; default: throw new Error("bad custprop:" + r[0]) }e[Nt(t)] = a } function S_e(e, t, r) { if (e.t !== "z") { if (!r || r.cellText !== !1) try { e.t === "e" ? e.w = e.w || dc[e.v] : t === "General" ? e.t === "n" ? (e.v | 0) === e.v ? e.w = e.v.toString(10) : e.w = r0(e.v) : e.w = ec(e.v) : e.w = w_e(t || "General", e.v) } catch (i) { if (r.WTF) throw i } try { var n = If[t] || t || "General"; if (r.cellNF && (e.z = n), r.cellDates && e.t == "n" && rd(n)) { var a = Fl(e.v); a && (e.t = "d", e.v = new Date(a.y, a.m - 1, a.d, a.H, a.M, a.S, a.u)) } } catch (i) { if (r.WTF) throw i } } } function E_e(e, t, r) { if (r.cellStyles && t.Interior) { var n = t.Interior; n.Pattern && (n.patternType = _ye[n.Pattern] || n.Pattern) } e[t.ID] = t } function k_e(e, t, r, n, a, i, s, l, f, d) { var h = "General", m = n.StyleID, g = {}; d = d || {}; var v = [], y = 0; for (m === void 0 && l && (m = l.StyleID), m === void 0 && s && (m = s.StyleID); i[m] !== void 0 && (i[m].nf && (h = i[m].nf), i[m].Interior && v.push(i[m].Interior), !!i[m].Parent);)m = i[m].Parent; switch (r.Type) { case "Boolean": n.t = "b", n.v = ur(e); break; case "String": n.t = "s", n.r = LD(Nt(e)), n.v = e.indexOf("<") > -1 ? Nt(t || e).replace(/<.*?>/g, "") : n.r; break; case "DateTime": e.slice(-1) != "Z" && (e += "Z"), n.v = (sn(e) - new Date(Date.UTC(1899, 11, 30))) / (1440 * 60 * 1e3), n.v !== n.v ? n.v = Nt(e) : n.v < 60 && (n.v = n.v - 1), (!h || h == "General") && (h = "yyyy-mm-dd"); case "Number": n.v === void 0 && (n.v = +e), n.t || (n.t = "n"); break; case "Error": n.t = "e", n.v = UF[e], d.cellText !== !1 && (n.w = e); break; default: e == "" && t == "" ? n.t = "z" : (n.t = "s", n.v = LD(t || e)); break }if (S_e(n, h, d), d.cellFormula !== !1) if (n.Formula) { var b = Nt(n.Formula); b.charCodeAt(0) == 61 && (b = b.slice(1)), n.f = Cu(b, a), delete n.Formula, n.ArrayRange == "RC" ? n.F = Cu("RC:RC", a) : n.ArrayRange && (n.F = Cu(n.ArrayRange, a), f.push([Er(n.F), n.F])) } else for (y = 0; y < f.length; ++y)a.r >= f[y][0].s.r && a.r <= f[y][0].e.r && a.c >= f[y][0].s.c && a.c <= f[y][0].e.c && (n.F = f[y][1]); d.cellStyles && (v.forEach(function (_) { !g.patternType && _.patternType && (g.patternType = _.patternType) }), n.s = g), n.StyleID !== void 0 && (n.ixfe = n.StyleID) } function T_e(e) {
  e.t = e.v || "", e.t = e.t.replace(/\r\n/g, `
`).replace(/\r/g, `
`), e.v = e.w = e.ixfe = void 0
} function B1(e, t) { var r = t || {}; dF(); var n = mf(rk(e)); (r.type == "binary" || r.type == "array" || r.type == "base64") && (n = tr(n)); var a = n.slice(0, 1024).toLowerCase(), i = !1; if (a = a.replace(/".*?"/g, ""), (a.indexOf(">") & 1023) > Math.min(a.indexOf(",") & 1023, a.indexOf(";") & 1023)) { var s = Sn(r); return s.type = "string", i0.to_workbook(n, s) } if (a.indexOf("<?xml") == -1 && ["html", "table", "head", "meta", "script", "style", "div"].forEach(function (Ut) { a.indexOf("<" + Ut) >= 0 && (i = !0) }), i) return D_e(n, r); If = { "General Number": "General", "General Date": ft[22], "Long Date": "dddd, mmmm dd, yyyy", "Medium Date": ft[15], "Short Date": ft[14], "Long Time": ft[19], "Medium Time": ft[18], "Short Time": ft[20], Currency: '"$"#,##0.00_);[Red]\\("$"#,##0.00\\)', Fixed: ft[2], Standard: ft[4], Percent: ft[10], Scientific: ft[11], "Yes/No": '"Yes";"Yes";"No";@', "True/False": '"True";"True";"False";@', "On/Off": '"Yes";"Yes";"No";@' }; var l, f = [], d, h = {}, m = [], g = r.dense ? [] : {}, v = "", y = {}, b = {}, _ = ii('<Data ss:Type="String">'), k = 0, C = 0, T = 0, j = { s: { r: 2e6, c: 2e6 }, e: { r: 0, c: 0 } }, R = {}, O = {}, I = "", H = 0, F = [], X = {}, V = {}, U = 0, ee = [], re = [], de = {}, D = [], z, ie = !1, M = [], te = [], G = {}, P = 0, W = 0, J = { Sheets: [], WBProps: { date1904: !1 } }, B = {}; a0.lastIndex = 0, n = n.replace(/<!--([\s\S]*?)-->/mg, ""); for (var ce = ""; l = a0.exec(n);)switch (l[3] = (ce = l[3]).toLowerCase()) { case "data": if (ce == "data") { if (l[1] === "/") { if ((d = f.pop())[0] !== l[3]) throw new Error("Bad state: " + d.join("|")) } else l[0].charAt(l[0].length - 2) !== "/" && f.push([l[3], !0]); break } if (f[f.length - 1][1]) break; l[1] === "/" ? k_e(n.slice(k, l.index), I, _, f[f.length - 1][0] == "comment" ? de : y, { c: C, r: T }, R, D[C], b, M, r) : (I = "", _ = ii(l[0]), k = l.index + l[0].length); break; case "cell": if (l[1] === "/") if (re.length > 0 && (y.c = re), (!r.sheetRows || r.sheetRows > T) && y.v !== void 0 && (r.dense ? (g[T] || (g[T] = []), g[T][C] = y) : g[Vr(C) + En(T)] = y), y.HRef && (y.l = { Target: Nt(y.HRef) }, y.HRefScreenTip && (y.l.Tooltip = y.HRefScreenTip), delete y.HRef, delete y.HRefScreenTip), (y.MergeAcross || y.MergeDown) && (P = C + (parseInt(y.MergeAcross, 10) | 0), W = T + (parseInt(y.MergeDown, 10) | 0), F.push({ s: { c: C, r: T }, e: { c: P, r: W } })), !r.sheetStubs) y.MergeAcross ? C = P + 1 : ++C; else if (y.MergeAcross || y.MergeDown) { for (var fe = C; fe <= P; ++fe)for (var le = T; le <= W; ++le)(fe > C || le > T) && (r.dense ? (g[le] || (g[le] = []), g[le][fe] = { t: "z" }) : g[Vr(fe) + En(le)] = { t: "z" }); C = P + 1 } else ++C; else y = b_e(l[0]), y.Index && (C = +y.Index - 1), C < j.s.c && (j.s.c = C), C > j.e.c && (j.e.c = C), l[0].slice(-2) === "/>" && ++C, re = []; break; case "row": l[1] === "/" || l[0].slice(-2) === "/>" ? (T < j.s.r && (j.s.r = T), T > j.e.r && (j.e.r = T), l[0].slice(-2) === "/>" && (b = ii(l[0]), b.Index && (T = +b.Index - 1)), C = 0, ++T) : (b = ii(l[0]), b.Index && (T = +b.Index - 1), G = {}, (b.AutoFitHeight == "0" || b.Height) && (G.hpx = parseInt(b.Height, 10), G.hpt = sU(G.hpx), te[T] = G), b.Hidden == "1" && (G.hidden = !0, te[T] = G)); break; case "worksheet": if (l[1] === "/") { if ((d = f.pop())[0] !== l[3]) throw new Error("Bad state: " + d.join("|")); m.push(v), j.s.r <= j.e.r && j.s.c <= j.e.c && (g["!ref"] = Tt(j), r.sheetRows && r.sheetRows <= j.e.r && (g["!fullref"] = g["!ref"], j.e.r = r.sheetRows - 1, g["!ref"] = Tt(j))), F.length && (g["!merges"] = F), D.length > 0 && (g["!cols"] = D), te.length > 0 && (g["!rows"] = te), h[v] = g } else j = { s: { r: 2e6, c: 2e6 }, e: { r: 0, c: 0 } }, T = C = 0, f.push([l[3], !1]), d = ii(l[0]), v = Nt(d.Name), g = r.dense ? [] : {}, F = [], M = [], te = [], B = { name: v, Hidden: 0 }, J.Sheets.push(B); break; case "table": if (l[1] === "/") { if ((d = f.pop())[0] !== l[3]) throw new Error("Bad state: " + d.join("|")) } else { if (l[0].slice(-2) == "/>") break; f.push([l[3], !1]), D = [], ie = !1 } break; case "style": l[1] === "/" ? E_e(R, O, r) : O = ii(l[0]); break; case "numberformat": O.nf = Nt(ii(l[0]).Format || "General"), If[O.nf] && (O.nf = If[O.nf]); for (var oe = 0; oe != 392 && ft[oe] != O.nf; ++oe); if (oe == 392) { for (oe = 57; oe != 392; ++oe)if (ft[oe] == null) { Hl(O.nf, oe); break } } break; case "column": if (f[f.length - 1][0] !== "table") break; if (z = ii(l[0]), z.Hidden && (z.hidden = !0, delete z.Hidden), z.Width && (z.wpx = parseInt(z.Width, 10)), !ie && z.wpx > 10) { ie = !0, qn = aU; for (var pe = 0; pe < D.length; ++pe)D[pe] && Uu(D[pe]) } ie && Uu(z), D[z.Index - 1 || D.length] = z; for (var Ie = 0; Ie < +z.Span; ++Ie)D[D.length] = Sn(z); break; case "namedrange": if (l[1] === "/") break; J.Names || (J.Names = []); var Y = at(l[0]), ct = { Name: Y.Name, Ref: Cu(Y.RefersTo.slice(1), { r: 0, c: 0 }) }; J.Sheets.length > 0 && (ct.Sheet = J.Sheets.length - 1), J.Names.push(ct); break; case "namedcell": break; case "b": break; case "i": break; case "u": break; case "s": break; case "em": break; case "h2": break; case "h3": break; case "sub": break; case "sup": break; case "span": break; case "alignment": break; case "borders": break; case "border": break; case "font": if (l[0].slice(-2) === "/>") break; l[1] === "/" ? I += n.slice(H, l.index) : H = l.index + l[0].length; break; case "interior": if (!r.cellStyles) break; O.Interior = ii(l[0]); break; case "protection": break; case "author": case "title": case "description": case "created": case "keywords": case "subject": case "category": case "company": case "lastauthor": case "lastsaved": case "lastprinted": case "version": case "revision": case "totaltime": case "hyperlinkbase": case "manager": case "contentstatus": case "identifier": case "language": case "appname": if (l[0].slice(-2) === "/>") break; l[1] === "/" ? cxe(X, ce, n.slice(U, l.index)) : U = l.index + l[0].length; break; case "paragraphs": break; case "styles": case "workbook": if (l[1] === "/") { if ((d = f.pop())[0] !== l[3]) throw new Error("Bad state: " + d.join("|")) } else f.push([l[3], !1]); break; case "comment": if (l[1] === "/") { if ((d = f.pop())[0] !== l[3]) throw new Error("Bad state: " + d.join("|")); T_e(de), re.push(de) } else f.push([l[3], !1]), d = ii(l[0]), de = { a: d.Author }; break; case "autofilter": if (l[1] === "/") { if ((d = f.pop())[0] !== l[3]) throw new Error("Bad state: " + d.join("|")) } else if (l[0].charAt(l[0].length - 2) !== "/") { var He = ii(l[0]); g["!autofilter"] = { ref: Cu(He.Range).replace(/\$/g, "") }, f.push([l[3], !0]) } break; case "name": break; case "datavalidation": if (l[1] === "/") { if ((d = f.pop())[0] !== l[3]) throw new Error("Bad state: " + d.join("|")) } else l[0].charAt(l[0].length - 2) !== "/" && f.push([l[3], !0]); break; case "pixelsperinch": break; case "componentoptions": case "documentproperties": case "customdocumentproperties": case "officedocumentsettings": case "pivottable": case "pivotcache": case "names": case "mapinfo": case "pagebreaks": case "querytable": case "sorting": case "schema": case "conditionalformatting": case "smarttagtype": case "smarttags": case "excelworkbook": case "workbookoptions": case "worksheetoptions": if (l[1] === "/") { if ((d = f.pop())[0] !== l[3]) throw new Error("Bad state: " + d.join("|")) } else l[0].charAt(l[0].length - 2) !== "/" && f.push([l[3], !0]); break; case "null": break; default: if (f.length == 0 && l[3] == "document" || f.length == 0 && l[3] == "uof") return w4(n, r); var tt = !0; switch (f[f.length - 1][0]) { case "officedocumentsettings": switch (l[3]) { case "allowpng": break; case "removepersonalinformation": break; case "downloadcomponents": break; case "locationofcomponents": break; case "colors": break; case "color": break; case "index": break; case "rgb": break; case "targetscreensize": break; case "readonlyrecommended": break; default: tt = !1 }break; case "componentoptions": switch (l[3]) { case "toolbar": break; case "hideofficelogo": break; case "spreadsheetautofit": break; case "label": break; case "caption": break; case "maxheight": break; case "maxwidth": break; case "nextsheetnumber": break; default: tt = !1 }break; case "excelworkbook": switch (l[3]) { case "date1904": J.WBProps.date1904 = !0; break; case "windowheight": break; case "windowwidth": break; case "windowtopx": break; case "windowtopy": break; case "tabratio": break; case "protectstructure": break; case "protectwindow": break; case "protectwindows": break; case "activesheet": break; case "displayinknotes": break; case "firstvisiblesheet": break; case "supbook": break; case "sheetname": break; case "sheetindex": break; case "sheetindexfirst": break; case "sheetindexlast": break; case "dll": break; case "acceptlabelsinformulas": break; case "donotsavelinkvalues": break; case "iteration": break; case "maxiterations": break; case "maxchange": break; case "path": break; case "xct": break; case "count": break; case "selectedsheets": break; case "calculation": break; case "uncalced": break; case "startupprompt": break; case "crn": break; case "externname": break; case "formula": break; case "colfirst": break; case "collast": break; case "wantadvise": break; case "boolean": break; case "error": break; case "text": break; case "ole": break; case "noautorecover": break; case "publishobjects": break; case "donotcalculatebeforesave": break; case "number": break; case "refmoder1c1": break; case "embedsavesmarttags": break; default: tt = !1 }break; case "workbookoptions": switch (l[3]) { case "owcversion": break; case "height": break; case "width": break; default: tt = !1 }break; case "worksheetoptions": switch (l[3]) { case "visible": if (l[0].slice(-2) !== "/>") if (l[1] === "/") switch (n.slice(U, l.index)) { case "SheetHidden": B.Hidden = 1; break; case "SheetVeryHidden": B.Hidden = 2; break } else U = l.index + l[0].length; break; case "header": g["!margins"] || jf(g["!margins"] = {}, "xlml"), isNaN(+at(l[0]).Margin) || (g["!margins"].header = +at(l[0]).Margin); break; case "footer": g["!margins"] || jf(g["!margins"] = {}, "xlml"), isNaN(+at(l[0]).Margin) || (g["!margins"].footer = +at(l[0]).Margin); break; case "pagemargins": var Je = at(l[0]); g["!margins"] || jf(g["!margins"] = {}, "xlml"), isNaN(+Je.Top) || (g["!margins"].top = +Je.Top), isNaN(+Je.Left) || (g["!margins"].left = +Je.Left), isNaN(+Je.Right) || (g["!margins"].right = +Je.Right), isNaN(+Je.Bottom) || (g["!margins"].bottom = +Je.Bottom); break; case "displayrighttoleft": J.Views || (J.Views = []), J.Views[0] || (J.Views[0] = {}), J.Views[0].RTL = !0; break; case "freezepanes": break; case "frozennosplit": break; case "splithorizontal": case "splitvertical": break; case "donotdisplaygridlines": break; case "activerow": break; case "activecol": break; case "toprowbottompane": break; case "leftcolumnrightpane": break; case "unsynced": break; case "print": break; case "printerrors": break; case "panes": break; case "scale": break; case "pane": break; case "number": break; case "layout": break; case "pagesetup": break; case "selected": break; case "protectobjects": break; case "enableselection": break; case "protectscenarios": break; case "validprinterinfo": break; case "horizontalresolution": break; case "verticalresolution": break; case "numberofcopies": break; case "activepane": break; case "toprowvisible": break; case "leftcolumnvisible": break; case "fittopage": break; case "rangeselection": break; case "papersizeindex": break; case "pagelayoutzoom": break; case "pagebreakzoom": break; case "filteron": break; case "fitwidth": break; case "fitheight": break; case "commentslayout": break; case "zoom": break; case "lefttoright": break; case "gridlines": break; case "allowsort": break; case "allowfilter": break; case "allowinsertrows": break; case "allowdeleterows": break; case "allowinsertcols": break; case "allowdeletecols": break; case "allowinserthyperlinks": break; case "allowformatcells": break; case "allowsizecols": break; case "allowsizerows": break; case "nosummaryrowsbelowdetail": g["!outline"] || (g["!outline"] = {}), g["!outline"].above = !0; break; case "tabcolorindex": break; case "donotdisplayheadings": break; case "showpagelayoutzoom": break; case "nosummarycolumnsrightdetail": g["!outline"] || (g["!outline"] = {}), g["!outline"].left = !0; break; case "blackandwhite": break; case "donotdisplayzeros": break; case "displaypagebreak": break; case "rowcolheadings": break; case "donotdisplayoutline": break; case "noorientation": break; case "allowusepivottables": break; case "zeroheight": break; case "viewablerange": break; case "selection": break; case "protectcontents": break; default: tt = !1 }break; case "pivottable": case "pivotcache": switch (l[3]) { case "immediateitemsondrop": break; case "showpagemultipleitemlabel": break; case "compactrowindent": break; case "location": break; case "pivotfield": break; case "orientation": break; case "layoutform": break; case "layoutsubtotallocation": break; case "layoutcompactrow": break; case "position": break; case "pivotitem": break; case "datatype": break; case "datafield": break; case "sourcename": break; case "parentfield": break; case "ptlineitems": break; case "ptlineitem": break; case "countofsameitems": break; case "item": break; case "itemtype": break; case "ptsource": break; case "cacheindex": break; case "consolidationreference": break; case "filename": break; case "reference": break; case "nocolumngrand": break; case "norowgrand": break; case "blanklineafteritems": break; case "hidden": break; case "subtotal": break; case "basefield": break; case "mapchilditems": break; case "function": break; case "refreshonfileopen": break; case "printsettitles": break; case "mergelabels": break; case "defaultversion": break; case "refreshname": break; case "refreshdate": break; case "refreshdatecopy": break; case "versionlastrefresh": break; case "versionlastupdate": break; case "versionupdateablemin": break; case "versionrefreshablemin": break; case "calculation": break; default: tt = !1 }break; case "pagebreaks": switch (l[3]) { case "colbreaks": break; case "colbreak": break; case "rowbreaks": break; case "rowbreak": break; case "colstart": break; case "colend": break; case "rowend": break; default: tt = !1 }break; case "autofilter": switch (l[3]) { case "autofiltercolumn": break; case "autofiltercondition": break; case "autofilterand": break; case "autofilteror": break; default: tt = !1 }break; case "querytable": switch (l[3]) { case "id": break; case "autoformatfont": break; case "autoformatpattern": break; case "querysource": break; case "querytype": break; case "enableredirections": break; case "refreshedinxl9": break; case "urlstring": break; case "htmltables": break; case "connection": break; case "commandtext": break; case "refreshinfo": break; case "notitles": break; case "nextid": break; case "columninfo": break; case "overwritecells": break; case "donotpromptforfile": break; case "textwizardsettings": break; case "source": break; case "number": break; case "decimal": break; case "thousandseparator": break; case "trailingminusnumbers": break; case "formatsettings": break; case "fieldtype": break; case "delimiters": break; case "tab": break; case "comma": break; case "autoformatname": break; case "versionlastedit": break; case "versionlastrefresh": break; default: tt = !1 }break; case "datavalidation": switch (l[3]) { case "range": break; case "type": break; case "min": break; case "max": break; case "sort": break; case "descending": break; case "order": break; case "casesensitive": break; case "value": break; case "errorstyle": break; case "errormessage": break; case "errortitle": break; case "inputmessage": break; case "inputtitle": break; case "combohide": break; case "inputhide": break; case "condition": break; case "qualifier": break; case "useblank": break; case "value1": break; case "value2": break; case "format": break; case "cellrangelist": break; default: tt = !1 }break; case "sorting": case "conditionalformatting": switch (l[3]) { case "range": break; case "type": break; case "min": break; case "max": break; case "sort": break; case "descending": break; case "order": break; case "casesensitive": break; case "value": break; case "errorstyle": break; case "errormessage": break; case "errortitle": break; case "cellrangelist": break; case "inputmessage": break; case "inputtitle": break; case "combohide": break; case "inputhide": break; case "condition": break; case "qualifier": break; case "useblank": break; case "value1": break; case "value2": break; case "format": break; default: tt = !1 }break; case "mapinfo": case "schema": case "data": switch (l[3]) { case "map": break; case "entry": break; case "range": break; case "xpath": break; case "field": break; case "xsdtype": break; case "filteron": break; case "aggregate": break; case "elementtype": break; case "attributetype": break; case "schema": case "element": case "complextype": case "datatype": case "all": case "attribute": case "extends": break; case "row": break; default: tt = !1 }break; case "smarttags": break; default: tt = !1; break }if (tt || l[3].match(/!\[CDATA/)) break; if (!f[f.length - 1][1]) throw "Unrecognized tag: " + l[3] + "|" + f.join("|"); if (f[f.length - 1][0] === "customdocumentproperties") { if (l[0].slice(-2) === "/>") break; l[1] === "/" ? __e(V, ce, ee, n.slice(U, l.index)) : (ee = l, U = l.index + l[0].length); break } if (r.WTF) throw "Unrecognized tag: " + l[3] + "|" + f.join("|") }var Pe = {}; return !r.bookSheets && !r.bookProps && (Pe.Sheets = h), Pe.SheetNames = m, Pe.Workbook = J, Pe.SSF = Sn(ft), Pe.Props = X, Pe.Custprops = V, Pe } function k_(e, t) { switch (xk(t = t || {}), t.type || "base64") { case "base64": return B1(Na(e), t); case "binary": case "buffer": case "file": return B1(e, t); case "array": return B1(lc(e), t) } } function N_e(e) { var t = {}, r = e.content; if (r.l = 28, t.AnsiUserType = r.read_shift(0, "lpstr-ansi"), t.AnsiClipboardFormat = $ge(r), r.length - r.l <= 4) return t; var n = r.read_shift(4); if (n == 0 || n > 40 || (r.l -= 4, t.Reserved1 = r.read_shift(0, "lpstr-ansi"), r.length - r.l <= 4) || (n = r.read_shift(4), n !== 1907505652) || (t.UnicodeClipboardFormat = zge(r), n = r.read_shift(4), n == 0 || n > 40)) return t; r.l -= 4, t.Reserved2 = r.read_shift(0, "lpwstr") } var A_e = [60, 1084, 2066, 2165, 2175]; function C_e(e, t, r, n, a) { var i = n, s = [], l = r.slice(r.l, r.l + i); if (a && a.enc && a.enc.insitu && l.length > 0) switch (e) { case 9: case 521: case 1033: case 2057: case 47: case 405: case 225: case 406: case 312: case 404: case 10: break; case 133: break; default: a.enc.insitu(l) }s.push(l), r.l += i; for (var f = Ss(r, r.l), d = T_[f], h = 0; d != null && A_e.indexOf(f) > -1;)i = Ss(r, r.l + 2), h = r.l + 4, f == 2066 ? h += 4 : (f == 2165 || f == 2175) && (h += 12), l = r.slice(h, r.l + 4 + i), s.push(l), r.l += 4 + i, d = T_[f = Ss(r, r.l)]; var m = Co(s); _n(m, 0); var g = 0; m.lens = []; for (var v = 0; v < s.length; ++v)m.lens.push(g), g += s[v].length; if (m.length < n) throw "XLS Record 0x" + e.toString(16) + " Truncated: " + m.length + " < " + n; return t.f(m, m.length, a) } function Mi(e, t, r) { if (e.t !== "z" && e.XF) { var n = 0; try { n = e.z || e.XF.numFmtId || 0, t.cellNF && (e.z = ft[n]) } catch (i) { if (t.WTF) throw i } if (!t || t.cellText !== !1) try { e.t === "e" ? e.w = e.w || dc[e.v] : n === 0 || n == "General" ? e.t === "n" ? (e.v | 0) === e.v ? e.w = e.v.toString(10) : e.w = r0(e.v) : e.w = ec(e.v) : e.w = Ja(n, e.v, { date1904: !!r, dateNF: t && t.dateNF }) } catch (i) { if (t.WTF) throw i } if (t.cellDates && n && e.t == "n" && rd(ft[n] || String(n))) { var a = Fl(e.v); a && (e.t = "d", e.v = new Date(a.y, a.m - 1, a.d, a.H, a.M, a.S, a.u)) } } } function Rp(e, t, r) { return { v: e, ixfe: t, t: r } } function j_e(e, t) { var r = { opts: {} }, n = {}, a = t.dense ? [] : {}, i = {}, s = {}, l = null, f = [], d = "", h = {}, m, g = "", v, y, b, _, k = {}, C = [], T, j, R = [], O = [], I = { Sheets: [], WBProps: { date1904: !1 }, Views: [{}] }, H = {}, F = function (ut) { return ut < 8 ? Gl[ut] : ut < 64 && O[ut - 8] || Gl[ut] }, X = function (ut, Xt, Nn) { var Pt = Xt.XF.data; if (!(!Pt || !Pt.patternType || !Nn || !Nn.cellStyles)) { Xt.s = {}, Xt.s.patternType = Pt.patternType; var hr; (hr = s0(F(Pt.icvFore))) && (Xt.s.fgColor = { rgb: hr }), (hr = s0(F(Pt.icvBack))) && (Xt.s.bgColor = { rgb: hr }) } }, V = function (ut, Xt, Nn) { if (!(G > 1) && !(Nn.sheetRows && ut.r >= Nn.sheetRows)) { if (Nn.cellStyles && Xt.XF && Xt.XF.data && X(ut, Xt, Nn), delete Xt.ixfe, delete Xt.XF, m = ut, g = lt(ut), (!s || !s.s || !s.e) && (s = { s: { r: 0, c: 0 }, e: { r: 0, c: 0 } }), ut.r < s.s.r && (s.s.r = ut.r), ut.c < s.s.c && (s.s.c = ut.c), ut.r + 1 > s.e.r && (s.e.r = ut.r + 1), ut.c + 1 > s.e.c && (s.e.c = ut.c + 1), Nn.cellFormula && Xt.f) { for (var Pt = 0; Pt < C.length; ++Pt)if (!(C[Pt][0].s.c > ut.c || C[Pt][0].s.r > ut.r) && !(C[Pt][0].e.c < ut.c || C[Pt][0].e.r < ut.r)) { Xt.F = Tt(C[Pt][0]), (C[Pt][0].s.c != ut.c || C[Pt][0].s.r != ut.r) && delete Xt.f, Xt.f && (Xt.f = "" + In(C[Pt][1], s, ut, M, U)); break } } Nn.dense ? (a[ut.r] || (a[ut.r] = []), a[ut.r][ut.c] = Xt) : a[g] = Xt } }, U = { enc: !1, sbcch: 0, snames: [], sharedf: k, arrayf: C, rrtabid: [], lastuser: "", biff: 8, codepage: 0, winlocked: 0, cellStyles: !!t && !!t.cellStyles, WTF: !!t && !!t.wtf }; t.password && (U.password = t.password); var ee, re = [], de = [], D = [], z = [], ie = !1, M = []; M.SheetNames = U.snames, M.sharedf = U.sharedf, M.arrayf = U.arrayf, M.names = [], M.XTI = []; var te = 0, G = 0, P = 0, W = [], J = [], B; U.codepage = 1200, pi(1200); for (var ce = !1; e.l < e.length - 1;) { var fe = e.l, le = e.read_shift(2); if (le === 0 && te === 10) break; var oe = e.l === e.length ? 0 : e.read_shift(2), pe = T_[le]; if (pe && pe.f) { if (t.bookSheets && te === 133 && le !== 133) break; if (te = le, pe.r === 2 || pe.r == 12) { var Ie = e.read_shift(2); if (oe -= 2, !U.enc && Ie !== le && ((Ie & 255) << 8 | Ie >> 8) !== le) throw new Error("rt mismatch: " + Ie + "!=" + le); pe.r == 12 && (e.l += 10, oe -= 10) } var Y = {}; if (le === 10 ? Y = pe.f(e, oe, U) : Y = C_e(le, pe, e, oe, U), G == 0 && [9, 521, 1033, 2057].indexOf(te) === -1) continue; switch (le) { case 34: r.opts.Date1904 = I.WBProps.date1904 = Y; break; case 134: r.opts.WriteProtect = !0; break; case 47: if (U.enc || (e.l = 0), U.enc = Y, !t.password) throw new Error("File is password-protected"); if (Y.valid == null) throw new Error("Encryption scheme unsupported"); if (!Y.valid) throw new Error("Password is incorrect"); break; case 92: U.lastuser = Y; break; case 66: var ct = Number(Y); switch (ct) { case 21010: ct = 1200; break; case 32768: ct = 1e4; break; case 32769: ct = 1252; break }pi(U.codepage = ct), ce = !0; break; case 317: U.rrtabid = Y; break; case 25: U.winlocked = Y; break; case 439: r.opts.RefreshAll = Y; break; case 12: r.opts.CalcCount = Y; break; case 16: r.opts.CalcDelta = Y; break; case 17: r.opts.CalcIter = Y; break; case 13: r.opts.CalcMode = Y; break; case 14: r.opts.CalcPrecision = Y; break; case 95: r.opts.CalcSaveRecalc = Y; break; case 15: U.CalcRefMode = Y; break; case 2211: r.opts.FullCalc = Y; break; case 129: Y.fDialog && (a["!type"] = "dialog"), Y.fBelow || ((a["!outline"] || (a["!outline"] = {})).above = !0), Y.fRight || ((a["!outline"] || (a["!outline"] = {})).left = !0); break; case 224: R.push(Y); break; case 430: M.push([Y]), M[M.length - 1].XTI = []; break; case 35: case 547: M[M.length - 1].push(Y); break; case 24: case 536: B = { Name: Y.Name, Ref: In(Y.rgce, s, null, M, U) }, Y.itab > 0 && (B.Sheet = Y.itab - 1), M.names.push(B), M[0] || (M[0] = [], M[0].XTI = []), M[M.length - 1].push(Y), Y.Name == "_xlnm._FilterDatabase" && Y.itab > 0 && Y.rgce && Y.rgce[0] && Y.rgce[0][0] && Y.rgce[0][0][0] == "PtgArea3d" && (J[Y.itab - 1] = { ref: Tt(Y.rgce[0][0][1][2]) }); break; case 22: U.ExternCount = Y; break; case 23: M.length == 0 && (M[0] = [], M[0].XTI = []), M[M.length - 1].XTI = M[M.length - 1].XTI.concat(Y), M.XTI = M.XTI.concat(Y); break; case 2196: if (U.biff < 8) break; B != null && (B.Comment = Y[1]); break; case 18: a["!protect"] = Y; break; case 19: Y !== 0 && U.WTF && console.error("Password verifier: " + Y); break; case 133: i[Y.pos] = Y, U.snames.push(Y.name); break; case 10: { if (--G) break; if (s.e) { if (s.e.r > 0 && s.e.c > 0) { if (s.e.r--, s.e.c--, a["!ref"] = Tt(s), t.sheetRows && t.sheetRows <= s.e.r) { var He = s.e.r; s.e.r = t.sheetRows - 1, a["!fullref"] = a["!ref"], a["!ref"] = Tt(s), s.e.r = He } s.e.r++, s.e.c++ } re.length > 0 && (a["!merges"] = re), de.length > 0 && (a["!objects"] = de), D.length > 0 && (a["!cols"] = D), z.length > 0 && (a["!rows"] = z), I.Sheets.push(H) } d === "" ? h = a : n[d] = a, a = t.dense ? [] : {} } break; case 9: case 521: case 1033: case 2057: { if (U.biff === 8 && (U.biff = { 9: 2, 521: 3, 1033: 4 }[le] || { 512: 2, 768: 3, 1024: 4, 1280: 5, 1536: 8, 2: 2, 7: 2 }[Y.BIFFVer] || 8), U.biffguess = Y.BIFFVer == 0, Y.BIFFVer == 0 && Y.dt == 4096 && (U.biff = 5, ce = !0, pi(U.codepage = 28591)), U.biff == 8 && Y.BIFFVer == 0 && Y.dt == 16 && (U.biff = 2), G++) break; if (a = t.dense ? [] : {}, U.biff < 8 && !ce && (ce = !0, pi(U.codepage = t.codepage || 1252)), U.biff < 5 || Y.BIFFVer == 0 && Y.dt == 4096) { d === "" && (d = "Sheet1"), s = { s: { r: 0, c: 0 }, e: { r: 0, c: 0 } }; var tt = { pos: e.l - oe, name: d }; i[tt.pos] = tt, U.snames.push(d) } else d = (i[fe] || { name: "" }).name; Y.dt == 32 && (a["!type"] = "chart"), Y.dt == 64 && (a["!type"] = "macro"), re = [], de = [], U.arrayf = C = [], D = [], z = [], ie = !1, H = { Hidden: (i[fe] || { hs: 0 }).hs, name: d } } break; case 515: case 3: case 2: a["!type"] == "chart" && (t.dense ? (a[Y.r] || [])[Y.c] : a[lt({ c: Y.c, r: Y.r })]) && ++Y.c, T = { ixfe: Y.ixfe, XF: R[Y.ixfe] || {}, v: Y.val, t: "n" }, P > 0 && (T.z = W[T.ixfe >> 8 & 63]), Mi(T, t, r.opts.Date1904), V({ c: Y.c, r: Y.r }, T, t); break; case 5: case 517: T = { ixfe: Y.ixfe, XF: R[Y.ixfe], v: Y.val, t: Y.t }, P > 0 && (T.z = W[T.ixfe >> 8 & 63]), Mi(T, t, r.opts.Date1904), V({ c: Y.c, r: Y.r }, T, t); break; case 638: T = { ixfe: Y.ixfe, XF: R[Y.ixfe], v: Y.rknum, t: "n" }, P > 0 && (T.z = W[T.ixfe >> 8 & 63]), Mi(T, t, r.opts.Date1904), V({ c: Y.c, r: Y.r }, T, t); break; case 189: for (var Je = Y.c; Je <= Y.C; ++Je) { var Pe = Y.rkrec[Je - Y.c][0]; T = { ixfe: Pe, XF: R[Pe], v: Y.rkrec[Je - Y.c][1], t: "n" }, P > 0 && (T.z = W[T.ixfe >> 8 & 63]), Mi(T, t, r.opts.Date1904), V({ c: Je, r: Y.r }, T, t) } break; case 6: case 518: case 1030: { if (Y.val == "String") { l = Y; break } if (T = Rp(Y.val, Y.cell.ixfe, Y.tt), T.XF = R[T.ixfe], t.cellFormula) { var Ut = Y.formula; if (Ut && Ut[0] && Ut[0][0] && Ut[0][0][0] == "PtgExp") { var dn = Ut[0][0][1][0], kn = Ut[0][0][1][1], Xr = lt({ r: dn, c: kn }); k[Xr] ? T.f = "" + In(Y.formula, s, Y.cell, M, U) : T.F = ((t.dense ? (a[dn] || [])[kn] : a[Xr]) || {}).F } else T.f = "" + In(Y.formula, s, Y.cell, M, U) } P > 0 && (T.z = W[T.ixfe >> 8 & 63]), Mi(T, t, r.opts.Date1904), V(Y.cell, T, t), l = Y } break; case 7: case 519: if (l) l.val = Y, T = Rp(Y, l.cell.ixfe, "s"), T.XF = R[T.ixfe], t.cellFormula && (T.f = "" + In(l.formula, s, l.cell, M, U)), P > 0 && (T.z = W[T.ixfe >> 8 & 63]), Mi(T, t, r.opts.Date1904), V(l.cell, T, t), l = null; else throw new Error("String record expects Formula"); break; case 33: case 545: { C.push(Y); var Ti = lt(Y[0].s); if (v = t.dense ? (a[Y[0].s.r] || [])[Y[0].s.c] : a[Ti], t.cellFormula && v) { if (!l || !Ti || !v) break; v.f = "" + In(Y[1], s, Y[0], M, U), v.F = Tt(Y[0]) } } break; case 1212: { if (!t.cellFormula) break; if (g) { if (!l) break; k[lt(l.cell)] = Y[0], v = t.dense ? (a[l.cell.r] || [])[l.cell.c] : a[lt(l.cell)], (v || {}).f = "" + In(Y[0], s, m, M, U) } } break; case 253: T = Rp(f[Y.isst].t, Y.ixfe, "s"), f[Y.isst].h && (T.h = f[Y.isst].h), T.XF = R[T.ixfe], P > 0 && (T.z = W[T.ixfe >> 8 & 63]), Mi(T, t, r.opts.Date1904), V({ c: Y.c, r: Y.r }, T, t); break; case 513: t.sheetStubs && (T = { ixfe: Y.ixfe, XF: R[Y.ixfe], t: "z" }, P > 0 && (T.z = W[T.ixfe >> 8 & 63]), Mi(T, t, r.opts.Date1904), V({ c: Y.c, r: Y.r }, T, t)); break; case 190: if (t.sheetStubs) for (var fa = Y.c; fa <= Y.C; ++fa) { var Mt = Y.ixfe[fa - Y.c]; T = { ixfe: Mt, XF: R[Mt], t: "z" }, P > 0 && (T.z = W[T.ixfe >> 8 & 63]), Mi(T, t, r.opts.Date1904), V({ c: fa, r: Y.r }, T, t) } break; case 214: case 516: case 4: T = Rp(Y.val, Y.ixfe, "s"), T.XF = R[T.ixfe], P > 0 && (T.z = W[T.ixfe >> 8 & 63]), Mi(T, t, r.opts.Date1904), V({ c: Y.c, r: Y.r }, T, t); break; case 0: case 512: G === 1 && (s = Y); break; case 252: f = Y; break; case 1054: if (U.biff == 4) { W[P++] = Y[1]; for (var Tn = 0; Tn < P + 163 && ft[Tn] != Y[1]; ++Tn); Tn >= 163 && Hl(Y[1], P + 163) } else Hl(Y[1], Y[0]); break; case 30: { W[P++] = Y; for (var Ht = 0; Ht < P + 163 && ft[Ht] != Y; ++Ht); Ht >= 163 && Hl(Y, P + 163) } break; case 229: re = re.concat(Y); break; case 93: de[Y.cmo[0]] = U.lastobj = Y; break; case 438: U.lastobj.TxO = Y; break; case 127: U.lastobj.ImData = Y; break; case 440: for (_ = Y[0].s.r; _ <= Y[0].e.r; ++_)for (b = Y[0].s.c; b <= Y[0].e.c; ++b)v = t.dense ? (a[_] || [])[b] : a[lt({ c: b, r: _ })], v && (v.l = Y[1]); break; case 2048: for (_ = Y[0].s.r; _ <= Y[0].e.r; ++_)for (b = Y[0].s.c; b <= Y[0].e.c; ++b)v = t.dense ? (a[_] || [])[b] : a[lt({ c: b, r: _ })], v && v.l && (v.l.Tooltip = Y[1]); break; case 28: { if (U.biff <= 5 && U.biff >= 2) break; v = t.dense ? (a[Y[0].r] || [])[Y[0].c] : a[lt(Y[0])]; var ei = de[Y[2]]; v || (t.dense ? (a[Y[0].r] || (a[Y[0].r] = []), v = a[Y[0].r][Y[0].c] = { t: "z" }) : v = a[lt(Y[0])] = { t: "z" }, s.e.r = Math.max(s.e.r, Y[0].r), s.s.r = Math.min(s.s.r, Y[0].r), s.e.c = Math.max(s.e.c, Y[0].c), s.s.c = Math.min(s.s.c, Y[0].c)), v.c || (v.c = []), y = { a: Y[1], t: ei.TxO.t }, v.c.push(y) } break; case 2173: Zye(R[Y.ixfe], Y.ext); break; case 125: { if (!U.cellStyles) break; for (; Y.e >= Y.s;)D[Y.e--] = { width: Y.w / 256, level: Y.level || 0, hidden: !!(Y.flags & 1) }, ie || (ie = !0, fk(Y.w / 256)), Uu(D[Y.e + 1]) } break; case 520: { var Fe = {}; Y.level != null && (z[Y.r] = Fe, Fe.level = Y.level), Y.hidden && (z[Y.r] = Fe, Fe.hidden = !0), Y.hpt && (z[Y.r] = Fe, Fe.hpt = Y.hpt, Fe.hpx = o0(Y.hpt)) } break; case 38: case 39: case 40: case 41: a["!margins"] || jf(a["!margins"] = {}), a["!margins"][{ 38: "left", 39: "right", 40: "top", 41: "bottom" }[le]] = Y; break; case 161: a["!margins"] || jf(a["!margins"] = {}), a["!margins"].header = Y.header, a["!margins"].footer = Y.footer; break; case 574: Y.RTL && (I.Views[0].RTL = !0); break; case 146: O = Y; break; case 2198: ee = Y; break; case 140: j = Y; break; case 442: d ? H.CodeName = Y || H.name : I.WBProps.CodeName = Y || "ThisWorkbook"; break } } else pe || console.error("Missing Info for XLS Record 0x" + le.toString(16)), e.l += oe } return r.SheetNames = Ki(i).sort(function ($n, ut) { return Number($n) - Number(ut) }).map(function ($n) { return i[$n].name }), t.bookSheets || (r.Sheets = n), !r.SheetNames.length && h["!ref"] ? (r.SheetNames.push("Sheet1"), r.Sheets && (r.Sheets.Sheet1 = h)) : r.Preamble = h, r.Sheets && J.forEach(function ($n, ut) { r.Sheets[r.SheetNames[ut]]["!autofilter"] = $n }), r.Strings = f, r.SSF = Sn(ft), U.enc && (r.Encryption = U.enc), ee && (r.Themes = ee), r.Metadata = {}, j !== void 0 && (r.Metadata.Country = j), M.names.length > 0 && (I.Names = M.names), r.Workbook = I, r } var g4 = { SI: "e0859ff2f94f6810ab9108002b27b3d9", DSI: "02d5cdd59c2e1b10939708002b2cf9ae", UDI: "05d5cdd59c2e1b10939708002b2cf9ae" }; function I_e(e, t, r) { var n = kt.find(e, "/!DocumentSummaryInformation"); if (n && n.size > 0) try { var a = QD(n, Kge, g4.DSI); for (var i in a) t[i] = a[i] } catch (d) { if (r.WTF) throw d } var s = kt.find(e, "/!SummaryInformation"); if (s && s.size > 0) try { var l = QD(s, Yge, g4.SI); for (var f in l) t[f] == null && (t[f] = l[f]) } catch (d) { if (r.WTF) throw d } t.HeadingPairs && t.TitlesOfParts && ($F(t.HeadingPairs, t.TitlesOfParts, t, r), delete t.HeadingPairs, delete t.TitlesOfParts) } function EU(e, t) { t || (t = {}), xk(t), QL(), t.codepage && YE(t.codepage); var r, n; if (e.FullPaths) { if (kt.find(e, "/encryption")) throw new Error("File is password-protected"); r = kt.find(e, "!CompObj"), n = kt.find(e, "/Workbook") || kt.find(e, "/Book") } else { switch (t.type) { case "base64": e = hi(Na(e)); break; case "binary": e = hi(e); break; case "buffer": break; case "array": Array.isArray(e) || (e = Array.prototype.slice.call(e)); break }_n(e, 0), n = { content: e } } var a, i; if (r && N_e(r), t.bookProps && !t.bookSheets) a = {}; else { var s = St ? "buffer" : "array"; if (n && n.content) a = j_e(n.content, t); else if ((i = kt.find(e, "PerfectOffice_MAIN")) && i.content) a = Af.to_workbook(i.content, (t.type = s, t)); else if ((i = kt.find(e, "NativeContent_MAIN")) && i.content) a = Af.to_workbook(i.content, (t.type = s, t)); else throw (i = kt.find(e, "MN0")) && i.content ? new Error("Unsupported Works 4 for Mac file") : new Error("Cannot find Workbook stream"); t.bookVBA && e.FullPaths && kt.find(e, "/_VBA_PROJECT_CUR/VBA/dir") && (a.vbaraw = gbe(e)) } var l = {}; return e.FullPaths && I_e(e, l, t), a.Props = a.Custprops = l, t.bookFiles && (a.cfb = e), a } var fg = { 0: { f: fwe }, 1: { f: gwe }, 2: { f: kwe }, 3: { f: bwe }, 4: { f: vwe }, 5: { f: Ewe }, 6: { f: Awe }, 7: { f: _we }, 8: { f: Rwe }, 9: { f: Owe }, 10: { f: jwe }, 11: { f: Iwe }, 12: { f: xwe }, 13: { f: Twe }, 14: { f: wwe }, 15: { f: ywe }, 16: { f: yU }, 17: { f: Cwe }, 18: { f: Swe }, 19: { f: sk }, 20: {}, 21: {}, 22: {}, 23: {}, 24: {}, 25: {}, 26: {}, 27: {}, 28: {}, 29: {}, 30: {}, 31: {}, 32: {}, 33: {}, 34: {}, 35: { T: 1 }, 36: { T: -1 }, 37: { T: 1 }, 38: { T: -1 }, 39: { f: s_e }, 40: {}, 42: {}, 43: { f: jye }, 44: { f: Cye }, 45: { f: Iye }, 46: { f: Rye }, 47: { f: Oye }, 48: {}, 49: { f: Pge }, 50: {}, 51: { f: ebe }, 52: { T: 1 }, 53: { T: -1 }, 54: { T: 1 }, 55: { T: -1 }, 56: { T: 1 }, 57: { T: -1 }, 58: {}, 59: {}, 60: { f: QF }, 62: { f: Nwe }, 63: { f: ibe }, 64: { f: zwe }, 65: {}, 66: {}, 67: {}, 68: {}, 69: {}, 70: {}, 128: {}, 129: { T: 1 }, 130: { T: -1 }, 131: { T: 1, f: Un, p: 0 }, 132: { T: -1 }, 133: { T: 1 }, 134: { T: -1 }, 135: { T: 1 }, 136: { T: -1 }, 137: { T: 1, f: $we }, 138: { T: -1 }, 139: { T: 1 }, 140: { T: -1 }, 141: { T: 1 }, 142: { T: -1 }, 143: { T: 1 }, 144: { T: -1 }, 145: { T: 1 }, 146: { T: -1 }, 147: { f: mwe }, 148: { f: hwe, p: 16 }, 151: { f: Mwe }, 152: {}, 153: { f: a_e }, 154: {}, 155: {}, 156: { f: n_e }, 157: {}, 158: {}, 159: { T: 1, f: Yve }, 160: { T: -1 }, 161: { T: 1, f: uc }, 162: { T: -1 }, 163: { T: 1 }, 164: { T: -1 }, 165: { T: 1 }, 166: { T: -1 }, 167: {}, 168: {}, 169: {}, 170: {}, 171: {}, 172: { T: 1 }, 173: { T: -1 }, 174: {}, 175: {}, 176: { f: Pwe }, 177: { T: 1 }, 178: { T: -1 }, 179: { T: 1 }, 180: { T: -1 }, 181: { T: 1 }, 182: { T: -1 }, 183: { T: 1 }, 184: { T: -1 }, 185: { T: 1 }, 186: { T: -1 }, 187: { T: 1 }, 188: { T: -1 }, 189: { T: 1 }, 190: { T: -1 }, 191: { T: 1 }, 192: { T: -1 }, 193: { T: 1 }, 194: { T: -1 }, 195: { T: 1 }, 196: { T: -1 }, 197: { T: 1 }, 198: { T: -1 }, 199: { T: 1 }, 200: { T: -1 }, 201: { T: 1 }, 202: { T: -1 }, 203: { T: 1 }, 204: { T: -1 }, 205: { T: 1 }, 206: { T: -1 }, 207: { T: 1 }, 208: { T: -1 }, 209: { T: 1 }, 210: { T: -1 }, 211: { T: 1 }, 212: { T: -1 }, 213: { T: 1 }, 214: { T: -1 }, 215: { T: 1 }, 216: { T: -1 }, 217: { T: 1 }, 218: { T: -1 }, 219: { T: 1 }, 220: { T: -1 }, 221: { T: 1 }, 222: { T: -1 }, 223: { T: 1 }, 224: { T: -1 }, 225: { T: 1 }, 226: { T: -1 }, 227: { T: 1 }, 228: { T: -1 }, 229: { T: 1 }, 230: { T: -1 }, 231: { T: 1 }, 232: { T: -1 }, 233: { T: 1 }, 234: { T: -1 }, 235: { T: 1 }, 236: { T: -1 }, 237: { T: 1 }, 238: { T: -1 }, 239: { T: 1 }, 240: { T: -1 }, 241: { T: 1 }, 242: { T: -1 }, 243: { T: 1 }, 244: { T: -1 }, 245: { T: 1 }, 246: { T: -1 }, 247: { T: 1 }, 248: { T: -1 }, 249: { T: 1 }, 250: { T: -1 }, 251: { T: 1 }, 252: { T: -1 }, 253: { T: 1 }, 254: { T: -1 }, 255: { T: 1 }, 256: { T: -1 }, 257: { T: 1 }, 258: { T: -1 }, 259: { T: 1 }, 260: { T: -1 }, 261: { T: 1 }, 262: { T: -1 }, 263: { T: 1 }, 264: { T: -1 }, 265: { T: 1 }, 266: { T: -1 }, 267: { T: 1 }, 268: { T: -1 }, 269: { T: 1 }, 270: { T: -1 }, 271: { T: 1 }, 272: { T: -1 }, 273: { T: 1 }, 274: { T: -1 }, 275: { T: 1 }, 276: { T: -1 }, 277: {}, 278: { T: 1 }, 279: { T: -1 }, 280: { T: 1 }, 281: { T: -1 }, 282: { T: 1 }, 283: { T: 1 }, 284: { T: -1 }, 285: { T: 1 }, 286: { T: -1 }, 287: { T: 1 }, 288: { T: -1 }, 289: { T: 1 }, 290: { T: -1 }, 291: { T: 1 }, 292: { T: -1 }, 293: { T: 1 }, 294: { T: -1 }, 295: { T: 1 }, 296: { T: -1 }, 297: { T: 1 }, 298: { T: -1 }, 299: { T: 1 }, 300: { T: -1 }, 301: { T: 1 }, 302: { T: -1 }, 303: { T: 1 }, 304: { T: -1 }, 305: { T: 1 }, 306: { T: -1 }, 307: { T: 1 }, 308: { T: -1 }, 309: { T: 1 }, 310: { T: -1 }, 311: { T: 1 }, 312: { T: -1 }, 313: { T: -1 }, 314: { T: 1 }, 315: { T: -1 }, 316: { T: 1 }, 317: { T: -1 }, 318: { T: 1 }, 319: { T: -1 }, 320: { T: 1 }, 321: { T: -1 }, 322: { T: 1 }, 323: { T: -1 }, 324: { T: 1 }, 325: { T: -1 }, 326: { T: 1 }, 327: { T: -1 }, 328: { T: 1 }, 329: { T: -1 }, 330: { T: 1 }, 331: { T: -1 }, 332: { T: 1 }, 333: { T: -1 }, 334: { T: 1 }, 335: { f: Qye }, 336: { T: -1 }, 337: { f: tbe, T: 1 }, 338: { T: -1 }, 339: { T: 1 }, 340: { T: -1 }, 341: { T: 1 }, 342: { T: -1 }, 343: { T: 1 }, 344: { T: -1 }, 345: { T: 1 }, 346: { T: -1 }, 347: { T: 1 }, 348: { T: -1 }, 349: { T: 1 }, 350: { T: -1 }, 351: {}, 352: {}, 353: { T: 1 }, 354: { T: -1 }, 355: { f: w_ }, 357: {}, 358: {}, 359: {}, 360: { T: 1 }, 361: {}, 362: { f: ZF }, 363: {}, 364: {}, 366: {}, 367: {}, 368: {}, 369: {}, 370: {}, 371: {}, 372: { T: 1 }, 373: { T: -1 }, 374: { T: 1 }, 375: { T: -1 }, 376: { T: 1 }, 377: { T: -1 }, 378: { T: 1 }, 379: { T: -1 }, 380: { T: 1 }, 381: { T: -1 }, 382: { T: 1 }, 383: { T: -1 }, 384: { T: 1 }, 385: { T: -1 }, 386: { T: 1 }, 387: { T: -1 }, 388: { T: 1 }, 389: { T: -1 }, 390: { T: 1 }, 391: { T: -1 }, 392: { T: 1 }, 393: { T: -1 }, 394: { T: 1 }, 395: { T: -1 }, 396: {}, 397: {}, 398: {}, 399: {}, 400: {}, 401: { T: 1 }, 403: {}, 404: {}, 405: {}, 406: {}, 407: {}, 408: {}, 409: {}, 410: {}, 411: {}, 412: {}, 413: {}, 414: {}, 415: {}, 416: {}, 417: {}, 418: {}, 419: {}, 420: {}, 421: {}, 422: { T: 1 }, 423: { T: 1 }, 424: { T: -1 }, 425: { T: -1 }, 426: { f: Lwe }, 427: { f: Fwe }, 428: {}, 429: { T: 1 }, 430: { T: -1 }, 431: { T: 1 }, 432: { T: -1 }, 433: { T: 1 }, 434: { T: -1 }, 435: { T: 1 }, 436: { T: -1 }, 437: { T: 1 }, 438: { T: -1 }, 439: { T: 1 }, 440: { T: -1 }, 441: { T: 1 }, 442: { T: -1 }, 443: { T: 1 }, 444: { T: -1 }, 445: { T: 1 }, 446: { T: -1 }, 447: { T: 1 }, 448: { T: -1 }, 449: { T: 1 }, 450: { T: -1 }, 451: { T: 1 }, 452: { T: -1 }, 453: { T: 1 }, 454: { T: -1 }, 455: { T: 1 }, 456: { T: -1 }, 457: { T: 1 }, 458: { T: -1 }, 459: { T: 1 }, 460: { T: -1 }, 461: { T: 1 }, 462: { T: -1 }, 463: { T: 1 }, 464: { T: -1 }, 465: { T: 1 }, 466: { T: -1 }, 467: { T: 1 }, 468: { T: -1 }, 469: { T: 1 }, 470: { T: -1 }, 471: {}, 472: {}, 473: { T: 1 }, 474: { T: -1 }, 475: {}, 476: { f: Bwe }, 477: {}, 478: {}, 479: { T: 1 }, 480: { T: -1 }, 481: { T: 1 }, 482: { T: -1 }, 483: { T: 1 }, 484: { T: -1 }, 485: { f: pwe }, 486: { T: 1 }, 487: { T: -1 }, 488: { T: 1 }, 489: { T: -1 }, 490: { T: 1 }, 491: { T: -1 }, 492: { T: 1 }, 493: { T: -1 }, 494: { f: Dwe }, 495: { T: 1 }, 496: { T: -1 }, 497: { T: 1 }, 498: { T: -1 }, 499: {}, 500: { T: 1 }, 501: { T: -1 }, 502: { T: 1 }, 503: { T: -1 }, 504: {}, 505: { T: 1 }, 506: { T: -1 }, 507: {}, 508: { T: 1 }, 509: { T: -1 }, 510: { T: 1 }, 511: { T: -1 }, 512: {}, 513: {}, 514: { T: 1 }, 515: { T: -1 }, 516: { T: 1 }, 517: { T: -1 }, 518: { T: 1 }, 519: { T: -1 }, 520: { T: 1 }, 521: { T: -1 }, 522: {}, 523: {}, 524: {}, 525: {}, 526: {}, 527: {}, 528: { T: 1 }, 529: { T: -1 }, 530: { T: 1 }, 531: { T: -1 }, 532: { T: 1 }, 533: { T: -1 }, 534: {}, 535: {}, 536: {}, 537: {}, 538: { T: 1 }, 539: { T: -1 }, 540: { T: 1 }, 541: { T: -1 }, 542: { T: 1 }, 548: {}, 549: {}, 550: { f: w_ }, 551: {}, 552: {}, 553: {}, 554: { T: 1 }, 555: { T: -1 }, 556: { T: 1 }, 557: { T: -1 }, 558: { T: 1 }, 559: { T: -1 }, 560: { T: 1 }, 561: { T: -1 }, 562: {}, 564: {}, 565: { T: 1 }, 566: { T: -1 }, 569: { T: 1 }, 570: { T: -1 }, 572: {}, 573: { T: 1 }, 574: { T: -1 }, 577: {}, 578: {}, 579: {}, 580: {}, 581: {}, 582: {}, 583: {}, 584: {}, 585: {}, 586: {}, 587: {}, 588: { T: -1 }, 589: {}, 590: { T: 1 }, 591: { T: -1 }, 592: { T: 1 }, 593: { T: -1 }, 594: { T: 1 }, 595: { T: -1 }, 596: {}, 597: { T: 1 }, 598: { T: -1 }, 599: { T: 1 }, 600: { T: -1 }, 601: { T: 1 }, 602: { T: -1 }, 603: { T: 1 }, 604: { T: -1 }, 605: { T: 1 }, 606: { T: -1 }, 607: {}, 608: { T: 1 }, 609: { T: -1 }, 610: {}, 611: { T: 1 }, 612: { T: -1 }, 613: { T: 1 }, 614: { T: -1 }, 615: { T: 1 }, 616: { T: -1 }, 617: { T: 1 }, 618: { T: -1 }, 619: { T: 1 }, 620: { T: -1 }, 625: {}, 626: { T: 1 }, 627: { T: -1 }, 628: { T: 1 }, 629: { T: -1 }, 630: { T: 1 }, 631: { T: -1 }, 632: { f: hbe }, 633: { T: 1 }, 634: { T: -1 }, 635: { T: 1, f: fbe }, 636: { T: -1 }, 637: { f: Mge }, 638: { T: 1 }, 639: {}, 640: { T: -1 }, 641: { T: 1 }, 642: { T: -1 }, 643: { T: 1 }, 644: {}, 645: { T: -1 }, 646: { T: 1 }, 648: { T: 1 }, 649: {}, 650: { T: -1 }, 651: { f: Kwe }, 652: {}, 653: { T: 1 }, 654: { T: -1 }, 655: { T: 1 }, 656: { T: -1 }, 657: { T: 1 }, 658: { T: -1 }, 659: {}, 660: { T: 1 }, 661: {}, 662: { T: -1 }, 663: {}, 664: { T: 1 }, 665: {}, 666: { T: -1 }, 667: {}, 668: {}, 669: {}, 671: { T: 1 }, 672: { T: -1 }, 673: { T: 1 }, 674: { T: -1 }, 675: {}, 676: {}, 677: {}, 678: {}, 679: {}, 680: {}, 681: {}, 1024: {}, 1025: {}, 1026: { T: 1 }, 1027: { T: -1 }, 1028: { T: 1 }, 1029: { T: -1 }, 1030: {}, 1031: { T: 1 }, 1032: { T: -1 }, 1033: { T: 1 }, 1034: { T: -1 }, 1035: {}, 1036: {}, 1037: {}, 1038: { T: 1 }, 1039: { T: -1 }, 1040: {}, 1041: { T: 1 }, 1042: { T: -1 }, 1043: {}, 1044: {}, 1045: {}, 1046: { T: 1 }, 1047: { T: -1 }, 1048: { T: 1 }, 1049: { T: -1 }, 1050: {}, 1051: { T: 1 }, 1052: { T: 1 }, 1053: { f: Hwe }, 1054: { T: 1 }, 1055: {}, 1056: { T: 1 }, 1057: { T: -1 }, 1058: { T: 1 }, 1059: { T: -1 }, 1061: {}, 1062: { T: 1 }, 1063: { T: -1 }, 1064: { T: 1 }, 1065: { T: -1 }, 1066: { T: 1 }, 1067: { T: -1 }, 1068: { T: 1 }, 1069: { T: -1 }, 1070: { T: 1 }, 1071: { T: -1 }, 1072: { T: 1 }, 1073: { T: -1 }, 1075: { T: 1 }, 1076: { T: -1 }, 1077: { T: 1 }, 1078: { T: -1 }, 1079: { T: 1 }, 1080: { T: -1 }, 1081: { T: 1 }, 1082: { T: -1 }, 1083: { T: 1 }, 1084: { T: -1 }, 1085: {}, 1086: { T: 1 }, 1087: { T: -1 }, 1088: { T: 1 }, 1089: { T: -1 }, 1090: { T: 1 }, 1091: { T: -1 }, 1092: { T: 1 }, 1093: { T: -1 }, 1094: { T: 1 }, 1095: { T: -1 }, 1096: {}, 1097: { T: 1 }, 1098: {}, 1099: { T: -1 }, 1100: { T: 1 }, 1101: { T: -1 }, 1102: {}, 1103: {}, 1104: {}, 1105: {}, 1111: {}, 1112: {}, 1113: { T: 1 }, 1114: { T: -1 }, 1115: { T: 1 }, 1116: { T: -1 }, 1117: {}, 1118: { T: 1 }, 1119: { T: -1 }, 1120: { T: 1 }, 1121: { T: -1 }, 1122: { T: 1 }, 1123: { T: -1 }, 1124: { T: 1 }, 1125: { T: -1 }, 1126: {}, 1128: { T: 1 }, 1129: { T: -1 }, 1130: {}, 1131: { T: 1 }, 1132: { T: -1 }, 1133: { T: 1 }, 1134: { T: -1 }, 1135: { T: 1 }, 1136: { T: -1 }, 1137: { T: 1 }, 1138: { T: -1 }, 1139: { T: 1 }, 1140: { T: -1 }, 1141: {}, 1142: { T: 1 }, 1143: { T: -1 }, 1144: { T: 1 }, 1145: { T: -1 }, 1146: {}, 1147: { T: 1 }, 1148: { T: -1 }, 1149: { T: 1 }, 1150: { T: -1 }, 1152: { T: 1 }, 1153: { T: -1 }, 1154: { T: -1 }, 1155: { T: -1 }, 1156: { T: -1 }, 1157: { T: 1 }, 1158: { T: -1 }, 1159: { T: 1 }, 1160: { T: -1 }, 1161: { T: 1 }, 1162: { T: -1 }, 1163: { T: 1 }, 1164: { T: -1 }, 1165: { T: 1 }, 1166: { T: -1 }, 1167: { T: 1 }, 1168: { T: -1 }, 1169: { T: 1 }, 1170: { T: -1 }, 1171: {}, 1172: { T: 1 }, 1173: { T: -1 }, 1177: {}, 1178: { T: 1 }, 1180: {}, 1181: {}, 1182: {}, 2048: { T: 1 }, 2049: { T: -1 }, 2050: {}, 2051: { T: 1 }, 2052: { T: -1 }, 2053: {}, 2054: {}, 2055: { T: 1 }, 2056: { T: -1 }, 2057: { T: 1 }, 2058: { T: -1 }, 2060: {}, 2067: {}, 2068: { T: 1 }, 2069: { T: -1 }, 2070: {}, 2071: {}, 2072: { T: 1 }, 2073: { T: -1 }, 2075: {}, 2076: {}, 2077: { T: 1 }, 2078: { T: -1 }, 2079: {}, 2080: { T: 1 }, 2081: { T: -1 }, 2082: {}, 2083: { T: 1 }, 2084: { T: -1 }, 2085: { T: 1 }, 2086: { T: -1 }, 2087: { T: 1 }, 2088: { T: -1 }, 2089: { T: 1 }, 2090: { T: -1 }, 2091: {}, 2092: {}, 2093: { T: 1 }, 2094: { T: -1 }, 2095: {}, 2096: { T: 1 }, 2097: { T: -1 }, 2098: { T: 1 }, 2099: { T: -1 }, 2100: { T: 1 }, 2101: { T: -1 }, 2102: {}, 2103: { T: 1 }, 2104: { T: -1 }, 2105: {}, 2106: { T: 1 }, 2107: { T: -1 }, 2108: {}, 2109: { T: 1 }, 2110: { T: -1 }, 2111: { T: 1 }, 2112: { T: -1 }, 2113: { T: 1 }, 2114: { T: -1 }, 2115: {}, 2116: {}, 2117: {}, 2118: { T: 1 }, 2119: { T: -1 }, 2120: {}, 2121: { T: 1 }, 2122: { T: -1 }, 2123: { T: 1 }, 2124: { T: -1 }, 2125: {}, 2126: { T: 1 }, 2127: { T: -1 }, 2128: {}, 2129: { T: 1 }, 2130: { T: -1 }, 2131: { T: 1 }, 2132: { T: -1 }, 2133: { T: 1 }, 2134: {}, 2135: {}, 2136: {}, 2137: { T: 1 }, 2138: { T: -1 }, 2139: { T: 1 }, 2140: { T: -1 }, 2141: {}, 3072: {}, 3073: {}, 4096: { T: 1 }, 4097: { T: -1 }, 5002: { T: 1 }, 5003: { T: -1 }, 5081: { T: 1 }, 5082: { T: -1 }, 5083: {}, 5084: { T: 1 }, 5085: { T: -1 }, 5086: { T: 1 }, 5087: { T: -1 }, 5088: {}, 5089: {}, 5090: {}, 5092: { T: 1 }, 5093: { T: -1 }, 5094: {}, 5095: { T: 1 }, 5096: { T: -1 }, 5097: {}, 5099: {}, 65535: { n: "" } }, T_ = { 6: { f: F1 }, 10: { f: wo }, 12: { f: Lr }, 13: { f: Lr }, 14: { f: Cr }, 15: { f: Cr }, 16: { f: Rn }, 17: { f: Cr }, 18: { f: Cr }, 19: { f: Lr }, 20: { f: n4 }, 21: { f: n4 }, 23: { f: ZF }, 24: { f: i4 }, 25: { f: Cr }, 26: {}, 27: {}, 28: { f: uve }, 29: {}, 34: { f: Cr }, 35: { f: a4 }, 38: { f: Rn }, 39: { f: Rn }, 40: { f: Rn }, 41: { f: Rn }, 42: { f: Cr }, 43: { f: Cr }, 47: { f: pye }, 49: { f: Vxe }, 51: { f: Lr }, 60: {}, 61: { f: zxe }, 64: { f: Cr }, 65: { f: Gxe }, 66: { f: Lr }, 77: {}, 80: {}, 81: {}, 82: {}, 85: { f: Lr }, 89: {}, 90: {}, 91: {}, 92: { f: Pxe }, 93: { f: fve }, 94: {}, 95: { f: Cr }, 96: {}, 97: {}, 99: { f: Cr }, 125: { f: QF }, 128: { f: tve }, 129: { f: Dxe }, 130: { f: Lr }, 131: { f: Cr }, 132: { f: Cr }, 133: { f: Mxe }, 134: {}, 140: { f: vve }, 141: { f: Lr }, 144: {}, 146: { f: bve }, 151: {}, 152: {}, 153: {}, 154: {}, 155: {}, 156: { f: Lr }, 157: {}, 158: {}, 160: { f: kve }, 161: { f: _ve }, 174: {}, 175: {}, 176: {}, 177: {}, 178: {}, 180: {}, 181: {}, 182: {}, 184: {}, 185: {}, 189: { f: Jxe }, 190: { f: Zxe }, 193: { f: wo }, 197: {}, 198: {}, 199: {}, 200: {}, 201: {}, 202: { f: Cr }, 203: {}, 204: {}, 205: {}, 206: {}, 207: {}, 208: {}, 209: {}, 210: {}, 211: {}, 213: {}, 215: {}, 216: {}, 217: {}, 218: { f: Lr }, 220: {}, 221: { f: Cr }, 222: {}, 224: { f: eve }, 225: { f: Rxe }, 226: { f: wo }, 227: {}, 229: { f: dve }, 233: {}, 235: {}, 236: {}, 237: {}, 239: {}, 240: {}, 241: {}, 242: {}, 244: {}, 245: {}, 246: {}, 247: {}, 248: {}, 249: {}, 251: {}, 252: { f: Lxe }, 253: { f: qxe }, 255: { f: Fxe }, 256: {}, 259: {}, 290: {}, 311: {}, 312: {}, 315: {}, 317: { f: qF }, 318: {}, 319: {}, 320: {}, 330: {}, 331: {}, 333: {}, 334: {}, 335: {}, 336: {}, 337: {}, 338: {}, 339: {}, 340: {}, 351: {}, 352: { f: Cr }, 353: { f: wo }, 401: {}, 402: {}, 403: {}, 404: {}, 405: {}, 406: {}, 407: {}, 408: {}, 425: {}, 426: {}, 427: {}, 428: {}, 429: {}, 430: { f: nve }, 431: { f: Cr }, 432: {}, 433: {}, 434: {}, 437: {}, 438: { f: mve }, 439: { f: Cr }, 440: { f: gve }, 441: {}, 442: { f: D0 }, 443: {}, 444: { f: Lr }, 445: {}, 446: {}, 448: { f: wo }, 449: { f: $xe, r: 2 }, 450: { f: wo }, 512: { f: t4 }, 513: { f: Eve }, 515: { f: rve }, 516: { f: Wxe }, 517: { f: r4 }, 519: { f: Tve }, 520: { f: Uxe }, 523: {}, 545: { f: s4 }, 549: { f: e4 }, 566: {}, 574: { f: Hxe }, 638: { f: Xxe }, 659: {}, 1048: {}, 1054: { f: Kxe }, 1084: {}, 1212: { f: ove }, 2048: { f: xve }, 2049: {}, 2050: {}, 2051: {}, 2052: {}, 2053: {}, 2054: {}, 2055: {}, 2056: {}, 2057: { f: jp }, 2058: {}, 2059: {}, 2060: {}, 2061: {}, 2062: {}, 2063: {}, 2064: {}, 2066: {}, 2067: {}, 2128: {}, 2129: {}, 2130: {}, 2131: {}, 2132: {}, 2133: {}, 2134: {}, 2135: {}, 2136: {}, 2137: {}, 2138: {}, 2146: {}, 2147: { r: 12 }, 2148: {}, 2149: {}, 2150: {}, 2151: { f: wo }, 2152: {}, 2154: {}, 2155: {}, 2156: {}, 2161: {}, 2162: {}, 2164: {}, 2165: {}, 2166: {}, 2167: {}, 2168: {}, 2169: {}, 2170: {}, 2171: {}, 2172: { f: wve, r: 12 }, 2173: { f: Jye, r: 12 }, 2174: {}, 2175: {}, 2180: {}, 2181: {}, 2182: {}, 2183: {}, 2184: {}, 2185: {}, 2186: {}, 2187: {}, 2188: { f: Cr, r: 12 }, 2189: {}, 2190: { r: 12 }, 2191: {}, 2192: {}, 2194: {}, 2195: {}, 2196: { f: sve, r: 12 }, 2197: {}, 2198: { f: Vye, r: 12 }, 2199: {}, 2200: {}, 2201: {}, 2202: { f: lve, r: 12 }, 2203: { f: wo }, 2204: {}, 2205: {}, 2206: {}, 2207: {}, 2211: { f: Bxe }, 2212: {}, 2213: {}, 2214: {}, 2215: {}, 4097: {}, 4098: {}, 4099: {}, 4102: {}, 4103: {}, 4105: {}, 4106: {}, 4107: {}, 4108: {}, 4109: {}, 4116: {}, 4117: {}, 4118: {}, 4119: {}, 4120: {}, 4121: {}, 4122: {}, 4123: {}, 4124: {}, 4125: {}, 4126: {}, 4127: {}, 4128: {}, 4129: {}, 4130: {}, 4132: {}, 4133: {}, 4134: { f: Lr }, 4135: {}, 4146: {}, 4147: {}, 4148: {}, 4149: {}, 4154: {}, 4156: {}, 4157: {}, 4158: {}, 4159: {}, 4160: {}, 4161: {}, 4163: {}, 4164: { f: Sve }, 4165: {}, 4166: {}, 4168: {}, 4170: {}, 4171: {}, 4174: {}, 4175: {}, 4176: {}, 4177: {}, 4187: {}, 4188: { f: yve }, 4189: {}, 4191: {}, 4192: {}, 4193: {}, 4194: {}, 4195: {}, 4196: {}, 4197: {}, 4198: {}, 4199: {}, 4200: {}, 0: { f: t4 }, 1: {}, 2: { f: jve }, 3: { f: Cve }, 4: { f: Ave }, 5: { f: r4 }, 7: { f: Ive }, 8: {}, 9: { f: jp }, 11: {}, 22: { f: Lr }, 30: { f: Yxe }, 31: {}, 32: {}, 33: { f: s4 }, 36: {}, 37: { f: e4 }, 50: { f: Ove }, 62: {}, 52: {}, 67: {}, 68: { f: Lr }, 69: {}, 86: {}, 126: {}, 127: { f: Nve }, 135: {}, 136: {}, 137: {}, 145: {}, 148: {}, 149: {}, 150: {}, 169: {}, 171: {}, 188: {}, 191: {}, 192: {}, 194: {}, 195: {}, 214: { f: Rve }, 223: {}, 234: {}, 354: {}, 421: {}, 518: { f: F1 }, 521: { f: jp }, 536: { f: i4 }, 547: { f: a4 }, 561: {}, 579: {}, 1030: { f: F1 }, 1033: { f: jp }, 1091: {}, 2157: {}, 2163: {}, 2177: {}, 2240: {}, 2241: {}, 2242: {}, 2243: {}, 2244: {}, 2245: {}, 2246: {}, 2247: {}, 2248: {}, 2249: {}, 2250: {}, 2251: {}, 2262: { r: 12 }, 29282: {} }; function si(e, t, r, n) { var a = t; if (!isNaN(a)) { var i = (r || []).length || 0, s = e.next(4); s.write_shift(2, a), s.write_shift(2, i), i > 0 && RF(r) && e.push(r) } } function x4(e, t) { var r = t || {}, n = r.dense ? [] : {}; e = e.replace(/<!--.*?-->/g, ""); var a = e.match(/<table/i); if (!a) throw new Error("Invalid HTML: could not find <table>"); var i = e.match(/<\/table/i), s = a.index, l = i && i.index || e.length, f = rge(e.slice(s, l), /(:?<tr[^>]*>)/i, "<tr>"), d = -1, h = 0, m = 0, g = 0, v = { s: { r: 1e7, c: 1e7 }, e: { r: 0, c: 0 } }, y = []; for (s = 0; s < f.length; ++s) { var b = f[s].trim(), _ = b.slice(0, 3).toLowerCase(); if (_ == "<tr") { if (++d, r.sheetRows && r.sheetRows <= d) { --d; break } h = 0; continue } if (!(_ != "<td" && _ != "<th")) { var k = b.split(/<\/t[dh]>/i); for (l = 0; l < k.length; ++l) { var C = k[l].trim(); if (C.match(/<t[dh]/i)) { for (var T = C, j = 0; T.charAt(0) == "<" && (j = T.indexOf(">")) > -1;)T = T.slice(j + 1); for (var R = 0; R < y.length; ++R) { var O = y[R]; O.s.c == h && O.s.r < d && d <= O.e.r && (h = O.e.c + 1, R = -1) } var I = at(C.slice(0, C.indexOf(">"))); g = I.colspan ? +I.colspan : 1, ((m = +I.rowspan) > 1 || g > 1) && y.push({ s: { r: d, c: h }, e: { r: d + (m || 1) - 1, c: h + g - 1 } }); var H = I.t || I["data-t"] || ""; if (!T.length) { h += g; continue } if (T = bF(T), v.s.r > d && (v.s.r = d), v.e.r < d && (v.e.r = d), v.s.c > h && (v.s.c = h), v.e.c < h && (v.e.c = h), !T.length) { h += g; continue } var F = { t: "s", v: T }; r.raw || !T.trim().length || H == "s" || (T === "TRUE" ? F = { t: "b", v: !0 } : T === "FALSE" ? F = { t: "b", v: !1 } : isNaN(yi(T)) ? isNaN(Fu(T).getDate()) || (F = { t: "d", v: sn(T) }, r.cellDates || (F = { t: "n", v: Qn(F.v) }), F.z = r.dateNF || ft[14]) : F = { t: "n", v: yi(T) }), r.dense ? (n[d] || (n[d] = []), n[d][h] = F) : n[lt({ r: d, c: h })] = F, h += g } } } } return n["!ref"] = Tt(v), y.length && (n["!merges"] = y), n } function O_e(e, t, r, n) { for (var a = e["!merges"] || [], i = [], s = t.s.c; s <= t.e.c; ++s) { for (var l = 0, f = 0, d = 0; d < a.length; ++d)if (!(a[d].s.r > r || a[d].s.c > s) && !(a[d].e.r < r || a[d].e.c < s)) { if (a[d].s.r < r || a[d].s.c < s) { l = -1; break } l = a[d].e.r - a[d].s.r + 1, f = a[d].e.c - a[d].s.c + 1; break } if (!(l < 0)) { var h = lt({ r, c: s }), m = n.dense ? (e[r] || [])[s] : e[h], g = m && m.v != null && (m.h || tk(m.w || (Ms(m), m.w) || "")) || "", v = {}; l > 1 && (v.rowspan = l), f > 1 && (v.colspan = f), n.editable ? g = '<span contenteditable="true">' + g + "</span>" : m && (v["data-t"] = m && m.t || "z", m.v != null && (v["data-v"] = m.v), m.z != null && (v["data-z"] = m.z), m.l && (m.l.Target || "#").charAt(0) != "#" && (g = '<a href="' + m.l.Target + '">' + g + "</a>")), v.id = (n.id || "sjs") + "-" + h, i.push(vge("td", g, v)) } } var y = "<tr>"; return y + i.join("") + "</tr>" } var R_e = '<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>', P_e = "</body></html>"; function D_e(e, t) { var r = e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi); if (!r || r.length == 0) throw new Error("Invalid HTML: could not find <table>"); if (r.length == 1) return Xo(x4(r[0], t), t); var n = yk(); return r.forEach(function (a, i) { bk(n, x4(a, t), "Sheet" + (i + 1)) }), n } function M_e(e, t, r) { var n = []; return n.join("") + "<table" + (r && r.id ? ' id="' + r.id + '"' : "") + ">" } function L_e(e, t) { var r = t || {}, n = r.header != null ? r.header : R_e, a = r.footer != null ? r.footer : P_e, i = [n], s = nd(e["!ref"]); r.dense = Array.isArray(e), i.push(M_e(e, s, r)); for (var l = s.s.r; l <= s.e.r; ++l)i.push(O_e(e, s, l, r)); return i.push("</table>" + a), i.join("") } function kU(e, t, r) { var n = r || {}, a = 0, i = 0; if (n.origin != null) if (typeof n.origin == "number") a = n.origin; else { var s = typeof n.origin == "string" ? Kn(n.origin) : n.origin; a = s.r, i = s.c } var l = t.getElementsByTagName("tr"), f = Math.min(n.sheetRows || 1e7, l.length), d = { s: { r: 0, c: 0 }, e: { r: a, c: i } }; if (e["!ref"]) { var h = nd(e["!ref"]); d.s.r = Math.min(d.s.r, h.s.r), d.s.c = Math.min(d.s.c, h.s.c), d.e.r = Math.max(d.e.r, h.e.r), d.e.c = Math.max(d.e.c, h.e.c), a == -1 && (d.e.r = a = h.e.r + 1) } var m = [], g = 0, v = e["!rows"] || (e["!rows"] = []), y = 0, b = 0, _ = 0, k = 0, C = 0, T = 0; for (e["!cols"] || (e["!cols"] = []); y < l.length && b < f; ++y) { var j = l[y]; if (v4(j)) { if (n.display) continue; v[b] = { hidden: !0 } } var R = j.children; for (_ = k = 0; _ < R.length; ++_) { var O = R[_]; if (!(n.display && v4(O))) { var I = O.hasAttribute("data-v") ? O.getAttribute("data-v") : O.hasAttribute("v") ? O.getAttribute("v") : bF(O.innerHTML), H = O.getAttribute("data-z") || O.getAttribute("z"); for (g = 0; g < m.length; ++g) { var F = m[g]; F.s.c == k + i && F.s.r < b + a && b + a <= F.e.r && (k = F.e.c + 1 - i, g = -1) } T = +O.getAttribute("colspan") || 1, ((C = +O.getAttribute("rowspan") || 1) > 1 || T > 1) && m.push({ s: { r: b + a, c: k + i }, e: { r: b + a + (C || 1) - 1, c: k + i + (T || 1) - 1 } }); var X = { t: "s", v: I }, V = O.getAttribute("data-t") || O.getAttribute("t") || ""; I != null && (I.length == 0 ? X.t = V || "z" : n.raw || I.trim().length == 0 || V == "s" || (I === "TRUE" ? X = { t: "b", v: !0 } : I === "FALSE" ? X = { t: "b", v: !1 } : isNaN(yi(I)) ? isNaN(Fu(I).getDate()) || (X = { t: "d", v: sn(I) }, n.cellDates || (X = { t: "n", v: Qn(X.v) }), X.z = n.dateNF || ft[14]) : X = { t: "n", v: yi(I) })), X.z === void 0 && H != null && (X.z = H); var U = "", ee = O.getElementsByTagName("A"); if (ee && ee.length) for (var re = 0; re < ee.length && !(ee[re].hasAttribute("href") && (U = ee[re].getAttribute("href"), U.charAt(0) != "#")); ++re); U && U.charAt(0) != "#" && (X.l = { Target: U }), n.dense ? (e[b + a] || (e[b + a] = []), e[b + a][k + i] = X) : e[lt({ c: k + i, r: b + a })] = X, d.e.c < k + i && (d.e.c = k + i), k += T } } ++b } return m.length && (e["!merges"] = (e["!merges"] || []).concat(m)), d.e.r = Math.max(d.e.r, b - 1 + a), e["!ref"] = Tt(d), b >= f && (e["!fullref"] = Tt((d.e.r = l.length - y + b - 1 + a, d))), e } function TU(e, t) { var r = t || {}, n = r.dense ? [] : {}; return kU(n, e, t) } function F_e(e, t) { return Xo(TU(e, t), t) } function v4(e) { var t = "", r = U_e(e); return r && (t = r(e).getPropertyValue("display")), t || (t = e.style && e.style.display), t === "none" } function U_e(e) { return e.ownerDocument.defaultView && typeof e.ownerDocument.defaultView.getComputedStyle == "function" ? e.ownerDocument.defaultView.getComputedStyle : typeof getComputedStyle == "function" ? getComputedStyle : null } function B_e(e) {
  var t = e.replace(/[\t\r\n]/g, " ").trim().replace(/ +/g, " ").replace(/<text:s\/>/g, " ").replace(/<text:s text:c="(\d+)"\/>/g, function (n, a) { return Array(parseInt(a, 10) + 1).join(" ") }).replace(/<text:tab[^>]*\/>/g, "	").replace(/<text:line-break\/>/g, `
`), r = Nt(t.replace(/<[^>]*>/g, "")); return [r]
} var y4 = { day: ["d", "dd"], month: ["m", "mm"], year: ["y", "yy"], hours: ["h", "hh"], minutes: ["m", "mm"], seconds: ["s", "ss"], "am-pm": ["A/P", "AM/PM"], "day-of-week": ["ddd", "dddd"], era: ["e", "ee"], quarter: ["\\Qm", 'm\\"th quarter"'] }; function NU(e, t) {
  var r = t || {}, n = rk(e), a = [], i, s, l = { name: "" }, f = "", d = 0, h, m, g = {}, v = [], y = r.dense ? [] : {}, b, _, k = { value: "" }, C = "", T = 0, j = [], R = -1, O = -1, I = { s: { r: 1e6, c: 1e7 }, e: { r: 0, c: 0 } }, H = 0, F = {}, X = [], V = {}, U = 0, ee = 0, re = [], de = 1, D = 1, z = [], ie = { Names: [] }, M = {}, te = ["", ""], G = [], P = {}, W = "", J = 0, B = !1, ce = !1, fe = 0; for (a0.lastIndex = 0, n = n.replace(/<!--([\s\S]*?)-->/mg, "").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm, ""); b = a0.exec(n);)switch (b[3] = b[3].replace(/_.*$/, "")) {
    case "table": case "": b[1] === "/" ? (I.e.c >= I.s.c && I.e.r >= I.s.r ? y["!ref"] = Tt(I) : y["!ref"] = "A1:A1", r.sheetRows > 0 && r.sheetRows <= I.e.r && (y["!fullref"] = y["!ref"], I.e.r = r.sheetRows - 1, y["!ref"] = Tt(I)), X.length && (y["!merges"] = X), re.length && (y["!rows"] = re), h.name = h. || h.name, typeof JSON < "u" && JSON.stringify(h), v.push(h.name), g[h.name] = y, ce = !1) : b[0].charAt(b[0].length - 2) !== "/" && (h = at(b[0], !1), R = O = -1, I.s.r = I.s.c = 1e7, I.e.r = I.e.c = 0, y = r.dense ? [] : {}, X = [], re = [], ce = !0); break; case "table-row-group": b[1] === "/" ? --H : ++H; break; case "table-row": case "": if (b[1] === "/") { R += de, de = 1; break } if (m = at(b[0], !1), m. ? R = m. - 1 : R == -1 && (R = 0), de = +m["number-rows-repeated"] || 1, de < 10) for (fe = 0; fe < de; ++fe)H > 0 && (re[R + fe] = { level: H }); O = -1; break; case "covered-table-cell": b[1] !== "/" && ++O, r.sheetStubs && (r.dense ? (y[R] || (y[R] = []), y[R][O] = { t: "z" }) : y[lt({ r: R, c: O })] = { t: "z" }), C = "", j = []; break; case "table-cell": case "": if (b[0].charAt(b[0].length - 2) === "/") ++O, k = at(b[0], !1), D = parseInt(k["number-columns-repeated"] || "1", 10), _ = { t: "z", v: null }, k.formula && r.cellFormula != !1 && (_.f = h4(Nt(k.formula))), (k. || k["value-type"]) == "string" && (_.t = "s", _.v = Nt(k["string-value"] || ""), r.dense ? (y[R] || (y[R] = []), y[R][O] = _) : y[lt({ r: R, c: O })] = _), O += D - 1; else if (b[1] !== "/") { ++O, C = "", T = 0, j = [], D = 1; var le = de ? R + de - 1 : R; if (O > I.e.c && (I.e.c = O), O < I.s.c && (I.s.c = O), R < I.s.r && (I.s.r = R), le > I.e.r && (I.e.r = le), k = at(b[0], !1), G = [], P = {}, _ = { t: k. || k["value-type"], v: null }, r.cellFormula) if (k.formula && (k.formula = Nt(k.formula)), k["number-matrix-columns-spanned"] && k["number-matrix-rows-spanned"] && (U = parseInt(k["number-matrix-rows-spanned"], 10) || 0, ee = parseInt(k["number-matrix-columns-spanned"], 10) || 0, V = { s: { r: R, c: O }, e: { r: R + U - 1, c: O + ee - 1 } }, _.F = Tt(V), z.push([V, _.F])), k.formula) _.f = h4(k.formula); else for (fe = 0; fe < z.length; ++fe)R >= z[fe][0].s.r && R <= z[fe][0].e.r && O >= z[fe][0].s.c && O <= z[fe][0].e.c && (_.F = z[fe][1]); switch ((k["number-columns-spanned"] || k["number-rows-spanned"]) && (U = parseInt(k["number-rows-spanned"], 10) || 0, ee = parseInt(k["number-columns-spanned"], 10) || 0, V = { s: { r: R, c: O }, e: { r: R + U - 1, c: O + ee - 1 } }, X.push(V)), k["number-columns-repeated"] && (D = parseInt(k["number-columns-repeated"], 10)), _.t) { case "boolean": _.t = "b", _.v = ur(k["boolean-value"]); break; case "float": _.t = "n", _.v = parseFloat(k.value); break; case "percentage": _.t = "n", _.v = parseFloat(k.value); break; case "currency": _.t = "n", _.v = parseFloat(k.value); break; case "date": _.t = "d", _.v = sn(k["date-value"]), r.cellDates || (_.t = "n", _.v = Qn(_.v)), _.z = "m/d/yy"; break; case "time": _.t = "n", _.v = Qme(k["time-value"]) / 86400, r.cellDates && (_.t = "d", _.v = wx(_.v)), _.z = "HH:MM:SS"; break; case "number": _.t = "n", _.v = parseFloat(k.); break; default: if (_.t === "string" || _.t === "text" || !_.t) _.t = "s", k["string-value"] != null && (C = Nt(k["string-value"]), j = []); else throw new Error("Unsupported value type " + _.t) } } else { if (B = !1, _.t === "s" && (_.v = C || "", j.length && (_.R = j), B = T == 0), M.Target && (_.l = M), G.length > 0 && (_.c = G, G = []), C && r.cellText !== !1 && (_.w = C), B && (_.t = "z", delete _.v), (!B || r.sheetStubs) && !(r.sheetRows && r.sheetRows <= R)) for (var oe = 0; oe < de; ++oe) { if (D = parseInt(k["number-columns-repeated"] || "1", 10), r.dense) for (y[R + oe] || (y[R + oe] = []), y[R + oe][O] = oe == 0 ? _ : Sn(_); --D > 0;)y[R + oe][O + D] = Sn(_); else for (y[lt({ r: R + oe, c: O })] = _; --D > 0;)y[lt({ r: R + oe, c: O + D })] = Sn(_); I.e.c <= O && (I.e.c = O) } D = parseInt(k["number-columns-repeated"] || "1", 10), O += D - 1, D = 0, _ = {}, C = "", j = [] } M = {}; break; case "document": case "document-content": case "": case "spreadsheet": case "": case "scripts": case "styles": case "font-face-decls": case "master-styles": if (b[1] === "/") { if ((i = a.pop())[0] !== b[3]) throw "Bad state: " + i } else b[0].charAt(b[0].length - 2) !== "/" && a.push([b[3], !0]); break; case "annotation": if (b[1] === "/") { if ((i = a.pop())[0] !== b[3]) throw "Bad state: " + i; P.t = C, j.length && (P.R = j), P.a = W, G.push(P) } else b[0].charAt(b[0].length - 2) !== "/" && a.push([b[3], !1]); W = "", J = 0, C = "", T = 0, j = []; break; case "creator": b[1] === "/" ? W = n.slice(J, b.index) : J = b.index + b[0].length; break; case "meta": case "": case "settings": case "config-item-set": case "config-item-map-indexed": case "config-item-map-entry": case "config-item-map-named": case "shapes": case "frame": case "text-box": case "image": case "data-pilot-tables": case "list-style": case "form": case "dde-links": case "event-listeners": case "chart": if (b[1] === "/") { if ((i = a.pop())[0] !== b[3]) throw "Bad state: " + i } else b[0].charAt(b[0].length - 2) !== "/" && a.push([b[3], !1]); C = "", T = 0, j = []; break; case "scientific-number": break; case "currency-symbol": break; case "currency-style": break; case "number-style": case "percentage-style": case "date-style": case "time-style": if (b[1] === "/") { if (F[l.name] = f, (i = a.pop())[0] !== b[3]) throw "Bad state: " + i } else b[0].charAt(b[0].length - 2) !== "/" && (f = "", l = at(b[0], !1), a.push([b[3], !0])); break; case "script": break; case "libraries": break; case "automatic-styles": break; case "default-style": case "page-layout": break; case "style": break; case "map": break; case "font-face": break; case "paragraph-properties": break; case "table-properties": break; case "table-column-properties": break; case "table-row-properties": break; case "table-cell-properties": break; case "number": switch (a[a.length - 1][0]) { case "time-style": case "date-style": s = at(b[0], !1), f += y4[b[3]][s.style === "long" ? 1 : 0]; break }break; case "fraction": break; case "day": case "month": case "year": case "era": case "day-of-week": case "week-of-year": case "quarter": case "hours": case "minutes": case "seconds": case "am-pm": switch (a[a.length - 1][0]) { case "time-style": case "date-style": s = at(b[0], !1), f += y4[b[3]][s.style === "long" ? 1 : 0]; break }break; case "boolean-style": break; case "boolean": break; case "text-style": break; case "text": if (b[0].slice(-2) === "/>") break; if (b[1] === "/") switch (a[a.length - 1][0]) { case "number-style": case "date-style": case "time-style": f += n.slice(d, b.index); break } else d = b.index + b[0].length; break; case "named-range": s = at(b[0], !1), te = U1(s["cell-range-address"]); var pe = { Name: s.name, Ref: te[0] + "!" + te[1] }; ce && (pe.Sheet = v.length), ie.Names.push(pe); break; case "text-content": break; case "text-properties": break; case "embedded-text": break; case "body": case "": break; case "forms": break; case "table-column": break; case "table-header-rows": break; case "table-rows": break; case "table-column-group": break; case "table-header-columns": break; case "table-columns": break; case "null-date": break; case "graphic-properties": break; case "calculation-settings": break; case "named-expressions": break; case "label-range": break; case "label-ranges": break; case "named-expression": break; case "sort": break; case "sort-by": break; case "sort-groups": break; case "tab": break; case "line-break": break; case "span": break; case "p": case "": if (["master-styles"].indexOf(a[a.length - 1][0]) > -1) break; if (b[1] === "/" && (!k || !k["string-value"])) {
      var Ie = B_e(n.slice(T, b.index)); C = (C.length > 0 ? C + `
`: "") + Ie[0]
    } else at(b[0], !1), T = b.index + b[0].length; break; case "s": break; case "database-range": if (b[1] === "/") break; try { te = U1(at(b[0])["target-range-address"]), g[te[0]]["!autofilter"] = { ref: te[1] } } catch { } break; case "date": break; case "object": break; case "title": case "": break; case "desc": break; case "binary-data": break; case "table-source": break; case "scenario": break; case "iteration": break; case "content-validations": break; case "content-validation": break; case "help-message": break; case "error-message": break; case "database-ranges": break; case "filter": break; case "filter-and": break; case "filter-or": break; case "filter-condition": break; case "list-level-style-bullet": break; case "list-level-style-number": break; case "list-level-properties": break; case "sender-firstname": case "sender-lastname": case "sender-initials": case "sender-title": case "sender-position": case "sender-email": case "sender-phone-private": case "sender-fax": case "sender-company": case "sender-phone-work": case "sender-street": case "sender-city": case "sender-postal-code": case "sender-country": case "sender-state-or-province": case "author-name": case "author-initials": case "chapter": case "file-name": case "template-name": case "sheet-name": break; case "event-listener": break; case "initial-creator": case "creation-date": case "print-date": case "generator": case "document-statistic": case "user-defined": case "editing-duration": case "editing-cycles": break; case "config-item": break; case "page-number": break; case "page-count": break; case "time": break; case "cell-range-source": break; case "detective": break; case "operation": break; case "highlighted-range": break; case "data-pilot-table": case "source-cell-range": case "source-service": case "data-pilot-field": case "data-pilot-level": case "data-pilot-subtotals": case "data-pilot-subtotal": case "data-pilot-members": case "data-pilot-member": case "data-pilot-display-info": case "data-pilot-sort-info": case "data-pilot-layout-info": case "data-pilot-field-reference": case "data-pilot-groups": case "data-pilot-group": case "data-pilot-group-member": break; case "rect": break; case "dde-connection-decls": case "dde-connection-decl": case "dde-link": case "dde-source": break; case "properties": break; case "property": break; case "a": if (b[1] !== "/") { if (M = at(b[0], !1), !M.href) break; M.Target = Nt(M.href), delete M.href, M.Target.charAt(0) == "#" && M.Target.indexOf(".") > -1 ? (te = U1(M.Target.slice(1)), M.Target = "#" + te[0] + "!" + te[1]) : M.Target.match(/^\.\.[\\\/]/) && (M.Target = M.Target.slice(3)) } break; case "table-protection": break; case "data-pilot-grand-total": break; case "office-document-common-attrs": break; default: switch (b[2]) { case "dc:": case "calcext:": case "loext:": case "ooo:": case "chartooo:": case "draw:": case "style:": case "chart:": case "form:": case "uof:": case ":": case ":": break; default: if (r.WTF) throw new Error(b) }
  }var Y = { Sheets: g, SheetNames: v, Workbook: ie }; return r.bookSheets && delete Y.Sheets, Y
} function b4(e, t) { t = t || {}, Va(e, "META-INF/manifest.xml") && rxe(Mr(e, "META-INF/manifest.xml"), t); var r = Sa(e, "content.xml"); if (!r) throw new Error("Missing content.xml in ODS / UOF file"); var n = NU(tr(r), t); return Va(e, "meta.xml") && (n.Props = BF(Mr(e, "meta.xml"))), n } function w4(e, t) { return NU(e, t) }/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function mk(e) { return new DataView(e.buffer, e.byteOffset, e.byteLength) } function N_(e) { return typeof TextDecoder < "u" ? new TextDecoder().decode(e) : tr(lc(e)) } function A_(e) { var t = e.reduce(function (a, i) { return a + i.length }, 0), r = new Uint8Array(t), n = 0; return e.forEach(function (a) { r.set(a, n), n += a.length }), r } function _4(e) { return e -= e >> 1 & 1431655765, e = (e & 858993459) + (e >> 2 & 858993459), (e + (e >> 4) & 252645135) * 16843009 >>> 24 } function $_e(e, t) { for (var r = (e[t + 15] & 127) << 7 | e[t + 14] >> 1, n = e[t + 14] & 1, a = t + 13; a >= t; --a)n = n * 256 + e[a]; return (e[t + 15] & 128 ? -n : n) * Math.pow(10, r - 6176) } function l0(e, t) { var r = t ? t[0] : 0, n = e[r] & 127; e: if (e[r++] >= 128 && (n |= (e[r] & 127) << 7, e[r++] < 128 || (n |= (e[r] & 127) << 14, e[r++] < 128) || (n |= (e[r] & 127) << 21, e[r++] < 128) || (n += (e[r] & 127) * Math.pow(2, 28), ++r, e[r++] < 128) || (n += (e[r] & 127) * Math.pow(2, 35), ++r, e[r++] < 128) || (n += (e[r] & 127) * Math.pow(2, 42), ++r, e[r++] < 128))) break e; return t && (t[0] = r), n } function qr(e) { var t = 0, r = e[t] & 127; e: if (e[t++] >= 128) { if (r |= (e[t] & 127) << 7, e[t++] < 128 || (r |= (e[t] & 127) << 14, e[t++] < 128) || (r |= (e[t] & 127) << 21, e[t++] < 128)) break e; r |= (e[t] & 127) << 28 } return r } function Dn(e) { for (var t = [], r = [0]; r[0] < e.length;) { var n = r[0], a = l0(e, r), i = a & 7; a = Math.floor(a / 8); var s = 0, l; if (a == 0) break; switch (i) { case 0: { for (var f = r[0]; e[r[0]++] >= 128;); l = e.slice(f, r[0]) } break; case 5: s = 4, l = e.slice(r[0], r[0] + s), r[0] += s; break; case 1: s = 8, l = e.slice(r[0], r[0] + s), r[0] += s; break; case 2: s = l0(e, r), l = e.slice(r[0], r[0] + s), r[0] += s; break; case 3: case 4: default: throw new Error("PB Type ".concat(i, " for Field ").concat(a, " at offset ").concat(n)) }var d = { data: l, type: i }; t[a] == null ? t[a] = [d] : t[a].push(d) } return t } function gk(e, t) { return (e == null ? void 0 : e.map(function (r) { return t(r.data) })) || [] } function z_e(e) { for (var t, r = [], n = [0]; n[0] < e.length;) { var a = l0(e, n), i = Dn(e.slice(n[0], n[0] + a)); n[0] += a; var s = { id: qr(i[1][0].data), messages: [] }; i[2].forEach(function (l) { var f = Dn(l.data), d = qr(f[3][0].data); s.messages.push({ meta: f, data: e.slice(n[0], n[0] + d) }), n[0] += d }), (t = i[3]) != null && t[0] && (s.merge = qr(i[3][0].data) >>> 0 > 0), r.push(s) } return r } function H_e(e, t) { if (e != 0) throw new Error("Unexpected Snappy chunk type ".concat(e)); for (var r = [0], n = l0(t, r), a = []; r[0] < t.length;) { var i = t[r[0]] & 3; if (i == 0) { var s = t[r[0]++] >> 2; if (s < 60) ++s; else { var l = s - 59; s = t[r[0]], l > 1 && (s |= t[r[0] + 1] << 8), l > 2 && (s |= t[r[0] + 2] << 16), l > 3 && (s |= t[r[0] + 3] << 24), s >>>= 0, s++, r[0] += l } a.push(t.slice(r[0], r[0] + s)), r[0] += s; continue } else { var f = 0, d = 0; if (i == 1 ? (d = (t[r[0]] >> 2 & 7) + 4, f = (t[r[0]++] & 224) << 3, f |= t[r[0]++]) : (d = (t[r[0]++] >> 2) + 1, i == 2 ? (f = t[r[0]] | t[r[0] + 1] << 8, r[0] += 2) : (f = (t[r[0]] | t[r[0] + 1] << 8 | t[r[0] + 2] << 16 | t[r[0] + 3] << 24) >>> 0, r[0] += 4)), a = [A_(a)], f == 0) throw new Error("Invalid offset 0"); if (f > a[0].length) throw new Error("Invalid offset beyond length"); if (d >= f) for (a.push(a[0].slice(-f)), d -= f; d >= a[a.length - 1].length;)a.push(a[a.length - 1]), d -= a[a.length - 1].length; a.push(a[0].slice(-f, -f + d)) } } var h = A_(a); if (h.length != n) throw new Error("Unexpected length: ".concat(h.length, " != ").concat(n)); return h } function G_e(e) { for (var t = [], r = 0; r < e.length;) { var n = e[r++], a = e[r] | e[r + 1] << 8 | e[r + 2] << 16; r += 3, t.push(H_e(n, e.slice(r, r + a))), r += a } if (r !== e.length) throw new Error("data is not a valid framed stream!"); return A_(t) } function V_e(e, t, r, n) { var a = mk(e), i = a.getUint32(4, !0), s = (n > 1 ? 12 : 8) + _4(i & (n > 1 ? 3470 : 398)) * 4, l = -1, f = -1, d = NaN, h = new Date(2001, 0, 1); i & 512 && (l = a.getUint32(s, !0), s += 4), s += _4(i & (n > 1 ? 12288 : 4096)) * 4, i & 16 && (f = a.getUint32(s, !0), s += 4), i & 32 && (d = a.getFloat64(s, !0), s += 8), i & 64 && (h.setTime(h.getTime() + a.getFloat64(s, !0) * 1e3), s += 8); var m; switch (e[2]) { case 0: break; case 2: m = { t: "n", v: d }; break; case 3: m = { t: "s", v: t[f] }; break; case 5: m = { t: "d", v: h }; break; case 6: m = { t: "b", v: d > 0 }; break; case 7: m = { t: "n", v: d / 86400 }; break; case 8: m = { t: "e", v: 0 }; break; case 9: if (l > -1) m = { t: "s", v: r[l] }; else if (f > -1) m = { t: "s", v: t[f] }; else if (!isNaN(d)) m = { t: "n", v: d }; else throw new Error("Unsupported cell type ".concat(e.slice(0, 4))); break; default: throw new Error("Unsupported cell type ".concat(e.slice(0, 4))) }return m } function q_e(e, t, r) { var n = mk(e), a = n.getUint32(8, !0), i = 12, s = -1, l = -1, f = NaN, d = NaN, h = new Date(2001, 0, 1); a & 1 && (f = $_e(e, i), i += 16), a & 2 && (d = n.getFloat64(i, !0), i += 8), a & 4 && (h.setTime(h.getTime() + n.getFloat64(i, !0) * 1e3), i += 8), a & 8 && (l = n.getUint32(i, !0), i += 4), a & 16 && (s = n.getUint32(i, !0), i += 4); var m; switch (e[1]) { case 0: break; case 2: m = { t: "n", v: f }; break; case 3: m = { t: "s", v: t[l] }; break; case 5: m = { t: "d", v: h }; break; case 6: m = { t: "b", v: d > 0 }; break; case 7: m = { t: "n", v: d / 86400 }; break; case 8: m = { t: "e", v: 0 }; break; case 9: if (s > -1) m = { t: "s", v: r[s] }; else throw new Error("Unsupported cell type ".concat(e[1], " : ").concat(a & 31, " : ").concat(e.slice(0, 4))); break; case 10: m = { t: "n", v: f }; break; default: throw new Error("Unsupported cell type ".concat(e[1], " : ").concat(a & 31, " : ").concat(e.slice(0, 4))) }return m } function W_e(e, t, r) { switch (e[0]) { case 0: case 1: case 2: case 3: return V_e(e, t, r, e[0]); case 5: return q_e(e, t, r); default: throw new Error("Unsupported payload version ".concat(e[0])) } } function Lo(e) { var t = Dn(e); return l0(t[1][0].data) } function S4(e, t) { var r = Dn(t.data), n = qr(r[1][0].data), a = r[3], i = []; return (a || []).forEach(function (s) { var l = Dn(s.data), f = qr(l[1][0].data) >>> 0; switch (n) { case 1: i[f] = N_(l[3][0].data); break; case 8: { var d = e[Lo(l[9][0].data)][0], h = Dn(d.data), m = e[Lo(h[1][0].data)][0], g = qr(m.meta[1][0].data); if (g != 2001) throw new Error("2000 unexpected reference to ".concat(g)); var v = Dn(m.data); i[f] = v[3].map(function (y) { return N_(y.data) }).join("") } break } }), i } function K_e(e, t) { var r, n, a, i, s, l, f, d, h, m, g, v, y, b, _ = Dn(e), k = qr(_[1][0].data) >>> 0, C = qr(_[2][0].data) >>> 0, T = ((n = (r = _[8]) == null ? void 0 : r[0]) == null ? void 0 : n.data) && qr(_[8][0].data) > 0 || !1, j, R; if ((i = (a = _[7]) == null ? void 0 : a[0]) != null && i.data && t != 0) j = (l = (s = _[7]) == null ? void 0 : s[0]) == null ? void 0 : l.data, R = (d = (f = _[6]) == null ? void 0 : f[0]) == null ? void 0 : d.data; else if ((m = (h = _[4]) == null ? void 0 : h[0]) != null && m.data && t != 1) j = (v = (g = _[4]) == null ? void 0 : g[0]) == null ? void 0 : v.data, R = (b = (y = _[3]) == null ? void 0 : y[0]) == null ? void 0 : b.data; else throw "NUMBERS Tile missing ".concat(t, " cell storage"); for (var O = T ? 4 : 1, I = mk(j), H = [], F = 0; F < j.length / 2; ++F) { var X = I.getUint16(F * 2, !0); X < 65535 && H.push([F, X]) } if (H.length != C) throw "Expected ".concat(C, " cells, found ").concat(H.length); var V = []; for (F = 0; F < H.length - 1; ++F)V[H[F][0]] = R.subarray(H[F][1] * O, H[F + 1][1] * O); return H.length >= 1 && (V[H[H.length - 1][0]] = R.subarray(H[H.length - 1][1] * O)), { R: k, cells: V } } function Y_e(e, t) { var r, n = Dn(t.data), a = (r = n == null ? void 0 : n[7]) != null && r[0] ? qr(n[7][0].data) >>> 0 > 0 ? 1 : 0 : -1, i = gk(n[5], function (s) { return K_e(s, a) }); return { nrows: qr(n[4][0].data) >>> 0, data: i.reduce(function (s, l) { return s[l.R] || (s[l.R] = []), l.cells.forEach(function (f, d) { if (s[l.R][d]) throw new Error("Duplicate cell r=".concat(l.R, " c=").concat(d)); s[l.R][d] = f }), s }, []) } } function X_e(e, t, r) { var n, a = Dn(t.data), i = { s: { r: 0, c: 0 }, e: { r: 0, c: 0 } }; if (i.e.r = (qr(a[6][0].data) >>> 0) - 1, i.e.r < 0) throw new Error("Invalid row varint ".concat(a[6][0].data)); if (i.e.c = (qr(a[7][0].data) >>> 0) - 1, i.e.c < 0) throw new Error("Invalid col varint ".concat(a[7][0].data)); r["!ref"] = Tt(i); var s = Dn(a[4][0].data), l = S4(e, e[Lo(s[4][0].data)][0]), f = (n = s[17]) != null && n[0] ? S4(e, e[Lo(s[17][0].data)][0]) : [], d = Dn(s[3][0].data), h = 0; d[1].forEach(function (m) { var g = Dn(m.data), v = e[Lo(g[2][0].data)][0], y = qr(v.meta[1][0].data); if (y != 6002) throw new Error("6001 unexpected reference to ".concat(y)); var b = Y_e(e, v); b.data.forEach(function (_, k) { _.forEach(function (C, T) { var j = lt({ r: h + k, c: T }), R = W_e(C, l, f); R && (r[j] = R) }) }), h += b.nrows }) } function J_e(e, t) { var r = Dn(t.data), n = { "!ref": "A1" }, a = e[Lo(r[2][0].data)], i = qr(a[0].meta[1][0].data); if (i != 6001) throw new Error("6000 unexpected reference to ".concat(i)); return X_e(e, a[0], n), n } function Z_e(e, t) { var r, n = Dn(t.data), a = { name: (r = n[1]) != null && r[0] ? N_(n[1][0].data) : "", sheets: [] }, i = gk(n[2], Lo); return i.forEach(function (s) { e[s].forEach(function (l) { var f = qr(l.meta[1][0].data); f == 6e3 && a.sheets.push(J_e(e, l)) }) }), a } function Q_e(e, t) { var r = yk(), n = Dn(t.data), a = gk(n[1], Lo); if (a.forEach(function (i) { e[i].forEach(function (s) { var l = qr(s.meta[1][0].data); if (l == 2) { var f = Z_e(e, s); f.sheets.forEach(function (d, h) { bk(r, d, h == 0 ? f.name : f.name + "_" + h, !0) }) } }) }), r.SheetNames.length == 0) throw new Error("Empty NUMBERS file"); return r } function $1(e) { var t, r, n, a, i = {}, s = []; if (e.FullPaths.forEach(function (f) { if (f.match(/\.iwpv2/)) throw new Error("Unsupported password protection") }), e.FileIndex.forEach(function (f) { if (f.name.match(/\.iwa$/)) { var d; try { d = G_e(f.content) } catch (m) { return console.log("?? " + f.content.length + " " + (m.message || m)) } var h; try { h = z_e(d) } catch (m) { return console.log("## " + (m.message || m)) } h.forEach(function (m) { i[m.id] = m.messages, s.push(m.id) }) } }), !s.length) throw new Error("File has no messages"); var l = ((a = (n = (r = (t = i == null ? void 0 : i[1]) == null ? void 0 : t[0]) == null ? void 0 : r.meta) == null ? void 0 : n[1]) == null ? void 0 : a[0].data) && qr(i[1][0].meta[1][0].data) == 1 && i[1][0]; if (l || s.forEach(function (f) { i[f].forEach(function (d) { var h = qr(d.meta[1][0].data) >>> 0; if (h == 1) if (!l) l = d; else throw new Error("Document has multiple roots") }) }), !l) throw new Error("Cannot find Document root"); return Q_e(i, l) } function eSe(e) { return function (r) { for (var n = 0; n != e.length; ++n) { var a = e[n]; r[a[0]] === void 0 && (r[a[0]] = a[1]), a[2] === "n" && (r[a[0]] = Number(r[a[0]])) } } } function xk(e) { eSe([["cellNF", !1], ["cellHTML", !0], ["cellFormula", !0], ["cellStyles", !1], ["cellText", !0], ["cellDates", !1], ["sheetStubs", !1], ["sheetRows", 0, "n"], ["bookDeps", !1], ["bookSheets", !1], ["bookProps", !1], ["bookFiles", !1], ["bookVBA", !1], ["password", ""], ["WTF", !1]])(e) } function tSe(e) { return wu.WS.indexOf(e) > -1 ? "sheet" : e == wu.CS ? "chart" : e == wu.DS ? "dialog" : e == wu.MS ? "macro" : e && e.length ? e : "sheet" } function rSe(e, t) { if (!e) return 0; try { e = t.map(function (n) { return n.id || (n.id = n.strRelID), [n.name, e["!id"][n.id].Target, tSe(e["!id"][n.id].Type)] }) } catch { return null } return !e || e.length === 0 ? null : e } function nSe(e, t, r, n, a, i, s, l, f, d, h, m) { try { i[n] = Tf(Sa(e, r, !0), t); var g = Mr(e, t), v; switch (l) { case "sheet": v = c_e(g, t, a, f, i[n], d, h, m); break; case "chart": if (v = u_e(g, t, a, f, i[n], d, h, m), !v || !v["!drawel"]) break; var y = xf(v["!drawel"].Target, t), b = __(y), _ = lbe(Sa(e, y, !0), Tf(Sa(e, b, !0), y)), k = xf(_, y), C = __(k); v = qwe(Sa(e, k, !0), k, f, Tf(Sa(e, C, !0), k), d, v); break; case "macro": v = d_e(g, t, a, f, i[n], d, h, m); break; case "dialog": v = f_e(g, t, a, f, i[n], d, h, m); break; default: throw new Error("Unrecognized sheet type " + l) }s[n] = v; var T = []; i && i[n] && Ki(i[n]).forEach(function (j) { var R = ""; if (i[n][j].Type == wu.CMNT) { R = xf(i[n][j].Target, t); var O = g_e(Mr(e, R, !0), R, f); if (!O || !O.length) return; l4(v, O, !1) } i[n][j].Type == wu.TCMNT && (R = xf(i[n][j].Target, t), T = T.concat(ube(Mr(e, R, !0), f))) }), T && T.length && l4(v, T, !0, f.people || []) } catch (j) { if (f.WTF) throw j } } function $a(e) { return e.charAt(0) == "/" ? e.slice(1) : e } function aSe(e, t) { if (dF(), t = t || {}, xk(t), Va(e, "META-INF/manifest.xml") || Va(e, "objectdata.xml")) return b4(e, t); if (Va(e, "Index/Document.iwa")) { if (typeof Uint8Array > "u") throw new Error("NUMBERS file parsing requires Uint8Array support"); if (typeof $1 < "u") { if (e.FileIndex) return $1(e); var r = kt.utils.cfb_new(); return DD(e).forEach(function (re) { ige(r, re, age(e, re)) }), $1(r) } throw new Error("Unsupported NUMBERS file") } if (!Va(e, "[Content_Types].xml")) throw Va(e, "index.xml.gz") ? new Error("Unsupported NUMBERS 08 file") : Va(e, "index.xml") ? new Error("Unsupported NUMBERS 09 file") : new Error("Unsupported ZIP file"); var n = DD(e), a = exe(Sa(e, "[Content_Types].xml")), i = !1, s, l; if (a.workbooks.length === 0 && (l = "xl/workbook.xml", Mr(e, l, !0) && a.workbooks.push(l)), a.workbooks.length === 0) { if (l = "xl/workbook.bin", !Mr(e, l, !0)) throw new Error("Could not find workbook"); a.workbooks.push(l), i = !0 } a.workbooks[0].slice(-3) == "bin" && (i = !0); var f = {}, d = {}; if (!t.bookSheets && !t.bookProps) { if (Cf = [], a.sst) try { Cf = m_e(Mr(e, $a(a.sst)), a.sst, t) } catch (re) { if (t.WTF) throw re } t.cellStyles && a.themes.length && (f = p_e(Sa(e, a.themes[0].replace(/^\//, ""), !0) || "", a.themes[0], t)), a.style && (d = h_e(Mr(e, $a(a.style)), a.style, f, t)) } a.links.map(function (re) { try { var de = Tf(Sa(e, __($a(re))), re); return v_e(Mr(e, $a(re)), de, re, t) } catch { } }); var h = l_e(Mr(e, $a(a.workbooks[0])), a.workbooks[0], t), m = {}, g = ""; a.coreprops.length && (g = Mr(e, $a(a.coreprops[0]), !0), g && (m = BF(g)), a.extprops.length !== 0 && (g = Mr(e, $a(a.extprops[0]), !0), g && ixe(g, m, t))); var v = {}; (!t.bookSheets || t.bookProps) && a.custprops.length !== 0 && (g = Sa(e, $a(a.custprops[0]), !0), g && (v = oxe(g, t))); var y = {}; if ((t.bookSheets || t.bookProps) && (h.Sheets ? s = h.Sheets.map(function (de) { return de.name }) : m.Worksheets && m.SheetNames.length > 0 && (s = m.SheetNames), t.bookProps && (y.Props = m, y.Custprops = v), t.bookSheets && typeof s < "u" && (y.SheetNames = s), t.bookSheets ? y.SheetNames : t.bookProps)) return y; s = {}; var b = {}; t.bookDeps && a.calcchain && (b = x_e(Mr(e, $a(a.calcchain)), a.calcchain)); var _ = 0, k = {}, C, T; { var j = h.Sheets; m.Worksheets = j.length, m.SheetNames = []; for (var R = 0; R != j.length; ++R)m.SheetNames[R] = j[R].name } var O = i ? "bin" : "xml", I = a.workbooks[0].lastIndexOf("/"), H = (a.workbooks[0].slice(0, I + 1) + "_rels/" + a.workbooks[0].slice(I + 1) + ".rels").replace(/^\//, ""); Va(e, H) || (H = "xl/_rels/workbook." + O + ".rels"); var F = Tf(Sa(e, H, !0), H.replace(/_rels.*/, "s5s")); (a.metadata || []).length >= 1 && (t.xlmeta = y_e(Mr(e, $a(a.metadata[0])), a.metadata[0], t)), (a.people || []).length >= 1 && (t.people = dbe(Mr(e, $a(a.people[0])), t)), F && (F = rSe(F, h.Sheets)); var X = Mr(e, "xl/worksheets/sheet.xml", !0) ? 1 : 0; e: for (_ = 0; _ != m.Worksheets; ++_) { var V = "sheet"; if (F && F[_] ? (C = "xl/" + F[_][1].replace(/[\/]?xl\//, ""), Va(e, C) || (C = F[_][1]), Va(e, C) || (C = H.replace(/_rels\/.*$/, "") + F[_][1]), V = F[_][2]) : (C = "xl/worksheets/sheet" + (_ + 1 - X) + "." + O, C = C.replace(/sheet0\./, "sheet.")), T = C.replace(/^(.*)(\/)([^\/]*)$/, "$1/_rels/$3.rels"), t && t.sheets != null) switch (typeof t.sheets) { case "number": if (_ != t.sheets) continue e; break; case "string": if (m.SheetNames[_].toLowerCase() != t.sheets.toLowerCase()) continue e; break; default: if (Array.isArray && Array.isArray(t.sheets)) { for (var U = !1, ee = 0; ee != t.sheets.length; ++ee)typeof t.sheets[ee] == "number" && t.sheets[ee] == _ && (U = 1), typeof t.sheets[ee] == "string" && t.sheets[ee].toLowerCase() == m.SheetNames[_].toLowerCase() && (U = 1); if (!U) continue e } }nSe(e, C, T, m.SheetNames[_], _, k, s, V, t, h, f, d) } return y = { Directory: a, Workbook: h, Props: m, Custprops: v, Deps: b, Sheets: s, SheetNames: m.SheetNames, Strings: Cf, Styles: d, Themes: f, SSF: Sn(ft) }, t && t.bookFiles && (e.files ? (y.keys = n, y.files = e.files) : (y.keys = [], y.files = {}, e.FullPaths.forEach(function (re, de) { re = re.replace(/^Root Entry[\/]/, ""), y.keys.push(re), y.files[re] = e.FileIndex[de] }))), t && t.bookVBA && (a.vba.length > 0 ? y.vbaraw = Mr(e, $a(a.vba[0]), !0) : a.defaults && a.defaults.bin === mbe && (y.vbaraw = Mr(e, "xl/vbaProject.bin", !0))), y } function iSe(e, t) { var r = t || {}, n = "Workbook", a = kt.find(e, n); try { if (n = "/!DataSpaces/Version", a = kt.find(e, n), !a || !a.content) throw new Error("ECMA-376 Encrypted file missing " + n); if (Jve(a.content), n = "/!DataSpaces/DataSpaceMap", a = kt.find(e, n), !a || !a.content) throw new Error("ECMA-376 Encrypted file missing " + n); var i = Qve(a.content); if (i.length !== 1 || i[0].comps.length !== 1 || i[0].comps[0].t !== 0 || i[0].name !== "StrongEncryptionDataSpace" || i[0].comps[0].v !== "EncryptedPackage") throw new Error("ECMA-376 Encrypted file bad " + n); if (n = "/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace", a = kt.find(e, n), !a || !a.content) throw new Error("ECMA-376 Encrypted file missing " + n); var s = eye(a.content); if (s.length != 1 || s[0] != "StrongEncryptionTransform") throw new Error("ECMA-376 Encrypted file bad " + n); if (n = "/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary", a = kt.find(e, n), !a || !a.content) throw new Error("ECMA-376 Encrypted file missing " + n); rye(a.content) } catch { } if (n = "/EncryptionInfo", a = kt.find(e, n), !a || !a.content) throw new Error("ECMA-376 Encrypted file missing " + n); var l = nye(a.content); if (n = "/EncryptedPackage", a = kt.find(e, n), !a || !a.content) throw new Error("ECMA-376 Encrypted file missing " + n); if (l[0] == 4 && typeof decrypt_agile < "u") return decrypt_agile(l[1], a.content, r.password || "", r); if (l[0] == 2 && typeof decrypt_std76 < "u") return decrypt_std76(l[1], a.content, r.password || "", r); throw new Error("File is password-protected") } function vk(e, t) { var r = ""; switch ((t || {}).type || "base64") { case "buffer": return [e[0], e[1], e[2], e[3], e[4], e[5], e[6], e[7]]; case "base64": r = Na(e.slice(0, 12)); break; case "binary": r = e; break; case "array": return [e[0], e[1], e[2], e[3], e[4], e[5], e[6], e[7]]; default: throw new Error("Unrecognized type " + (t && t.type || "undefined")) }return [r.charCodeAt(0), r.charCodeAt(1), r.charCodeAt(2), r.charCodeAt(3), r.charCodeAt(4), r.charCodeAt(5), r.charCodeAt(6), r.charCodeAt(7)] } function sSe(e, t) { return kt.find(e, "EncryptedPackage") ? iSe(e, t) : EU(e, t) } function oSe(e, t) { var r, n = e, a = t || {}; return a.type || (a.type = St && Buffer.isBuffer(e) ? "buffer" : "base64"), r = xF(n, a), aSe(r, a) } function AU(e, t) { var r = 0; e: for (; r < e.length;)switch (e.charCodeAt(r)) { case 10: case 13: case 32: ++r; break; case 60: return k_(e.slice(r), t); default: break e }return i0.to_workbook(e, t) } function lSe(e, t) { var r = "", n = vk(e, t); switch (t.type) { case "base64": r = Na(e); break; case "binary": r = e; break; case "buffer": r = e.toString("binary"); break; case "array": r = tc(e); break; default: throw new Error("Unrecognized type " + t.type) }return n[0] == 239 && n[1] == 187 && n[2] == 191 && (r = tr(r)), t.type = "binary", AU(r, t) } function cSe(e, t) { var r = e; return t.type == "base64" && (r = Na(r)), r = t0.utils.decode(1200, r.slice(2), "str"), t.type = "binary", AU(r, t) } function uSe(e) { return e.match(/[^\x00-\x7F]/) ? vf(e) : e } function z1(e, t, r, n) { return n ? (r.type = "string", i0.to_workbook(e, r)) : i0.to_workbook(t, r) } function hg(e, t) { QL(); var r = t || {}; if (typeof ArrayBuffer < "u" && e instanceof ArrayBuffer) return hg(new Uint8Array(e), (r = Sn(r), r.type = "array", r)); typeof Uint8Array < "u" && e instanceof Uint8Array && !r.type && (r.type = typeof Deno < "u" ? "buffer" : "array"); var n = e, a = [0, 0, 0, 0], i = !1; if (r.cellStyles && (r.cellNF = !0, r.sheetStubs = !0), ju = {}, r.dateNF && (ju.dateNF = r.dateNF), r.type || (r.type = St && Buffer.isBuffer(e) ? "buffer" : "base64"), r.type == "file" && (r.type = St ? "buffer" : "binary", n = Jme(e), typeof Uint8Array < "u" && !St && (r.type = "array")), r.type == "string" && (i = !0, r.type = "binary", r.codepage = 65001, n = uSe(e)), r.type == "array" && typeof Uint8Array < "u" && e instanceof Uint8Array && typeof ArrayBuffer < "u") { var s = new ArrayBuffer(3), l = new Uint8Array(s); if (l.foo = "bar", !l.foo) return r = Sn(r), r.type = "array", hg(XE(n), r) } switch ((a = vk(n, r))[0]) { case 208: if (a[1] === 207 && a[2] === 17 && a[3] === 224 && a[4] === 161 && a[5] === 177 && a[6] === 26 && a[7] === 225) return sSe(kt.read(n, r), r); break; case 9: if (a[1] <= 8) return EU(n, r); break; case 60: return k_(n, r); case 73: if (a[1] === 73 && a[2] === 42 && a[3] === 0) throw new Error("TIFF Image File is not a spreadsheet"); if (a[1] === 68) return Fve(n, r); break; case 84: if (a[1] === 65 && a[2] === 66 && a[3] === 76) return Mve.to_workbook(n, r); break; case 80: return a[1] === 75 && a[2] < 9 && a[3] < 9 ? oSe(n, r) : z1(e, n, r, i); case 239: return a[3] === 60 ? k_(n, r) : z1(e, n, r, i); case 255: if (a[1] === 254) return cSe(n, r); if (a[1] === 0 && a[2] === 2 && a[3] === 0) return Af.to_workbook(n, r); break; case 0: if (a[1] === 0 && (a[2] >= 2 && a[3] === 0 || a[2] === 0 && (a[3] === 8 || a[3] === 9))) return Af.to_workbook(n, r); break; case 3: case 131: case 139: case 140: return o4.to_workbook(n, r); case 123: if (a[1] === 92 && a[2] === 114 && a[3] === 116) return mye.to_workbook(n, r); break; case 10: case 13: case 32: return lSe(n, r); case 137: if (a[1] === 80 && a[2] === 78 && a[3] === 71) throw new Error("PNG Image File is not a spreadsheet"); break }return Pve.indexOf(a[0]) > -1 && a[2] <= 12 && a[3] <= 31 ? o4.to_workbook(n, r) : z1(e, n, r, i) } function dSe(e, t, r, n, a, i, s, l) { var f = En(r), d = l.defval, h = l.raw || !Object.prototype.hasOwnProperty.call(l, "raw"), m = !0, g = a === 1 ? [] : {}; if (a !== 1) if (Object.defineProperty) try { Object.defineProperty(g, "__rowNum__", { value: r, enumerable: !1 }) } catch { g.__rowNum__ = r } else g.__rowNum__ = r; if (!s || e[r]) for (var v = t.s.c; v <= t.e.c; ++v) { var y = s ? e[r][v] : e[n[v] + f]; if (y === void 0 || y.t === void 0) { if (d === void 0) continue; i[v] != null && (g[i[v]] = d); continue } var b = y.v; switch (y.t) { case "z": if (b == null) break; continue; case "e": b = b == 0 ? null : void 0; break; case "s": case "d": case "b": case "n": break; default: throw new Error("unrecognized type " + y.t) }if (i[v] != null) { if (b == null) if (y.t == "e" && b === null) g[i[v]] = null; else if (d !== void 0) g[i[v]] = d; else if (h && b === null) g[i[v]] = null; else continue; else g[i[v]] = h && (y.t !== "n" || y.t === "n" && l.rawNumbers !== !1) ? b : Ms(y, b, l); b != null && (m = !1) } } return { row: g, isempty: m } } function C_(e, t) { if (e == null || e["!ref"] == null) return []; var r = { t: "n", v: 0 }, n = 0, a = 1, i = [], s = 0, l = "", f = { s: { r: 0, c: 0 }, e: { r: 0, c: 0 } }, d = t || {}, h = d.range != null ? d.range : e["!ref"]; switch (d.header === 1 ? n = 1 : d.header === "A" ? n = 2 : Array.isArray(d.header) ? n = 3 : d.header == null && (n = 0), typeof h) { case "string": f = Er(h); break; case "number": f = Er(e["!ref"]), f.s.r = h; break; default: f = h }n > 0 && (a = 0); var m = En(f.s.r), g = [], v = [], y = 0, b = 0, _ = Array.isArray(e), k = f.s.r, C = 0, T = {}; _ && !e[k] && (e[k] = []); var j = d.skipHidden && e["!cols"] || [], R = d.skipHidden && e["!rows"] || []; for (C = f.s.c; C <= f.e.c; ++C)if (!(j[C] || {}).hidden) switch (g[C] = Vr(C), r = _ ? e[k][C] : e[g[C] + m], n) { case 1: i[C] = C - f.s.c; break; case 2: i[C] = g[C]; break; case 3: i[C] = d.header[C - f.s.c]; break; default: if (r == null && (r = { w: "__EMPTY", t: "s" }), l = s = Ms(r, null, d), b = T[s] || 0, !b) T[s] = 1; else { do l = s + "_" + b++; while (T[l]); T[s] = b, T[l] = 1 } i[C] = l }for (k = f.s.r + a; k <= f.e.r; ++k)if (!(R[k] || {}).hidden) { var O = dSe(e, f, k, g, n, i, _, d); (O.isempty === !1 || (n === 1 ? d.blankrows !== !1 : d.blankrows)) && (v[y++] = O.row) } return v.length = y, v } var E4 = /"/g; function fSe(e, t, r, n, a, i, s, l) { for (var f = !0, d = [], h = "", m = En(r), g = t.s.c; g <= t.e.c; ++g)if (n[g]) { var v = l.dense ? (e[r] || [])[g] : e[n[g] + m]; if (v == null) h = ""; else if (v.v != null) { f = !1, h = "" + (l.rawNumbers && v.t == "n" ? v.v : Ms(v, null, l)); for (var y = 0, b = 0; y !== h.length; ++y)if ((b = h.charCodeAt(y)) === a || b === i || b === 34 || l.forceQuotes) { h = '"' + h.replace(E4, '""') + '"'; break } h == "ID" && (h = '"ID"') } else v.f != null && !v.F ? (f = !1, h = "=" + v.f, h.indexOf(",") >= 0 && (h = '"' + h.replace(E4, '""') + '"')) : h = ""; d.push(h) } return l.blankrows === !1 && f ? null : d.join(s) } function CU(e, t) {
  var r = [], n = t ?? {}; if (e == null || e["!ref"] == null) return ""; var a = Er(e["!ref"]), i = n.FS !== void 0 ? n.FS : ",", s = i.charCodeAt(0), l = n.RS !== void 0 ? n.RS : `
`, f = l.charCodeAt(0), d = new RegExp((i == "|" ? "\\|" : i) + "+$"), h = "", m = []; n.dense = Array.isArray(e); for (var g = n.skipHidden && e["!cols"] || [], v = n.skipHidden && e["!rows"] || [], y = a.s.c; y <= a.e.c; ++y)(g[y] || {}).hidden || (m[y] = Vr(y)); for (var b = 0, _ = a.s.r; _ <= a.e.r; ++_)(v[_] || {}).hidden || (h = fSe(e, a, _, m, s, f, i, n), h != null && (n.strip && (h = h.replace(d, "")), (h || n.blankrows !== !1) && r.push((b++ ? l : "") + h))); return delete n.dense, r.join("")
} function hSe(e, t) {
  t || (t = {}), t.FS = "	", t.RS = `
`; var r = CU(e, t); return r
} function pSe(e) { var t = "", r, n = ""; if (e == null || e["!ref"] == null) return []; var a = Er(e["!ref"]), i = "", s = [], l, f = [], d = Array.isArray(e); for (l = a.s.c; l <= a.e.c; ++l)s[l] = Vr(l); for (var h = a.s.r; h <= a.e.r; ++h)for (i = En(h), l = a.s.c; l <= a.e.c; ++l)if (t = s[l] + i, r = d ? (e[h] || [])[l] : e[t], n = "", r !== void 0) { if (r.F != null) { if (t = r.F, !r.f) continue; n = r.f, t.indexOf(":") == -1 && (t = t + ":" + t) } if (r.f != null) n = r.f; else { if (r.t == "z") continue; if (r.t == "n" && r.v != null) n = "" + r.v; else if (r.t == "b") n = r.v ? "TRUE" : "FALSE"; else if (r.w !== void 0) n = "'" + r.w; else { if (r.v === void 0) continue; r.t == "s" ? n = "'" + r.v : n = "" + r.v } } f[f.length] = t + "=" + n } return f } function jU(e, t, r) { var n = r || {}, a = +!n.skipHeader, i = e || {}, s = 0, l = 0; if (i && n.origin != null) if (typeof n.origin == "number") s = n.origin; else { var f = typeof n.origin == "string" ? Kn(n.origin) : n.origin; s = f.r, l = f.c } var d, h = { s: { c: 0, r: 0 }, e: { c: l, r: s + t.length - 1 + a } }; if (i["!ref"]) { var m = Er(i["!ref"]); h.e.c = Math.max(h.e.c, m.e.c), h.e.r = Math.max(h.e.r, m.e.r), s == -1 && (s = m.e.r + 1, h.e.r = s + t.length - 1 + a) } else s == -1 && (s = 0, h.e.r = t.length - 1 + a); var g = n.header || [], v = 0; t.forEach(function (b, _) { Ki(b).forEach(function (k) { (v = g.indexOf(k)) == -1 && (g[v = g.length] = k); var C = b[k], T = "z", j = "", R = lt({ c: l + v, r: s + _ + a }); d = c0(i, R), C && typeof C == "object" && !(C instanceof Date) ? i[R] = C : (typeof C == "number" ? T = "n" : typeof C == "boolean" ? T = "b" : typeof C == "string" ? T = "s" : C instanceof Date ? (T = "d", n.cellDates || (T = "n", C = Qn(C)), j = n.dateNF || ft[14]) : C === null && n.nullError && (T = "e", C = 0), d ? (d.t = T, d.v = C, delete d.w, delete d.R, j && (d.z = j)) : i[R] = d = { t: T, v: C }, j && (d.z = j)) }) }), h.e.c = Math.max(h.e.c, l + g.length - 1); var y = En(s); if (a) for (v = 0; v < g.length; ++v)i[Vr(v + l) + y] = { t: "s", v: g[v] }; return i["!ref"] = Tt(h), i } function mSe(e, t) { return jU(null, e, t) } function c0(e, t, r) { if (typeof t == "string") { if (Array.isArray(e)) { var n = Kn(t); return e[n.r] || (e[n.r] = []), e[n.r][n.c] || (e[n.r][n.c] = { t: "z" }) } return e[t] || (e[t] = { t: "z" }) } return typeof t != "number" ? c0(e, lt(t)) : c0(e, lt({ r: t, c: r || 0 })) } function gSe(e, t) { if (typeof t == "number") { if (t >= 0 && e.SheetNames.length > t) return t; throw new Error("Cannot find sheet # " + t) } else if (typeof t == "string") { var r = e.SheetNames.indexOf(t); if (r > -1) return r; throw new Error("Cannot find sheet name |" + t + "|") } else throw new Error("Cannot find sheet |" + t + "|") } function yk() { return { SheetNames: [], Sheets: {} } } function bk(e, t, r, n) { var a = 1; if (!r) for (; a <= 65535 && e.SheetNames.indexOf(r = "Sheet" + a) != -1; ++a, r = void 0); if (!r || e.SheetNames.length >= 65535) throw new Error("Too many worksheets"); if (n && e.SheetNames.indexOf(r) >= 0) { var i = r.match(/(^.*?)(\d+)$/); a = i && +i[2] || 0; var s = i && i[1] || r; for (++a; a <= 65535 && e.SheetNames.indexOf(r = s + a) != -1; ++a); } if (e_e(r), e.SheetNames.indexOf(r) >= 0) throw new Error("Worksheet with name |" + r + "| already exists!"); return e.SheetNames.push(r), e.Sheets[r] = t, r } function xSe(e, t, r) { e.Workbook || (e.Workbook = {}), e.Workbook.Sheets || (e.Workbook.Sheets = []); var n = gSe(e, t); switch (e.Workbook.Sheets[n] || (e.Workbook.Sheets[n] = {}), r) { case 0: case 1: case 2: break; default: throw new Error("Bad sheet visibility setting " + r) }e.Workbook.Sheets[n].Hidden = r } function vSe(e, t) { return e.z = t, e } function IU(e, t, r) { return t ? (e.l = { Target: t }, r && (e.l.Tooltip = r)) : delete e.l, e } function ySe(e, t, r) { return IU(e, "#" + t, r) } function bSe(e, t, r) { e.c || (e.c = []), e.c.push({ t, a: r || "SheetJS" }) } function wSe(e, t, r, n) { for (var a = typeof t != "string" ? t : Er(t), i = typeof t == "string" ? t : Tt(t), s = a.s.r; s <= a.e.r; ++s)for (var l = a.s.c; l <= a.e.c; ++l) { var f = c0(e, s, l); f.t = "n", f.F = i, delete f.v, s == a.s.r && l == a.s.c && (f.f = r, n && (f.D = !0)) } return e } var OU = { encode_col: Vr, encode_row: En, encode_cell: lt, encode_range: Tt, decode_col: ik, decode_row: ak, split_cell: Rge, decode_cell: Kn, decode_range: nd, format_cell: Ms, sheet_add_aoa: DF, sheet_add_json: jU, sheet_add_dom: kU, aoa_to_sheet: ad, json_to_sheet: mSe, table_to_sheet: TU, table_to_book: F_e, sheet_to_csv: CU, sheet_to_txt: hSe, sheet_to_json: C_, sheet_to_html: L_e, sheet_to_formulae: pSe, sheet_to_row_object_array: C_, sheet_get_cell: c0, book_new: yk, book_append_sheet: bk, book_set_sheet_visibility: xSe, cell_set_number_format: vSe, cell_set_hyperlink: IU, cell_set_internal_link: ySe, cell_add_comment: bSe, sheet_set_array_formula: wSe, consts: { SHEET_VISIBLE: 0, SHEET_HIDDEN: 1, SHEET_VERY_HIDDEN: 2 } }; const _Se = ({ prices: e, user: t, hasPermission: r, onAddPrice: n, onUpdatePrice: a, onDeletePrice: i, onImportPrices: s, isLoadingPrices: l, t: f }) => { const [d, h] = A.useState(""), [m, g] = A.useState("All"), [v, y] = A.useState(!1), [b, _] = A.useState(null), [k, C] = A.useState({}), [T, j] = A.useState(!1), R = A.useRef(null), O = r("prices.manage"), I = A.useMemo(() => { const D = new Set(e.map(z => z.category || "General")); return ["All", ...Array.from(D).sort()] }, [e]), H = A.useMemo(() => { const D = d.toLowerCase(); return e.filter(z => { const ie = z.serviceName.toLowerCase().includes(D) || z.code && z.code.toLowerCase().includes(D), M = m === "All" || z.category === m; return ie && M }) }, [e, d, m]), F = A.useMemo(() => ({ total: e.length, categories: new Set(e.map(D => D.category)).size, avgPrice: e.length > 0 ? e.reduce((D, z) => D + z.price, 0) / e.length : 0 }), [e]), X = T || l, V = async D => { var ie; const z = (ie = D.target.files) == null ? void 0 : ie[0]; if (z) { if (e.length > 0 && !window.confirm("This will replace all existing prices. Continue?")) { D.target.value = ""; return } j(!0); try { const M = await z.arrayBuffer(), te = hg(M, { type: "array" }), G = te.SheetNames[0], P = te.Sheets[G], J = OU.sheet_to_json(P).map((B, ce) => { const fe = {}; Object.keys(B).forEach(Y => { fe[Y.trim().toLowerCase()] = B[Y] }); let le = String(fe.name || fe.service || fe.description || "").trim(); const oe = fe.price || fe.cost || fe.amount || "0", pe = String(fe.category || fe.group || "General").trim(); let Ie = fe.code ? String(fe.code).trim() : void 0; if (!Ie) { const Y = le.match(/^(\d{4,5}[A-Z]?)\s+(.*)/); Y && (Ie = Y[1], le = Y[2]) } return { id: `p-${Date.now()}-${ce}`, serviceName: le, price: parseFloat(String(oe).replace(/[^0-9.]/g, "")) || 0, category: pe, code: Ie } }).filter(B => B.serviceName && B.price >= 0); J.length > 0 && s && await s(J.map(({ id: B, ...ce }) => ce)) } catch (M) { console.error("Import failed", M) } finally { j(!1), D.target.value = "" } } }, U = () => { _(null), C({ serviceName: "", price: 0, category: "General", code: "" }), y(!0) }, ee = D => { _(D), C({ ...D }), y(!0) }, re = async () => { if (!(!k.serviceName || k.price === void 0 || k.price < 0)) { j(!0); try { b && a ? await a({ ...b, ...k }) : n && await n({ serviceName: k.serviceName, price: k.price, category: k.category || "General", code: k.code }), y(!1), C({}), _(null) } catch (D) { console.error(D), alert("Failed to save price") } finally { j(!1) } } }, de = async D => { if (window.confirm("Delete this service?") && i) try { j(!0), await i(D) } catch { alert("Failed to delete") } finally { j(!1) } }; return c.jsxs("div", { className: "space-y-10 animate-fade-in-up", children: [c.jsx("input", { type: "file", ref: R, onChange: V, className: "hidden", accept: ".csv,.xlsx,.xls" }), c.jsxs("header", { className: "flex flex-col lg:flex-row lg:items-end justify-between gap-8 pb-4 border-b border-slate-200/60 dark:border-slate-800/60", children: [c.jsxs("div", { className: "space-y-4", children: [c.jsxs("div", { className: "flex items-center gap-4", children: [c.jsx("div", { className: "w-12 h-12 rounded-2xl bg-medical-500 flex items-center justify-center shadow-lg shadow-medical-500/20", children: c.jsx("i", { className: "fa-solid fa-tags text-xl text-white" }) }), c.jsxs("div", { children: [c.jsx("h2", { className: "text-display text-slate-900 dark:text-white", children: f("pl_title") }), c.jsx("p", { className: "text-caption mt-0.5", children: f("pl_subtitle") })] })] }), c.jsxs("div", { className: "flex flex-wrap gap-4 pt-4", children: [c.jsxs("div", { className: "glass-panel px-6 py-3 rounded-2xl flex items-center gap-3 border shadow-sm group hover:scale-105 transition-transform", children: [c.jsx("div", { className: "w-10 h-10 rounded-xl bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center text-emerald-600 dark:text-emerald-400", children: c.jsx("i", { className: "fa-solid fa-list-check" }) }), c.jsxs("div", { children: [c.jsx("div", { className: "text-[10px] font-black uppercase tracking-widest text-slate-400", children: "Total Services" }), c.jsx("div", { className: "text-lg font-black text-slate-900 dark:text-white leading-none", children: F.total })] })] }), c.jsxs("div", { className: "glass-panel px-6 py-3 rounded-2xl flex items-center gap-3 border shadow-sm group hover:scale-105 transition-transform", children: [c.jsx("div", { className: "w-10 h-10 rounded-xl bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center text-indigo-600 dark:text-indigo-400", children: c.jsx("i", { className: "fa-solid fa-layer-group" }) }), c.jsxs("div", { children: [c.jsx("div", { className: "text-[10px] font-black uppercase tracking-widest text-slate-400", children: "Categories" }), c.jsx("div", { className: "text-lg font-black text-slate-900 dark:text-white leading-none", children: F.categories })] })] }), c.jsxs("div", { className: "glass-panel px-6 py-3 rounded-2xl flex items-center gap-3 border shadow-sm group hover:scale-105 transition-transform", children: [c.jsx("div", { className: "w-10 h-10 rounded-xl bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center text-amber-600 dark:text-amber-400", children: c.jsx("i", { className: "fa-solid fa-chart-line" }) }), c.jsxs("div", { children: [c.jsx("div", { className: "text-[10px] font-black uppercase tracking-widest text-slate-400", children: "Avg. Price" }), c.jsxs("div", { className: "text-lg font-black text-slate-900 dark:text-white leading-none", children: ["$", F.avgPrice.toFixed(0)] })] })] })] })] }), O && c.jsxs("div", { className: "flex gap-3", children: [c.jsxs("button", { onClick: () => { var D; return (D = R.current) == null ? void 0 : D.click() }, disabled: T, className: "h-14 px-6 glass-panel text-slate-900 dark:text-white rounded-2xl font-bold shadow-lg flex items-center gap-3 transition-all hover:scale-105 active:scale-95 disabled:opacity-50", children: [T ? c.jsx("i", { className: "fa-solid fa-spinner animate-spin text-lg" }) : c.jsx("i", { className: "fa-solid fa-cloud-arrow-up text-lg text-emerald-600" }), c.jsx("span", { className: "hidden sm:inline", children: "Import CSV" })] }), c.jsxs("button", { onClick: U, className: "h-14 px-8 bg-emerald-600 text-white rounded-2xl font-black shadow-2xl shadow-emerald-500/40 flex items-center gap-3 transition-all hover:scale-105 active:scale-95 group", children: [c.jsx("i", { className: "fa-solid fa-plus text-xl group-hover:rotate-90 transition-transform" }), c.jsx("span", { className: "tracking-tight", children: "Add Service" })] })] })] }), c.jsx("div", { className: "sticky top-4 z-40 mx-[-1rem] px-4 md:mx-0 md:px-0", children: c.jsxs("div", { className: "glass-panel p-3 rounded-[2.5rem] luxury-shadow flex flex-col md:flex-row gap-3 border-white/50 dark:border-slate-800/80", children: [c.jsxs("div", { className: "relative flex-1 group", children: [c.jsx("div", { className: "absolute left-6 top-1/2 -translate-y-1/2 pointer-events-none transition-transform group-focus-within:scale-110", children: c.jsx("i", { className: "fa-solid fa-magnifying-glass text-xl text-slate-400 group-focus-within:text-emerald-500 transition-colors" }) }), c.jsx("input", { type: "text", placeholder: "Search services, codes...", value: d, onChange: D => h(D.target.value), className: "w-full h-14 pl-16 pr-12 bg-transparent text-lg font-bold text-slate-900 dark:text-white placeholder-slate-400 focus:outline-none rounded-2xl" }), d && c.jsx("button", { onClick: () => h(""), className: "absolute right-4 top-1/2 -translate-y-1/2 w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-800 text-slate-500 hover:text-red-500 flex items-center justify-center transition-colors", children: c.jsx("i", { className: "fa-solid fa-xmark" }) })] }), c.jsx("select", { value: m, onChange: D => g(D.target.value), className: "h-14 px-6 bg-white dark:bg-slate-800 rounded-2xl font-bold text-slate-700 dark:text-slate-200 border border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-emerald-500 transition-all cursor-pointer min-w-[180px]", children: I.map(D => c.jsx("option", { value: D, children: D }, D)) })] }) }), c.jsx("div", { className: "glass-panel rounded-[2.5rem] luxury-shadow overflow-hidden border border-white/50 dark:border-slate-800/60", children: H.length === 0 ? c.jsxs("div", { className: "flex flex-col items-center justify-center py-20 text-slate-400", children: [c.jsx("div", { className: "w-20 h-20 rounded-2xl bg-slate-100 dark:bg-slate-800 flex items-center justify-center mb-6", children: c.jsx("i", { className: "fa-solid fa-receipt text-4xl opacity-30" }) }), c.jsx("p", { className: "text-xl font-bold", children: "No services found" }), c.jsx("p", { className: "text-sm mt-2 text-slate-400", children: "Try adjusting your search or add a new service" })] }) : c.jsxs(c.Fragment, { children: [c.jsx("div", { className: "hidden md:block overflow-auto max-h-[60vh] custom-scrollbar", children: c.jsxs("table", { className: "w-full", children: [c.jsx("thead", { className: "bg-slate-50/80 dark:bg-slate-800/50 border-b border-slate-200 dark:border-slate-700 sticky top-0 backdrop-blur-xl z-10", children: c.jsxs("tr", { children: [c.jsx("th", { className: "p-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest", children: "Service" }), c.jsx("th", { className: "p-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest", children: "Category" }), c.jsx("th", { className: "p-6 text-right text-[10px] font-black text-slate-400 uppercase tracking-widest", children: "Price" }), O && c.jsx("th", { className: "p-6 text-center text-[10px] font-black text-slate-400 uppercase tracking-widest w-32", children: "Actions" })] }) }), c.jsx("tbody", { className: "divide-y divide-slate-100 dark:divide-slate-800/50", children: H.map((D, z) => c.jsxs("tr", { className: "group hover:bg-emerald-50/50 dark:hover:bg-emerald-900/10 transition-all", style: { animationDelay: `${z * 20}ms` }, children: [c.jsx("td", { className: "p-6", children: c.jsxs("div", { className: "flex items-center gap-4", children: [c.jsx("div", { className: "w-12 h-12 rounded-xl bg-gradient-to-br from-emerald-100 to-teal-100 dark:from-emerald-900/30 dark:to-teal-900/30 flex items-center justify-center text-emerald-600 dark:text-emerald-400 font-black text-lg shadow-sm", children: D.serviceName.charAt(0).toUpperCase() }), c.jsxs("div", { children: [c.jsx("div", { className: "font-bold text-lg text-slate-900 dark:text-white group-hover:text-emerald-700 dark:group-hover:text-emerald-400 transition-colors leading-tight", children: D.serviceName }), D.code && c.jsxs("span", { className: "inline-block mt-1 px-2.5 py-0.5 rounded-lg bg-slate-100 dark:bg-slate-800 text-[10px] font-mono font-bold text-slate-500 border border-slate-200 dark:border-slate-700", children: ["CPT: ", D.code] })] })] }) }), c.jsx("td", { className: "p-6", children: c.jsx("span", { className: "inline-flex px-4 py-1.5 rounded-xl text-xs font-bold bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 border border-slate-200/50 dark:border-slate-700/50", children: D.category }) }), c.jsx("td", { className: "p-6 text-right", children: c.jsxs("div", { className: "text-2xl font-black text-emerald-600 dark:text-emerald-400 tabular-nums", children: ["$", D.price.toFixed(2)] }) }), O && c.jsx("td", { className: "p-6", children: c.jsxs("div", { className: "flex items-center justify-center gap-2 opacity-0 group-hover:opacity-100 transition-all duration-200", children: [c.jsx("button", { onClick: () => ee(D), className: "w-11 h-11 rounded-xl bg-indigo-100 dark:bg-indigo-900/40 text-indigo-600 dark:text-indigo-400 hover:bg-indigo-200 dark:hover:bg-indigo-800/60 flex items-center justify-center transition-all hover:scale-110 active:scale-95 shadow-sm", children: c.jsx("i", { className: "fa-solid fa-pen text-sm" }) }), c.jsx("button", { onClick: () => de(D.id), className: "w-11 h-11 rounded-xl bg-red-100 dark:bg-red-900/40 text-red-600 dark:text-red-400 hover:bg-red-200 dark:hover:bg-red-800/60 flex items-center justify-center transition-all hover:scale-110 active:scale-95 shadow-sm", children: c.jsx("i", { className: "fa-solid fa-trash text-sm" }) })] }) })] }, D.id)) })] }) }), c.jsx("div", { className: "md:hidden divide-y divide-slate-100 dark:divide-slate-800 overflow-y-auto max-h-[65vh] custom-scrollbar", children: H.map(D => c.jsxs("div", { className: "p-5 flex items-center gap-4 active:bg-slate-50 dark:active:bg-slate-800 transition-colors", onClick: () => O && ee(D), children: [c.jsx("div", { className: "w-14 h-14 rounded-2xl bg-gradient-to-br from-emerald-100 to-teal-100 dark:from-emerald-900/30 dark:to-teal-900/30 flex items-center justify-center text-emerald-600 dark:text-emerald-400 font-black text-xl shadow-sm flex-shrink-0", children: D.serviceName.charAt(0).toUpperCase() }), c.jsxs("div", { className: "flex-1 min-w-0", children: [c.jsx("div", { className: "font-bold text-slate-900 dark:text-white truncate", children: D.serviceName }), c.jsxs("div", { className: "flex items-center gap-2 mt-1", children: [c.jsx("span", { className: "text-[10px] font-bold text-slate-400 uppercase", children: D.category }), D.code && c.jsxs(c.Fragment, { children: [c.jsx("span", { className: "w-1 h-1 rounded-full bg-slate-300" }), c.jsx("span", { className: "text-[10px] font-mono text-slate-400", children: D.code })] })] })] }), c.jsx("div", { className: "text-right flex-shrink-0", children: c.jsxs("div", { className: "text-xl font-black text-emerald-600 dark:text-emerald-400", children: ["$", D.price.toFixed(2)] }) }), O && c.jsx("i", { className: "fa-solid fa-chevron-right text-slate-300 dark:text-slate-600" })] }, D.id)) })] }) }), v && c.jsx("div", { className: "fixed inset-0 z-[9999] flex items-center justify-center bg-black/80 backdrop-blur-xl p-4 animate-fade-in", children: c.jsxs("div", { className: "w-full max-w-lg bg-white dark:bg-slate-900 rounded-[2.5rem] shadow-2xl border border-white/20 dark:border-slate-800 overflow-hidden animate-scale-in", onClick: D => D.stopPropagation(), children: [c.jsx("div", { className: "p-6 border-b border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-800/30", children: c.jsxs("div", { className: "flex items-center justify-between", children: [c.jsxs("div", { className: "flex items-center gap-4", children: [c.jsx("div", { className: "w-14 h-14 rounded-2xl bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center shadow-xl shadow-emerald-500/30", children: c.jsx("i", { className: `fa-solid ${b ? "fa-pen-to-square" : "fa-plus"} text-2xl text-white` }) }), c.jsxs("div", { children: [c.jsx("h2", { className: "text-2xl font-black text-slate-900 dark:text-white tracking-tight", children: b ? "Edit Service" : "New Service" }), c.jsx("p", { className: "text-sm text-slate-500", children: b ? "Update the service details below" : "Add a new price listing" })] })] }), c.jsx("button", { onClick: () => y(!1), className: "w-12 h-12 rounded-xl bg-slate-100 dark:bg-slate-800 flex items-center justify-center hover:bg-red-100 hover:text-red-500 dark:hover:bg-red-900/30 transition-all", children: c.jsx("i", { className: "fa-solid fa-xmark text-xl" }) })] }) }), c.jsxs("div", { className: "p-6 space-y-5", children: [c.jsxs("div", { children: [c.jsxs("label", { className: "block text-xs font-black text-slate-400 uppercase tracking-widest mb-2", children: [c.jsx("i", { className: "fa-solid fa-tag mr-2" }), "Service Name *"] }), c.jsx("input", { type: "text", value: k.serviceName || "", onChange: D => C(z => ({ ...z, serviceName: D.target.value })), className: "w-full h-14 px-5 rounded-2xl bg-white dark:bg-slate-800 border-2 border-slate-200 dark:border-slate-700 text-lg font-bold text-slate-900 dark:text-white focus:ring-4 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all", placeholder: "e.g., Blood Panel - Complete", autoFocus: !0 })] }), c.jsxs("div", { className: "grid grid-cols-2 gap-4", children: [c.jsxs("div", { children: [c.jsxs("label", { className: "block text-xs font-black text-slate-400 uppercase tracking-widest mb-2", children: [c.jsx("i", { className: "fa-solid fa-dollar-sign mr-2" }), "Price *"] }), c.jsx("input", { type: "number", min: "0", step: "0.01", value: k.price ?? "", onChange: D => C(z => ({ ...z, price: parseFloat(D.target.value) || 0 })), className: "w-full h-14 px-5 rounded-2xl bg-white dark:bg-slate-800 border-2 border-slate-200 dark:border-slate-700 text-lg font-black text-emerald-600 dark:text-emerald-400 focus:ring-4 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all", placeholder: "0.00" })] }), c.jsxs("div", { children: [c.jsxs("label", { className: "block text-xs font-black text-slate-400 uppercase tracking-widest mb-2", children: [c.jsx("i", { className: "fa-solid fa-folder mr-2" }), "Category"] }), c.jsx("input", { type: "text", value: k.category || "", onChange: D => C(z => ({ ...z, category: D.target.value })), className: "w-full h-14 px-5 rounded-2xl bg-white dark:bg-slate-800 border-2 border-slate-200 dark:border-slate-700 text-lg font-bold text-slate-900 dark:text-white focus:ring-4 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all", placeholder: "General" })] })] }), c.jsxs("div", { children: [c.jsxs("label", { className: "block text-xs font-black text-slate-400 uppercase tracking-widest mb-2", children: [c.jsx("i", { className: "fa-solid fa-barcode mr-2" }), "CPT Code (Optional)"] }), c.jsx("input", { type: "text", value: k.code || "", onChange: D => C(z => ({ ...z, code: D.target.value })), className: "w-full h-14 px-5 rounded-2xl bg-white dark:bg-slate-800 border-2 border-slate-200 dark:border-slate-700 font-mono text-lg font-bold text-slate-900 dark:text-white focus:ring-4 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all", placeholder: "88304" })] })] }), c.jsxs("div", { className: "p-6 border-t border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-800/30 flex gap-4", children: [c.jsx("button", { onClick: () => y(!1), className: "flex-1 h-14 rounded-2xl bg-slate-200 dark:bg-slate-700 font-bold text-slate-600 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600 transition-all active:scale-[0.98]", children: "Cancel" }), c.jsxs("button", { onClick: re, disabled: !k.serviceName || k.price === void 0 || k.price < 0 || X, className: "flex-1 h-14 rounded-2xl bg-emerald-600 text-white font-black shadow-xl shadow-emerald-500/30 hover:bg-emerald-700 transition-all active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3", children: [X ? c.jsx("i", { className: "fa-solid fa-spinner animate-spin text-xl" }) : c.jsx("i", { className: `fa-solid ${b ? "fa-check" : "fa-plus"} text-xl` }), b ? "Save Changes" : "Add Service"] })] })] }) })] }) }, SSe = ({ user: e, onUpdateUser: t, isDarkMode: r, toggleTheme: n, onResetData: a, language: i, setLanguage: s, t: l }) => {
  const f = () => { window.confirm("Are you sure?") && a() }, d = [it.OWNER, it.MANAGER, it.DOCTOR, it.MA, it.FRONT_DESK]; return c.jsxs("div", {
    className: "max-w-4xl mx-auto space-y-10 pb-20 animate-fade-in-up", children: [c.jsxs("header", { className: "mb-8", children: [c.jsx("h2", { className: "text-display text-slate-900 dark:text-white", children: l("set_title") }), c.jsx("p", { className: "text-caption mt-1", children: l("set_subtitle") })] }), c.jsxs("section", {
      className: "bg-white dark:bg-gray-900 rounded-3xl p-8 shadow-[0_8px_30px_rgb(0,0,0,0.04)] dark:shadow-none border border-gray-100 dark:border-gray-800", children: [c.jsxs("div", { className: "flex items-center gap-4 mb-8 border-b border-gray-100 dark:border-gray-800 pb-6", children: [c.jsx("div", { className: "w-12 h-12 rounded-2xl bg-blue-50 dark:bg-blue-900/20 flex items-center justify-center text-blue-600 dark:text-blue-400", children: c.jsx("i", { className: "fa-solid fa-id-card text-xl" }) }), c.jsx("h3", { className: "text-xl font-bold text-gray-900 dark:text-white", children: l("sec_profile") })] }), c.jsxs("div", {
        className: "grid grid-cols-1 md:grid-cols-2 gap-8", children: [c.jsxs("div", { className: "space-y-3", children: [c.jsx("label", { className: "text-xs font-bold text-gray-500 uppercase tracking-wider", children: l("lbl_display_name") }), c.jsxs("div", { className: "flex gap-2", children: [c.jsx("input", { type: "text", value: e.username || "", onChange: h => t({ ...e, username: h.target.value }), className: "flex-1 h-14 px-5 rounded-2xl border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-4 focus:ring-medical-500/10 focus:border-medical-500 transition-all outline-none font-bold text-lg", placeholder: "Enter username" }), c.jsx("button", { onClick: async () => { if (!e.username) return alert("Username cannot be empty"); try { const { error: h } = await Le.from("profiles").update({ username: e.username }).eq("id", e.id); if (h) throw h; alert("Profile updated successfully!") } catch (h) { alert("Error saving profile: " + h.message) } }, className: "px-6 h-14 bg-medical-600 text-white rounded-2xl font-bold hover:bg-medical-700 transition-all shadow-lg shadow-medical-500/30", children: "Save" })] })] }), c.jsxs("div", {
          className: "space-y-3", children: [c.jsx("label", { className: "text-xs font-bold text-gray-500 uppercase tracking-wider", children: l("lbl_role") }), c.jsx("div", {
            className: "flex flex-wrap gap-2", children: d.map(h => c.jsx("div", {
              className: `px-4 h-12 rounded-xl text-xs font-bold flex items-center justify-center gap-2 border-2 cursor-not-allowed opacity-70
                              ${e.role === h ? "bg-medical-600 border-medical-600 text-white shadow-lg shadow-medical-500/30" : "bg-transparent border-gray-200 dark:border-gray-700 text-gray-500"}`, title: "Role cannot be changed here", children: h.replace("_", " ")
            }, h))
          }), c.jsx("p", { className: "text-xs text-gray-400 mt-1", children: "* Roles are managed by Administrators" })]
        })]
      })]
    }), c.jsxs("section", { className: "bg-white dark:bg-gray-900 rounded-3xl p-8 shadow-[0_8px_30px_rgb(0,0,0,0.04)] dark:shadow-none border border-gray-100 dark:border-gray-800", children: [c.jsxs("div", { className: "flex items-center gap-4 mb-8 border-b border-gray-100 dark:border-gray-800 pb-6", children: [c.jsx("div", { className: "w-12 h-12 rounded-2xl bg-purple-50 dark:bg-purple-900/20 flex items-center justify-center text-purple-600 dark:text-purple-400", children: c.jsx("i", { className: "fa-solid fa-sliders text-xl" }) }), c.jsx("h3", { className: "text-xl font-bold text-gray-900 dark:text-white", children: l("sec_prefs") })] }), c.jsxs("div", { className: "space-y-6", children: [c.jsxs("div", { className: "flex items-center justify-between p-4 rounded-2xl hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors cursor-pointer", onClick: n, children: [c.jsxs("div", { className: "flex items-center gap-4", children: [c.jsx("div", { className: `w-12 h-12 rounded-full flex items-center justify-center text-xl ${r ? "bg-gray-800 text-yellow-400" : "bg-yellow-100 text-orange-500"}`, children: c.jsx("i", { className: `fa-solid ${r ? "fa-moon" : "fa-sun"}` }) }), c.jsxs("div", { children: [c.jsx("p", { className: "font-bold text-gray-900 dark:text-white text-lg", children: l("lbl_appearance") }), c.jsx("p", { className: "text-sm text-gray-500", children: l("desc_appearance") })] })] }), c.jsx("div", { className: `w-14 h-8 rounded-full p-1 transition-colors duration-300 ${r ? "bg-medical-600" : "bg-gray-300"}`, children: c.jsx("div", { className: `w-6 h-6 rounded-full bg-white shadow-sm transform transition-transform duration-300 ${r ? "translate-x-6" : "translate-x-0"}` }) })] }), c.jsxs("div", { className: "flex items-center justify-between p-4 rounded-2xl hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors", children: [c.jsxs("div", { className: "flex items-center gap-4", children: [c.jsx("div", { className: "w-12 h-12 rounded-full bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center text-indigo-600 dark:text-indigo-400 text-xl", children: c.jsx("i", { className: "fa-solid fa-language" }) }), c.jsxs("div", { children: [c.jsx("p", { className: "font-bold text-gray-900 dark:text-white text-lg", children: l("lbl_language") }), c.jsx("p", { className: "text-sm text-gray-500", children: l("desc_language") })] })] }), c.jsxs("div", { className: "flex bg-gray-100 dark:bg-gray-800 p-1 rounded-xl", children: [c.jsx("button", { onClick: () => s("en"), className: `px-4 py-2 rounded-lg text-sm font-bold transition-all ${i === "en" ? "bg-white dark:bg-gray-700 shadow-sm text-gray-900 dark:text-white" : "text-gray-500"}`, children: " EN" }), c.jsx("button", { onClick: () => s("es"), className: `px-4 py-2 rounded-lg text-sm font-bold transition-all ${i === "es" ? "bg-white dark:bg-gray-700 shadow-sm text-gray-900 dark:text-white" : "text-gray-500"}`, children: " ES" })] })] }), c.jsx("div", { className: "h-px bg-gray-100 dark:bg-gray-800 my-4" }), c.jsx("div", { className: "p-4 bg-blue-50 dark:bg-blue-900/10 rounded-2xl border border-blue-100 dark:border-blue-900/20 mb-4", children: c.jsxs("div", { className: "flex flex-col sm:flex-row items-center justify-between gap-4", children: [c.jsxs("div", { className: "flex items-center gap-4", children: [c.jsx("div", { className: "w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400", children: c.jsx("i", { className: "fa-solid fa-cloud-arrow-up" }) }), c.jsxs("div", { children: [c.jsx("p", { className: "font-bold text-gray-900 dark:text-white", children: "Recover Local Reports" }), c.jsx("p", { className: "text-sm text-gray-600 dark:text-gray-400", children: "Upload legacy reports from this device to the database." })] })] }), c.jsxs("button", { onClick: async () => { if (window.confirm("Upload legacy local reports to the database? This will skip reports that already exist.")) { const h = await Il.restoreLocalReports(); alert(`Recovery complete. ${h} reports uploaded.`) } }, className: "px-6 py-3 bg-white dark:bg-gray-800 text-blue-600 dark:text-blue-400 rounded-xl text-sm font-bold hover:shadow-lg hover:text-blue-700 transition-all whitespace-nowrap", children: [c.jsx("i", { className: "fa-solid fa-upload mr-2" }), " Recover"] })] }) }), c.jsx("div", { className: "p-4 bg-red-50 dark:bg-red-900/10 rounded-2xl border border-red-100 dark:border-red-900/20", children: c.jsxs("div", { className: "flex flex-col sm:flex-row items-center justify-between gap-4", children: [c.jsxs("div", { className: "flex items-center gap-4", children: [c.jsx("div", { className: "w-10 h-10 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center text-red-600 dark:text-red-400", children: c.jsx("i", { className: "fa-solid fa-triangle-exclamation" }) }), c.jsxs("div", { children: [c.jsx("p", { className: "font-bold text-gray-900 dark:text-white", children: l("lbl_reset") }), c.jsx("p", { className: "text-sm text-gray-600 dark:text-gray-400", children: l("desc_reset") })] })] }), c.jsx("button", { onClick: f, className: "px-6 py-3 bg-white dark:bg-gray-800 text-red-600 dark:text-red-400 rounded-xl text-sm font-bold hover:shadow-lg hover:text-red-700 transition-all whitespace-nowrap", children: l("btn_reset") })] }) })] })] }), c.jsx("div", { className: "text-center pt-8", children: c.jsx("p", { className: "text-gray-400 text-sm font-medium", children: l("footer_version") }) })]
  })
}, ESe = () => { const [e, t] = A.useState([]), [r, n] = A.useState(!1), [a, i] = A.useState(""), [s, l] = A.useState(!1), f = async () => { n(!0), i("Scanning database..."); try { const { data: m, error: g } = await Le.from("user_roles").select("*"); if (g) throw g; const { data: v, error: y } = await Le.from("profiles").select("id"); if (y) throw y; const b = new Set(v == null ? void 0 : v.map(k => k.id)), _ = (m == null ? void 0 : m.filter(k => !b.has(k.user_id))) || []; t(_.map(k => ({ user_id: k.user_id, role_id: k.role_id, created_at: k.created_at }))), i(`Scan complete. Found ${_.length} orphaned roles.`), l(!0) } catch (m) { i(`Scan failed: ${m.message}`) } finally { n(!1) } }, d = async m => { try { const { error: g } = await Le.from("profiles").insert({ id: m.user_id, full_name: `Restored User (${m.role_id})`, permissions: [] }); if (g) throw g; t(v => v.filter(y => y.user_id !== m.user_id)), i(`Successfully restored profile for user ${m.user_id}`) } catch (g) { alert(`Failed to fix: ${g.message}`) } }, h = async () => { if (!confirm(`Are you sure you want to restore ${e.length} profiles?`)) return; n(!0); let m = 0; for (const g of e) try { const { error: v } = await Le.from("profiles").insert({ id: g.user_id, full_name: `Restored User (${g.role_id})`, permissions: [] }); v || m++ } catch (v) { console.error(v) } n(!1), i(`Batch restore complete. restored ${m} profiles.`), f() }; return c.jsxs("div", { className: "p-6 border border-amber-200 rounded-3xl bg-amber-50 dark:bg-amber-900/10 space-y-4 animate-fade-in", children: [c.jsxs("div", { className: "flex flex-col md:flex-row justify-between items-center gap-4", children: [c.jsxs("div", { className: "flex items-center gap-3", children: [c.jsx("div", { className: "w-10 h-10 rounded-full bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center text-amber-600 dark:text-amber-400", children: c.jsx("i", { className: "fa-solid fa-user-doctor" }) }), c.jsxs("div", { children: [c.jsx("h3", { className: "font-black text-slate-900 dark:text-white uppercase tracking-tight", children: "Provider Data Repair" }), c.jsx("p", { className: "text-xs font-medium text-slate-500 dark:text-slate-400", children: "Detect and fix missing user profiles for assigned roles" })] })] }), c.jsxs("button", { onClick: f, disabled: r, className: "px-5 py-2.5 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 rounded-xl text-xs font-black uppercase tracking-widest shadow-sm hover:shadow-md transition-all active:scale-95 border border-slate-200 dark:border-slate-700 disabled:opacity-50", children: [r ? c.jsx("i", { className: "fa-solid fa-spinner fa-spin mr-2" }) : c.jsx("i", { className: "fa-solid fa-magnifying-glass mr-2" }), r ? "Scanning..." : "Scan Database"] })] }), a && c.jsx("div", { className: `text-xs font-bold px-4 py-2 rounded-lg ${a.includes("fail") ? "bg-red-100 text-red-700" : "bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400"}`, children: a }), e.length > 0 && c.jsxs("div", { className: "space-y-3 pt-2", children: [c.jsxs("div", { className: "flex justify-between items-center", children: [c.jsxs("p", { className: "text-[10px] font-black uppercase tracking-widest text-red-500", children: [c.jsx("i", { className: "fa-solid fa-triangle-exclamation mr-1" }), e.length, " Issues Found"] }), c.jsx("button", { onClick: h, className: "text-[10px] font-black uppercase tracking-widest text-indigo-600 hover:underline", children: "Fix All" })] }), c.jsx("div", { className: "max-h-60 overflow-y-auto custom-scrollbar space-y-2 pr-2", children: e.map(m => c.jsxs("div", { className: "flex justify-between items-center bg-white dark:bg-slate-800 p-3 rounded-xl border border-amber-100 dark:border-amber-900/20 shadow-sm", children: [c.jsx("div", { children: c.jsxs("div", { className: "flex items-center gap-2", children: [c.jsx("span", { className: `px-2 py-0.5 rounded text-[10px] font-black uppercase ${m.role_id === "DOCTOR" ? "bg-emerald-100 text-emerald-700" : "bg-slate-100 text-slate-700"}`, children: m.role_id }), c.jsxs("span", { className: "text-xs font-mono text-slate-400", children: [m.user_id.substring(0, 8), "..."] })] }) }), c.jsx("button", { onClick: () => d(m), className: "text-[10px] bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 px-3 py-1.5 rounded-lg font-black hover:bg-indigo-100 dark:hover:bg-indigo-900/40 uppercase tracking-wide transition-colors", children: "Restore" })] }, m.user_id)) })] }), s && e.length === 0 && c.jsxs("div", { className: "p-4 bg-emerald-50 dark:bg-emerald-900/10 rounded-xl flex items-center gap-3", children: [c.jsx("i", { className: "fa-solid fa-circle-check text-emerald-500 text-lg" }), c.jsx("span", { className: "text-sm font-bold text-emerald-700 dark:text-emerald-400", children: "System Healthy: No orphaned roles found." })] })] }) }, k4 = [{ id: "inventory.view", label: "View Inventory", category: "Inventory" }, { id: "inventory.edit", label: "Add/Edit Items", category: "Inventory" }, { id: "inventory.audit", label: "Audit Stock", category: "Inventory" }, { id: "orders.view", label: "View Orders", category: "Purchasing" }, { id: "orders.create", label: "Create Orders", category: "Purchasing" }, { id: "orders.receive", label: "Receive Orders", category: "Purchasing" }, { id: "prices.view", label: "View Price List", category: "Finance" }, { id: "prices.manage", label: "Edit Prices", category: "Finance" }, { id: "reports.view", label: "View Reports", category: "Analytics" }, { id: "reports.create", label: "Daily Close", category: "Analytics" }, { id: "billing.view", label: "View Billing", category: "Finance" }, { id: "codes.view", label: "View Codes", category: "Clinical" }, { id: "codes.manage", label: "Manage Codes", category: "Clinical" }, { id: "forms.generate", label: "Generate Forms", category: "Clinical" }, { id: "forms.manage", label: "Manage Templates", category: "Clinical" }, { id: "finance.view", label: "View Petty Cash", category: "Finance" }, { id: "finance.manage", label: "Manage Petty Cash", category: "Finance" }, { id: "admin.access", label: "Access Admin Panel", category: "System" }], H1 = [it.DOCTOR, it.MA, it.FRONT_DESK], kSe = ({ roleConfigs: e, onUpdateRoleConfig: t, currentUser: r, t: n }) => {
  var M; const [a, i] = A.useState([]), [s, l] = A.useState(!0), [f, d] = A.useState(!1), [h, m] = A.useState({ email: "", full_name: "", role: it.MA }), [g, v] = A.useState("users"), [y, b] = A.useState(""), [_, k] = A.useState(null), [C, T] = A.useState("role"), [j, R] = A.useState(null), [O, I] = A.useState(null); A.useEffect(() => { X() }, []); const [H, F] = A.useState(null), X = async () => { l(!0), F(null); try { const { data: te, error: G } = await Le.from("profiles").select("id, full_name, permissions, user_roles(role_id)"); if (G) throw G; const P = (te || []).map(W => { var J, B; return { id: W.id, full_name: W.full_name || "Anonymous User", email: "N/A", role: ((B = (J = W.user_roles) == null ? void 0 : J[0]) == null ? void 0 : B.role_id) || it.FRONT_DESK, permissions: W.permissions || void 0 } }); i(P) } catch (te) { console.error("Error fetching users:", te), F(te.message || "Failed to load personnel list") } finally { l(!1) } }; A.useEffect(() => { if (O) { const te = setTimeout(() => I(null), 3e3); return () => clearTimeout(te) } }, [O]); const V = async te => { te.preventDefault(), d(!0); try { const { data: G, error: P } = await Le.functions.invoke("admin-api", { body: { action: "invite_user", payload: { email: h.email, full_name: h.full_name, role_id: h.role, redirectTo: window.location.origin } } }); if (P) { console.error("Admin API Error:", P); let W = P.message; try { if (P.context && typeof P.context.json == "function") { const J = await P.context.json(); J && J.error && (W = J.error) } } catch { } throw new Error(W) } if (G && G.error) throw new Error(G.error); alert("User invited successfully!"), m({ email: "", full_name: "", role: it.MA }), X() } catch (G) { alert("Error inviting user: " + G.message) } finally { d(!1) } }, U = async (te, G) => { try { const { error: P } = await Le.from("profiles").update({ full_name: G.full_name }).eq("id", te); if (P) throw P; const { error: W } = await Le.from("user_roles").update({ role_id: G.role }).eq("user_id", te); if (W) throw W; k(null), X(), alert("User updated successfully!") } catch (P) { alert("Error updating user: " + P.message) } }, ee = async (te, G) => { const P = a.find(ce => ce.id === te); if (!P) return; const W = P.permissions || []; let J, B; W.includes(G) ? (J = W.filter(ce => ce !== G), B = "removed") : (J = [...W, G], B = "added"); try { const { error: ce } = await Le.from("profiles").update({ permissions: J.length > 0 ? J : null }).eq("id", te); if (ce) throw ce; const fe = G.split(".").pop(); I(`Permission "${fe}" ${B} for ${P.full_name}`), X() } catch (ce) { console.error("Error updating permissions:", ce), alert("Error updating permissions: " + ce.message) } }, re = async te => { if (confirm("Are you sure you want to delete this user? This action is irreversible.")) try { const { data: G, error: P } = await Le.functions.invoke("admin-api", { body: { action: "delete_user", payload: { user_id: te } } }); if (P) { let W = P.message; try { if (P.context && typeof P.context.json == "function") { const J = await P.context.json(); J && J.error && (W = J.error) } } catch (J) { console.log("Error parsing response body", J) } throw new Error(W) } if (G && G.success === !1) { const W = G.debug ? JSON.stringify(G.debug) : ""; throw new Error(G.error || "Unknown server error. " + W) } X(), alert("User deleted successfully.") } catch (G) { console.error("Delete Error Detail:", G), alert(`Error deleting user: ${G.message || "Unknown error"}`) } }, de = te => { if (C === "role") { const G = e.find(P => P.role === h.role); return (G == null ? void 0 : G.permissions.includes(te)) || !1 } else if (C === "user" && j) { const G = a.find(W => W.id === j); if (G != null && G.permissions) return G.permissions.includes(te); const P = e.find(W => W.role === (G == null ? void 0 : G.role)); return (P == null ? void 0 : P.permissions.includes(te)) || !1 } return !1 }, D = (te, G) => { const P = e.find(W => W.role === te); return (P == null ? void 0 : P.permissions.includes(G)) || !1 }, z = a.filter(te => te.full_name.toLowerCase().includes(y.toLowerCase()) || te.id.toLowerCase().includes(y.toLowerCase())), ie = Array.from(new Set(k4.map(te => te.category))); return c.jsxs("div", {
    className: "space-y-8 pb-20 md:pb-10 animate-fade-in", children: [O && c.jsx("div", { className: "fixed top-6 right-6 z-50 animate-fade-in", children: c.jsxs("div", { className: "bg-emerald-500 text-white px-6 py-4 rounded-2xl shadow-2xl flex items-center gap-3 min-w-[300px]", children: [c.jsx("div", { className: "w-10 h-10 rounded-full bg-white/20 flex items-center justify-center", children: c.jsx("i", { className: "fa-solid fa-check text-xl" }) }), c.jsxs("div", { className: "flex-1", children: [c.jsx("p", { className: "font-bold text-sm", children: O }), c.jsx("p", { className: "text-xs opacity-90 mt-0.5", children: "Changes applied successfully" })] }), c.jsx("button", { onClick: () => I(null), className: "w-8 h-8 rounded-lg hover:bg-white/20 transition-colors flex items-center justify-center", children: c.jsx("i", { className: "fa-solid fa-xmark" }) })] }) }), c.jsxs("header", { className: "flex flex-col md:flex-row md:items-end justify-between gap-4", children: [c.jsxs("div", { className: "flex items-center gap-4", children: [c.jsx("div", { className: "w-12 h-12 rounded-2xl bg-medical-500 flex items-center justify-center shadow-lg shadow-medical-500/20", children: c.jsx("i", { className: "fa-solid fa-gears text-xl text-white" }) }), c.jsxs("div", { children: [c.jsx("h2", { className: "text-display text-slate-900 dark:text-white", children: "System Administration" }), c.jsx("p", { className: "text-caption mt-0.5", children: "Control access, manage roles, and audit security." })] })] }), c.jsxs("div", { className: "flex bg-slate-100 dark:bg-slate-800 p-1 rounded-2xl border border-slate-200 dark:border-slate-700", children: [c.jsxs("button", { onClick: () => v("users"), className: `px-6 py-2 rounded-xl text-sm font-bold transition-all ${g === "users" ? "bg-white dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 shadow-sm scale-[1.02]" : "text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`, children: [c.jsx("i", { className: "fa-solid fa-users mr-2" }), " Personnel"] }), c.jsxs("button", { onClick: () => v("permissions"), className: `px-6 py-2 rounded-xl text-sm font-bold transition-all ${g === "permissions" ? "bg-white dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 shadow-sm scale-[1.02]" : "text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`, children: [c.jsx("i", { className: "fa-solid fa-shield-halved mr-2" }), " Permissions"] }), c.jsxs("button", { onClick: () => v("maintenance"), className: `px-6 py-2 rounded-xl text-sm font-bold transition-all ${g === "maintenance" ? "bg-white dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 shadow-sm scale-[1.02]" : "text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`, children: [c.jsx("i", { className: "fa-solid fa-wrench mr-2" }), " Maintenance"] })] })] }), g === "users" ? c.jsxs("div", {
      className: "grid grid-cols-1 lg:grid-cols-12 gap-8 items-start", children: [c.jsxs("div", {
        className: "lg:col-span-8 space-y-4", children: [c.jsxs("div", { className: "flex items-center gap-4 bg-white dark:bg-slate-800 p-4 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700", children: [c.jsx("i", { className: "fa-solid fa-magnifying-glass text-slate-400 ml-2" }), c.jsx("input", { type: "text", placeholder: "Search personnel by name or ID...", value: y, onChange: te => b(te.target.value), className: "bg-transparent border-none outline-none w-full font-medium text-slate-700 dark:text-slate-200 placeholder:text-slate-400" })] }), c.jsx("div", {
          className: "glass-panel rounded-[2.5rem] overflow-hidden shadow-sm border border-slate-100 dark:border-slate-800", children: c.jsx("div", {
            className: "max-h-[600px] overflow-y-auto custom-scrollbar", children: c.jsxs("table", {
              className: "w-full text-left", children: [c.jsx("thead", { className: "bg-slate-50/50 dark:bg-slate-900/50 sticky top-0 z-10 backdrop-blur-md border-b border-slate-100 dark:border-slate-800", children: c.jsxs("tr", { children: [c.jsx("th", { className: "p-6 text-[10px] font-black uppercase tracking-widest text-slate-400", children: "Personnel" }), c.jsx("th", { className: "p-6 text-[10px] font-black uppercase tracking-widest text-slate-400", children: "Role & Status" }), c.jsx("th", { className: "p-6 text-[10px] font-black uppercase tracking-widest text-slate-400 text-right", children: "Settings" })] }) }), c.jsx("tbody", {
                className: "divide-y divide-slate-50 dark:divide-slate-800/50", children: s ? c.jsx("tr", { children: c.jsx("td", { colSpan: 3, className: "p-20 text-center", children: c.jsx("i", { className: "fa-solid fa-circle-notch fa-spin text-indigo-500 text-3xl" }) }) }) : H ? c.jsx("tr", { children: c.jsxs("td", { colSpan: 3, className: "p-20 text-center text-red-500 font-bold", children: [c.jsx("i", { className: "fa-solid fa-triangle-exclamation mr-2" }), H, c.jsx("button", { onClick: X, className: "block mx-auto mt-4 text-sm text-indigo-600 underline", children: "Retry" })] }) }) : z.length === 0 ? c.jsx("tr", { children: c.jsx("td", { colSpan: 3, className: "p-20 text-center text-slate-400 font-medium", children: "No personnel found." }) }) : z.map(te => c.jsxs("tr", {
                  className: "group hover:bg-slate-50/50 dark:hover:bg-slate-900/30 transition-all", children: [c.jsx("td", {
                    className: "p-6", children: c.jsxs("div", {
                      className: "flex items-center gap-4", children: [c.jsx("div", {
                        className: `w-12 h-12 rounded-2xl flex items-center justify-center font-black text-lg shadow-inner
                                                            ${te.role === it.OWNER ? "bg-red-50 text-red-600 dark:bg-red-900/20" : te.role === it.MANAGER ? "bg-blue-50 text-blue-600 dark:bg-blue-900/20" : te.role === it.DOCTOR ? "bg-emerald-50 text-emerald-600 dark:bg-emerald-900/20" : "bg-slate-50 text-slate-600 dark:bg-slate-800"}
                                                        `, children: te.full_name.charAt(0)
                      }), c.jsxs("div", { children: [c.jsx("p", { className: "font-black text-slate-900 dark:text-slate-100 leading-tight", children: te.full_name }), c.jsxs("p", { className: "text-xs font-mono text-slate-400 mt-1 uppercase tracking-tight", children: ["ID: ", te.id.substring(0, 8)] })] })]
                    })
                  }), c.jsx("td", {
                    className: "p-6", children: c.jsxs("div", {
                      className: "flex flex-col gap-2", children: [c.jsx("span", {
                        className: `px-3 py-1 rounded-lg text-[10px] font-black uppercase tracking-widest w-fit
                                                            ${te.role === it.OWNER ? "bg-red-500 text-white" : te.role === it.MANAGER ? "bg-blue-500 text-white" : te.role === it.DOCTOR ? "bg-emerald-500 text-white" : "bg-slate-600 text-white"}
                                                        `, children: te.role.replace("_", " ")
                      }), c.jsxs("span", { className: "flex items-center gap-1.5 text-[10px] font-bold text-emerald-500 uppercase tracking-wide", children: [c.jsx("span", { className: "w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse" }), "Active Session"] })]
                    })
                  }), c.jsx("td", { className: "p-6 text-right", children: c.jsxs("div", { className: "flex items-center justify-end gap-2", children: [c.jsx("button", { onClick: () => k(te), className: "w-10 h-10 rounded-xl bg-slate-100 dark:bg-slate-800 text-slate-400 hover:bg-indigo-500 hover:text-white transition-all duration-300 flex items-center justify-center opacity-0 group-hover:opacity-100 transform translate-x-2 group-hover:translate-x-0", children: c.jsx("i", { className: "fa-solid fa-pen-to-square" }) }), te.id !== (r == null ? void 0 : r.id) && c.jsx("button", { onClick: () => re(te.id), className: "w-10 h-10 rounded-xl bg-slate-100 dark:bg-slate-800 text-slate-400 hover:bg-red-500 hover:text-white transition-all duration-300 flex items-center justify-center opacity-0 group-hover:opacity-100 transform translate-x-2 group-hover:translate-x-0", children: c.jsx("i", { className: "fa-solid fa-trash-can" }) })] }) })]
                }, te.id))
              })]
            })
          })
        }), _ && c.jsx("div", { className: "fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-fade-in", children: c.jsxs("div", { className: "glass-panel w-full max-w-lg p-8 rounded-[2.5rem] shadow-2xl border border-white/20 dark:border-slate-700 animate-scale-in", children: [c.jsxs("div", { className: "flex justify-between items-center mb-8", children: [c.jsx("h3", { className: "text-2xl font-black text-slate-900 dark:text-white tracking-tight", children: "Modify Personnel" }), c.jsx("button", { onClick: () => k(null), className: "text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors", children: c.jsx("i", { className: "fa-solid fa-xmark text-xl" }) })] }), c.jsxs("div", { className: "space-y-6", children: [c.jsxs("div", { className: "space-y-2", children: [c.jsx("label", { className: "text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1", children: "Full Name" }), c.jsx("input", { type: "text", value: _.full_name, onChange: te => k({ ..._, full_name: te.target.value }), className: "w-full px-5 py-4 rounded-2xl bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-800 focus:border-indigo-500 outline-none font-bold placeholder:text-slate-400 transition-all dark:text-white" })] }), c.jsxs("div", { className: "space-y-2", children: [c.jsx("label", { className: "text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1", children: "Assigned Role" }), c.jsx("select", { value: _.role, onChange: te => k({ ..._, role: te.target.value }), className: "w-full px-5 py-4 rounded-2xl bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-800 focus:border-indigo-500 outline-none font-black transition-all appearance-none cursor-pointer dark:text-white", children: Object.values(it).map(te => c.jsx("option", { value: te, children: te.replace("_", " ") }, te)) })] }), c.jsxs("div", { className: "pt-4 flex gap-4", children: [c.jsx("button", { onClick: () => k(null), className: "flex-1 py-4 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 font-black rounded-2xl transition-all hover:bg-slate-200 dark:hover:bg-slate-700 uppercase text-xs tracking-widest", children: "Discard" }), c.jsx("button", { onClick: () => U(_.id, { full_name: _.full_name, role: _.role }), className: "flex-1 py-4 bg-indigo-600 text-white font-black rounded-2xl shadow-lg shadow-indigo-500/30 transition-all hover:scale-[1.02] active:scale-[0.98] uppercase text-xs tracking-widest", children: "Save Changes" })] }), c.jsxs("button", { onClick: () => { T("user"), R(_.id), v("permissions"), k(null) }, className: "w-full py-4 bg-emerald-50 text-emerald-600 dark:bg-emerald-900/20 dark:text-emerald-400 font-black rounded-2xl flex items-center justify-center gap-2 transition-all hover:bg-emerald-100 dark:hover:bg-emerald-900/30 uppercase text-[10px] tracking-widest", children: [c.jsx("i", { className: "fa-solid fa-shield-halved" }), " Manage View/Edit Permissions"] })] })] }) })]
      }), c.jsx("div", { className: "lg:col-span-4 space-y-6", children: c.jsxs("div", { className: "glass-panel p-8 rounded-[2.5rem] bg-gradient-to-br from-indigo-600 to-purple-700 text-white shadow-xl border-none relative overflow-hidden", children: [c.jsx("div", { className: "absolute -top-10 -right-10 w-40 h-40 bg-white/10 rounded-full blur-3xl" }), c.jsxs("h4", { className: "font-black mb-6 uppercase tracking-widest text-xs flex items-center gap-2", children: [c.jsx("i", { className: "fa-solid fa-paper-plane animate-bounce" }), "New Personnel Invite"] }), c.jsxs("form", { onSubmit: V, className: "space-y-4 group", children: [c.jsxs("div", { className: "space-y-1", children: [c.jsx("label", { className: "text-[10px] font-black text-indigo-200 uppercase tracking-widest ml-1", children: "Full Legal Name" }), c.jsx("input", { type: "text", required: !0, value: h.full_name, onChange: te => m({ ...h, full_name: te.target.value }), className: "w-full px-5 py-4 rounded-2xl bg-white/10 border border-white/20 focus:bg-white/20 focus:border-white/40 outline-none font-bold text-sm placeholder:text-white/30 transition-all", placeholder: "e.g. John Doe" })] }), c.jsxs("div", { className: "space-y-1", children: [c.jsx("label", { className: "text-[10px] font-black text-indigo-200 uppercase tracking-widest ml-1", children: "Professional Email" }), c.jsx("input", { type: "email", required: !0, value: h.email, onChange: te => m({ ...h, email: te.target.value }), className: "w-full px-5 py-4 rounded-2xl bg-white/10 border border-white/20 focus:bg-white/20 focus:border-white/40 outline-none font-bold text-sm placeholder:text-white/30 transition-all", placeholder: "j.doe@clinic.com" })] }), c.jsxs("div", { className: "space-y-1", children: [c.jsx("label", { className: "text-[10px] font-black text-indigo-200 uppercase tracking-widest ml-1", children: "Assigned Role" }), c.jsx("select", { value: h.role, onChange: te => m({ ...h, role: te.target.value }), className: "w-full px-5 py-4 rounded-2xl bg-white/10 border border-white/20 focus:bg-white/20 focus:border-white/40 outline-none font-black text-sm transition-all appearance-none cursor-pointer", children: Object.values(it).map(te => c.jsx("option", { value: te, className: "text-slate-900", children: te.replace("_", " ") }, te)) })] }), c.jsx("button", { disabled: f, className: "w-full py-5 bg-white text-indigo-600 font-black rounded-2xl shadow-lg hover:shadow-indigo-500/20 transition-all active:scale-[0.97] mt-4 uppercase text-xs tracking-[0.2em] flex items-center justify-center gap-2", children: f ? c.jsx("i", { className: "fa-solid fa-spinner fa-spin" }) : c.jsxs(c.Fragment, { children: ["Deploy Invitation ", c.jsx("i", { className: "fa-solid fa-bolt" })] }) }), c.jsx("p", { className: "text-[10px] text-indigo-100/60 text-center mt-6 font-medium leading-relaxed", children: "Automated verification email will be dispatched immediately." })] })] }) })]
    }) : g === "permissions" ? c.jsxs("div", {
      className: "space-y-8 animate-fade-in-up", children: [c.jsxs("div", { className: "flex items-center gap-4 bg-indigo-50 dark:bg-indigo-900/10 p-6 rounded-3xl border border-indigo-100 dark:border-indigo-900/30", children: [c.jsx("div", { className: "w-12 h-12 rounded-2xl bg-indigo-100 dark:bg-indigo-900/40 flex items-center justify-center text-indigo-600 dark:text-indigo-400 shadow-sm", children: c.jsx("i", { className: "fa-solid fa-shield-check text-xl" }) }), c.jsxs("div", { children: [c.jsx("h4", { className: "font-black text-slate-900 dark:text-white uppercase tracking-tight", children: "Access Control Matrix" }), c.jsx("p", { className: "text-sm text-slate-600 dark:text-slate-400 font-medium", children: "Manage permissions either by broad roles or specific individual overrides." })] })] }), c.jsxs("div", { className: "flex flex-col md:flex-row gap-4 items-center justify-between", children: [c.jsxs("div", { className: "flex bg-slate-100 dark:bg-slate-800 p-1.5 rounded-2xl border border-slate-200 dark:border-slate-700 w-full md:w-auto", children: [c.jsxs("button", { onClick: () => T("role"), className: `flex-1 md:flex-none px-6 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${C === "role" ? "bg-white dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 shadow-md scale-[1.02]" : "text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`, children: [c.jsx("i", { className: "fa-solid fa-users-gear mr-2" }), " Global Roles"] }), c.jsxs("button", { onClick: () => T("user"), className: `flex-1 md:flex-none px-6 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${C === "user" ? "bg-white dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 shadow-md scale-[1.02]" : "text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`, children: [c.jsx("i", { className: "fa-solid fa-user-shield mr-2" }), " Individual Personnel"] })] }), C === "user" && c.jsxs("div", { className: "relative w-full md:w-80 animate-fade-in", children: [c.jsx("i", { className: "fa-solid fa-magnifying-glass absolute left-4 top-1/2 -translate-y-1/2 text-slate-400" }), c.jsxs("select", { value: j || "", onChange: te => R(te.target.value), className: "w-full pl-12 pr-4 py-3 rounded-2xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-sm font-bold text-slate-700 dark:text-slate-200 outline-none focus:ring-2 ring-indigo-500/20 transition-all appearance-none cursor-pointer", children: [c.jsx("option", { value: "", children: "Select personnel to manage..." }), a.map(te => c.jsxs("option", { value: te.id, children: [te.full_name, " (", te.role, ")"] }, te.id))] })] })] }), c.jsx("div", {
        className: "glass-panel p-1 rounded-[3rem] shadow-sm overflow-hidden border border-slate-100 dark:border-slate-800", children: c.jsx("div", {
          className: "overflow-x-auto", children: c.jsxs("table", {
            className: "w-full text-left border-collapse", children: [c.jsx("thead", {
              className: "bg-slate-50/50 dark:bg-slate-900 sticky top-0 z-10 border-b border-slate-100 dark:border-slate-800", children: c.jsxs("tr", {
                children: [c.jsx("th", { className: "p-8 text-[11px] font-black text-slate-400 uppercase tracking-[0.2em] w-1/2", children: "Module Permissions" }), C === "role" ? H1.map(te => c.jsx("th", {
                  className: "p-8 text-center min-w-[140px]", children: c.jsxs("div", {
                    className: "flex flex-col items-center gap-3", children: [c.jsx("div", {
                      className: `w-12 h-12 rounded-2xl flex items-center justify-center text-white text-lg font-black shadow-md
                                                        ${te === it.DOCTOR ? "bg-emerald-500" : te === it.MA ? "bg-blue-500" : "bg-purple-500"}
                                                    `, children: te.charAt(0)
                    }), c.jsx("span", { className: "text-[10px] font-black text-slate-900 dark:text-slate-200 uppercase tracking-widest", children: te.replace("_", " ") })]
                  })
                }, te)) : c.jsx("th", { className: "p-8 text-center min-w-[200px]", children: j ? c.jsxs("div", { className: "flex flex-col items-center gap-3", children: [c.jsx("div", { className: "w-12 h-12 rounded-2xl bg-indigo-600 flex items-center justify-center text-white text-lg font-black shadow-md", children: (M = a.find(te => te.id === j)) == null ? void 0 : M.full_name.charAt(0) }), c.jsx("span", { className: "text-[10px] font-black text-slate-900 dark:text-slate-200 uppercase tracking-widest", children: "Custom Access Overrides" })] }) : c.jsx("span", { className: "text-[10px] font-black text-slate-400 uppercase tracking-widest", children: "No User Selected" }) })]
              })
            }), c.jsx("tbody", { children: ie.map(te => c.jsxs(li.Fragment, { children: [c.jsx("tr", { className: "bg-slate-50 dark:bg-slate-800/20", children: c.jsx("td", { colSpan: H1.length + 1, className: "p-4 px-8", children: c.jsx("span", { className: "text-[10px] font-black text-indigo-500 uppercase tracking-[0.3em]", children: te }) }) }), k4.filter(G => G.category === te).map(G => c.jsxs("tr", { className: "group hover:bg-slate-50/50 dark:hover:bg-slate-900/30 transition-all border-b border-slate-50 dark:border-slate-800/50 last:border-0", children: [c.jsx("td", { className: "p-8", children: c.jsxs("div", { className: "flex items-center gap-4", children: [c.jsx("div", { className: "w-2 h-2 rounded-full bg-slate-200 dark:bg-slate-700" }), c.jsx("span", { className: "font-bold text-slate-800 dark:text-slate-200 tracking-tight", children: G.label })] }) }), C === "role" ? H1.map(P => { const W = D(P, G.id); return c.jsx("td", { className: "p-8 text-center", children: c.jsxs("label", { className: "relative inline-flex items-center cursor-pointer", children: [c.jsx("input", { type: "checkbox", className: "sr-only peer", checked: W, onChange: () => t(P, G.id) }), c.jsx("div", { className: "w-16 h-9 bg-slate-200 peer-focus:outline-none rounded-full peer dark:bg-slate-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[4px] after:left-[4px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-7 after:w-7 after:transition-all dark:border-slate-600 peer-checked:bg-gradient-to-r peer-checked:from-indigo-600 peer-checked:to-purple-600 shadow-inner" })] }) }, `${P}-${G.id}`) }) : c.jsx("td", { className: "p-8 text-center", children: j ? c.jsxs("label", { className: "relative inline-flex items-center cursor-pointer", children: [c.jsx("input", { type: "checkbox", className: "sr-only peer", checked: de(G.id), onChange: () => ee(j, G.id) }), c.jsx("div", { className: "w-16 h-9 bg-slate-200 peer-focus:outline-none rounded-full peer dark:bg-slate-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[4px] after:left-[4px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-7 after:w-7 after:transition-all dark:border-slate-600 peer-checked:bg-gradient-to-r peer-checked:from-emerald-600 peer-checked:to-teal-600 shadow-inner" })] }) : c.jsx("div", { className: "w-16 h-9 bg-slate-100 dark:bg-slate-800/50 rounded-full mx-auto opacity-30" }) })] }, G.id))] }, te)) })]
          })
        })
      }), c.jsxs("div", { className: "p-8 bg-slate-100 dark:bg-slate-800/30 border-t-4 border-slate-900 dark:border-white rounded-l-[3rem] rounded-r-[1rem] flex gap-6 items-center", children: [c.jsx("div", { className: "w-14 h-14 rounded-2xl bg-white dark:bg-slate-700 flex items-center justify-center text-slate-900 dark:text-white shadow-lg shrink-0 text-xl", children: c.jsx("i", { className: "fa-solid fa-crown" }) }), c.jsxs("div", { children: [c.jsx("h4", { className: "font-black text-slate-900 dark:text-white uppercase tracking-widest text-sm", children: "Privileged Role Notice" }), c.jsx("p", { className: "text-sm text-slate-500 dark:text-slate-400 mt-1 font-medium italic", children: "OWNER and MANAGER accounts possess absolute authority and circumvent standard permission constraints." })] })] })]
    }) : c.jsx("div", { className: "animate-fade-in", children: c.jsx(ESe, {}) })]
  })
}, TSe = () => { try { if (typeof crypto < "u" && crypto.randomUUID) return crypto.randomUUID() } catch (e) { console.warn("crypto.randomUUID failed (likely insecure context), falling back to polyfill", e) } return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function (e) { const t = Math.random() * 16 | 0; return (e === "x" ? t : t & 3 | 8).toString(16) }) }, T4 = ({ template: e, content: t, details: r, refProp: n, isPreview: a = !1 }) => {
  if (!e) return null; const i = a ? "w-full h-full bg-white text-black overflow-hidden relative" : "w-[215.9mm] bg-white text-black relative", s = l => l.split(`
`).map((d, h) => { if (d.trim().startsWith("# ")) { const g = d.trim().substring(2); return c.jsx("h3", { className: "text-lg font-black uppercase tracking-wide mt-6 mb-2 break-inside-avoid border-b-2 border-gray-200 pb-1", children: g }, h) } let m = d.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/\*\*(.*?)\*\*/g, "<strong>$1</strong>").replace(/\*(.*?)\*/g, "<em>$1</em>").replace(/__(.*?)__/g, "<u>$1</u>"); return m.trim() || (m = "&nbsp;"), c.jsx("div", { className: "mb-1 break-inside-avoid relative whitespace-pre-wrap", style: { minHeight: "1.5em" }, dangerouslySetInnerHTML: { __html: m } }, h) }); return c.jsxs("div", {
    className: i, ref: n, children: [c.jsxs("div", { className: "w-full relative font-sans bg-white pb-10", children: [e.useLetterhead && c.jsx("div", { className: "absolute inset-0 flex items-center justify-center pointer-events-none opacity-[0.02] z-0 overflow-hidden", children: c.jsx("div", { style: { width: "400px", height: "400px", border: "30px solid #DC2626", borderRadius: "60px", display: "flex", alignItems: "center", justifyContent: "center" }, children: c.jsx("div", { style: { width: "280px", height: "280px", border: "15px solid #DC2626", borderRadius: "30px" } }) }) }), e.useLetterhead && c.jsx("div", { className: "absolute left-0 top-0 bottom-0 w-2.5 bg-[#DC2626] z-10 print:bg-[#DC2626]" }), e.useLetterhead && c.jsxs("header", { className: "pl-14 pr-12 pt-10 pb-6 flex justify-between items-start relative z-10", children: [c.jsxs("div", { className: "flex items-center gap-5", children: [c.jsxs("div", { className: "relative flex items-center justify-center bg-[#DC2626]", style: { width: "60px", height: "60px", borderRadius: "10px", flexShrink: 0 }, children: [c.jsx("div", { className: "absolute inset-0 flex items-center justify-center", children: c.jsx("div", { style: { width: "40px", height: "40px", borderRadius: "7px", border: "3.5px solid white" } }) }), c.jsx("svg", { width: "32", height: "32", viewBox: "0 0 100 100", className: "relative z-10", style: { overflow: "visible" }, children: c.jsx("path", { d: "M10 50 H30 L40 20 L60 80 L70 50 H90", fill: "none", stroke: "white", strokeWidth: "10", strokeLinecap: "round", strokeLinejoin: "round" }) })] }), c.jsxs("div", { className: "flex flex-col justify-center", children: [c.jsxs("h1", { className: "text-3xl font-black text-gray-900 tracking-tight leading-none", style: { fontFamily: "Arial, sans-serif" }, children: ["IMMEDIATE ", c.jsx("span", { style: { color: "#DC2626" }, children: "CARE" }), " PLUS"] }), c.jsxs("div", { className: "flex items-center gap-2 mt-1.5 ml-0.5", children: [c.jsx("div", { className: "h-px w-6 bg-gray-300" }), c.jsx("p", { className: "text-[10px] text-gray-500 font-bold uppercase tracking-[0.25em]", children: "Advanced Medical Center" })] })] })] }), c.jsxs("div", { className: "text-right pt-0.5", children: [c.jsx("h3", { className: "font-bold text-gray-900 uppercase text-[10px] tracking-wider mb-1.5 pb-1 border-b-2 border-[#DC2626] inline-block", children: "URGENT CARE" }), c.jsxs("div", { className: "text-[9px] text-gray-500 font-medium leading-relaxed", children: [c.jsx("p", { children: "888 E Main Street, East Dundee, IL 60118" }), c.jsxs("p", { className: "mt-1", children: [c.jsx("span", { className: "text-gray-900 font-bold", children: "P:" }), " (847) 426-0600", c.jsx("span", { className: "mx-1.5 text-gray-300", children: "|" }), c.jsx("span", { className: "text-gray-900 font-bold", children: "F:" }), " (224) 699-9146"] }), c.jsxs("p", { className: "mt-0.5", children: [c.jsx("span", { className: "text-gray-900 font-bold", children: "E:" }), " immediatecareplus@gmail.com"] })] })] })] }), e.useLetterhead && r && c.jsx("div", { className: "mx-14 mb-8 relative z-10 break-inside-avoid", children: c.jsxs("div", { className: "bg-[#FAFAFA] border border-gray-200 rounded-md p-5 flex flex-wrap shadow-[0_2px_8px_rgba(0,0,0,0.03)] print:shadow-none", children: [c.jsxs("div", { className: "w-2/3 border-r border-gray-200 pr-6", children: [c.jsx("span", { className: "text-[9px] text-gray-400 font-bold uppercase tracking-widest block mb-1", children: "Ordering Provider" }), c.jsx("span", { className: "text-sm font-bold text-gray-700 block", children: r.providerName || "____________________" })] }), c.jsxs("div", { className: "w-1/3 pl-6", children: [c.jsx("span", { className: "text-[9px] text-gray-400 font-bold uppercase tracking-widest block mb-1", children: "Date of Service" }), c.jsx("span", { className: "text-sm font-bold text-gray-700 block", children: r.date })] })] }) }), c.jsxs("div", { className: `pl-14 pr-12 py-2 relative z-10 ${e.useLetterhead ? "" : "pt-14"}`, children: [c.jsxs("div", { className: "mb-8 flex items-center break-inside-avoid", children: [c.jsx("div", { className: "w-1.5 h-8 bg-[#DC2626] mr-4 rounded-full" }), c.jsx("h2", { className: "text-2xl font-black text-gray-900 uppercase tracking-tight", children: e.title })] }), c.jsx("div", { className: "print-content text-[11pt] leading-relaxed text-gray-900 font-medium text-justify", children: s(t) })] }), e.useLetterhead && a && c.jsx("footer", { className: "mt-auto relative z-10 pl-14 pr-12 pb-10", children: c.jsxs("div", { className: "border-t-2 border-gray-100 pt-3 flex justify-between items-end", children: [c.jsxs("div", { className: "text-[8px] text-gray-400 font-bold uppercase tracking-widest leading-loose", children: [c.jsx("p", { className: "text-gray-900 text-[9px] mb-1", children: "Confidential Medical Record" }), c.jsx("p", { children: "This document contains protected health information (PHI)." })] }), c.jsxs("div", { className: "text-right", children: [c.jsx("div", { style: { backgroundColor: "#DC2626" }, className: "inline-block text-white text-[8px] font-bold px-2 py-0.5 rounded mb-1", children: "OFFICIAL DOCUMENT" }), c.jsx("p", { className: "text-[9px] text-gray-400 font-bold", children: "Page 1 of 1" })] })] }) })] }), c.jsx("style", {
      children: `
        @media print {
            @page { 
                margin: 0;
                size: letter;
            }
            body { 
                -webkit-print-color-adjust: exact !important; 
                print-color-adjust: exact !important;
            }
        }
        .print-content strong, .print-content b {
            font-weight: 900 !important;
            color: #000 !important;
        }
        .break-inside-avoid {
            break-inside: avoid;
            page-break-inside: avoid;
        }
      `})]
  })
}, NSe = "https://api.openai.com/v1/audio/transcriptions", RU = async e => { var n; const t = "YOUR_OPENAI_API_KEY_HERE", r = new FormData; r.append("file", e, "record.webm"), r.append("model", "whisper-1"), r.append("language", "en"), r.append("temperature", "0.2"), r.append("prompt", "Medical Dictation. Patient History, SOAP Note, Cardiology, Oncology, Dermatology. Common drugs: Lisinopril, Metformin, Atorvastatin. CPT Codes. ICD-10. Professional casing and punctuation."); try { const a = await fetch(NSe, { method: "POST", headers: { Authorization: `Bearer ${t}` }, body: r }); if (!a.ok) { const s = await a.json(); throw new Error(((n = s.error) == null ? void 0 : n.message) || "Transcription failed") } return (await a.json()).text } catch (a) { throw console.error("Whisper API Error:", a), a } }, ASe = () => { const [e, t] = A.useState(!1), [r, n] = A.useState(!1), [a, i] = A.useState(0), s = A.useRef(null), l = A.useRef([]), f = A.useRef(null), d = A.useRef(null), h = A.useRef(null), m = A.useRef(null), g = A.useRef(null), [v, y] = A.useState(new Uint8Array(0)), [b, _] = A.useState(0), k = A.useRef(null), C = 5, T = 3e3, j = A.useCallback(() => { if (!d.current || !e) return; const F = new Uint8Array(d.current.frequencyBinCount); d.current.getByteFrequencyData(F), y(F); const X = F.reduce((U, ee) => U + ee, 0) / F.length, V = Math.min(100, X / 128 * 100); if (_(V), V < C) { if (k.current === null) k.current = Date.now(); else if (Date.now() - k.current > T) { O(); return } } else k.current = null; m.current = requestAnimationFrame(j) }, [e]), R = async () => { try { const F = await navigator.mediaDevices.getUserMedia({ audio: !0 }), X = new (window.AudioContext || window.webkitAudioContext), V = X.createAnalyser(); V.fftSize = 64; const U = X.createMediaStreamSource(F); U.connect(V), f.current = X, d.current = V, h.current = U; const ee = new MediaRecorder(F); s.current = ee, l.current = [], ee.ondataavailable = re => { re.data.size > 0 && l.current.push(re.data) }, ee.start(), t(!0), i(0), k.current = null, j(), g.current = setInterval(() => { i(re => re + 1) }, 1e3) } catch (F) { console.error("Microphone access denied:", F), alert("Microphone access is required for dictation.") } }, O = async () => s.current ? new Promise(F => { s.current.onstop = async () => { const X = new Blob(l.current, { type: "audio/webm" }); H(), n(!0); try { const V = await RU(X); n(!1), F(V) } catch (V) { console.error("Dictation API Error:", V), n(!1), F(null) } }, s.current.stop() }) : null, I = () => { s.current && e && s.current.stop(), H() }, H = () => { var F, X; t(!1), (F = s.current) == null || F.stream.getTracks().forEach(V => V.stop()), (X = f.current) == null || X.close(), m.current && cancelAnimationFrame(m.current), g.current && clearInterval(g.current), d.current = null, f.current = null }; return A.useEffect(() => () => H(), []), { isRecording: e, isProcessing: r, recordingTime: a, volumeLevel: b, audioData: v, start: R, stop: O, cancel: I } }, PU = (e, t, r = .1) => { try { const n = new (window.AudioContext || window.webkitAudioContext), a = n.createOscillator(), i = n.createGain(); a.type = "sine", a.frequency.setValueAtTime(e, n.currentTime), i.gain.setValueAtTime(r, n.currentTime), i.gain.exponentialRampToValueAtTime(1e-4, n.currentTime + t), a.connect(i), i.connect(n.destination), a.start(), a.stop(n.currentTime + t), setTimeout(() => { n.close() }, (t + .1) * 1e3) } catch (n) { console.error("Audio cue failed:", n) } }, CSe = () => { PU(523.25, .15, .05) }, jSe = () => { PU(392, .2, .05) }, ISe = ({ audioData: e, isRecording: t }) => { const r = A.useRef(null); return A.useEffect(() => { const n = r.current; if (!n) return; const a = n.getContext("2d"); if (!a) return; const i = n.width, s = n.height; if (a.clearRect(0, 0, i, s), !t) return; const l = 4, f = 2, d = Math.floor(i / (l + f)), h = Math.floor(e.length / d), m = a.createLinearGradient(0, 0, 0, s); m.addColorStop(0, "#2dd4bf"), m.addColorStop(.5, "#0d9488"), m.addColorStop(1, "#2dd4bf"), a.fillStyle = m; for (let g = 0; g < d; g++) { const v = Math.floor(g * h), _ = (e[v] || 0) / 255 * s * .8, k = g * (l + f), C = (s - _) / 2; a.beginPath(), a.roundRect(k, C, l, _, 20), a.fill() } }, [e, t]), c.jsx("canvas", { ref: r, width: 120, height: 40, className: "opacity-90" }) }, kx = A.forwardRef(({ value: e, onChange: t, label: r, placeholder: n = "Start typing or use medical dictation...", rows: a = 4, className: i = "" }, s) => {
  const { isRecording: l, isProcessing: f, recordingTime: d, audioData: h, volumeLevel: m, start: g, stop: v } = ASe(), [y, b] = li.useState(null), [_, k] = li.useState(null), [C, T] = li.useState(!1), [j, R] = li.useState(!1), [O, I] = li.useState(!1), [H, F] = li.useState(null), X = async () => { if (l) { jSe(), b(e); const D = await v(); if (D) { const z = e.length > 0 && !e.endsWith(" ") ? " " : ""; t(e + z + D), T(!0), setTimeout(() => T(!1), 5e3) } } else CSe(), await g() }; li.useEffect(() => { const D = z => { (z.ctrlKey || z.metaKey) && z.key === "m" && (z.preventDefault(), X()) }; return window.addEventListener("keydown", D), () => window.removeEventListener("keydown", D) }, [l, e, X]); const V = async () => { if (!e || j) return; R(!0); const D = await ume(e); k(D), R(!1), I(!0) }, U = async (D, z) => { try { await navigator.clipboard.writeText(D), F(z), setTimeout(() => F(null), 2e3) } catch (ie) { console.error("Failed to copy text: ", ie) } }, ee = () => { _ && (b(e), t(_), k(null), I(!1), T(!0), setTimeout(() => T(!1), 5e3)) }, re = () => { y !== null && (t(y), b(null), T(!1)) }, de = D => { const z = Math.floor(D / 60), ie = D % 60; return `${z}:${ie < 10 ? "0" : ""}${ie}` }; return c.jsxs("div", {
    className: "w-full relative group", children: [r && c.jsx("label", { className: "block text-xs font-bold uppercase text-gray-500 mb-2 tracking-wide", children: r }), c.jsxs("div", {
      className: `relative bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm focus-within:ring-2 focus-within:ring-teal-500 transition-all overflow-hidden ${l ? "ring-2 ring-teal-500/50 border-teal-500" : ""}`, children: [c.jsx("textarea", { ref: s, value: e, onChange: D => t(D.target.value), placeholder: n, rows: a, disabled: f, className: `w-full p-4 bg-transparent resize-none outline-none text-gray-800 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 ${f ? "opacity-50" : ""} ${i}` }), c.jsxs("div", {
        className: "absolute bottom-3 right-3 flex items-center gap-3 z-10", children: [l && c.jsxs("div", { className: "flex items-center gap-3 bg-gray-900/10 dark:bg-black/40 backdrop-blur-md rounded-full pr-1 pl-4 py-1 animate-fade-in border border-gray-200 dark:border-gray-700", children: [c.jsx("span", { className: "text-xs font-mono font-bold text-red-600 dark:text-red-400 tabular-nums", children: de(d) }), c.jsx("div", { className: "w-[80px] h-[24px] flex items-center justify-center", children: c.jsx(ISe, { audioData: h, isRecording: l }) })] }), c.jsx("button", {
          type: "button", onClick: X, disabled: f || j, className: `
              relative flex items-center justify-center w-10 h-10 rounded-full shadow-md transition-all duration-300
              ${l ? "bg-red-50 text-red-600 scale-110 ring-4 ring-red-100 animate-pulse-slow" : "bg-white dark:bg-gray-700 text-gray-400 hover:text-teal-600 hover:bg-teal-50 border border-gray-200 dark:border-gray-600"}
              ${f || j ? "cursor-wait bg-gray-100" : ""}
            `, title: l ? "Stop Dictation" : "Start Medical Dictation", children: f || j ? c.jsxs("svg", { className: "animate-spin h-5 w-5 text-teal-600", xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", children: [c.jsx("circle", { className: "opacity-25", cx: "12", cy: "12", r: "10", stroke: "currentColor", strokeWidth: "4" }), c.jsx("path", { className: "opacity-75", fill: "currentColor", d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" })] }) : l ? c.jsx("i", { className: "fa-solid fa-stop text-sm" }) : c.jsx("i", { className: "fa-solid fa-microphone text-sm" })
        }), !l && e.length > 10 && c.jsxs("div", { className: "flex items-center gap-2 animate-fade-in", children: [C && c.jsx("button", { type: "button", onClick: re, className: "text-[10px] font-bold text-gray-400 hover:text-red-500 underline uppercase tracking-tighter", children: "Undo" }), c.jsx("button", { type: "button", onClick: V, disabled: j, className: "flex items-center justify-center w-8 h-8 rounded-full bg-teal-50 text-teal-600 hover:bg-teal-600 hover:text-white transition-colors border border-teal-100", title: "Magic Refine (Clinical AI)", children: c.jsx("i", { className: "fa-solid fa-wand-magic-sparkles text-xs" }) })] })]
      }), l && c.jsx("div", { className: "absolute bottom-4 left-4 h-1.5 w-16 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden", children: c.jsx("div", { className: `h-full transition-all duration-150 ${m > 70 ? "bg-red-400" : m > 15 ? "bg-teal-400" : "bg-gray-400"}`, style: { width: `${m}%` } }) })]
    }), (f || j) && c.jsxs("p", { className: "absolute -bottom-6 right-0 text-xs text-teal-600 font-bold animate-pulse", children: [c.jsx("i", { className: "fa-solid fa-wand-magic-sparkles mr-1" }), " ", f ? "Transcribing..." : "Refining Clinical Note..."] }), O && c.jsx("div", { className: "fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in", children: c.jsxs("div", { className: "bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col border border-gray-200 dark:border-gray-800", children: [c.jsxs("div", { className: "p-6 border-b border-gray-100 dark:border-gray-800 flex items-center justify-between bg-gray-50/50 dark:bg-gray-800/50", children: [c.jsxs("div", { children: [c.jsxs("h3", { className: "text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2", children: [c.jsx("i", { className: "fa-solid fa-wand-magic-sparkles text-teal-500" }), "Clinical Refinement Review"] }), c.jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: "Compare and clinical-grade your dictation" })] }), c.jsx("button", { onClick: () => I(!1), className: "w-10 h-10 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 flex items-center justify-center transition-colors", children: c.jsx("i", { className: "fa-solid fa-xmark text-gray-500" }) })] }), c.jsxs("div", { className: "flex-1 overflow-y-auto p-6 grid grid-cols-1 md:grid-cols-2 gap-6 bg-white dark:bg-gray-900", children: [c.jsxs("div", { className: "flex flex-col gap-3", children: [c.jsxs("div", { className: "flex items-center justify-between", children: [c.jsx("span", { className: "text-xs font-bold uppercase tracking-widest text-gray-400", children: "Original Transcription" }), c.jsxs("button", { onClick: () => U(e, "original"), className: "flex items-center gap-1.5 text-xs font-semibold text-teal-600 hover:text-teal-700 transition-colors", children: [c.jsx("i", { className: `fa-solid ${H === "original" ? "fa-check" : "fa-copy"}` }), H === "original" ? "Copied" : "Copy"] })] }), c.jsx("div", { className: "flex-1 p-5 rounded-xl bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-300 text-sm leading-relaxed min-h-[200px] whitespace-pre-wrap italic", children: e })] }), c.jsxs("div", { className: "flex flex-col gap-3", children: [c.jsxs("div", { className: "flex items-center justify-between", children: [c.jsx("span", { className: "text-xs font-bold uppercase tracking-widest text-teal-500", children: "Clinical Refinement" }), c.jsxs("button", { onClick: () => _ && U(_, "refined"), className: "flex items-center gap-1.5 text-xs font-semibold text-teal-600 hover:text-teal-700 transition-colors", children: [c.jsx("i", { className: `fa-solid ${H === "refined" ? "fa-check" : "fa-copy"}` }), H === "refined" ? "Copied" : "Copy"] })] }), c.jsx("div", { className: "flex-1 p-5 rounded-xl bg-teal-50/30 dark:bg-teal-900/10 border border-teal-100 dark:border-teal-900/30 text-gray-800 dark:text-gray-100 text-sm leading-relaxed font-medium min-h-[200px] whitespace-pre-wrap", children: _ })] })] }), c.jsxs("div", { className: "p-6 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-100 dark:border-gray-800 flex flex-col sm:flex-row items-center justify-end gap-3", children: [c.jsx("button", { onClick: () => I(!1), className: "w-full sm:w-auto px-6 py-2.5 rounded-xl text-sm font-bold text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors", children: "Keep Original" }), c.jsxs("button", { onClick: ee, className: "w-full sm:w-auto px-8 py-2.5 rounded-xl bg-gradient-to-r from-teal-600 to-teal-500 text-white text-sm font-bold shadow-lg shadow-teal-500/30 hover:shadow-teal-500/40 transform hover:-translate-y-0.5 transition-all flex items-center justify-center gap-2", children: [c.jsx("i", { className: "fa-solid fa-check" }), "Apply Refined Note"] })] })] }) })]
  })
}); kx.displayName = "SmartDictationInput"; const G1 = ["{{patientName}}", "{{patientDOB}}", "{{doctorName}}", "{{procedure}}", "{{date}}", "{{time}}"], OSe = ({ templates: e, users: t, user: r, hasPermission: n, onSaveTemplate: a, onDeleteTemplate: i, onLogAction: s, t: l }) => {
  const [f, d] = A.useState("generate"), [h, m] = A.useState(""), [g, v] = A.useState(""), [y, b] = A.useState(""), [_, k] = A.useState(null), [C, T] = A.useState({}), j = A.useRef(null), R = A.useRef(null), O = A.useRef(null), I = t.filter(M => M.role === it.DOCTOR || M.role === it.OWNER), H = () => { const M = t.find(J => J.id === y), te = (M == null ? void 0 : M.role) === it.DOCTOR ? "Dr. " : "", G = M ? `${te}${M.username}` : "", P = new Date, W = P.toLocaleDateString("en-US", { year: "numeric", month: "2-digit", day: "2-digit" }); return { patientName: "", patientDOB: "", providerName: G, procedure: g, date: W, time: P.toLocaleTimeString("en-US", { hour: "numeric", minute: "2-digit" }) } }, F = () => e.find(M => M.id === h), X = () => { const M = F(); if (!M) return ""; const { providerName: te, date: G, time: P } = H(); let W = M.content; return W = W.replace(/{{patientName}}/g, "__________________________"), W = W.replace(/{{patientDOB}}/g, "__________________________"), W = W.replace(/{{doctorName}}/g, te || "Provider"), W = W.replace(/{{procedure}}/g, g || "__________________________"), W = W.replace(/{{date}}/g, G), W = W.replace(/{{time}}/g, P), W }, V = () => { if (!h || !y) { alert("Please select a template and a provider."); return } const M = R.current; if (!M) return; if (!window.html2pdf) { alert("PDF generator is loading... please try again in a moment."); return } const te = F(); s("FORM_GENERATED", `Downloaded PDF '${te == null ? void 0 : te.title}'`); const G = { margin: [10, 0, 40, 0], filename: `${(te == null ? void 0 : te.slug) || "document"}_${new Date().toISOString().split("T")[0]}.pdf`, image: { type: "jpeg", quality: .98 }, html2canvas: { scale: 2, useCORS: !0, letterRendering: !0, scrollY: 0 }, jsPDF: { unit: "mm", format: "letter", orientation: "portrait" }, pagebreak: { mode: ["css", "legacy"] } }; window.html2pdf().set(G).from(M).toPdf().get("pdf").then(P => { const W = P.internal.getNumberOfPages(), J = H(); for (let B = 1; B <= W; B++) { P.setPage(B); const ce = P.internal.pageSize.getWidth(), fe = P.internal.pageSize.getHeight(), le = fe - 15; P.setDrawColor(220, 220, 220), P.setLineWidth(.5), P.line(15, le - 5, ce - 15, le - 5), P.setFontSize(7), P.setTextColor(120, 120, 120), P.setFont("helvetica", "bold"), P.text("CONFIDENTIAL MEDICAL RECORD", 15, le), P.setFontSize(6), P.setFont("helvetica", "normal"), P.text("This document contains protected health information (PHI).", 15, le + 3), P.text("Unauthorized disclosure is prohibited by law (HIPAA).", 15, le + 6), P.setFontSize(7), P.setFont("helvetica", "bold"), P.setTextColor(80, 80, 80), P.setFillColor(220, 38, 38), P.rect(ce - 45, le - 4, 30, 4, "F"), P.setTextColor(255, 255, 255), P.text("OFFICIAL DOCUMENT", ce - 43, le - 1), P.setTextColor(120, 120, 120), P.text(`Generated: ${J.date}`, ce - 15, le + 3, { align: "right" }), P.text(`Page ${B} of ${W}`, ce - 15, le + 6, { align: "right" }), P.setFillColor(220, 38, 38), P.rect(0, fe - 2, ce, 2, "F") } }).save() }, U = M => {
    M ? (k(M.id), T({ ...M })) : (k("new"), T({
      title: "", slug: "", version: "1.0", language: "English", status: "Draft", useLetterhead: !0, content: `# Consent Form

I, **{{patientName}}**, hereby authorize...

# Acknowledgment
1. Point one...`, variables: G1
    }))
  }, [ee, re] = A.useState(!1), de = async () => { if (!(!C.title || !C.content)) try { re(!0); const M = C.slug || C.title.toLowerCase().replace(/[^a-z0-9]+/g, "-").replace(/(^-|-$)+/g, ""), te = { id: _ === "new" ? TSe() : _, title: C.title, slug: M, version: C.version || "1.0", language: C.language || "English", status: C.status || "Draft", useLetterhead: C.useLetterhead ?? !0, content: C.content, variables: G1, updatedAt: new Date().toISOString() }; await a(te), k(null) } catch (M) { console.error("Failed to save template:", M), alert(`Error saving template: ${M.message}`) } finally { re(!1) } }, D = M => { ie(M) }, z = (M, te) => {
    const G = j.current; if (!G) return; const P = G.selectionStart, W = G.selectionEnd, J = C.content || "", B = J.substring(P, W), ce = J.substring(0, P), fe = J.substring(W, J.length), le = M; if (M === "# ") {
      const pe = J.lastIndexOf(`
`, P - 1), Ie = pe === -1 ? 0 : pe + 1, Y = J.substring(0, Ie) + M + J.substring(Ie); T({ ...C, content: Y }), setTimeout(() => G.focus(), 0); return
    } const oe = ce + M + B + le + fe; T({ ...C, content: oe }), setTimeout(() => { G.focus(), B.length > 0 ? G.setSelectionRange(P, W + M.length + le.length) : G.setSelectionRange(P + M.length, P + M.length) }, 0)
  }, ie = M => { const te = j.current; if (!te) return; const G = te.selectionStart, P = te.selectionEnd, W = C.content || "", J = W.substring(0, G), B = W.substring(P, W.length); T({ ...C, content: J + M + B }), setTimeout(() => { te.focus(), te.setSelectionRange(G + M.length, G + M.length) }, 0) }; return f === "manage" && _ ? $u.createPortal(c.jsx("div", { className: "fixed inset-0 z-[100] bg-gray-900/95 backdrop-blur-sm flex items-center justify-center p-4", children: c.jsxs("div", { className: "bg-gray-900 border border-gray-700 w-full max-w-4xl rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]", children: [c.jsxs("div", { className: "p-6 border-b border-gray-800 flex justify-between items-start", children: [c.jsxs("div", { children: [c.jsx("h2", { className: "text-2xl font-bold text-white mb-1", children: _ === "new" ? "Create Template" : "Edit Consent Template" }), c.jsx("p", { className: "text-gray-400 text-sm", children: "Update consent template details" })] }), c.jsx("button", { onClick: () => k(null), className: "text-gray-400 hover:text-white transition-colors", children: c.jsx("i", { className: "fa-solid fa-xmark text-xl" }) })] }), c.jsxs("div", { className: "p-8 overflow-y-auto custom-scrollbar space-y-6", children: [c.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [c.jsxs("div", { className: "space-y-2", children: [c.jsx("label", { className: "text-gray-300 text-sm font-bold", children: "Template Name *" }), c.jsx("input", { value: C.title, onChange: M => T({ ...C, title: M.target.value }), className: "w-full bg-gray-950 border border-blue-500/50 rounded-lg h-12 px-4 text-white focus:outline-none focus:border-blue-500 transition-colors", placeholder: "e.g. TB Surveillance Form" })] }), c.jsxs("div", { className: "space-y-2", children: [c.jsx("label", { className: "text-gray-500 text-sm font-bold", children: "Slug (Auto-generated)" }), c.jsx("input", { value: C.slug, onChange: M => T({ ...C, slug: M.target.value }), className: "w-full bg-gray-800 border border-gray-700 rounded-lg h-12 px-4 text-gray-400 focus:outline-none", placeholder: "tb-surveillance-form" })] })] }), c.jsxs("div", { className: "grid grid-cols-3 gap-6", children: [c.jsxs("div", { className: "space-y-2", children: [c.jsx("label", { className: "text-gray-300 text-sm font-bold", children: "Version *" }), c.jsx("input", { value: C.version, onChange: M => T({ ...C, version: M.target.value }), className: "w-full bg-gray-950 border border-gray-700 rounded-lg h-12 px-4 text-white focus:outline-none focus:border-blue-500" })] }), c.jsxs("div", { className: "space-y-2", children: [c.jsx("label", { className: "text-gray-300 text-sm font-bold", children: "Language" }), c.jsxs("select", { value: C.language, onChange: M => T({ ...C, language: M.target.value }), className: "w-full bg-gray-950 border border-gray-700 rounded-lg h-12 px-4 text-white focus:outline-none focus:border-blue-500", children: [c.jsx("option", { value: "English", children: "English" }), c.jsx("option", { value: "Spanish", children: "Spanish" })] })] }), c.jsxs("div", { className: "space-y-2", children: [c.jsx("label", { className: "text-gray-300 text-sm font-bold", children: "Status" }), c.jsxs("select", { value: C.status, onChange: M => T({ ...C, status: M.target.value }), className: "w-full bg-gray-950 border border-gray-700 rounded-lg h-12 px-4 text-white focus:outline-none focus:border-blue-500", children: [c.jsx("option", { value: "Active", children: "Active" }), c.jsx("option", { value: "Draft", children: "Draft" }), c.jsx("option", { value: "Archived", children: "Archived" })] })] })] }), c.jsxs("div", { className: "border border-gray-700 rounded-xl p-4 flex items-center justify-between bg-gray-950/50", children: [c.jsxs("div", { children: [c.jsx("h4", { className: "text-white font-bold", children: "Use System Letterhead" }), c.jsx("p", { className: "text-gray-500 text-xs mt-1", children: "Include clinic header and footer in PDF" })] }), c.jsx("button", { onClick: () => T({ ...C, useLetterhead: !C.useLetterhead }), className: `w-14 h-8 rounded-full p-1 transition-colors duration-300 ${C.useLetterhead ? "bg-blue-600" : "bg-gray-700"}`, children: c.jsx("div", { className: `w-6 h-6 rounded-full bg-white shadow-sm transform transition-transform duration-300 ${C.useLetterhead ? "translate-x-6" : "translate-x-0"}` }) })] }), c.jsxs("div", { className: "space-y-0", children: [c.jsxs("div", { className: "flex justify-between items-center mb-2", children: [c.jsx("label", { className: "text-gray-300 text-sm font-bold block", children: "Content Editor" }), c.jsxs("div", { className: "flex items-center gap-2 text-xs text-teal-400", children: [c.jsx("i", { className: "fa-solid fa-microphone-lines" }), c.jsx("span", { className: "font-bold uppercase tracking-wider", children: "AI Dictation Ready" })] })] }), c.jsxs("div", { className: "bg-gray-800 border-x border-t border-gray-700 rounded-t-xl p-2 flex flex-wrap gap-2 items-center", children: [c.jsxs("div", { className: "flex gap-1 border-r border-gray-700 pr-2 mr-1", children: [c.jsx("button", { onClick: () => z("# "), title: "Heading", className: "w-8 h-8 rounded hover:bg-gray-700 text-gray-300 font-bold flex items-center justify-center transition-colors", children: "H" }), c.jsx("button", { onClick: () => z("**"), title: "Bold", className: "w-8 h-8 rounded hover:bg-gray-700 text-gray-300 font-bold flex items-center justify-center transition-colors", children: "B" }), c.jsx("button", { onClick: () => z("*"), title: "Italic", className: "w-8 h-8 rounded hover:bg-gray-700 text-gray-300 italic flex items-center justify-center transition-colors", children: "I" }), c.jsx("button", { onClick: () => z("__"), title: "Underline", className: "w-8 h-8 rounded hover:bg-gray-700 text-gray-300 underline flex items-center justify-center transition-colors", children: "U" })] }), c.jsx("div", { className: "flex gap-2 flex-wrap", children: G1.map(M => c.jsx("button", { onClick: () => D(M), className: "text-[10px] bg-gray-900 hover:bg-black text-blue-400 border border-gray-700 px-2 py-1 rounded transition-colors", children: M }, M)) })] }), c.jsx(kx, { ref: j, value: C.content || "", onChange: M => T({ ...C, content: M }), rows: 15, placeholder: "Type or dictate document content here...", className: "bg-gray-950 border-gray-700 rounded-b-xl rounded-t-none text-gray-300 font-mono text-sm leading-relaxed focus:ring-0 border-t-0" })] })] }), c.jsxs("div", { className: "p-6 border-t border-gray-800 bg-gray-900 flex justify-end gap-4", children: [c.jsx("button", { onClick: () => k(null), className: "px-6 py-3 rounded-xl border border-gray-700 text-gray-300 font-bold hover:bg-gray-800 transition-colors", children: "Cancel" }), c.jsxs("button", { onClick: de, disabled: ee, className: "px-6 py-3 rounded-xl bg-blue-500 hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold transition-colors shadow-lg shadow-blue-500/20 flex items-center gap-2", children: [ee && c.jsx("i", { className: "fa-solid fa-circle-notch fa-spin" }), ee ? "Saving..." : _ === "new" ? "Create Template" : "Update Template"] })] })] }) }), document.body) : c.jsxs("div", {
    className: "space-y-8 pb-20 md:pb-10 animate-fade-in-up", children: [c.jsxs("header", { className: "flex flex-col md:flex-row md:items-center justify-between gap-6", children: [c.jsxs("div", { className: "flex items-center gap-4", children: [c.jsx("div", { className: "w-12 h-12 rounded-2xl bg-medical-500 flex items-center justify-center shadow-lg shadow-medical-500/20", children: c.jsx("i", { className: "fa-solid fa-file-contract text-xl text-white" }) }), c.jsxs("div", { children: [c.jsx("h2", { className: "text-display text-slate-900 dark:text-white", children: "Clinical Forms" }), c.jsx("p", { className: "text-caption mt-0.5", children: "Generate official Immediate Care Plus documents" })] })] }), c.jsxs("div", { className: "flex bg-gray-100 dark:bg-gray-800 p-1 rounded-2xl", children: [c.jsxs("button", { onClick: () => d("generate"), className: `px-6 py-3 rounded-xl text-sm font-bold transition-all ${f === "generate" ? "bg-white dark:bg-gray-700 shadow-sm text-medical-600 dark:text-white" : "text-gray-500"}`, children: [c.jsx("i", { className: "fa-solid fa-print mr-2" }), " Generate"] }), n("forms.manage") && c.jsxs("button", { onClick: () => d("manage"), className: `px-6 py-3 rounded-xl text-sm font-bold transition-all ${f === "manage" ? "bg-white dark:bg-gray-700 shadow-sm text-medical-600 dark:text-white" : "text-gray-500"}`, children: [c.jsx("i", { className: "fa-solid fa-pen-ruler mr-2" }), " Templates"] })] })] }), f === "generate" && c.jsxs("div", { className: "grid grid-cols-1 lg:grid-cols-3 gap-8", children: [c.jsx("div", { className: "lg:col-span-1 space-y-6", children: c.jsxs("div", { className: "bg-white dark:bg-gray-900 rounded-3xl p-6 shadow-glass border border-gray-100 dark:border-gray-800 space-y-5", children: [c.jsxs("div", { className: "bg-blue-50 dark:bg-blue-900/10 p-4 rounded-2xl border border-blue-100 dark:border-blue-800/30", children: [c.jsx("label", { className: "text-[10px] font-bold text-blue-600 dark:text-blue-400 uppercase mb-2 block", children: "1. Select Provider" }), c.jsxs("select", { value: y, onChange: M => b(M.target.value), className: "w-full h-12 px-3 rounded-xl bg-white dark:bg-gray-800 border border-blue-200 dark:border-blue-800/30 font-bold text-sm focus:ring-2 focus:ring-blue-500/20 outline-none text-gray-900 dark:text-white", children: [c.jsx("option", { value: "", children: "Select Doctor / Owner" }), I.map(M => c.jsxs("option", { value: M.id, children: [M.role === "DOCTOR" ? "Dr." : "", " ", M.username, " (", M.role, ")"] }, M.id))] })] }), c.jsx("h3", { className: "text-lg font-bold text-gray-900 dark:text-white border-b border-gray-100 dark:border-gray-800 pb-3", children: "2. Procedure Info" }), c.jsxs("div", { children: [c.jsx("label", { className: "text-[10px] font-bold text-gray-400 uppercase", children: "Procedure / Note (Optional)" }), c.jsx("input", { type: "text", value: g, onChange: M => v(M.target.value), className: "w-full h-12 px-4 rounded-xl bg-gray-50 dark:bg-gray-800 border-none font-bold text-base mt-1 focus:ring-2 focus:ring-medical-500/20", placeholder: "e.g. Incision and Drainage" })] }), c.jsx("h3", { className: "text-lg font-bold text-gray-900 dark:text-white border-b border-gray-100 dark:border-gray-800 pb-3 pt-4", children: "3. Select Form" }), c.jsx("div", { className: "space-y-2 max-h-60 overflow-y-auto custom-scrollbar pr-2", children: e.filter(M => M.status === "Active" || M.status === "Draft").map(M => c.jsxs("button", { onClick: () => m(M.id), className: `w-full text-left p-4 rounded-xl border-2 transition-all flex items-center justify-between group ${h === M.id ? "border-medical-500 bg-medical-50 dark:bg-medical-900/20" : "border-gray-100 dark:border-gray-800 hover:border-medical-300"}`, children: [c.jsxs("div", { className: "flex items-center gap-2", children: [c.jsx("span", { className: `font-bold ${h === M.id ? "text-medical-700 dark:text-white" : "text-gray-600 dark:text-gray-400"}`, children: M.title }), M.status === "Draft" && c.jsx("span", { className: "text-[10px] font-bold bg-gray-200 dark:bg-gray-700 text-gray-500 px-2 py-0.5 rounded-md", children: "DRAFT" })] }), c.jsx("div", { className: `w-6 h-6 rounded-full border-2 flex items-center justify-center ${h === M.id ? "border-medical-500 bg-medical-500" : "border-gray-300"}`, children: h === M.id && c.jsx("i", { className: "fa-solid fa-check text-white text-xs" }) })] }, M.id)) }), c.jsx("div", { className: "flex flex-col gap-3 mt-6", children: c.jsxs("button", { onClick: V, disabled: !h || !y, className: "w-full h-14 bg-red-600 hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold rounded-2xl shadow-lg flex items-center justify-center gap-3 transition-all transform hover:scale-[1.02]", children: [c.jsx("i", { className: "fa-solid fa-file-pdf text-xl" }), c.jsx("span", { className: "text-lg", children: "Download PDF" })] }) })] }) }), c.jsx("div", { className: "lg:col-span-2", children: c.jsx("div", { className: "bg-gray-200 dark:bg-black/50 p-8 rounded-3xl h-full flex items-center justify-center overflow-auto shadow-inner border border-gray-100 dark:border-gray-800", children: c.jsx("div", { className: "bg-white w-[216mm] min-h-[279mm] shadow-2xl scale-[0.6] lg:scale-[0.7] xl:scale-[0.8] origin-top transform transition-transform duration-500 relative", children: c.jsx("div", { className: "p-0 h-full overflow-hidden", children: h ? c.jsx(T4, { template: F(), content: X(), details: H(), refProp: O, isPreview: !0 }) : c.jsxs("div", { className: "h-[279mm] flex flex-col items-center justify-center text-gray-300 font-sans", children: [c.jsx("i", { className: "fa-regular fa-file-lines text-6xl mb-4" }), c.jsxs("p", { className: "font-bold text-xl uppercase tracking-widest text-center", children: ["Select Template", c.jsx("br", {}), "&", c.jsx("br", {}), "Enter Patient Info"] })] }) }) }) }) })] }), f === "manage" && c.jsxs("div", {
      className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6", children: [e.map(M => c.jsxs("div", {
        className: "bg-white dark:bg-gray-900 rounded-3xl p-6 shadow-glass border border-gray-100 dark:border-gray-800 hover:-translate-y-1 transition-transform group relative overflow-hidden", children: [c.jsx("div", {
          className: `absolute top-0 right-0 px-3 py-1 rounded-bl-xl text-[10px] font-bold uppercase tracking-wider
                        ${M.status === "Active" ? "bg-emerald-500 text-white" : "bg-gray-200 text-gray-500"}
                      `, children: M.status
        }), c.jsx("div", { className: "flex justify-between items-start mb-4 mt-2", children: c.jsx("div", { className: "w-12 h-12 rounded-2xl bg-gray-100 dark:bg-gray-800 flex items-center justify-center text-gray-600 dark:text-gray-300", children: c.jsx("i", { className: "fa-solid fa-file-contract text-xl" }) }) }), c.jsx("h3", { className: "text-lg font-bold text-gray-900 dark:text-white mb-1", children: M.title }), c.jsxs("p", { className: "text-xs text-gray-400 font-mono mb-4", children: [M.slug, "  v", M.version] }), c.jsxs("div", { className: "flex gap-2", children: [c.jsx("button", { onClick: () => U(M), className: "flex-1 h-10 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-blue-500 hover:text-white transition-colors flex items-center justify-center font-bold text-xs text-gray-600 dark:text-gray-400", children: "Edit" }), c.jsx("button", { onClick: () => { window.confirm("Delete template?") && i(M.id) }, className: "w-10 h-10 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-red-500 hover:text-white transition-colors flex items-center justify-center text-gray-400", children: c.jsx("i", { className: "fa-solid fa-trash text-xs" }) })] })]
      }, M.id)), c.jsxs("button", { onClick: () => U(), className: "bg-gray-50 dark:bg-gray-800/50 rounded-3xl p-6 border-2 border-dashed border-gray-200 dark:border-gray-700 hover:border-medical-500 hover:bg-medical-50 dark:hover:bg-medical-900/10 transition-all flex flex-col items-center justify-center gap-4 group min-h-[250px]", children: [c.jsx("div", { className: "w-16 h-16 rounded-full bg-white dark:bg-gray-800 shadow-sm flex items-center justify-center text-gray-300 group-hover:text-medical-500 group-hover:scale-110 transition-all", children: c.jsx("i", { className: "fa-solid fa-plus text-2xl" }) }), c.jsx("span", { className: "font-bold text-gray-500 group-hover:text-medical-500", children: "Create New Form" })] })]
    }), c.jsx("div", { style: { position: "absolute", left: "-9999px", top: 0, width: "215.9mm" }, children: h && c.jsx(T4, { template: F(), content: X(), details: H(), refProp: R, isPreview: !1 }) })]
  })
}, RSe = ({ isOpen: e, title: t, onClose: r, onConfirm: n, initialTotal: a }) => { const [i, s] = A.useState(""), [l, f] = A.useState([]), d = A.useRef(null); if (A.useEffect(() => { e && (f(a && a > 0 ? [a] : []), s(""), setTimeout(() => { var b; return (b = d.current) == null ? void 0 : b.focus() }, 100)) }, [e, a]), !e) return null; const h = () => { var _; const b = parseFloat(i); !isNaN(b) && b !== 0 && (f(k => [...k, b]), s(""), (_ = d.current) == null || _.focus()) }, m = b => { b.key === "Enter" && (b.preventDefault(), h()) }, g = b => { f(_ => _.filter((k, C) => C !== b)) }, v = l.reduce((b, _) => b + _, 0), y = () => { if (i) { const b = parseFloat(i); if (!isNaN(b)) { n(v + b), r(); return } } n(v), r() }; return c.jsxs("div", { className: "fixed inset-0 z-[100] flex items-center justify-center p-4", children: [c.jsx("div", { className: "absolute inset-0 bg-gray-900/60 backdrop-blur-sm transition-opacity", onClick: r }), c.jsxs("div", { className: "relative bg-white dark:bg-gray-900 w-full max-w-md rounded-3xl shadow-2xl overflow-hidden flex flex-col max-h-[80vh] animate-fade-in-up border border-gray-100 dark:border-gray-700", children: [c.jsxs("div", { className: "p-6 bg-medical-600 flex justify-between items-center text-white", children: [c.jsxs("div", { children: [c.jsx("h3", { className: "text-xl font-black uppercase tracking-wide", children: "Receipt Tally" }), c.jsx("p", { className: "text-medical-100 text-xs font-bold", children: t })] }), c.jsxs("div", { className: "text-right", children: [c.jsx("div", { className: "text-xs text-medical-200 uppercase font-bold", children: "Current Total" }), c.jsxs("div", { className: "text-3xl font-mono font-black tracking-tight", children: ["$", v.toFixed(2)] })] })] }), c.jsxs("div", { className: "p-4 bg-gray-50 dark:bg-gray-800/50 border-b border-gray-200 dark:border-gray-700 flex gap-2", children: [c.jsxs("div", { className: "relative flex-1", children: [c.jsx("span", { className: "absolute left-4 top-3.5 text-gray-400 font-bold", children: "$" }), c.jsx("input", { ref: d, type: "number", step: "0.01", value: i, onChange: b => s(b.target.value), onKeyDown: m, placeholder: "Enter amount...", className: "w-full h-12 pl-8 pr-4 rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white font-mono font-bold text-lg focus:ring-2 focus:ring-medical-500 outline-none" })] }), c.jsx("button", { onClick: h, className: "w-12 h-12 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-xl flex items-center justify-center shadow-lg hover:scale-105 transition-transform", children: c.jsx("i", { className: "fa-solid fa-plus text-lg" }) })] }), c.jsx("div", { className: "flex-1 overflow-y-auto p-4 space-y-2 bg-gray-100 dark:bg-gray-950/50 min-h-[200px]", children: l.length === 0 ? c.jsxs("div", { className: "flex flex-col items-center justify-center h-full text-gray-400 opacity-60", children: [c.jsx("i", { className: "fa-solid fa-calculator text-4xl mb-2" }), c.jsx("span", { className: "text-xs font-bold uppercase", children: "No entries yet" })] }) : l.map((b, _) => c.jsxs("div", { className: "flex justify-between items-center bg-white dark:bg-gray-800 p-3 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 animate-fade-in-up", children: [c.jsxs("span", { className: "font-mono font-bold text-gray-600 dark:text-gray-300 text-sm", children: ["#", _ + 1] }), c.jsxs("div", { className: "flex items-center gap-4", children: [c.jsxs("span", { className: "font-mono font-bold text-lg text-gray-900 dark:text-white", children: ["$", b.toFixed(2)] }), c.jsx("button", { onClick: () => g(_), className: "w-6 h-6 rounded-full bg-red-100 text-red-500 hover:bg-red-500 hover:text-white flex items-center justify-center transition-colors", children: c.jsx("i", { className: "fa-solid fa-xmark text-xs" }) })] })] }, _)).reverse() }), c.jsxs("div", { className: "p-4 bg-white dark:bg-gray-900 border-t border-gray-100 dark:border-gray-700 flex gap-3", children: [c.jsx("button", { onClick: r, className: "px-6 py-3 rounded-xl font-bold text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors", children: "Cancel" }), c.jsxs("button", { onClick: y, className: "flex-1 px-6 py-3 rounded-xl bg-gradient-to-r from-medical-600 to-blue-600 text-white font-bold shadow-lg hover:shadow-xl hover:scale-[1.02] transition-all flex items-center justify-center gap-2", children: [c.jsx("i", { className: "fa-solid fa-check" }), " Apply Total"] })] })] })] }) }, Iu = e => { if (!e) return ""; const t = new Date(e); return isNaN(t.getTime()) ? "Invalid Date" : t.toLocaleDateString("en-US", { year: "numeric", month: "2-digit", day: "2-digit" }) }, j_ = e => { if (!e) return ""; const t = new Date(e); if (isNaN(t.getTime())) return "Invalid_Date"; const r = (t.getMonth() + 1).toString().padStart(2, "0"), n = t.getDate().toString().padStart(2, "0"), a = t.getFullYear(); return `${r}-${n}-${a}` }, PSe = e => { if (!e) return ""; const t = new Date(e); return isNaN(t.getTime()) ? "" : t.toLocaleString("en-US", { year: "numeric", month: "2-digit", day: "2-digit", hour: "2-digit", minute: "2-digit" }) }, I_ = ({ report: e, usersDb: t = [] }) => { const r = n => `$${n.toLocaleString(void 0, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`; return c.jsxs("div", { id: "daily-report-document", className: "bg-white text-slate-900 font-sans box-border relative leading-normal", style: { width: "215.9mm", height: "279.4mm", overflow: "hidden", margin: "0", padding: "0", backgroundColor: "#ffffff" }, children: [c.jsxs("div", { className: "bg-slate-900 text-white px-12 py-8 flex justify-between items-center print-color-adjust", style: { backgroundColor: "#0f172a", color: "white", WebkitPrintColorAdjust: "exact" }, children: [c.jsxs("div", { children: [c.jsxs("h1", { className: "text-3xl font-black tracking-tight uppercase m-0 leading-none", children: ["Health", c.jsx("span", { className: "text-sky-400", style: { color: "#38bdf8" }, children: "Axis" }), " Inventory"] }), c.jsx("p", { className: "text-[10px] font-bold tracking-[0.2em] uppercase text-slate-400 mt-2", children: "Official Daily Reconciliation" })] }), c.jsxs("div", { className: "text-right", children: [c.jsx("div", { className: "text-[10px] font-bold text-slate-500 uppercase tracking-wider", children: "Report Reference" }), c.jsx("div", { className: "text-lg font-mono font-bold text-white", children: e.id.slice(-8).toUpperCase() })] })] }), c.jsxs("div", { className: "bg-slate-100 border-b border-slate-200 px-12 py-3 flex justify-between text-[10px] uppercase font-bold tracking-wide text-slate-500", style: { backgroundColor: "#f1f5f9", borderBottom: "1px solid #e2e8f0" }, children: [c.jsxs("div", { children: ["Date: ", c.jsx("span", { className: "text-slate-900 ml-2", children: Iu(e.timestamp) })] }), c.jsxs("div", { children: ["Author: ", c.jsx("span", { className: "text-slate-900 ml-2", children: e.author })] }), c.jsxs("div", { children: ["Generated: ", c.jsx("span", { className: "text-slate-900 ml-2", children: PSe(new Date) })] })] }), c.jsxs("div", { className: "p-12", children: [c.jsxs("div", { className: "flex justify-between gap-6 mb-10", children: [c.jsxs("div", { className: "w-[32%] bg-slate-50 border border-slate-200 rounded-lg p-4", style: { backgroundColor: "#f8fafc", border: "1px solid #e2e8f0" }, children: [c.jsx("div", { className: "text-[9px] font-bold text-slate-400 uppercase tracking-wider", children: "Total Revenue" }), c.jsx("div", { className: "text-3xl font-black text-slate-900 mt-1", children: r(e.totals.revenue) })] }), c.jsxs("div", { className: "w-[32%] bg-slate-50 border border-slate-200 rounded-lg p-4", style: { backgroundColor: "#f8fafc", border: "1px solid #e2e8f0" }, children: [c.jsx("div", { className: "text-[9px] font-bold text-slate-400 uppercase tracking-wider", children: "Total Patients" }), c.jsx("div", { className: "text-3xl font-black text-slate-900 mt-1", children: e.totals.patients })] }), c.jsxs("div", { className: `w-[32%] border rounded-lg p-4 flex flex-col justify-center ${e.isBalanced ? "bg-emerald-50 border-emerald-200" : "bg-red-50 border-red-200"}`, style: { backgroundColor: e.isBalanced ? "#ecfdf5" : "#fef2f2", borderColor: e.isBalanced ? "#a7f3d0" : "#fecaca" }, children: [c.jsx("div", { className: `text-[10px] font-bold uppercase tracking-wider ${e.isBalanced ? "text-emerald-600" : "text-red-600"}`, style: { color: e.isBalanced ? "#059669" : "#dc2626" }, children: "Reconciliation Status" }), c.jsx("div", { className: `text-xl font-black mt-1 flex items-center gap-2 ${e.isBalanced ? "text-emerald-700" : "text-red-700"}`, style: { color: e.isBalanced ? "#047857" : "#b91c1c" }, children: e.isBalanced ? "BALANCED" : "VARIANCE DETECTED" })] })] }), c.jsxs("div", { className: "mb-10", children: [c.jsxs("div", { className: "flex items-center gap-3 border-b-2 border-slate-900 pb-2 mb-4", children: [c.jsx("div", { className: "w-6 h-6 bg-slate-900 text-white flex items-center justify-center text-xs font-bold rounded", style: { backgroundColor: "#0f172a", color: "white" }, children: "1" }), c.jsx("h3", { className: "text-sm font-bold uppercase tracking-wide text-slate-900", children: "Financial Statement" })] }), c.jsxs("div", { className: "flex justify-between gap-10", children: [c.jsx("div", { className: "w-[48%]", children: c.jsxs("table", { className: "w-full text-xs border-collapse", children: [c.jsx("thead", { children: c.jsxs("tr", { className: "border-b border-slate-300", children: [c.jsx("th", { className: "text-left py-2 font-bold text-slate-500 uppercase", children: "Drawer Method" }), c.jsx("th", { className: "text-right py-2 font-bold text-slate-500 uppercase", children: "Amount" })] }) }), c.jsxs("tbody", { children: [Object.entries(e.financials.methods).map(([n, a]) => c.jsxs("tr", { className: "border-b border-slate-100", children: [c.jsx("td", { className: "py-2 font-medium capitalize text-slate-700", children: n.replace(/([A-Z])/g, " $1").trim() }), c.jsx("td", { className: "py-2 text-right font-mono font-bold text-slate-900", children: r(a) })] }, n)), c.jsxs("tr", { className: "bg-slate-50", style: { backgroundColor: "#f8fafc" }, children: [c.jsx("td", { className: "py-3 font-bold text-slate-900", children: "TOTAL DRAWER" }), c.jsx("td", { className: "py-3 text-right font-black text-slate-900 text-sm", children: r(Object.values(e.financials.methods).reduce((n, a) => n + a, 0)) })] })] })] }) }), c.jsx("div", { className: "w-[48%]", children: c.jsxs("table", { className: "w-full text-xs border-collapse", children: [c.jsx("thead", { children: c.jsxs("tr", { className: "border-b border-slate-300", children: [c.jsx("th", { className: "text-left py-2 font-bold text-slate-500 uppercase", children: "System Posting" }), c.jsx("th", { className: "text-right py-2 font-bold text-slate-500 uppercase", children: "Amount" })] }) }), c.jsxs("tbody", { children: [Object.entries(e.financials.types).map(([n, a]) => c.jsxs("tr", { className: "border-b border-slate-100", children: [c.jsx("td", { className: "py-2 font-medium capitalize text-slate-700", children: n.replace(/([A-Z])/g, " $1").trim() }), c.jsx("td", { className: "py-2 text-right font-mono font-bold text-slate-900", children: r(a) })] }, n)), c.jsxs("tr", { className: "bg-slate-50", style: { backgroundColor: "#f8fafc" }, children: [c.jsx("td", { className: "py-3 font-bold text-slate-900", children: "TOTAL POSTED" }), c.jsx("td", { className: "py-3 text-right font-black text-slate-900 text-sm", children: r(Object.values(e.financials.types).reduce((n, a) => n + a, 0)) })] })] })] }) })] })] }), c.jsxs("div", { className: "flex justify-between gap-10 mb-10", children: [c.jsxs("div", { className: "w-[48%]", children: [c.jsxs("div", { className: "flex items-center gap-3 border-b-2 border-slate-900 pb-2 mb-4", children: [c.jsx("div", { className: "w-6 h-6 bg-slate-900 text-white flex items-center justify-center text-xs font-bold rounded", style: { backgroundColor: "#0f172a", color: "white" }, children: "2" }), c.jsx("h3", { className: "text-sm font-bold uppercase tracking-wide text-slate-900", children: "Patient Volume" })] }), c.jsx("table", { className: "w-full text-xs border-collapse", children: c.jsxs("tbody", { children: [Object.entries(e.insurances).map(([n, a]) => c.jsxs("tr", { className: "border-b border-slate-100", children: [c.jsx("td", { className: "py-2 text-slate-600 capitalize", children: n.replace(/_/g, " ").replace("Comp", " Comp") }), c.jsx("td", { className: "py-2 text-right font-bold text-slate-900", children: a })] }, n)), c.jsxs("tr", { className: "bg-slate-50 border-t border-slate-200", style: { backgroundColor: "#f8fafc" }, children: [c.jsx("td", { className: "py-2 font-bold text-slate-900", children: "TOTAL PATIENTS" }), c.jsx("td", { className: "py-2 text-right font-black text-slate-900 text-sm", children: e.totals.patients })] })] }) })] }), c.jsxs("div", { className: "w-[48%] flex flex-col gap-6", children: [c.jsxs("div", { children: [c.jsxs("div", { className: "flex items-center gap-3 border-b-2 border-slate-900 pb-2 mb-4", children: [c.jsx("div", { className: "w-6 h-6 bg-slate-900 text-white flex items-center justify-center text-xs font-bold rounded", style: { backgroundColor: "#0f172a", color: "white" }, children: "3" }), c.jsx("h3", { className: "text-sm font-bold uppercase tracking-wide text-slate-900", children: "Operational Split" })] }), c.jsxs("div", { className: "bg-slate-50 rounded-lg p-4 border border-slate-100", style: { backgroundColor: "#f8fafc", border: "1px solid #f1f5f9" }, children: [c.jsxs("div", { className: "flex justify-between text-xs mb-3", children: [c.jsx("span", { className: "font-bold text-slate-700", children: "Nurse Visits" }), c.jsx("span", { className: "font-bold text-slate-900", children: e.operational.nurseVisits })] }), c.jsx("div", { className: "h-px bg-slate-200 my-2" }), c.jsx("div", { className: "text-[10px] font-bold text-slate-400 uppercase mb-2", children: "Provider Breakdown" }), Object.entries(e.operational.providerVisits).map(([n, a]) => { const i = t == null ? void 0 : t.find(s => s.id === n); return c.jsxs("div", { className: "flex justify-between text-xs mb-1", children: [c.jsx("span", { className: "text-slate-600", children: (i == null ? void 0 : i.username) || "Unknown" }), c.jsx("span", { className: "font-medium text-slate-900", children: a })] }, n) })] })] }), c.jsxs("div", { children: [c.jsxs("div", { className: "flex items-center gap-3 border-b-2 border-slate-900 pb-2 mb-4", children: [c.jsx("div", { className: "w-6 h-6 bg-slate-900 text-white flex items-center justify-center text-xs font-bold rounded", style: { backgroundColor: "#0f172a", color: "white" }, children: "4" }), c.jsx("h3", { className: "text-sm font-bold uppercase tracking-wide text-slate-900", children: "Stats" })] }), c.jsxs("div", { className: "flex gap-2", children: [c.jsxs("div", { className: "flex-1 bg-slate-100 rounded p-2 text-center", style: { backgroundColor: "#f1f5f9" }, children: [c.jsx("div", { className: "text-[9px] font-bold text-slate-500 uppercase", children: "New" }), c.jsx("div", { className: "text-lg font-black text-slate-900", children: e.stats.newPts })] }), c.jsxs("div", { className: "flex-1 bg-slate-100 rounded p-2 text-center", style: { backgroundColor: "#f1f5f9" }, children: [c.jsx("div", { className: "text-[9px] font-bold text-slate-500 uppercase", children: "Est." }), c.jsx("div", { className: "text-lg font-black text-slate-900", children: e.stats.estPts })] }), c.jsxs("div", { className: "flex-1 bg-slate-100 rounded p-2 text-center", style: { backgroundColor: "#f1f5f9" }, children: [c.jsx("div", { className: "text-[9px] font-bold text-slate-500 uppercase", children: "X-Ray" }), c.jsx("div", { className: "text-lg font-black text-slate-900", children: e.stats.xrays })] })] })] })] })] }), e.notes && c.jsxs("div", { className: "mb-10 bg-amber-50 border border-amber-200 rounded-lg p-4 text-xs", style: { backgroundColor: "#fffbeb", borderColor: "#fde68a" }, children: [c.jsx("span", { className: "font-bold text-amber-700 block mb-1 uppercase tracking-wider", style: { color: "#b45309" }, children: "Notes / Discrepancies" }), c.jsx("p", { className: "text-amber-900 italic", style: { color: "#78350f" }, children: e.notes })] }), c.jsxs("div", { className: "flex justify-between items-end mt-16 pt-8 border-t border-slate-200", style: { borderTop: "1px solid #e2e8f0" }, children: [c.jsxs("div", { className: "w-[40%]", children: [c.jsx("div", { className: "border-b border-slate-400 mb-2", style: { borderBottom: "1px solid #94a3b8" } }), c.jsxs("div", { className: "text-[10px] font-bold uppercase text-slate-500", children: ["Prepared By: ", e.author] })] }), c.jsxs("div", { className: "w-[40%]", children: [c.jsx("div", { className: "border-b border-slate-400 mb-2", style: { borderBottom: "1px solid #94a3b8" } }), c.jsx("div", { className: "text-[10px] font-bold uppercase text-slate-500", children: "Approved By (Manager)" })] })] })] }), c.jsxs("div", { className: "absolute bottom-0 left-0 right-0 bg-slate-50 border-t border-slate-200 px-12 py-4 flex justify-between text-[9px] text-slate-400 font-medium uppercase tracking-wider", style: { backgroundColor: "#f8fafc", borderTop: "1px solid #e2e8f0" }, children: [c.jsx("div", { children: "Confidential Internal Document  Do Not Distribute" }), c.jsx("div", { children: "Generated by HealthAxis  Page 1 of 1" })] })] }) }, DSe = { step: 1, financials: { methods: { cash: 0, credit: 0, check: 0, moneyOrder: 0 }, types: { billPay: 0, copay: 0, selfPay: 0 } }, insurances: { medicaid: 0, bcbs_il: 0, meridian: 0, commercial: 0, medicare: 0, workersComp: 0, selfPay: 0 }, operational: { nurseVisits: 0, providerVisits: {} }, stats: { newPts: 0, estPts: 0, xrays: 0 }, notes: "", errors: [] }; function MSe(e, t) { switch (t.type) { case "SET_FIN_METHOD": return { ...e, financials: { ...e.financials, methods: { ...e.financials.methods, [t.payload.key]: t.payload.value } } }; case "SET_FIN_TYPE": return { ...e, financials: { ...e.financials, types: { ...e.financials.types, [t.payload.key]: t.payload.value } } }; case "SET_INSURANCE": return { ...e, insurances: { ...e.insurances, [t.payload.key]: t.payload.value } }; case "SET_OP_NURSE": return { ...e, operational: { ...e.operational, nurseVisits: t.payload } }; case "SET_OP_PROVIDER": return { ...e, operational: { ...e.operational, providerVisits: { ...e.operational.providerVisits, [t.payload.id]: t.payload.value } } }; case "REMOVE_OP_PROVIDER": const r = { ...e.operational.providerVisits }; return delete r[t.payload], { ...e, operational: { ...e.operational, providerVisits: r } }; case "SET_STAT": return { ...e, stats: { ...e.stats, [t.payload.key]: t.payload.value } }; case "SET_NOTES": return { ...e, notes: t.payload }; case "NEXT_STEP": return { ...e, step: Math.min(e.step + 1, 3), errors: [] }; case "PREV_STEP": return { ...e, step: Math.max(e.step - 1, 1), errors: [] }; case "VALIDATE_AND_SET_ERRORS": return { ...e, errors: t.payload }; case "LOAD_DATA": return { ...e, ...t.payload }; default: return e } } const LSe = ({ user: e, usersDb: t, onCloseComplete: r, onCancel: n, initialData: a }) => {
  const [i, s] = A.useReducer(MSe, DSe), l = A.useRef(null), [f, d] = A.useState(!1), [h, m] = A.useState(!1), [g, v] = A.useState({ isOpen: !1, title: "", category: "methods", key: "", initialValue: 0 }); A.useEffect(() => { a && s({ type: "LOAD_DATA", payload: { financials: a.financials, insurances: a.insurances, operational: a.operational, stats: a.stats, notes: a.notes, step: 1 } }) }, [a]); const y = t.filter(M => M.role === it.DOCTOR || M.role === it.OWNER), b = Object.keys(i.operational.providerVisits), _ = y.filter(M => !b.includes(M.id)), k = Object.values(i.financials.methods).reduce((M, te) => M + te, 0), C = Object.values(i.financials.types).reduce((M, te) => M + te, 0), T = k - C, j = Math.abs(T) < .01, R = Object.values(i.insurances).reduce((M, te) => M + te, 0), O = Object.values(i.operational.providerVisits).reduce((M, te) => M + te, 0), I = i.operational.nurseVisits + O, H = R - I, F = R === I && R > 0, X = i.stats.newPts + i.stats.estPts, V = R - X, U = R === X, ee = () => ({ id: (a == null ? void 0 : a.id) || `RPT-${Date.now().toString().slice(-6)}`, author: (a == null ? void 0 : a.author) || e.username, timestamp: (a == null ? void 0 : a.timestamp) || new Date().toISOString(), financials: i.financials, insurances: i.insurances, operational: i.operational, stats: i.stats, notes: i.notes, totals: { revenue: k, patients: R }, isBalanced: j && F && U }), re = () => { const M = []; i.step === 1 && !j && M.push(`Financials unbalanced. Diff: $${T.toFixed(2)}`), i.step === 2 && !F && M.push(`Volume mismatch. Insurance: ${R} vs Ops: ${I}. Diff: ${H}`), M.length > 0 ? s({ type: "VALIDATE_AND_SET_ERRORS", payload: M }) : s({ type: "NEXT_STEP" }) }, de = async () => { if (!U) { s({ type: "VALIDATE_AND_SET_ERRORS", payload: [`Patient mismatch: New (${i.stats.newPts}) + Est (${i.stats.estPts}) = ${X}. Must equal Total Patients (${R}).`] }); return } D(); const M = ee(); try { e != null && e.id && await Il.createReport(M, e.id), setTimeout(() => { r(M) }, 1500) } catch (te) { console.error("Failed to save report to DB", te), s({ type: "VALIDATE_AND_SET_ERRORS", payload: [`CRITICAL: Failed to save report to database. ${te.message || "Check connection"}. Data has NOT been saved to history.`] }) } }, D = () => { if (!l.current || !window.html2pdf) { alert("PDF generator not ready. Please wait."); return } const M = { margin: 0, filename: `DailyClose_${j_(new Date)}.pdf`, image: { type: "jpeg", quality: 1 }, html2canvas: { scale: 2, useCORS: !0, scrollY: 0, scrollX: 0, windowWidth: 816, width: 816, x: 0, y: 0 }, jsPDF: { unit: "mm", format: "letter", orientation: "portrait" } }; window.html2pdf().set(M).from(l.current).save() }, z = (M, te, G) => { v({ isOpen: !0, title: M === "methods" ? te : te.replace(/([A-Z])/g, " $1").trim(), category: M, key: te, initialValue: G }) }, ie = M => { g.category === "methods" ? s({ type: "SET_FIN_METHOD", payload: { key: g.key, value: M } }) : s({ type: "SET_FIN_TYPE", payload: { key: g.key, value: M } }) }; return c.jsxs("div", {
    className: "max-w-4xl mx-auto pb-20 animate-fade-in-up", children: [c.jsx(RSe, { isOpen: g.isOpen, onClose: () => v(M => ({ ...M, isOpen: !1 })), title: g.title, initialTotal: g.initialValue, onConfirm: ie }), f && c.jsx("div", { className: "fixed inset-0 z-[100] flex items-center justify-center p-4 bg-gray-900/80 backdrop-blur-sm", children: c.jsxs("div", { className: "bg-gray-100 rounded-2xl w-full max-w-5xl h-[90vh] flex flex-col overflow-hidden shadow-2xl animate-fade-in-up", children: [c.jsxs("div", { className: "p-4 bg-white border-b flex justify-between items-center", children: [c.jsx("h3", { className: "font-bold text-gray-900", children: "Report Preview" }), c.jsx("button", { onClick: () => d(!1), className: "w-8 h-8 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center transition-colors", children: c.jsx("i", { className: "fa-solid fa-xmark" }) })] }), c.jsx("div", { className: "flex-1 overflow-auto p-8 bg-gray-200 flex justify-center", children: c.jsx("div", { className: "shadow-2xl origin-top transform scale-75 md:scale-90 lg:scale-100 transition-transform", children: c.jsx(I_, { report: ee(), usersDb: t }) }) }), c.jsxs("div", { className: "p-4 bg-white border-t flex justify-end gap-4", children: [c.jsx("button", { onClick: () => d(!1), className: "px-6 py-2 rounded-lg font-bold text-gray-500 hover:bg-gray-100", children: "Close" }), c.jsx("button", { onClick: () => { d(!1), de() }, className: "px-6 py-2 rounded-lg bg-medical-600 text-white font-bold shadow-lg hover:bg-medical-700", children: "Sign & Generate PDF" })] })] }) }), c.jsxs("div", {
      className: "mb-10", children: [c.jsxs("div", { className: "flex items-center justify-between mb-6", children: [c.jsxs("div", { children: [c.jsx("h2", { className: "text-2xl font-extrabold text-slate-900 dark:text-white tracking-tight", children: a ? "Edit Daily Report" : "Daily Reconciliation" }), c.jsx("p", { className: "text-sm text-slate-500 dark:text-slate-400 mt-1", children: Iu(new Date) })] }), c.jsxs("div", { className: "hidden sm:flex items-center gap-2 px-4 py-2 rounded-xl bg-slate-100 dark:bg-slate-800/60", children: [c.jsx("i", { className: "fa-solid fa-clipboard-check text-medical-500" }), c.jsxs("span", { className: "text-xs font-bold text-slate-500 dark:text-slate-400", children: ["Step ", i.step, " of 3"] })] })] }), c.jsx("div", {
        className: "flex items-center gap-0", children: [{ num: 1, label: "Financials", icon: "fa-dollar-sign" }, { num: 2, label: "Volume", icon: "fa-users" }, { num: 3, label: "Sign Off", icon: "fa-file-signature" }].map((M, te) => c.jsxs(li.Fragment, {
          children: [c.jsxs("div", {
            className: "flex flex-col items-center gap-1.5 flex-shrink-0", children: [c.jsx("div", {
              className: `w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold transition-all duration-500 shadow-sm
                                    ${i.step > M.num ? "bg-emerald-500 text-white scale-95" : i.step === M.num ? "bg-medical-600 text-white ring-4 ring-medical-500/20 scale-110" : "bg-slate-200 dark:bg-slate-700 text-slate-400"}`, children: i.step > M.num ? c.jsx("i", { className: "fa-solid fa-check text-xs" }) : c.jsx("i", { className: `fa-solid ${M.icon} text-xs` })
            }), c.jsx("span", { className: `text-[10px] font-bold uppercase tracking-wider transition-colors ${i.step >= M.num ? "text-medical-600 dark:text-medical-400" : "text-slate-400"}`, children: M.label })]
          }), te < 2 && c.jsx("div", { className: `flex-1 h-0.5 rounded-full mx-2 mb-5 transition-all duration-500 ${i.step > M.num ? "bg-emerald-400" : "bg-slate-200 dark:bg-slate-700"}` })]
        }, M.num))
      })]
    }), i.errors.length > 0 && c.jsx("div", { className: "mb-6 bg-red-50 dark:bg-red-900/10 border border-red-200/60 dark:border-red-800/40 border-l-4 border-l-red-500 p-5 rounded-xl shadow-sm animate-shake", children: c.jsxs("div", { className: "flex items-center gap-3", children: [c.jsx("i", { className: "fa-solid fa-circle-exclamation text-red-500 text-xl" }), c.jsxs("div", { children: [c.jsx("h3", { className: "font-bold text-red-700 dark:text-red-400", children: "Validation Error" }), c.jsx("ul", { className: "list-disc list-inside text-sm text-red-600 dark:text-red-300 mt-1", children: i.errors.map((M, te) => c.jsx("li", { children: M }, te)) })] })] }) }), i.step === 1 && c.jsxs("div", { className: "relative overflow-hidden bg-white dark:bg-slate-900/80 backdrop-blur-xl p-8 rounded-[2rem] border border-slate-200/60 dark:border-slate-700/50 shadow-xl space-y-8", children: [c.jsx("div", { className: "absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-emerald-400 via-teal-500 to-emerald-600" }), c.jsxs("div", { className: "flex justify-between items-center", children: [c.jsxs("h3", { className: "text-xl font-extrabold text-slate-900 dark:text-white flex items-center gap-3", children: [c.jsx("span", { className: "w-10 h-10 rounded-xl bg-gradient-to-br from-emerald-400 to-teal-600 text-white flex items-center justify-center text-sm shadow-lg shadow-emerald-500/20", children: c.jsx("i", { className: "fa-solid fa-dollar-sign" }) }), "Financial Reconciliation"] }), c.jsxs("div", { className: `px-4 py-1.5 rounded-full text-xs font-black uppercase tracking-wider flex items-center gap-1.5 ${j ? "bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 border border-emerald-200 dark:border-emerald-800" : "bg-red-50 dark:bg-red-900/20 text-red-600 border border-red-200 dark:border-red-800"}`, children: [c.jsx("i", { className: `fa-solid ${j ? "fa-check-circle" : "fa-exclamation-triangle"} text-[10px]` }), j ? "Balanced" : `Off by $${T.toFixed(2)}`] })] }), c.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-12", children: [c.jsxs("div", { className: "space-y-4", children: [c.jsx("div", { className: "text-xs font-bold text-gray-400 uppercase tracking-widest border-b border-gray-100 dark:border-gray-700 pb-2", children: "Methods (Drawer)" }), Object.entries(i.financials.methods).map(([M, te]) => c.jsxs("div", { className: "flex justify-between items-center", children: [c.jsx("span", { className: "capitalize font-medium text-gray-700 dark:text-gray-300", children: M.replace(/([A-Z])/g, " $1").trim() }), c.jsxs("div", { className: "flex items-center gap-2 bg-gray-50 dark:bg-gray-800 rounded-lg pl-3 pr-1 py-1", children: [c.jsx("span", { className: "text-gray-400 text-xs", children: "$" }), c.jsx("input", { type: "number", min: "0", step: "0.01", value: te || "", onChange: G => s({ type: "SET_FIN_METHOD", payload: { key: M, value: parseFloat(G.target.value) || 0 } }), className: "bg-transparent w-24 text-right font-mono font-bold outline-none text-gray-900 dark:text-white", placeholder: "0.00" }), c.jsx("button", { onClick: () => z("methods", M, te), className: "w-8 h-8 rounded-lg bg-white dark:bg-gray-700 text-gray-400 hover:text-medical-500 shadow-sm flex items-center justify-center transition-colors", title: "Sum receipts", children: c.jsx("i", { className: "fa-solid fa-calculator text-xs" }) })] })] }, M)), c.jsxs("div", { className: "flex justify-between font-black text-gray-900 dark:text-white pt-2", children: [c.jsx("span", { children: "Total Drawer" }), c.jsxs("span", { children: ["$", k.toFixed(2)] })] })] }), c.jsxs("div", { className: "space-y-4", children: [c.jsx("div", { className: "text-xs font-bold text-gray-400 uppercase tracking-widest border-b border-gray-100 dark:border-gray-700 pb-2", children: "Types (System)" }), Object.entries(i.financials.types).map(([M, te]) => c.jsxs("div", { className: "flex justify-between items-center", children: [c.jsx("span", { className: "capitalize font-medium text-gray-700 dark:text-gray-300", children: M.replace(/([A-Z])/g, " $1").trim() }), c.jsxs("div", { className: "flex items-center gap-2 bg-gray-50 dark:bg-gray-800 rounded-lg pl-3 pr-1 py-1", children: [c.jsx("span", { className: "text-gray-400 text-xs", children: "$" }), c.jsx("input", { type: "number", min: "0", step: "0.01", value: te || "", onChange: G => s({ type: "SET_FIN_TYPE", payload: { key: M, value: parseFloat(G.target.value) || 0 } }), className: "bg-transparent w-24 text-right font-mono font-bold outline-none text-gray-900 dark:text-white", placeholder: "0.00" }), c.jsx("button", { onClick: () => z("types", M, te), className: "w-8 h-8 rounded-lg bg-white dark:bg-gray-700 text-gray-400 hover:text-medical-500 shadow-sm flex items-center justify-center transition-colors", title: "Sum receipts", children: c.jsx("i", { className: "fa-solid fa-calculator text-xs" }) })] })] }, M)), c.jsxs("div", { className: "flex justify-between font-black text-gray-900 dark:text-white pt-2", children: [c.jsx("span", { children: "Total Posted" }), c.jsxs("span", { children: ["$", C.toFixed(2)] })] })] })] })] }), i.step === 2 && c.jsxs("div", {
      className: "relative overflow-hidden bg-white dark:bg-slate-900/80 backdrop-blur-xl p-8 rounded-[2rem] border border-slate-200/60 dark:border-slate-700/50 shadow-xl space-y-8", children: [c.jsx("div", { className: "absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-400 via-indigo-500 to-blue-600" }), c.jsxs("div", { className: "flex justify-between items-center", children: [c.jsxs("h3", { className: "text-xl font-extrabold text-slate-900 dark:text-white flex items-center gap-3", children: [c.jsx("span", { className: "w-10 h-10 rounded-xl bg-gradient-to-br from-blue-400 to-indigo-600 text-white flex items-center justify-center text-sm shadow-lg shadow-blue-500/20", children: c.jsx("i", { className: "fa-solid fa-users" }) }), "Patient Volume"] }), c.jsxs("div", { className: `px-4 py-1.5 rounded-full text-xs font-black uppercase tracking-wider flex items-center gap-1.5 ${F ? "bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 border border-emerald-200 dark:border-emerald-800" : "bg-red-50 dark:bg-red-900/20 text-red-600 border border-red-200 dark:border-red-800"}`, children: [c.jsx("i", { className: `fa-solid ${F ? "fa-check-circle" : "fa-exclamation-triangle"} text-[10px]` }), F ? "Matched" : `Mismatch (${H})`] })] }), c.jsxs("div", {
        className: "grid grid-cols-1 md:grid-cols-2 gap-12", children: [c.jsxs("div", { className: "space-y-4", children: [c.jsx("div", { className: "text-xs font-bold text-gray-400 uppercase tracking-widest border-b border-gray-100 dark:border-gray-700 pb-2", children: "Insurance Breakdown" }), c.jsx("div", { className: "grid grid-cols-2 gap-3", children: Object.entries(i.insurances).map(([M, te]) => c.jsxs("div", { className: "bg-gray-50 dark:bg-gray-800 rounded-xl p-2.5", children: [c.jsx("label", { className: "text-[10px] font-bold text-gray-500 uppercase block mb-1", children: M.replace("_", " ").replace("Comp", " Comp") }), c.jsx("input", { type: "number", min: "0", value: te || "", onChange: G => s({ type: "SET_INSURANCE", payload: { key: M, value: parseInt(G.target.value) || 0 } }), className: "w-full bg-transparent font-mono font-bold text-xl text-gray-900 dark:text-white outline-none", placeholder: "0" })] }, M)) }), c.jsxs("div", { className: "text-right font-black text-gray-900 dark:text-white mt-2", children: ["Total: ", R] })] }), c.jsxs("div", {
          className: "space-y-4", children: [c.jsx("div", { className: "text-xs font-bold text-gray-400 uppercase tracking-widest border-b border-gray-100 dark:border-gray-700 pb-2", children: "Operational Split" }), c.jsxs("div", { className: "bg-purple-50 dark:bg-purple-900/10 rounded-xl p-3 flex justify-between items-center border border-purple-100 dark:border-purple-900/30", children: [c.jsx("span", { className: "font-bold text-purple-900 dark:text-purple-300", children: "Nurse Visits" }), c.jsx("input", { type: "number", min: "0", value: i.operational.nurseVisits || "", onChange: M => s({ type: "SET_OP_NURSE", payload: parseInt(M.target.value) || 0 }), className: "w-20 bg-transparent text-right font-mono font-bold text-xl text-purple-900 dark:text-purple-300 outline-none", placeholder: "0" })] }), c.jsxs("div", {
            className: "space-y-2", children: [c.jsx("label", { className: "text-[10px] font-bold text-gray-400 uppercase", children: "Provider Visits" }), b.map(M => { const te = t.find(G => G.id === M); return te ? c.jsxs("div", { className: "flex justify-between items-center bg-gray-50 dark:bg-gray-800 rounded-xl p-3 animate-fade-in-up", children: [c.jsxs("div", { className: "flex items-center gap-3", children: [c.jsx("button", { onClick: () => s({ type: "REMOVE_OP_PROVIDER", payload: M }), className: "w-6 h-6 rounded-full bg-red-100 dark:bg-red-900/20 text-red-500 hover:bg-red-200 dark:hover:bg-red-900/40 flex items-center justify-center transition-colors shadow-sm", title: "Remove Provider", children: c.jsx("i", { className: "fa-solid fa-xmark text-xs" }) }), c.jsx("span", { className: "text-sm font-bold text-gray-700 dark:text-gray-300", children: te.username })] }), c.jsx("input", { type: "number", min: "0", value: i.operational.providerVisits[M] || "", onChange: G => s({ type: "SET_OP_PROVIDER", payload: { id: M, value: parseInt(G.target.value) || 0 } }), className: "w-20 bg-transparent text-right font-mono font-bold text-lg text-gray-900 dark:text-white outline-none", placeholder: "0" })] }, M) : null }), _.length > 0 ? c.jsxs("div", {
              className: "relative mt-4", children: [c.jsxs("button", {
                onClick: () => m(!h), className: `w-full h-14 flex items-center justify-between px-5 rounded-2xl border-2 transition-all duration-300 outline-none
                                                ${h ? "bg-white dark:bg-slate-800 border-indigo-500 shadow-lg ring-4 ring-indigo-500/10" : "bg-white dark:bg-slate-800/50 border-dashed border-slate-300 dark:border-slate-700 hover:border-indigo-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`, children: [c.jsx("span", { className: `text-sm font-bold ${h ? "text-indigo-600 dark:text-indigo-400" : "text-slate-500"}`, children: h ? "Select Personnel..." : "+ Add Provider Report" }), c.jsx("div", { className: `w-8 h-8 rounded-full flex items-center justify-center transition-transform duration-300 ${h ? "rotate-180 bg-indigo-100 text-indigo-600" : "bg-slate-100 text-slate-400"}`, children: c.jsx("i", { className: "fa-solid fa-chevron-down text-xs" }) })]
              }), h && c.jsxs(c.Fragment, {
                children: [c.jsx("div", { className: "fixed inset-0 z-40", onClick: () => m(!1) }), c.jsx("div", {
                  className: "absolute top-full left-0 right-0 mt-3 bg-white dark:bg-slate-900 rounded-[1.5rem] shadow-2xl border border-slate-100 dark:border-slate-700 overflow-hidden z-50 animate-fade-in-up", children: c.jsx("div", {
                    className: "p-2 max-h-60 overflow-y-auto custom-scrollbar", children: _.map(M => c.jsxs("button", {
                      onClick: () => { s({ type: "SET_OP_PROVIDER", payload: { id: M.id, value: 0 } }), m(!1) }, className: "w-full flex items-center justify-between p-4 rounded-xl hover:bg-slate-50 dark:hover:bg-slate-800 group transition-all text-left", children: [c.jsxs("div", {
                        className: "flex items-center gap-3", children: [c.jsx("div", {
                          className: `w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm shadow-sm
                                                                        ${M.role === it.OWNER ? "bg-red-50 text-red-600 dark:bg-red-900/20" : "bg-emerald-50 text-emerald-600 dark:bg-emerald-900/20"}
                                                                    `, children: M.username.charAt(0).toUpperCase()
                        }), c.jsxs("div", { children: [c.jsx("div", { className: "font-bold text-slate-900 dark:text-white text-sm group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors", children: M.username }), c.jsx("div", { className: "text-[10px] uppercase font-black tracking-wider text-slate-400", children: M.role === it.OWNER ? "Clinic Owner" : "Provider" })] })]
                      }), c.jsx("div", { className: "w-8 h-8 rounded-lg border border-slate-200 dark:border-slate-700 flex items-center justify-center text-slate-300 group-hover:border-indigo-500 group-hover:text-indigo-500 group-hover:bg-indigo-50 dark:group-hover:bg-indigo-900/20 transition-all", children: c.jsx("i", { className: "fa-solid fa-plus" }) })]
                    }, M.id))
                  })
                })]
              })]
            }) : c.jsxs("div", { className: "mt-4 p-4 rounded-2xl bg-slate-50 dark:bg-slate-800/50 border border-slate-100 dark:border-slate-800 text-center", children: [c.jsx("i", { className: "fa-solid fa-check-circle text-emerald-500 text-xl mb-2" }), c.jsx("p", { className: "text-xs font-bold text-slate-500 dark:text-slate-400", children: "All providers accounted for" })] })]
          }), c.jsxs("div", { className: "text-right font-black text-gray-900 dark:text-white mt-2", children: ["Total Ops: ", I] })]
        })]
      })]
    }), i.step === 3 && c.jsxs("div", { className: "relative overflow-hidden bg-white dark:bg-slate-900/80 backdrop-blur-xl p-8 rounded-[2rem] border border-slate-200/60 dark:border-slate-700/50 shadow-xl space-y-8", children: [c.jsx("div", { className: "absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-purple-400 via-violet-500 to-purple-600" }), c.jsxs("div", { className: "flex justify-between items-center", children: [c.jsxs("h3", { className: "text-xl font-extrabold text-slate-900 dark:text-white flex items-center gap-3", children: [c.jsx("span", { className: "w-10 h-10 rounded-xl bg-gradient-to-br from-purple-400 to-violet-600 text-white flex items-center justify-center text-sm shadow-lg shadow-purple-500/20", children: c.jsx("i", { className: "fa-solid fa-file-signature" }) }), "Final Statistics & Sign"] }), c.jsxs("div", { className: `px-4 py-1.5 rounded-full text-xs font-black uppercase tracking-wider flex items-center gap-1.5 ${U ? "bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 border border-emerald-200 dark:border-emerald-800" : "bg-red-50 dark:bg-red-900/20 text-red-600 border border-red-200 dark:border-red-800"}`, children: [c.jsx("i", { className: `fa-solid ${U ? "fa-check-circle" : "fa-exclamation-triangle"} text-[10px]` }), U ? "Matched" : `Mismatch (${V})`] })] }), c.jsx("div", { className: "grid grid-cols-3 gap-6", children: [{ key: "newPts", label: "New Patients" }, { key: "estPts", label: "Established" }, { key: "xrays", label: "X-Rays" }].map(M => c.jsxs("div", { className: "bg-gray-50 dark:bg-gray-800 rounded-2xl p-4 text-center", children: [c.jsx("label", { className: "text-[10px] font-bold text-gray-400 uppercase tracking-widest", children: M.label }), c.jsx("input", { type: "number", min: "0", value: i.stats[M.key] || "", onChange: te => s({ type: "SET_STAT", payload: { key: M.key, value: parseInt(te.target.value) || 0 } }), className: "w-full bg-transparent text-center font-black text-3xl outline-none mt-2 text-gray-900 dark:text-white", placeholder: "0" })] }, M.key)) }), c.jsxs("div", { className: "flex justify-end text-sm font-bold text-gray-500", children: ["New + Est = ", X, " / ", R, " (Total Patients)"] }), c.jsx("div", { className: "mt-6", children: c.jsx(kx, { value: i.notes, onChange: M => s({ type: "SET_NOTES", payload: M }), label: "Notes / Discrepancies", placeholder: "Dictate notes regarding balance discrepancies or shift events...", rows: 4, className: "bg-gray-50 dark:bg-gray-800 rounded-xl text-sm focus:ring-medical-500" }) })] }), c.jsxs("div", { className: "flex gap-3 mt-10 p-5 rounded-2xl bg-slate-50/80 dark:bg-slate-800/40 border border-slate-200/60 dark:border-slate-700/40", children: [c.jsxs("button", { onClick: n, className: "px-6 h-12 rounded-xl border border-slate-300 dark:border-slate-600 font-bold text-sm text-slate-500 hover:bg-white dark:hover:bg-slate-700 hover:border-slate-400 transition-all", children: [c.jsx("i", { className: "fa-solid fa-xmark mr-2 text-xs" }), "Cancel"] }), c.jsxs("div", { className: "flex-1 flex gap-3 justify-end", children: [i.step > 1 && c.jsxs("button", { onClick: () => s({ type: "PREV_STEP" }), className: "px-6 h-12 rounded-xl bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 font-bold text-sm text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 transition-all flex items-center gap-2", children: [c.jsx("i", { className: "fa-solid fa-arrow-left text-xs" }), " Back"] }), i.step < 3 ? c.jsxs("button", { onClick: re, className: "flex-1 max-w-xs h-12 rounded-xl bg-gradient-to-r from-medical-600 to-medical-500 text-white font-bold text-sm shadow-lg shadow-medical-500/25 hover:shadow-medical-500/40 hover:scale-[1.02] transition-all flex items-center justify-center gap-2", children: ["Next Step ", c.jsx("i", { className: "fa-solid fa-arrow-right text-xs" })] }) : c.jsxs(c.Fragment, { children: [c.jsxs("button", { onClick: () => d(!0), className: "px-5 h-12 rounded-xl bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 font-bold text-sm border border-indigo-200 dark:border-indigo-800 hover:bg-indigo-100 dark:hover:bg-indigo-900/30 transition-all flex items-center gap-2", children: [c.jsx("i", { className: "fa-solid fa-eye text-xs" }), " Preview"] }), c.jsxs("button", { onClick: de, className: "flex-1 max-w-xs h-12 rounded-xl bg-gradient-to-r from-slate-900 to-slate-700 dark:from-white dark:to-slate-200 text-white dark:text-slate-900 font-bold text-sm shadow-xl shadow-slate-900/20 flex items-center justify-center gap-2 hover:scale-[1.02] transition-all", children: [c.jsx("i", { className: "fa-solid fa-file-signature text-xs" }), " ", a ? "Update & Print" : "Sign & Generate"] })] })] })] }), $u.createPortal(c.jsx("div", { style: { position: "absolute", top: 0, left: "-10000px", width: "215.9mm", zIndex: -9999, pointerEvents: "none" }, children: c.jsx("div", { ref: l, children: c.jsx(I_, { report: ee(), usersDb: t }) }) }), document.body)]
  })
}, FSe = ({ data: e, period: t, reportCount: r, generatedBy: n }) => { const a = i => `$${i.toLocaleString(void 0, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`; return c.jsxs("div", { className: "bg-white text-slate-900 font-sans box-border relative leading-normal", style: { width: "215.9mm", minHeight: "279.4mm", margin: "0", padding: "0", backgroundColor: "#ffffff" }, children: [c.jsxs("div", { className: "bg-slate-800 text-white px-12 py-8 flex justify-between items-center print-color-adjust", style: { backgroundColor: "#1e293b", color: "white", WebkitPrintColorAdjust: "exact" }, children: [c.jsxs("div", { children: [c.jsxs("h1", { className: "text-3xl font-black tracking-tight uppercase m-0 leading-none", children: ["Health", c.jsx("span", { className: "text-emerald-400", style: { color: "#34d399" }, children: "Axis" }), " Analytics"] }), c.jsx("p", { className: "text-[10px] font-bold tracking-[0.2em] uppercase text-slate-400 mt-2", children: "Period Summary Report" })] }), c.jsxs("div", { className: "text-right", children: [c.jsx("div", { className: "text-[10px] font-bold text-slate-500 uppercase tracking-wider", children: "Reports Included" }), c.jsx("div", { className: "text-2xl font-mono font-bold text-white", children: r })] })] }), c.jsxs("div", { className: "bg-slate-100 border-b border-slate-200 px-12 py-3 flex justify-between text-[10px] uppercase font-bold tracking-wide text-slate-500", style: { backgroundColor: "#f1f5f9", borderBottom: "1px solid #e2e8f0" }, children: [c.jsxs("div", { children: ["Period: ", c.jsxs("span", { className: "text-slate-900 ml-2", children: [Iu(t.start), "  ", Iu(t.end)] })] }), c.jsxs("div", { children: ["Generated By: ", c.jsx("span", { className: "text-slate-900 ml-2", children: n })] }), c.jsxs("div", { children: ["Date: ", c.jsx("span", { className: "text-slate-900 ml-2", children: Iu(new Date) })] })] }), c.jsxs("div", { className: "p-12", children: [c.jsxs("div", { className: "flex justify-between gap-6 mb-10", children: [c.jsxs("div", { className: "w-[32%] bg-slate-50 border border-slate-200 rounded-lg p-4", style: { backgroundColor: "#f8fafc", border: "1px solid #e2e8f0" }, children: [c.jsx("div", { className: "text-[9px] font-bold text-slate-400 uppercase tracking-wider", children: "Total Revenue" }), c.jsx("div", { className: "text-3xl font-black text-slate-900 mt-1", children: a(e.totals.revenue) })] }), c.jsxs("div", { className: "w-[32%] bg-slate-50 border border-slate-200 rounded-lg p-4", style: { backgroundColor: "#f8fafc", border: "1px solid #e2e8f0" }, children: [c.jsx("div", { className: "text-[9px] font-bold text-slate-400 uppercase tracking-wider", children: "Total Patients" }), c.jsx("div", { className: "text-3xl font-black text-slate-900 mt-1", children: e.totals.patients })] }), c.jsxs("div", { className: "w-[32%] bg-slate-50 border border-slate-200 rounded-lg p-4", style: { backgroundColor: "#f8fafc", border: "1px solid #e2e8f0" }, children: [c.jsx("div", { className: "text-[9px] font-bold text-slate-400 uppercase tracking-wider", children: "Avg. Daily Revenue" }), c.jsx("div", { className: "text-3xl font-black text-emerald-600 mt-1", children: a(e.totals.revenue / (r || 1)) })] })] }), c.jsxs("div", { className: "mb-10", children: [c.jsxs("div", { className: "flex items-center gap-3 border-b-2 border-slate-900 pb-2 mb-4", children: [c.jsx("div", { className: "w-6 h-6 bg-slate-900 text-white flex items-center justify-center text-xs font-bold rounded", style: { backgroundColor: "#0f172a", color: "white" }, children: "1" }), c.jsx("h3", { className: "text-sm font-bold uppercase tracking-wide text-slate-900", children: "Financial Totals" })] }), c.jsxs("div", { className: "flex justify-between gap-10", children: [c.jsx("div", { className: "w-[48%]", children: c.jsxs("table", { className: "w-full text-xs border-collapse", children: [c.jsx("thead", { children: c.jsxs("tr", { className: "border-b border-slate-300", children: [c.jsx("th", { className: "text-left py-2 font-bold text-slate-500 uppercase", children: "Drawer Method" }), c.jsx("th", { className: "text-right py-2 font-bold text-slate-500 uppercase", children: "Total Amount" })] }) }), c.jsxs("tbody", { children: [Object.entries(e.financials.methods).map(([i, s]) => c.jsxs("tr", { className: "border-b border-slate-100", children: [c.jsx("td", { className: "py-2 font-medium capitalize text-slate-700", children: i }), c.jsx("td", { className: "py-2 text-right font-mono font-bold text-slate-900", children: a(s) })] }, i)), c.jsxs("tr", { className: "bg-slate-50", style: { backgroundColor: "#f8fafc" }, children: [c.jsx("td", { className: "py-3 font-bold text-slate-900", children: "TOTAL DRAWER" }), c.jsx("td", { className: "py-3 text-right font-black text-slate-900 text-sm", children: a(Object.values(e.financials.methods).reduce((i, s) => i + s, 0)) })] })] })] }) }), c.jsx("div", { className: "w-[48%]", children: c.jsxs("table", { className: "w-full text-xs border-collapse", children: [c.jsx("thead", { children: c.jsxs("tr", { className: "border-b border-slate-300", children: [c.jsx("th", { className: "text-left py-2 font-bold text-slate-500 uppercase", children: "System Posting" }), c.jsx("th", { className: "text-right py-2 font-bold text-slate-500 uppercase", children: "Total Amount" })] }) }), c.jsxs("tbody", { children: [Object.entries(e.financials.types).map(([i, s]) => c.jsxs("tr", { className: "border-b border-slate-100", children: [c.jsx("td", { className: "py-2 font-medium capitalize text-slate-700", children: i.replace(/([A-Z])/g, " $1").trim() }), c.jsx("td", { className: "py-2 text-right font-mono font-bold text-slate-900", children: a(s) })] }, i)), c.jsxs("tr", { className: "bg-slate-50", style: { backgroundColor: "#f8fafc" }, children: [c.jsx("td", { className: "py-3 font-bold text-slate-900", children: "TOTAL POSTED" }), c.jsx("td", { className: "py-3 text-right font-black text-slate-900 text-sm", children: a(Object.values(e.financials.types).reduce((i, s) => i + s, 0)) })] })] })] }) })] })] }), c.jsxs("div", { className: "flex justify-between gap-10 mb-10", children: [c.jsxs("div", { className: "w-[48%]", children: [c.jsxs("div", { className: "flex items-center gap-3 border-b-2 border-slate-900 pb-2 mb-4", children: [c.jsx("div", { className: "w-6 h-6 bg-slate-900 text-white flex items-center justify-center text-xs font-bold rounded", style: { backgroundColor: "#0f172a", color: "white" }, children: "2" }), c.jsx("h3", { className: "text-sm font-bold uppercase tracking-wide text-slate-900", children: "Patient Volume" })] }), c.jsx("table", { className: "w-full text-xs border-collapse", children: c.jsxs("tbody", { children: [Object.entries(e.insurances).map(([i, s]) => c.jsxs("tr", { className: "border-b border-slate-100", children: [c.jsx("td", { className: "py-2 text-slate-600 capitalize", children: i.replace(/_/g, " ").replace("Comp", " Comp") }), c.jsx("td", { className: "py-2 text-right font-bold text-slate-900", children: s })] }, i)), c.jsxs("tr", { className: "bg-slate-50 border-t border-slate-200", style: { backgroundColor: "#f8fafc" }, children: [c.jsx("td", { className: "py-2 font-bold text-slate-900", children: "TOTAL PATIENTS" }), c.jsx("td", { className: "py-2 text-right font-black text-slate-900 text-sm", children: e.totals.patients })] })] }) })] }), c.jsx("div", { className: "w-[48%] flex flex-col gap-6", children: c.jsxs("div", { children: [c.jsxs("div", { className: "flex items-center gap-3 border-b-2 border-slate-900 pb-2 mb-4", children: [c.jsx("div", { className: "w-6 h-6 bg-slate-900 text-white flex items-center justify-center text-xs font-bold rounded", style: { backgroundColor: "#0f172a", color: "white" }, children: "3" }), c.jsx("h3", { className: "text-sm font-bold uppercase tracking-wide text-slate-900", children: "Operational Stats" })] }), c.jsxs("div", { className: "bg-slate-50 rounded-lg p-4 border border-slate-100", style: { backgroundColor: "#f8fafc", border: "1px solid #f1f5f9" }, children: [c.jsxs("div", { className: "flex justify-between text-xs mb-3", children: [c.jsx("span", { className: "font-bold text-slate-700", children: "Total Nurse Visits" }), c.jsx("span", { className: "font-bold text-slate-900", children: e.operational.nurseVisits })] }), c.jsxs("div", { className: "flex justify-between text-xs mb-3", children: [c.jsx("span", { className: "font-bold text-slate-700", children: "New Patients" }), c.jsx("span", { className: "font-bold text-slate-900", children: e.stats.newPts })] }), c.jsxs("div", { className: "flex justify-between text-xs mb-3", children: [c.jsx("span", { className: "font-bold text-slate-700", children: "Established" }), c.jsx("span", { className: "font-bold text-slate-900", children: e.stats.estPts })] }), c.jsxs("div", { className: "flex justify-between text-xs mb-1", children: [c.jsx("span", { className: "font-bold text-slate-700", children: "X-Rays Performed" }), c.jsx("span", { className: "font-bold text-slate-900", children: e.stats.xrays })] })] })] }) })] }), c.jsx("div", { className: "mt-8 pt-8 border-t border-slate-200 text-[9px] text-center text-slate-400 font-medium uppercase tracking-wider", children: "Confidential Internal Document  HealthAxis Inventory System" })] })] }) }, USe = ({ reports: e, user: t, onEditReport: r, onDeleteReport: n, onViewReport: a, onCreateNew: i }) => { const [s, l] = A.useState("this_month"), [f, d] = A.useState(""), [h, m] = A.useState(""), g = A.useRef(null), { filteredReports: v, range: y } = A.useMemo(() => { const T = new Date; let j = new Date(0), R = new Date; if (s === "this_month") j = new Date(T.getFullYear(), T.getMonth(), 1), R = new Date(T.getFullYear(), T.getMonth() + 1, 0), R.setHours(23, 59, 59, 999); else if (s === "last_month") j = new Date(T.getFullYear(), T.getMonth() - 1, 1), R = new Date(T.getFullYear(), T.getMonth(), 0), R.setHours(23, 59, 59, 999); else if (s === "this_quarter") { const I = Math.floor((T.getMonth() + 3) / 3); j = new Date(T.getFullYear(), (I - 1) * 3, 1), R = new Date(T.getFullYear(), I * 3, 0), R.setHours(23, 59, 59, 999) } else s === "this_year" ? (j = new Date(T.getFullYear(), 0, 1), R = new Date(T.getFullYear(), 11, 31), R.setHours(23, 59, 59, 999)) : s === "custom" && f && h && (j = new Date(f), R = new Date(h), R.setHours(23, 59, 59, 999)); console.log("[ReportHistory] Filtering reports:", e.length, "Type:", s); const O = e.filter(I => { const H = new Date(I.timestamp), F = H >= j && H <= R; return F || console.log("[ReportHistory] Filtered out:", I.id, I.timestamp, "Range:", j.toISOString(), "-", R.toISOString()), F }).sort((I, H) => new Date(H.timestamp).getTime() - new Date(I.timestamp).getTime()); return console.log("[ReportHistory] Filtered count:", O.length), { filteredReports: O, range: { start: j, end: R, label: s } } }, [e, s, f, h]), b = A.useMemo(() => { const T = { financials: { methods: { cash: 0, credit: 0, check: 0 }, types: { billPay: 0, copay: 0, selfPay: 0 } }, insurances: { medicaid: 0, bcbs_il: 0, meridian: 0, commercial: 0, medicare: 0, workersComp: 0, selfPay: 0 }, operational: { nurseVisits: 0, providerVisits: {} }, stats: { newPts: 0, estPts: 0, xrays: 0 }, totals: { revenue: 0, patients: 0 } }; return v.reduce((j, R) => (j.financials.methods.cash += R.financials.methods.cash || 0, j.financials.methods.credit += R.financials.methods.credit || 0, j.financials.methods.check += R.financials.methods.check || 0, j.financials.types.billPay += R.financials.types.billPay || 0, j.financials.types.copay += R.financials.types.copay || 0, j.financials.types.selfPay += R.financials.types.selfPay || 0, Object.keys(j.insurances).forEach(O => { const I = O; j.insurances[I] += R.insurances[I] || 0 }), j.operational.nurseVisits += R.operational.nurseVisits || 0, j.stats.newPts += R.stats.newPts || 0, j.stats.estPts += R.stats.estPts || 0, j.stats.xrays += R.stats.xrays || 0, j.totals.revenue += R.totals.revenue || 0, j.totals.patients += R.totals.patients || 0, j), T) }, [v]), _ = () => { if (v.length === 0) { alert("No reports found in the selected period to summarize."); return } if (!g.current || !window.html2pdf) { alert("PDF generator not ready."); return } const T = { margin: 0, filename: `Period_Summary_${j_(y.start)}_to_${j_(y.end)}.pdf`, image: { type: "jpeg", quality: 1 }, html2canvas: { scale: 2, useCORS: !0, scrollY: 0, scrollX: 0, windowWidth: 816, width: 816, x: 0, y: 0 }, jsPDF: { unit: "mm", format: "letter", orientation: "portrait" } }; window.html2pdf().set(T).from(g.current).save() }, k = b.totals.revenue, C = b.totals.patients; return c.jsxs("div", { className: "space-y-8 pb-20 animate-fade-in-up", children: [c.jsxs("header", { className: "flex flex-col md:flex-row md:items-center justify-between gap-6", children: [c.jsxs("div", { children: [c.jsx("h2", { className: "text-4xl font-black text-gray-900 dark:text-white tracking-tight", children: "Report History" }), c.jsx("p", { className: "text-gray-500 dark:text-gray-400 mt-2 text-lg", children: "Daily Close Archive & Analytics" })] }), c.jsxs("button", { onClick: i, className: "h-14 px-6 bg-medical-600 hover:bg-medical-500 text-white rounded-2xl font-bold shadow-lg flex items-center gap-2 transition-all transform hover:scale-105", children: [c.jsx("i", { className: "fa-solid fa-plus" }), " New Daily Close"] })] }), c.jsxs("div", { className: "bg-white dark:bg-gray-900 p-6 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-800 flex flex-col xl:flex-row gap-6 items-center justify-between", children: [c.jsx("div", { className: "flex flex-wrap gap-2", children: [{ id: "this_month", label: "This Month" }, { id: "last_month", label: "Last Month" }, { id: "this_quarter", label: "This Quarter" }, { id: "this_year", label: "YTD" }, { id: "custom", label: "Custom" }].map(T => c.jsx("button", { onClick: () => l(T.id), className: `px-4 py-2 rounded-xl text-sm font-bold transition-colors ${s === T.id ? "bg-gray-900 text-white dark:bg-white dark:text-gray-900" : "bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400 hover:bg-gray-200"}`, children: T.label }, T.id)) }), s === "custom" && c.jsxs("div", { className: "flex gap-4 items-center bg-gray-50 dark:bg-gray-800 p-2 rounded-xl", children: [c.jsx("input", { type: "date", value: f, onChange: T => d(T.target.value), className: "bg-transparent text-sm font-bold text-gray-700 dark:text-white outline-none" }), c.jsx("span", { className: "text-gray-400", children: "-" }), c.jsx("input", { type: "date", value: h, onChange: T => m(T.target.value), className: "bg-transparent text-sm font-bold text-gray-700 dark:text-white outline-none" })] }), c.jsxs("div", { className: "flex gap-8 border-l border-gray-200 dark:border-gray-700 pl-8 items-center", children: [c.jsxs("div", { children: [c.jsx("div", { className: "text-[10px] font-bold text-gray-400 uppercase tracking-widest", children: "Total Revenue" }), c.jsxs("div", { className: "text-2xl font-black text-emerald-600 dark:text-emerald-400", children: ["$", k.toLocaleString(void 0, { minimumFractionDigits: 2 })] })] }), c.jsxs("div", { className: "mr-4", children: [c.jsx("div", { className: "text-[10px] font-bold text-gray-400 uppercase tracking-widest", children: "Total Patients" }), c.jsx("div", { className: "text-2xl font-black text-blue-600 dark:text-blue-400", children: C })] }), c.jsxs("button", { onClick: _, className: "h-12 px-5 bg-indigo-600 hover:bg-indigo-500 text-white rounded-xl font-bold shadow-md shadow-indigo-500/20 flex items-center gap-2 transition-all hover:-translate-y-0.5", title: "Generate summarized PDF for selected period", children: [c.jsx("i", { className: "fa-solid fa-file-invoice-dollar" }), " Generate Period Summary"] })] })] }), c.jsx("div", { className: "glass-panel rounded-[2.5rem] shadow-glass overflow-hidden", children: c.jsx("div", { className: "overflow-x-auto", children: c.jsxs("table", { className: "w-full text-left", children: [c.jsx("thead", { className: "bg-gray-50/50 dark:bg-gray-800/50 border-b border-gray-100 dark:border-gray-800", children: c.jsxs("tr", { children: [c.jsx("th", { className: "p-6 text-xs font-extrabold text-gray-400 uppercase tracking-wider", children: "Date / ID" }), c.jsx("th", { className: "p-6 text-xs font-extrabold text-gray-400 uppercase tracking-wider", children: "Author" }), c.jsx("th", { className: "p-6 text-xs font-extrabold text-gray-400 uppercase tracking-wider", children: "Financials" }), c.jsx("th", { className: "p-6 text-xs font-extrabold text-gray-400 uppercase tracking-wider", children: "Patients" }), c.jsx("th", { className: "p-6 text-xs font-extrabold text-gray-400 uppercase tracking-wider text-right", children: "Actions" })] }) }), c.jsxs("tbody", { className: "divide-y divide-gray-100 dark:divide-gray-800/50", children: [v.map(T => c.jsxs("tr", { className: "hover:bg-gray-50 dark:hover:bg-gray-800/30 transition-colors", children: [c.jsxs("td", { className: "p-6", children: [c.jsx("div", { className: "font-bold text-gray-900 dark:text-white", children: Iu(T.timestamp) }), c.jsxs("div", { className: "text-xs text-gray-400 font-mono mt-1", children: ["#", T.id.slice(-8)] })] }), c.jsx("td", { className: "p-6", children: c.jsxs("div", { className: "flex items-center gap-2", children: [c.jsx("div", { className: "w-6 h-6 rounded-full bg-indigo-100 text-indigo-600 dark:bg-indigo-900/30 dark:text-indigo-400 flex items-center justify-center text-xs font-bold", children: T.author.charAt(0).toUpperCase() }), c.jsx("span", { className: "text-sm font-bold text-gray-600 dark:text-gray-300", children: T.author })] }) }), c.jsx("td", { className: "p-6", children: c.jsxs("span", { className: "font-mono font-bold text-emerald-600 dark:text-emerald-400", children: ["$", T.totals.revenue.toFixed(2)] }) }), c.jsx("td", { className: "p-6", children: c.jsx("span", { className: "font-bold text-gray-700 dark:text-gray-300", children: T.totals.patients }) }), c.jsx("td", { className: "p-6 text-right", children: c.jsxs("div", { className: "flex justify-end gap-2", children: [c.jsx("button", { onClick: () => a(T), className: "w-10 h-10 rounded-xl bg-gray-100 dark:bg-gray-800 hover:bg-emerald-500 hover:text-white text-gray-500 transition-colors flex items-center justify-center", title: "View PDF", children: c.jsx("i", { className: "fa-solid fa-file-pdf" }) }), c.jsx("button", { onClick: () => r(T), className: "w-10 h-10 rounded-xl bg-gray-100 dark:bg-gray-800 hover:bg-blue-500 hover:text-white text-gray-500 transition-colors flex items-center justify-center", title: "Edit Details", children: c.jsx("i", { className: "fa-solid fa-pen-to-square" }) }), c.jsx("button", { onClick: () => { window.confirm("Delete this report history?") && n(T.id) }, className: "w-10 h-10 rounded-xl bg-gray-100 dark:bg-gray-800 hover:bg-red-500 hover:text-white text-gray-500 transition-colors flex items-center justify-center", title: "Delete Report", children: c.jsx("i", { className: "fa-solid fa-trash" }) })] }) })] }, T.id)), v.length === 0 && c.jsx("tr", { children: c.jsx("td", { colSpan: 5, className: "p-12 text-center text-gray-400 font-medium", children: "No reports found for this period." }) })] })] }) }) }), $u.createPortal(c.jsx("div", { style: { position: "absolute", top: 0, left: "-10000px", width: "215.9mm", zIndex: -9999, pointerEvents: "none" }, children: c.jsx("div", { ref: g, children: c.jsx(FSe, { data: b, period: y, reportCount: v.length, generatedBy: t.username }) }) }), document.body)] }) }, Li = ({ label: e, children: t }) => c.jsxs("div", { className: "relative group", children: [c.jsx("label", { className: "block text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2 ml-1", children: e }), t] }), BSe = ({ isOpen: e, onClose: t, onSave: r, initialData: n, t: a }) => { const [i, s] = A.useState({ name: "", category: "General", stock: 0, unit: "unit_each", averageCost: 0, minStock: 10, maxStock: 100, batchNumber: "", expiryDate: "", location: "" }); if (A.useEffect(() => { e && n ? s({ ...i, ...n }) : e && s({ name: "", category: "General", stock: 0, unit: "unit_each", averageCost: 0, minStock: 10, maxStock: 100, batchNumber: "", expiryDate: "", location: "" }) }, [e, n]), !e) return null; const l = d => { d.preventDefault(), r(i), t() }, f = (d, h) => { s(m => ({ ...m, [d]: h })) }; return c.jsxs("div", { className: "fixed inset-0 z-50 flex items-center justify-center p-4", children: [c.jsx("div", { className: "absolute inset-0 bg-gray-900/40 backdrop-blur-md transition-opacity", onClick: t }), c.jsxs("div", { className: "relative bg-white dark:bg-gray-900 rounded-3xl shadow-2xl w-full max-w-lg overflow-hidden flex flex-col max-h-[90vh] animate-fade-in-up border border-gray-100 dark:border-gray-800", children: [c.jsxs("div", { className: "p-6 border-b border-gray-100 dark:border-gray-800 flex justify-between items-center bg-gray-50/50 dark:bg-gray-800/30", children: [c.jsxs("div", { className: "flex items-center gap-4", children: [c.jsx("div", { className: `w-12 h-12 rounded-2xl flex items-center justify-center text-xl shadow-sm ${n != null && n.id ? "bg-blue-100 text-blue-600 dark:bg-blue-900/20" : "bg-emerald-100 text-emerald-600 dark:bg-emerald-900/20"}`, children: c.jsx("i", { className: `fa-solid ${n != null && n.id ? "fa-pen" : "fa-plus"}` }) }), c.jsx("h3", { className: "text-xl font-bold text-gray-900 dark:text-white", children: n != null && n.id ? a("modal_edit_title") : a("modal_add_title") })] }), c.jsx("button", { onClick: t, className: "w-10 h-10 rounded-full flex items-center justify-center text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 hover:text-red-500 transition-all", children: c.jsx("i", { className: "fa-solid fa-xmark" }) })] }), c.jsxs("form", { onSubmit: l, className: "p-8 overflow-y-auto space-y-6 custom-scrollbar", children: [c.jsx(Li, { label: a("lbl_name"), children: c.jsx("input", { required: !0, type: "text", value: i.name, onChange: d => f("name", d.target.value), className: "w-full h-14 px-5 rounded-2xl border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-4 focus:ring-medical-500/10 focus:border-medical-500 transition-all outline-none font-bold", placeholder: a("ph_name") }) }), c.jsxs("div", { className: "grid grid-cols-2 gap-6", children: [c.jsx(Li, { label: a("lbl_cat"), children: c.jsxs("div", { className: "relative", children: [c.jsx("select", { value: i.category, onChange: d => f("category", d.target.value), className: "w-full h-14 px-5 appearance-none rounded-2xl border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-4 focus:ring-medical-500/10 focus:border-medical-500 transition-all outline-none cursor-pointer font-bold text-sm", children: nL.map(d => c.jsx("option", { value: d, children: d }, d)) }), c.jsx("i", { className: "fa-solid fa-chevron-down absolute right-5 top-5 text-gray-400 pointer-events-none text-xs" })] }) }), c.jsx(Li, { label: a("lbl_loc"), children: c.jsxs("div", { className: "relative", children: [c.jsxs("select", { value: i.location, onChange: d => f("location", d.target.value), className: "w-full h-14 px-5 appearance-none rounded-2xl border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-4 focus:ring-medical-500/10 focus:border-medical-500 transition-all outline-none cursor-pointer font-bold text-sm", children: [c.jsx("option", { value: "", children: "Select Location..." }), aL.map(d => c.jsx("option", { value: d, children: d }, d))] }), c.jsx("i", { className: "fa-solid fa-chevron-down absolute right-5 top-5 text-gray-400 pointer-events-none text-xs" })] }) })] }), c.jsxs("div", { className: "bg-gray-50 dark:bg-gray-800/40 p-5 rounded-3xl border border-gray-100 dark:border-gray-800 space-y-4", children: [c.jsxs("div", { className: "grid grid-cols-2 gap-6", children: [c.jsx(Li, { label: a("lbl_current_stock"), children: c.jsx("input", { type: "number", min: "0", value: i.stock, onChange: d => f("stock", parseInt(d.target.value) || 0), className: "w-full h-14 pl-5 pr-5 rounded-2xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-4 focus:ring-medical-500/10 focus:border-medical-500 transition-all outline-none font-mono font-bold text-lg" }) }), c.jsx(Li, { label: a("lbl_unit"), children: c.jsxs("div", { className: "relative", children: [c.jsx("select", { value: i.unit, onChange: d => f("unit", d.target.value), className: "w-full h-14 px-5 appearance-none rounded-2xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-4 focus:ring-medical-500/10 focus:border-medical-500 transition-all outline-none cursor-pointer font-bold text-sm", children: Vle.map(d => c.jsx("option", { value: d, children: a(d) }, d)) }), c.jsx("i", { className: "fa-solid fa-chevron-down absolute right-5 top-5 text-gray-400 pointer-events-none text-xs" })] }) })] }), c.jsxs("div", { className: "grid grid-cols-2 gap-6", children: [c.jsx(Li, { label: "Unit Cost ($)", children: c.jsxs("div", { className: "relative", children: [c.jsx("span", { className: "absolute left-4 top-4 text-gray-400 font-bold", children: "$" }), c.jsx("input", { type: "number", min: "0", step: "0.01", value: i.averageCost, onChange: d => f("averageCost", parseFloat(d.target.value) || 0), className: "w-full h-12 pl-8 pr-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-4 focus:ring-emerald-500/10 focus:border-emerald-500 transition-all outline-none font-mono font-bold", placeholder: "0.00" })] }) }), c.jsx("div", { className: "flex items-center justify-end px-2", children: c.jsxs("div", { className: "text-right", children: [c.jsx("p", { className: "text-[10px] uppercase font-bold text-gray-400", children: "Total Value" }), c.jsxs("p", { className: "text-xl font-black text-emerald-600 dark:text-emerald-400", children: ["$", ((i.stock || 0) * (i.averageCost || 0)).toFixed(2)] })] }) })] }), c.jsxs("div", { className: "grid grid-cols-2 gap-6 pt-2 border-t border-gray-200 dark:border-gray-700", children: [c.jsx(Li, { label: a("lbl_min_alert"), children: c.jsx("input", { type: "number", min: "0", value: i.minStock, onChange: d => f("minStock", parseInt(d.target.value) || 0), className: "w-full h-12 px-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-4 focus:ring-orange-500/10 focus:border-orange-500 transition-all outline-none font-mono font-bold" }) }), c.jsx(Li, { label: a("lbl_max_limit"), children: c.jsx("input", { type: "number", min: "0", value: i.maxStock, onChange: d => f("maxStock", parseInt(d.target.value) || 0), className: "w-full h-12 px-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 transition-all outline-none font-mono font-bold" }) })] })] }), c.jsxs("div", { className: "grid grid-cols-2 gap-6", children: [c.jsx(Li, { label: a("lbl_batch_num"), children: c.jsx("input", { type: "text", value: i.batchNumber, onChange: d => f("batchNumber", d.target.value), className: "w-full h-14 px-5 rounded-2xl border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-4 focus:ring-medical-500/10 focus:border-medical-500 transition-all outline-none font-mono font-bold", placeholder: a("ph_batch") }) }), c.jsx(Li, { label: a("lbl_expiry"), children: c.jsx("input", { type: "date", value: i.expiryDate, onChange: d => f("expiryDate", d.target.value), className: "w-full h-14 px-5 rounded-2xl border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-4 focus:ring-medical-500/10 focus:border-medical-500 transition-all outline-none font-bold" }) })] }), c.jsxs("div", { className: "pt-4 flex gap-4", children: [c.jsx("button", { type: "button", onClick: t, className: "flex-1 h-14 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-2xl font-bold hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors", children: a("btn_cancel") }), c.jsx("button", { type: "submit", className: "flex-1 h-14 bg-gradient-to-r from-medical-600 to-medical-500 hover:from-medical-700 hover:to-medical-600 text-white rounded-2xl font-bold shadow-xl shadow-medical-500/30 transition-all transform hover:scale-[1.02]", children: n != null && n.id ? a("btn_save_update") : a("btn_save_add") })] })] })] })] }) }, $Se = ({ isOpen: e, onClose: t, onAddItem: r, t: n }) => { const [a, i] = A.useState("idle"), [s, l] = A.useState(null), [f, d] = A.useState(null), [h, m] = A.useState({}), [g, v] = A.useState(""), y = A.useRef(null), b = A.useRef(null), _ = A.useRef(null), k = A.useRef(null), C = ["Surgical", "Pharma", "PPE", "Diagnostics", "Laboratory", "Wound Care", "Respiratory", "Cardiovascular", "Orthopedic", "Consumables", "Equipment", "Office Supplies"], T = ["Front Desk", "Manager's Office", "Nursing Station / Provider Station", "Exam Rooms", "Soiled Utility Room", "Break Room", "Laboratory"], j = ["each", "box", "pack", "case", "vial", "bottle", "roll", "pair"], R = A.useCallback(async () => { try { const ee = await navigator.mediaDevices.getUserMedia({ video: { facingMode: "environment", width: { ideal: 1920 }, height: { ideal: 1080 } } }); k.current = ee, y.current && (y.current.srcObject = ee, await y.current.play()), i("camera") } catch (ee) { console.error("Camera error:", ee), v("Unable to access camera. Please grant permission or use file upload."), i("error") } }, []), O = A.useCallback(() => { k.current && (k.current.getTracks().forEach(ee => ee.stop()), k.current = null) }, []), I = A.useCallback(() => { if (y.current && b.current) { const ee = y.current, re = b.current; re.width = ee.videoWidth, re.height = ee.videoHeight; const de = re.getContext("2d"); if (de) { de.drawImage(ee, 0, 0); const D = re.toDataURL("image/jpeg", .9); l(D), O(), F(D) } } }, [O]), H = A.useCallback(ee => { var de; const re = (de = ee.target.files) == null ? void 0 : de[0]; if (re) { const D = new FileReader; D.onload = z => { var M; const ie = (M = z.target) == null ? void 0 : M.result; l(ie), F(ie) }, D.readAsDataURL(re) } }, []), F = async ee => { i("processing"), v(""); try { const re = await lme(ee); d(re), m(re), i("preview") } catch (re) { console.error("Scan error:", re), v(re.message || "Failed to analyze image. Please try again."), i("error") } }, X = () => { if (!h.name) return; const ee = { name: h.name || "", category: h.category || "Consumables", stock: h.stock || 1, unit: h.unit || "each", minStock: h.minStock || 5, maxStock: h.maxStock || 25, expiryDate: h.expiryDate || "", batchNumber: h.batchNumber || "", location: h.location || "Exam Rooms", averageCost: h.averageCost || 0 }; r(ee), V() }, V = () => { O(), i("idle"), l(null), d(null), m({}), v(""), t() }, U = () => { l(null), d(null), m({}), v(""), i("idle") }; return e ? c.jsx("div", { className: "fixed inset-0 z-[9999] flex items-center justify-center bg-black/80 backdrop-blur-xl p-4 animate-fade-in", children: c.jsxs("div", { className: "w-full max-w-2xl max-h-[95vh] overflow-y-auto bg-white dark:bg-slate-900 rounded-[2.5rem] shadow-2xl border border-white/20 dark:border-slate-800", children: [c.jsx("div", { className: "sticky top-0 z-10 bg-white/90 dark:bg-slate-900/90 backdrop-blur-xl p-6 border-b border-slate-100 dark:border-slate-800 rounded-t-[2.5rem]", children: c.jsxs("div", { className: "flex items-center justify-between", children: [c.jsxs("div", { className: "flex items-center gap-4", children: [c.jsx("div", { className: "w-14 h-14 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center shadow-xl shadow-indigo-500/30", children: c.jsx("i", { className: "fa-solid fa-wand-magic-sparkles text-2xl text-white" }) }), c.jsxs("div", { children: [c.jsx("h2", { className: "text-2xl font-black text-slate-900 dark:text-white tracking-tight", children: "AI Item Scanner" }), c.jsx("p", { className: "text-sm text-slate-500", children: "Powered by Gemini 2.0 Flash" })] })] }), c.jsx("button", { onClick: V, className: "w-12 h-12 rounded-xl bg-slate-100 dark:bg-slate-800 flex items-center justify-center hover:bg-red-50 hover:text-red-500 transition-all", children: c.jsx("i", { className: "fa-solid fa-xmark text-xl" }) })] }) }), c.jsxs("div", { className: "p-6 space-y-6", children: [a === "idle" && c.jsxs("div", { className: "grid grid-cols-1 sm:grid-cols-2 gap-4", children: [c.jsxs("button", { onClick: R, className: "group p-8 rounded-3xl bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 border-2 border-dashed border-indigo-200 dark:border-indigo-800 hover:border-indigo-400 transition-all flex flex-col items-center gap-4", children: [c.jsx("div", { className: "w-20 h-20 rounded-2xl bg-indigo-100 dark:bg-indigo-900/50 flex items-center justify-center group-hover:scale-110 transition-transform", children: c.jsx("i", { className: "fa-solid fa-camera text-3xl text-indigo-600" }) }), c.jsxs("div", { className: "text-center", children: [c.jsx("h3", { className: "text-lg font-black text-slate-900 dark:text-white", children: "Take Photo" }), c.jsx("p", { className: "text-sm text-slate-500 mt-1", children: "Use your camera to scan a label" })] })] }), c.jsxs("button", { onClick: () => { var ee; return (ee = _.current) == null ? void 0 : ee.click() }, className: "group p-8 rounded-3xl bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-emerald-900/20 dark:to-teal-900/20 border-2 border-dashed border-emerald-200 dark:border-emerald-800 hover:border-emerald-400 transition-all flex flex-col items-center gap-4", children: [c.jsx("div", { className: "w-20 h-20 rounded-2xl bg-emerald-100 dark:bg-emerald-900/50 flex items-center justify-center group-hover:scale-110 transition-transform", children: c.jsx("i", { className: "fa-solid fa-cloud-arrow-up text-3xl text-emerald-600" }) }), c.jsxs("div", { className: "text-center", children: [c.jsx("h3", { className: "text-lg font-black text-slate-900 dark:text-white", children: "Upload Image" }), c.jsx("p", { className: "text-sm text-slate-500 mt-1", children: "Select a photo from your device" })] })] }), c.jsx("input", { ref: _, type: "file", accept: "image/*", onChange: H, className: "hidden" })] }), a === "camera" && c.jsxs("div", { className: "space-y-4", children: [c.jsxs("div", { className: "relative rounded-3xl overflow-hidden bg-black aspect-video", children: [c.jsx("video", { ref: y, className: "w-full h-full object-cover", playsInline: !0, muted: !0 }), c.jsx("div", { className: "absolute inset-0 pointer-events-none border-4 border-white/30 rounded-3xl", children: c.jsx("div", { className: "absolute inset-8 border-2 border-dashed border-white/50 rounded-2xl flex items-center justify-center", children: c.jsx("span", { className: "bg-black/50 text-white px-4 py-2 rounded-full text-sm font-bold", children: "Center the label here" }) }) })] }), c.jsxs("div", { className: "flex gap-4 justify-center", children: [c.jsxs("button", { onClick: U, className: "px-6 py-4 rounded-2xl bg-slate-100 dark:bg-slate-800 font-bold text-slate-600 dark:text-slate-300 hover:bg-slate-200 transition-all", children: [c.jsx("i", { className: "fa-solid fa-arrow-left mr-2" }), " Back"] }), c.jsxs("button", { onClick: I, className: "px-8 py-4 rounded-2xl bg-indigo-600 text-white font-black shadow-xl shadow-indigo-500/30 hover:bg-indigo-700 transition-all flex items-center gap-3", children: [c.jsx("i", { className: "fa-solid fa-camera text-xl" }), " Capture"] })] }), c.jsx("canvas", { ref: b, className: "hidden" })] }), a === "processing" && c.jsxs("div", { className: "py-16 flex flex-col items-center gap-6", children: [c.jsxs("div", { className: "relative", children: [c.jsx("div", { className: "w-24 h-24 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center animate-pulse", children: c.jsx("i", { className: "fa-solid fa-brain text-4xl text-white" }) }), c.jsx("div", { className: "absolute inset-0 rounded-full border-4 border-indigo-300 border-t-transparent animate-spin" })] }), c.jsxs("div", { className: "text-center", children: [c.jsx("h3", { className: "text-xl font-black text-slate-900 dark:text-white", children: "Analyzing Image..." }), c.jsx("p", { className: "text-slate-500 mt-2", children: "Gemini 2.0 is extracting item data" })] }), s && c.jsx("img", { src: s, alt: "Captured", className: "w-48 h-48 object-cover rounded-2xl opacity-50" })] }), a === "error" && c.jsxs("div", { className: "py-12 flex flex-col items-center gap-6", children: [c.jsx("div", { className: "w-20 h-20 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center", children: c.jsx("i", { className: "fa-solid fa-triangle-exclamation text-4xl text-red-500" }) }), c.jsxs("div", { className: "text-center", children: [c.jsx("h3", { className: "text-xl font-black text-slate-900 dark:text-white", children: "Scan Failed" }), c.jsx("p", { className: "text-slate-500 mt-2 max-w-sm", children: g })] }), c.jsxs("button", { onClick: U, className: "px-8 py-4 rounded-2xl bg-indigo-600 text-white font-black shadow-xl hover:bg-indigo-700 transition-all", children: [c.jsx("i", { className: "fa-solid fa-rotate-right mr-2" }), " Try Again"] })] }), a === "preview" && f && c.jsxs("div", { className: "space-y-6", children: [c.jsxs("div", { className: "flex items-center justify-between p-4 rounded-2xl bg-slate-50 dark:bg-slate-800/50", children: [c.jsxs("div", { className: "flex items-center gap-3", children: [c.jsx("img", { src: s || "", alt: "Scanned", className: "w-16 h-16 object-cover rounded-xl" }), c.jsxs("div", { children: [c.jsx("p", { className: "text-sm font-bold text-slate-500", children: "Extraction Complete" }), c.jsx("p", { className: "text-xs text-slate-400", children: "Review and edit if needed" })] })] }), c.jsxs("div", { className: `px-4 py-2 rounded-full font-black text-sm ${f.confidence >= 80 ? "bg-emerald-100 text-emerald-700" : f.confidence >= 50 ? "bg-amber-100 text-amber-700" : "bg-red-100 text-red-700"}`, children: [f.confidence, "% Confidence"] })] }), c.jsxs("div", { className: "grid grid-cols-1 sm:grid-cols-2 gap-4", children: [c.jsxs("div", { className: "sm:col-span-2", children: [c.jsx("label", { className: "block text-xs font-black text-slate-400 uppercase tracking-widest mb-2", children: "Product Name *" }), c.jsx("input", { type: "text", value: h.name || "", onChange: ee => m(re => ({ ...re, name: ee.target.value })), className: "w-full h-14 px-5 rounded-2xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-lg font-bold text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all" })] }), c.jsxs("div", { children: [c.jsx("label", { className: "block text-xs font-black text-slate-400 uppercase tracking-widest mb-2", children: "Category" }), c.jsx("select", { value: h.category || "", onChange: ee => m(re => ({ ...re, category: ee.target.value })), className: "w-full h-14 px-5 rounded-2xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 font-bold text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500 transition-all", children: C.map(ee => c.jsx("option", { value: ee, children: ee }, ee)) })] }), c.jsxs("div", { children: [c.jsx("label", { className: "block text-xs font-black text-slate-400 uppercase tracking-widest mb-2", children: "Location" }), c.jsx("select", { value: h.location || "", onChange: ee => m(re => ({ ...re, location: ee.target.value })), className: "w-full h-14 px-5 rounded-2xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 font-bold text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500 transition-all", children: T.map(ee => c.jsx("option", { value: ee, children: ee }, ee)) })] }), c.jsxs("div", { children: [c.jsx("label", { className: "block text-xs font-black text-slate-400 uppercase tracking-widest mb-2", children: "Initial Stock" }), c.jsx("input", { type: "number", min: "0", value: h.stock || 0, onChange: ee => m(re => ({ ...re, stock: parseInt(ee.target.value) || 0 })), className: "w-full h-14 px-5 rounded-2xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-lg font-bold text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500 transition-all" })] }), c.jsxs("div", { children: [c.jsx("label", { className: "block text-xs font-black text-slate-400 uppercase tracking-widest mb-2", children: "Unit" }), c.jsx("select", { value: h.unit || "each", onChange: ee => m(re => ({ ...re, unit: ee.target.value })), className: "w-full h-14 px-5 rounded-2xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 font-bold text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500 transition-all", children: j.map(ee => c.jsx("option", { value: ee, children: ee }, ee)) })] }), c.jsxs("div", { children: [c.jsx("label", { className: "block text-xs font-black text-slate-400 uppercase tracking-widest mb-2", children: "Batch / Lot #" }), c.jsx("input", { type: "text", value: h.batchNumber || "", onChange: ee => m(re => ({ ...re, batchNumber: ee.target.value })), className: "w-full h-14 px-5 rounded-2xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 font-mono font-bold text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500 transition-all", placeholder: "LOT12345" })] }), c.jsxs("div", { children: [c.jsx("label", { className: "block text-xs font-black text-slate-400 uppercase tracking-widest mb-2", children: "Expiry Date" }), c.jsx("input", { type: "date", value: h.expiryDate || "", onChange: ee => m(re => ({ ...re, expiryDate: ee.target.value })), className: "w-full h-14 px-5 rounded-2xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 font-bold text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500 transition-all" })] }), c.jsxs("div", { children: [c.jsx("label", { className: "block text-xs font-black text-slate-400 uppercase tracking-widest mb-2", children: "Min Stock" }), c.jsx("input", { type: "number", min: "0", value: h.minStock || 0, onChange: ee => m(re => ({ ...re, minStock: parseInt(ee.target.value) || 0 })), className: "w-full h-14 px-5 rounded-2xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-lg font-bold text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500 transition-all" })] }), c.jsxs("div", { children: [c.jsx("label", { className: "block text-xs font-black text-slate-400 uppercase tracking-widest mb-2", children: "Max Stock" }), c.jsx("input", { type: "number", min: "0", value: h.maxStock || 0, onChange: ee => m(re => ({ ...re, maxStock: parseInt(ee.target.value) || 0 })), className: "w-full h-14 px-5 rounded-2xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-lg font-bold text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500 transition-all" })] }), c.jsxs("div", { children: [c.jsx("label", { className: "block text-xs font-black text-slate-400 uppercase tracking-widest mb-2", children: "Unit Cost ($)" }), c.jsx("input", { type: "number", min: "0", step: "0.01", value: h.averageCost || 0, onChange: ee => m(re => ({ ...re, averageCost: parseFloat(ee.target.value) || 0 })), className: "w-full h-14 px-5 rounded-2xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-lg font-bold text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500 transition-all" })] })] }), c.jsxs("div", { className: "flex gap-4 pt-4", children: [c.jsxs("button", { onClick: U, className: "flex-1 h-14 rounded-2xl bg-slate-100 dark:bg-slate-800 font-bold text-slate-600 dark:text-slate-300 hover:bg-slate-200 transition-all", children: [c.jsx("i", { className: "fa-solid fa-rotate-right mr-2" }), " Scan Again"] }), c.jsxs("button", { onClick: X, disabled: !h.name, className: "flex-1 h-14 rounded-2xl bg-emerald-600 text-white font-black shadow-xl shadow-emerald-500/30 hover:bg-emerald-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3", children: [c.jsx("i", { className: "fa-solid fa-check text-xl" }), " Add to Inventory"] })] })] })] })] }) }) : null }, V1 = ["Medicare", "Medicaid", "UHC", "BCBS", "Aetna", "Cigna", "Meridian"], zSe = ({ billingRules: e, user: t, onSaveRule: r, onDeleteRule: n, t: a }) => {
  const [i, s] = A.useState(""), [l, f] = A.useState(""), [d, h] = A.useState(null), [m, g] = A.useState(!1), v = A.useRef(null), [y, b] = A.useState(!1), [_, k] = A.useState(!1), [C, T] = A.useState({}), j = t.role === it.OWNER || t.role === it.MANAGER; A.useEffect(() => { const V = U => { v.current && !v.current.contains(U.target) && g(!1) }; return document.addEventListener("mousedown", V), () => { document.removeEventListener("mousedown", V) } }, []); const R = A.useMemo(() => { let V = e; if (i && (V = V.filter(U => U.insurers.includes(i))), l) { const U = l.toLowerCase(); V = V.filter(ee => ee.testName.toLowerCase().includes(U) || ee.cpt.includes(U)) } return V }, [e, i, l]), O = V => { navigator.clipboard.writeText(V), h(V), setTimeout(() => h(null), 2e3) }, I = V => { s(V), g(!1) }, H = V => { T(V ? { ...V } : { insurers: [], testName: "", cpt: "", billToClient: !0 }), b(!0) }, F = V => { const U = C.insurers || []; U.includes(V) ? T({ ...C, insurers: U.filter(ee => ee !== V) }) : T({ ...C, insurers: [...U, V] }) }, X = () => { var U; if (!C.testName || !C.cpt || ((U = C.insurers) == null ? void 0 : U.length) === 0) { alert("Please fill in Name, CPT, and select at least one insurer."); return } const V = { id: C.id || `br_${Date.now()}`, insurers: C.insurers || [], testName: C.testName || "", cpt: C.cpt || "", billToClient: C.billToClient ?? !0 }; r(V), b(!1) }; return c.jsxs("div", {
    className: "space-y-10 pb-20 animate-fade-in-up max-w-7xl mx-auto", children: [c.jsxs("header", { className: "flex flex-col md:flex-row md:items-center justify-between gap-6", children: [c.jsxs("div", { className: "flex items-center gap-4", children: [c.jsx("div", { className: "w-12 h-12 rounded-2xl bg-medical-500 flex items-center justify-center text-white shadow-lg shadow-medical-500/20", children: c.jsx("i", { className: "fa-solid fa-file-invoice-dollar text-xl" }) }), c.jsxs("div", { children: [c.jsxs("div", { className: "flex items-center gap-3", children: [c.jsx("h2", { className: "text-display text-slate-900 dark:text-white", children: a("billing_title") }), c.jsx("button", { onClick: () => k(!0), className: "w-8 h-8 rounded-full bg-blue-50 dark:bg-blue-900/30 text-blue-500 flex items-center justify-center hover:bg-blue-100 dark:hover:bg-blue-900/50 transition-all hover:scale-110", title: "Important Billing Info", children: c.jsx("i", { className: "fa-solid fa-circle-info" }) })] }), c.jsx("p", { className: "text-caption mt-0.5", children: a("billing_subtitle") })] })] }), j && c.jsxs("button", { onClick: () => H(), className: "h-14 px-6 bg-emerald-600 hover:bg-emerald-500 text-white rounded-2xl font-bold shadow-lg flex items-center gap-2 transition-all hover:scale-105", children: [c.jsx("i", { className: "fa-solid fa-plus" }), " Add Test Rule"] })] }), c.jsxs("div", {
      className: "grid grid-cols-1 md:grid-cols-2 gap-6 relative z-30", children: [c.jsxs("div", {
        className: "relative group", ref: v, children: [c.jsxs("label", { className: "text-xs font-extrabold text-gray-400 uppercase tracking-widest mb-3 block ml-1 flex items-center gap-2", children: [c.jsx("i", { className: "fa-solid fa-building-shield text-emerald-500" }), a("lbl_select_insurer")] }), c.jsxs("div", {
          className: "relative", children: [c.jsxs("button", {
            onClick: () => g(!m), className: `w-full h-20 pl-6 pr-6 flex items-center justify-between bg-white dark:bg-gray-800/60 border-2 rounded-[1.5rem] transition-all duration-300 backdrop-blur-xl shadow-lg hover:shadow-xl
                        ${m ? "border-emerald-500 ring-4 ring-emerald-500/10" : "border-white dark:border-gray-700 hover:border-emerald-200 dark:hover:border-emerald-900/50"}
                    `, children: [c.jsxs("div", { className: "flex items-center gap-4", children: [i ? c.jsx("div", { className: "w-10 h-10 rounded-xl bg-emerald-100 dark:bg-emerald-900/50 flex items-center justify-center text-emerald-600 dark:text-emerald-400 font-bold text-lg", children: i.charAt(0) }) : c.jsx("div", { className: "w-10 h-10 rounded-xl bg-gray-100 dark:bg-gray-700 flex items-center justify-center text-gray-400", children: c.jsx("i", { className: "fa-regular fa-building" }) }), c.jsx("span", { className: `text-xl font-bold ${i ? "text-gray-900 dark:text-white" : "text-gray-400"}`, children: i || a("opt_select_insurance") })] }), c.jsx("div", { className: `w-8 h-8 rounded-full bg-gray-50 dark:bg-gray-700 flex items-center justify-center text-gray-400 transition-transform duration-300 ${m ? "rotate-180 bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400" : ""}`, children: c.jsx("i", { className: "fa-solid fa-chevron-down text-sm" }) })]
          }), m && c.jsx("div", { className: "absolute top-full left-0 w-full mt-3 bg-white dark:bg-gray-900 rounded-[1.5rem] shadow-2xl border border-gray-100 dark:border-gray-700 overflow-hidden animate-fade-in-up z-50", children: c.jsxs("div", { className: "p-2 space-y-1 max-h-[320px] overflow-y-auto custom-scrollbar", children: [c.jsxs("button", { onClick: () => I(""), className: `w-full flex items-center gap-3 p-3 rounded-xl transition-colors font-bold text-sm ${i ? "text-gray-500 hover:bg-gray-50 dark:hover:bg-gray-800" : "bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400"}`, children: [c.jsx("div", { className: "w-8 h-8 rounded-lg border border-dashed border-gray-300 dark:border-gray-600 flex items-center justify-center", children: c.jsx("i", { className: "fa-solid fa-ban text-xs" }) }), "Show All / Reset"] }), c.jsx("div", { className: "h-px bg-gray-100 dark:bg-gray-800 my-1 mx-2" }), V1.map(V => c.jsxs("button", { onClick: () => I(V), className: `w-full flex items-center justify-between p-3 rounded-xl transition-all group ${i === V ? "bg-emerald-600 text-white shadow-lg shadow-emerald-500/30" : "text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800"}`, children: [c.jsxs("div", { className: "flex items-center gap-3", children: [c.jsx("div", { className: `w-8 h-8 rounded-lg flex items-center justify-center font-bold text-xs ${i === V ? "bg-white/20 text-white" : "bg-gray-100 dark:bg-gray-700 text-gray-500"}`, children: V.charAt(0) }), c.jsx("span", { className: "font-bold text-lg", children: V })] }), i === V && c.jsx("i", { className: "fa-solid fa-check text-white" })] }, V))] }) })]
        })]
      }), c.jsxs("div", { className: "relative group", children: [c.jsxs("label", { className: "text-xs font-extrabold text-gray-400 uppercase tracking-widest mb-3 block ml-1 flex items-center gap-2", children: [c.jsx("i", { className: "fa-solid fa-magnifying-glass text-blue-500" }), a("lbl_reverse_lookup")] }), c.jsxs("div", { className: "relative", children: [c.jsx("div", { className: "absolute left-6 top-1/2 -translate-y-1/2 text-gray-400 text-xl z-10 group-focus-within:text-blue-500 transition-colors", children: c.jsx("i", { className: "fa-solid fa-search" }) }), c.jsx("input", { type: "text", value: l, onChange: V => f(V.target.value), placeholder: "Search test name (e.g. Strep)...", className: "w-full h-20 pl-14 pr-14 bg-white dark:bg-gray-800/60 border-2 border-white dark:border-gray-700 rounded-[1.5rem] font-bold text-xl text-gray-900 dark:text-white focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-all placeholder-gray-300 dark:placeholder-gray-600 shadow-lg" }), l && c.jsx("button", { onClick: () => f(""), className: "absolute right-5 top-1/2 -translate-y-1/2 w-10 h-10 flex items-center justify-center bg-gray-100 dark:bg-gray-700 rounded-full text-gray-500 hover:text-white hover:bg-red-500 dark:hover:bg-red-500 transition-all z-10", children: c.jsx("i", { className: "fa-solid fa-xmark text-sm" }) })] })] })]
    }), c.jsx("div", { className: "min-h-[400px]", children: i || l || R.length > 0 ? c.jsxs(c.Fragment, { children: [c.jsx("div", { className: "mb-6 flex justify-between items-end px-2 border-b border-gray-100 dark:border-gray-800 pb-2", children: c.jsxs("h3", { className: "text-sm font-bold text-gray-500 uppercase tracking-widest flex items-center gap-2", children: [c.jsx("span", { className: "w-2 h-2 rounded-full bg-emerald-500 animate-pulse" }), "Authorized Tests (", R.length, ")"] }) }), c.jsx("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6", children: R.length > 0 ? R.map(V => c.jsxs("div", { className: "group relative bg-white dark:bg-gray-900 rounded-[2rem] shadow-sm border border-gray-100 dark:border-gray-800 hover:shadow-xl hover:shadow-emerald-500/10 hover:-translate-y-1 transition-all duration-300 overflow-hidden flex flex-col h-full", children: [c.jsx("div", { className: "absolute top-0 left-0 right-0 h-1.5 bg-gradient-to-r from-emerald-500 to-teal-400" }), c.jsxs("div", { className: "p-6 pt-8 flex flex-col flex-1 h-full relative", children: [c.jsx("div", { className: "absolute top-0 right-0 p-6 opacity-5 pointer-events-none group-hover:opacity-10 transition-opacity", children: c.jsx("i", { className: "fa-solid fa-file-medical text-6xl text-emerald-500" }) }), j && c.jsxs("div", { className: "absolute top-3 right-3 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity z-20", children: [c.jsx("button", { onClick: () => H(V), className: "w-8 h-8 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-500 hover:bg-blue-500 hover:text-white flex items-center justify-center transition-colors", children: c.jsx("i", { className: "fa-solid fa-pen text-xs" }) }), c.jsx("button", { onClick: () => { window.confirm("Delete this rule?") && n(V.id) }, className: "w-8 h-8 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-500 hover:bg-red-500 hover:text-white flex items-center justify-center transition-colors", children: c.jsx("i", { className: "fa-solid fa-trash text-xs" }) })] }), c.jsxs("div", { className: "mb-4", children: [c.jsx("div", { className: "flex justify-between items-start mb-3", children: c.jsxs("span", { className: "inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400 text-[10px] font-black uppercase tracking-widest border border-emerald-100 dark:border-emerald-800/50", children: [c.jsx("i", { className: "fa-solid fa-check" }), " Authorized"] }) }), c.jsx("h3", { className: "text-xl font-black text-gray-900 dark:text-white leading-tight group-hover:text-emerald-600 dark:group-hover:text-emerald-400 transition-colors pr-2", children: V.testName })] }), !i && c.jsxs("div", { className: "flex flex-wrap gap-1 mb-6 mt-auto", children: [V.insurers.slice(0, 3).map(U => c.jsx("span", { className: "text-[9px] font-bold px-2 py-1 bg-gray-100 dark:bg-gray-800 text-gray-500 rounded-md border border-gray-200 dark:border-gray-700", children: U }, U)), V.insurers.length > 3 && c.jsxs("span", { className: "text-[9px] font-bold px-2 py-1 bg-gray-100 dark:bg-gray-800 text-gray-400 rounded-md border border-gray-200 dark:border-gray-700", children: ["+", V.insurers.length - 3] })] }), c.jsxs("div", { className: "mt-auto pt-5 border-t border-gray-100 dark:border-gray-800/50 flex items-center justify-between", children: [c.jsxs("div", { children: [c.jsx("div", { className: "text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-0.5", children: "CPT Code" }), c.jsx("div", { className: "text-3xl font-mono font-black text-gray-800 dark:text-gray-100 tracking-tighter", children: V.cpt })] }), c.jsx("button", { onClick: () => O(V.cpt), className: `w-12 h-12 rounded-2xl flex items-center justify-center transition-all shadow-sm ${d === V.cpt ? "bg-emerald-500 text-white shadow-emerald-500/30 scale-110" : "bg-gray-50 dark:bg-gray-800 text-gray-400 hover:text-emerald-500 hover:bg-emerald-50 dark:hover:bg-gray-700 border border-gray-100 dark:border-gray-700"}`, title: "Copy Code", children: c.jsx("i", { className: `fa-solid ${d === V.cpt ? "fa-check text-lg" : "fa-copy text-lg"}` }) })] })] })] }, V.id)) : c.jsxs("div", { className: "col-span-full py-24 text-center", children: [c.jsx("div", { className: "inline-block p-8 rounded-full bg-gray-50 dark:bg-gray-800 mb-6 animate-bounce-slow shadow-sm", children: c.jsx("i", { className: "fa-solid fa-file-circle-question text-5xl text-gray-300 dark:text-gray-600" }) }), c.jsx("h3", { className: "text-2xl font-bold text-gray-900 dark:text-white mb-2", children: "No permitted tests found" }), c.jsx("p", { className: "text-gray-500 dark:text-gray-400", children: "Try changing the insurance or search terms." })] }) })] }) : c.jsxs("div", { className: "flex flex-col items-center justify-center py-24 opacity-60", children: [c.jsxs("div", { className: "w-40 h-40 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900 rounded-full flex items-center justify-center mb-8 shadow-inner relative", children: [c.jsx("i", { className: "fa-solid fa-hand-holding-dollar text-7xl text-gray-300 dark:text-gray-600 relative z-10" }), c.jsx("div", { className: "absolute inset-0 bg-white/20 dark:bg-black/20 rounded-full blur-2xl" })] }), c.jsx("h3", { className: "text-3xl font-bold text-gray-900 dark:text-white mb-3 text-center", children: "Select an Insurance to Begin" }), c.jsxs("p", { className: "text-gray-500 dark:text-gray-400 text-xl max-w-lg text-center leading-relaxed", children: ["Choose an insurance provider from the dropdown above to see authorized ", c.jsx("span", { className: "font-bold text-emerald-600 dark:text-emerald-400", children: '"Bill to Client"' }), " tests and codes."] }), c.jsx("div", { className: "mt-8 animate-bounce", children: c.jsx("i", { className: "fa-solid fa-arrow-up text-gray-300 dark:text-gray-600 text-3xl" }) })] }) }), y && c.jsx("div", { className: "fixed inset-0 z-50 flex items-center justify-center p-4 bg-gray-900/60 backdrop-blur-sm", onClick: () => b(!1), children: c.jsxs("div", { className: "bg-white dark:bg-gray-900 rounded-3xl w-full max-w-lg p-8 shadow-2xl animate-fade-in-up border border-gray-100 dark:border-gray-800", onClick: V => V.stopPropagation(), children: [c.jsxs("div", { className: "flex justify-between items-center mb-6", children: [c.jsx("h3", { className: "text-2xl font-black text-gray-900 dark:text-white", children: C.id ? "Edit Billing Rule" : "New Billing Rule" }), c.jsx("button", { onClick: () => b(!1), className: "w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-800 text-gray-500 hover:text-red-500 flex items-center justify-center", children: c.jsx("i", { className: "fa-solid fa-xmark" }) })] }), c.jsxs("div", { className: "space-y-5", children: [c.jsxs("div", { children: [c.jsx("label", { className: "text-xs font-bold text-gray-500 uppercase tracking-wider block mb-2", children: "Test Name" }), c.jsx("input", { value: C.testName || "", onChange: V => T({ ...C, testName: V.target.value }), className: "w-full h-12 px-4 rounded-xl bg-gray-50 dark:bg-gray-800 border-none font-bold text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500/20 outline-none", placeholder: "e.g. Rapid Strep" })] }), c.jsxs("div", { children: [c.jsx("label", { className: "text-xs font-bold text-gray-500 uppercase tracking-wider block mb-2", children: "CPT Code" }), c.jsx("input", { value: C.cpt || "", onChange: V => T({ ...C, cpt: V.target.value }), className: "w-full h-12 px-4 rounded-xl bg-gray-50 dark:bg-gray-800 border-none font-mono font-bold text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500/20 outline-none", placeholder: "e.g. 87880" })] }), c.jsxs("div", { children: [c.jsx("label", { className: "text-xs font-bold text-gray-500 uppercase tracking-wider block mb-2", children: "Authorized Insurers" }), c.jsx("div", { className: "flex flex-wrap gap-2 max-h-32 overflow-y-auto custom-scrollbar p-1", children: V1.map(V => { var U; return c.jsx("button", { onClick: () => F(V), className: `px-3 py-1.5 rounded-lg text-xs font-bold border transition-all ${(U = C.insurers) != null && U.includes(V) ? "bg-emerald-600 text-white border-emerald-600" : "bg-white dark:bg-gray-800 text-gray-500 border-gray-200 dark:border-gray-700"}`, children: V }, V) }) })] })] }), c.jsxs("div", { className: "flex gap-3 mt-8", children: [c.jsx("button", { onClick: () => b(!1), className: "flex-1 h-12 rounded-xl font-bold text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors", children: "Cancel" }), c.jsx("button", { onClick: X, className: "flex-1 h-12 rounded-xl bg-emerald-600 text-white font-bold shadow-lg hover:bg-emerald-500 transition-colors", children: "Save Rule" })] })] }) }), _ && c.jsx("div", { className: "fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/70 backdrop-blur-md animate-fade-in", onClick: () => k(!1), children: c.jsxs("div", { className: "bg-white dark:bg-slate-900 rounded-[2rem] w-full max-w-2xl max-h-[95vh] shadow-2xl border border-white/20 dark:border-slate-800 overflow-hidden flex flex-col relative", onClick: V => V.stopPropagation(), children: [c.jsxs("div", { className: "h-20 bg-gradient-to-r from-blue-600 via-indigo-600 to-emerald-600 p-6 flex items-center justify-between flex-shrink-0", children: [c.jsxs("div", { children: [c.jsx("h3", { className: "text-xl font-black text-white tracking-tight", children: a("guide_title") }), c.jsx("p", { className: "text-blue-100 font-bold opacity-90 text-xs", children: a("guide_subtitle") })] }), c.jsx("div", { className: "w-10 h-10 rounded-xl bg-white/20 backdrop-blur-xl flex items-center justify-center text-white border border-white/30", children: c.jsx("i", { className: "fa-solid fa-lightbulb text-lg" }) })] }), c.jsxs("div", { className: "p-5 md:p-6 space-y-4 overflow-y-auto custom-scrollbar flex-1", children: [c.jsx("div", { className: "bg-emerald-50/50 dark:bg-emerald-900/10 p-4 rounded-xl border border-emerald-100/50 dark:border-emerald-800/30", children: c.jsxs("div", { className: "flex gap-3", children: [c.jsx("div", { className: "w-8 h-8 rounded-full bg-emerald-500 text-white flex-shrink-0 flex items-center justify-center shadow-md", children: c.jsx("i", { className: "fa-solid fa-shield-check text-xs" }) }), c.jsx("p", { className: "text-emerald-800 dark:text-emerald-400 font-bold leading-relaxed text-sm", children: a("guide_body") })] }) }), c.jsxs("div", { className: "bg-amber-50/50 dark:bg-amber-900/10 p-3 rounded-xl border border-amber-100/50 dark:border-amber-800/30 flex items-center gap-3", children: [c.jsx("i", { className: "fa-solid fa-circle-exclamation text-amber-600 dark:text-amber-400" }), c.jsx("p", { className: "text-[11px] md:text-xs font-black text-amber-700 dark:text-amber-400/90 leading-tight", children: a("guide_warning") })] }), c.jsxs("div", { children: [c.jsx("label", { className: "text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-3 block ml-1", children: a("guide_note_title") }), c.jsx("div", { className: "grid grid-cols-2 md:grid-cols-3 gap-3", children: V1.sort().map(V => c.jsxs("div", { className: "group relative p-3 bg-gray-50 dark:bg-slate-800/50 rounded-xl border border-gray-100 dark:border-slate-700/50 hover:border-blue-500/50 transition-all duration-200 flex items-center gap-3", children: [c.jsx("div", { className: `absolute left-0 top-0 bottom-0 w-1 transition-all group-hover:w-1.5 ${["Medicare", "Medicaid"].includes(V) ? "bg-emerald-500" : ["UHC", "BCBS"].includes(V) ? "bg-blue-500" : "bg-indigo-500"}` }), c.jsx("div", { className: "w-8 h-8 rounded-lg bg-white dark:bg-slate-700 flex items-center justify-center font-black text-sm text-gray-400 group-hover:bg-gray-900 group-hover:text-white dark:group-hover:bg-white dark:group-hover:text-slate-900 transition-all", children: V.charAt(0) }), c.jsx("span", { className: "font-black text-gray-900 dark:text-white text-sm tracking-tight group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors", children: V })] }, V)) })] })] }), c.jsx("div", { className: "p-4 bg-gray-50 dark:bg-gray-950/50 border-t border-gray-100 dark:border-gray-800 flex justify-end flex-shrink-0", children: c.jsx("button", { onClick: () => k(!1), className: "px-8 py-3 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-xl font-black text-xs uppercase tracking-widest hover:scale-105 active:scale-95 transition-all shadow-lg", children: a("btn_understood") }) })] }) })]
  })
}, HSe = ({ codes: e, groups: t, user: r, onSaveCode: n, onDeleteCode: a, onSaveGroup: i, onDeleteGroup: s, isLoadingCodes: l, canManage: f, t: d }) => {
  var B, ce, fe; const [h, m] = A.useState("search"), [g, v] = A.useState(""), [y, b] = A.useState(null), [_, k] = A.useState(!1), [C, T] = A.useState({}), [j, R] = A.useState(!1), [O, I] = A.useState({}), [H, F] = A.useState(""), [X, V] = A.useState(null), [U, ee] = A.useState(""), re = f, de = A.useMemo(() => { const le = g.toLowerCase(), oe = e.filter(Ie => Ie.name.toLowerCase().includes(le) || Ie.cptCode.toLowerCase().includes(le) || Ie.labCode.toLowerCase().includes(le)), pe = t.filter(Ie => Ie.name.toLowerCase().includes(le)); return { codes: oe, groups: pe } }, [e, t, g]), D = A.useMemo(() => { const le = H.toLowerCase(); return le ? e.filter(oe => oe.name.toLowerCase().includes(le) || oe.cptCode.includes(le)).slice(0, 10) : [] }, [e, H]), z = A.useMemo(() => { if (!X) return []; const le = X.codeIds.map(pe => e.find(Ie => Ie.id === pe)).filter(Boolean); if (!U) return le; const oe = U.toLowerCase(); return le.filter(pe => pe.name.toLowerCase().includes(oe) || pe.cptCode.includes(oe) || pe.labCode.includes(oe) || pe.adminCode.includes(oe)) }, [X, e, U]), ie = le => { le && (navigator.clipboard.writeText(le), b(le), setTimeout(() => b(null), 1500)) }, M = le => { T(le || { name: "", cptCode: "", labCode: "", adminCode: "" }), k(!0) }, te = () => { C.name && (n({ id: C.id || "", name: C.name || "", cptCode: C.cptCode || "", labCode: C.labCode || "", adminCode: C.adminCode || "" }), k(!1)) }, G = le => { I(le || { name: "", description: "", codeIds: [] }), F(""), R(!0) }, P = () => { O.name && (i({ id: O.id || "", name: O.name || "", description: O.description || "", codeIds: O.codeIds || [] }), R(!1)) }, W = le => { const oe = O.codeIds || []; oe.includes(le) ? I({ ...O, codeIds: oe.filter(pe => pe !== le) }) : I({ ...O, codeIds: [...oe, le] }) }, J = () => {
    if (!X) return; const le = window.open("", "_blank"); if (!le) return; const oe = X.codeIds.map(pe => e.find(Ie => Ie.id === pe)).filter(Boolean); le.document.write(`
        <html>
          <head>
            <title>Panel: ${X.name}</title>
            <style>
              body { font-family: sans-serif; padding: 20px; }
              h1 { border-bottom: 2px solid #333; padding-bottom: 10px; }
              table { width: 100%; border-collapse: collapse; margin-top: 20px; }
              th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
              th { background-color: #f2f2f2; }
            </style>
          </head>
          <body>
            <h1>${X.name}</h1>
            <p>${X.description || ""}</p>
            <table>
              <thead>
                <tr>
                  <th>Procedure Name</th>
                  <th>CPT Code</th>
                  <th>Lab Code</th>
                  <th>Admin Code</th>
                </tr>
              </thead>
              <tbody>
                ${oe.map(pe => `
                  <tr>
                    <td><strong>${pe.name}</strong></td>
                    <td>${pe.cptCode || "-"}</td>
                    <td>${pe.labCode || "-"}</td>
                    <td>${pe.adminCode || "-"}</td>
                  </tr>
                `).join("")}
              </tbody>
            </table>
            <script>window.print();<\/script>
          </body>
        </html>
      `), le.document.close()
  }; return c.jsxs("div", { className: "space-y-8 pb-20 animate-fade-in-up max-w-7xl mx-auto", children: [c.jsxs("header", { className: "flex flex-col md:flex-row md:items-center justify-between gap-6", children: [c.jsx("div", { children: c.jsxs("div", { className: "flex items-center gap-4", children: [c.jsx("div", { className: "w-12 h-12 rounded-2xl bg-medical-500 flex items-center justify-center text-white shadow-lg shadow-medical-500/20", children: c.jsx("i", { className: "fa-solid fa-list-ol text-xl" }) }), c.jsxs("div", { children: [c.jsx("h2", { className: "text-display text-slate-900 dark:text-white", children: "Medical Codes" }), c.jsx("p", { className: "text-caption mt-0.5", children: "Registry for Procedures and Exam Panels." })] })] }) }), c.jsxs("div", { className: "glass-panel p-1.5 rounded-2xl flex shadow-sm", children: [c.jsx("button", { onClick: () => m("search"), className: `px-6 py-3 rounded-xl text-sm font-bold transition-all ${h === "search" ? "bg-white dark:bg-slate-800 shadow-sm text-medical-600 dark:text-medical-400" : "text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`, children: "Browse & Search" }), c.jsx("button", { onClick: () => m("groups"), className: `px-6 py-3 rounded-xl text-sm font-bold transition-all ${h === "groups" ? "bg-white dark:bg-slate-800 shadow-sm text-purple-600 dark:text-purple-400" : "text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`, children: "Panel Management" })] })] }), h === "search" && c.jsxs(c.Fragment, { children: [c.jsxs("div", { className: "flex gap-4", children: [c.jsx("div", { className: "glass-panel p-3 rounded-[2rem] luxury-shadow flex-1 transition-all border-white/50 dark:border-slate-800/80", children: c.jsxs("div", { className: "relative group", children: [c.jsx("div", { className: "absolute left-6 top-1/2 -translate-y-1/2 pointer-events-none transition-transform group-focus-within:scale-110", children: c.jsx("i", { className: "fa-solid fa-magnifying-glass text-xl text-slate-400 group-focus-within:text-medical-500 transition-colors" }) }), c.jsx("input", { type: "text", value: g, onChange: le => v(le.target.value), placeholder: "Search Panels, CPT, Lab, or Admin codes...", className: "w-full pl-16 pr-12 h-14 bg-slate-50/50 dark:bg-slate-900/50 text-slate-900 dark:text-white focus:outline-none font-bold text-lg placeholder-slate-400 rounded-[1.5rem] border-none focus:ring-4 ring-medical-500/10 transition-all" }), g && c.jsx("button", { onClick: () => v(""), className: "absolute right-4 top-1/2 -translate-y-1/2 w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-800 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center justify-center transition-all", children: c.jsx("i", { className: "fa-solid fa-xmark" }) })] }) }), re && c.jsx("button", { onClick: () => M(), className: "h-14 w-14 rounded-2xl bg-medical-600 hover:bg-medical-500 text-white shadow-xl shadow-medical-500/30 flex items-center justify-center transition-all hover:scale-105 active:scale-95", title: "Add Single Code", children: c.jsx("i", { className: "fa-solid fa-plus text-xl" }) })] }), c.jsx("div", { className: "flex justify-between items-end px-2", children: c.jsxs("h3", { className: "text-sm font-bold text-gray-500 uppercase tracking-widest flex items-center gap-2", children: [c.jsx("span", { className: "w-2 h-2 rounded-full bg-cyan-500 animate-pulse" }), de.groups.length + de.codes.length, " Results Found"] }) }), c.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-6", children: [de.groups.map(le => c.jsxs("div", { onClick: () => { V(le), ee("") }, className: "group relative bg-white dark:bg-gray-900 rounded-[2rem] p-0 shadow-md border-2 border-purple-100 dark:border-purple-900/30 hover:border-purple-300 dark:hover:border-purple-700 hover:shadow-xl hover:-translate-y-1 transition-all duration-300 flex flex-col h-full overflow-hidden cursor-pointer", children: [c.jsxs("div", { className: "bg-purple-50 dark:bg-purple-900/20 p-6 border-b border-purple-100 dark:border-purple-800/50 relative", children: [c.jsxs("div", { className: "flex justify-between items-start mb-1", children: [c.jsxs("div", { children: [c.jsx("div", { className: "flex items-center gap-2 mb-2", children: c.jsx("span", { className: "px-2 py-0.5 rounded-md bg-purple-200 dark:bg-purple-800 text-purple-800 dark:text-purple-200 text-[10px] font-bold uppercase tracking-wider", children: "Exam Panel" }) }), c.jsx("h3", { className: "text-xl font-black text-gray-900 dark:text-white leading-tight pr-8", children: le.name }), le.description && c.jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400 mt-1", children: le.description })] }), c.jsxs("div", { className: "text-right", children: [c.jsx("div", { className: "text-2xl font-black text-purple-600 dark:text-purple-400", children: le.codeIds.length }), c.jsx("div", { className: "text-[9px] font-bold text-gray-400 uppercase", children: "Tests" })] })] }), re && c.jsxs("div", { className: "absolute top-4 right-4 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity bg-white/80 dark:bg-black/80 backdrop-blur-sm rounded-lg p-1", children: [c.jsx("button", { onClick: oe => { oe.stopPropagation(), G(le) }, className: "w-8 h-8 flex items-center justify-center rounded-md text-blue-500 hover:bg-blue-100 dark:hover:bg-blue-900/50", title: "Edit Panel", children: c.jsx("i", { className: "fa-solid fa-pen" }) }), c.jsx("button", { onClick: oe => { oe.stopPropagation(), window.confirm("Delete this panel?") && s(le.id) }, className: "w-8 h-8 flex items-center justify-center rounded-md text-red-500 hover:bg-red-100 dark:hover:bg-red-900/50", title: "Delete Panel", children: c.jsx("i", { className: "fa-solid fa-trash" }) })] })] }), c.jsx("div", { className: "p-4 flex-1 bg-white dark:bg-gray-900 overflow-y-auto max-h-[300px] custom-scrollbar space-y-3", children: le.codeIds.map(oe => { const pe = e.find(Ie => Ie.id === oe); return pe ? c.jsxs("div", { className: "border-b border-gray-100 dark:border-gray-800 pb-2 last:border-0 last:pb-0", children: [c.jsx("div", { className: "flex justify-between items-start", children: c.jsx("span", { className: "text-sm font-bold text-gray-800 dark:text-gray-200 leading-snug", children: pe.name }) }), c.jsxs("div", { className: "flex flex-wrap gap-2 mt-2", children: [pe.cptCode && c.jsxs("div", { className: "group/chip flex items-center gap-1 bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-[10px] cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors", onClick: Ie => { Ie.stopPropagation(), ie(pe.cptCode) }, children: [c.jsx("span", { className: "text-gray-400 font-bold", children: "CPT:" }), c.jsx("span", { className: "font-mono font-bold text-gray-700 dark:text-gray-300", children: pe.cptCode }), c.jsx("i", { className: "fa-regular fa-copy ml-1 opacity-0 group-hover/chip:opacity-100 text-gray-400" })] }), pe.labCode && c.jsxs("div", { className: "group/chip flex items-center gap-1 bg-blue-50 dark:bg-blue-900/20 px-2 py-1 rounded text-[10px] cursor-pointer hover:bg-blue-100 dark:hover:bg-blue-900/40 transition-colors", onClick: Ie => { Ie.stopPropagation(), ie(pe.labCode) }, children: [c.jsx("span", { className: "text-blue-400 font-bold", children: "LAB:" }), c.jsx("span", { className: "font-mono font-bold text-blue-700 dark:text-blue-300", children: pe.labCode }), c.jsx("i", { className: "fa-regular fa-copy ml-1 opacity-0 group-hover/chip:opacity-100 text-blue-400" })] }), pe.adminCode && c.jsxs("div", { className: "group/chip flex items-center gap-1 bg-purple-50 dark:bg-purple-900/20 px-2 py-1 rounded text-[10px] cursor-pointer hover:bg-purple-100 dark:hover:bg-purple-900/40 transition-colors", onClick: Ie => { Ie.stopPropagation(), ie(pe.adminCode) }, children: [c.jsx("span", { className: "text-purple-400 font-bold", children: "ADM:" }), c.jsx("span", { className: "font-mono font-bold text-purple-700 dark:text-purple-300", children: pe.adminCode }), c.jsx("i", { className: "fa-regular fa-copy ml-1 opacity-0 group-hover/chip:opacity-100 text-purple-400" })] })] })] }, oe) : null }) })] }, le.id)), de.codes.map(le => c.jsxs("div", { className: "group relative bg-white dark:bg-gray-900 rounded-[2rem] p-6 shadow-sm border border-gray-100 dark:border-gray-800 hover:shadow-xl hover:shadow-cyan-500/10 hover:-translate-y-1 transition-all duration-300 flex flex-col h-full min-h-[200px]", children: [c.jsxs("div", { className: "flex justify-between items-start mb-4", children: [c.jsx("h3", { className: "text-xl font-black text-gray-900 dark:text-white leading-tight group-hover:text-cyan-600 dark:group-hover:text-cyan-400 transition-colors pr-2", children: le.name }), re && c.jsxs("div", { className: "flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity", children: [c.jsx("button", { onClick: () => M(le), className: "text-gray-400 hover:text-blue-500", children: c.jsx("i", { className: "fa-solid fa-pen" }) }), c.jsx("button", { onClick: () => { window.confirm("Delete code?") && a(le.id) }, className: "text-gray-400 hover:text-red-500", children: c.jsx("i", { className: "fa-solid fa-trash" }) })] })] }), c.jsxs("div", { className: "space-y-3 mt-auto", children: [c.jsxs("div", { className: "flex justify-between items-center p-3 rounded-xl bg-gray-50 dark:bg-gray-800/50 border border-gray-100 dark:border-gray-700/50", children: [c.jsx("span", { className: "text-xs font-extrabold text-gray-400 uppercase tracking-wider", children: "CPT Code" }), c.jsxs("div", { className: "flex items-center gap-2", children: [c.jsx("span", { className: "font-mono font-black text-lg text-gray-800 dark:text-gray-100", children: le.cptCode || c.jsx("span", { className: "text-gray-300 italic text-sm", children: "N/A" }) }), le.cptCode && c.jsx("button", { onClick: () => ie(le.cptCode), className: "text-gray-400 hover:text-cyan-500 transition-colors", title: "Copy CPT", children: c.jsx("i", { className: `fa-solid ${y === le.cptCode ? "fa-check text-green-500" : "fa-copy"}` }) })] })] }), le.labCode && c.jsxs("div", { className: "flex justify-between items-center p-3 rounded-xl bg-blue-50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-900/30", children: [c.jsx("span", { className: "text-xs font-extrabold text-blue-400 uppercase tracking-wider", children: "Lab Code" }), c.jsxs("div", { className: "flex items-center gap-2", children: [c.jsx("span", { className: "font-mono font-black text-lg text-blue-700 dark:text-blue-300", children: le.labCode }), c.jsx("button", { onClick: () => ie(le.labCode), className: "text-blue-300 hover:text-blue-500 transition-colors", title: "Copy Lab Code", children: c.jsx("i", { className: `fa-solid ${y === le.labCode ? "fa-check text-green-500" : "fa-copy"}` }) })] })] }), le.adminCode && c.jsxs("div", { className: "flex justify-between items-center p-3 rounded-xl bg-purple-50 dark:bg-purple-900/10 border border-purple-100 dark:border-purple-900/30", children: [c.jsx("span", { className: "text-xs font-extrabold text-purple-400 uppercase tracking-wider", children: "Admin Code" }), c.jsxs("div", { className: "flex items-center gap-2", children: [c.jsx("span", { className: "font-mono font-black text-lg text-purple-700 dark:text-purple-300", children: le.adminCode }), c.jsx("button", { onClick: () => ie(le.adminCode), className: "text-purple-300 hover:text-purple-500 transition-colors", title: "Copy Admin Code", children: c.jsx("i", { className: `fa-solid ${y === le.adminCode ? "fa-check text-green-500" : "fa-copy"}` }) })] })] })] })] }, le.id)), de.codes.length === 0 && de.groups.length === 0 && c.jsxs("div", { className: "col-span-full py-24 text-center", children: [c.jsx("div", { className: "inline-block p-8 rounded-full bg-gray-50 dark:bg-gray-800 mb-6 animate-bounce-slow shadow-sm", children: c.jsx("i", { className: "fa-solid fa-magnifying-glass text-5xl text-gray-300 dark:text-gray-600" }) }), c.jsx("h3", { className: "text-2xl font-bold text-gray-900 dark:text-white mb-2", children: "No codes or panels found" }), c.jsx("p", { className: "text-gray-500 dark:text-gray-400", children: "Try adjusting your search criteria." })] })] })] }), h === "groups" && c.jsxs("div", { className: "space-y-6", children: [re && c.jsxs("button", { onClick: () => G(), className: "w-full h-16 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-2xl font-bold shadow-lg flex items-center justify-center gap-3 transition-all hover:scale-[1.01]", children: [c.jsx("i", { className: "fa-solid fa-layer-group" }), " Create New Panel / Group"] }), c.jsx("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6", children: t.length === 0 ? c.jsxs("div", { className: "col-span-full text-center py-20 bg-gray-50 dark:bg-gray-900 rounded-3xl border border-dashed border-gray-300 dark:border-gray-700", children: [c.jsx("i", { className: "fa-solid fa-boxes-stacked text-4xl text-gray-300 mb-4" }), c.jsx("p", { className: "font-bold text-gray-500", children: "No Exam Panels Created Yet" })] }) : t.map(le => c.jsxs("div", { onClick: () => { V(le), ee("") }, className: "bg-white dark:bg-gray-900 rounded-[2rem] p-6 shadow-sm border border-gray-100 dark:border-gray-800 cursor-pointer hover:shadow-md transition-all duration-300 group", children: [c.jsxs("div", { className: "flex justify-between items-start mb-4", children: [c.jsxs("div", { children: [c.jsx("h3", { className: "text-2xl font-black text-gray-900 dark:text-white group-hover:text-purple-600 dark:group-hover:text-purple-400 transition-colors", children: le.name }), le.description && c.jsx("p", { className: "text-gray-500 dark:text-gray-400 mt-1", children: le.description })] }), re && c.jsxs("div", { className: "flex gap-2", children: [c.jsx("button", { onClick: oe => { oe.stopPropagation(), G(le) }, className: "w-10 h-10 bg-gray-100 dark:bg-gray-800 rounded-xl hover:bg-blue-500 hover:text-white transition-colors text-gray-500", children: c.jsx("i", { className: "fa-solid fa-pen" }) }), c.jsx("button", { onClick: oe => { oe.stopPropagation(), window.confirm("Delete group?") && s(le.id) }, className: "w-10 h-10 bg-gray-100 dark:bg-gray-800 rounded-xl hover:bg-red-500 hover:text-white transition-colors text-gray-500", children: c.jsx("i", { className: "fa-solid fa-trash" }) })] })] }), c.jsx("div", { className: "grid grid-cols-1 gap-2 bg-gray-50 dark:bg-gray-800/50 p-4 rounded-2xl max-h-[200px] overflow-y-auto custom-scrollbar", children: le.codeIds.map(oe => { const pe = e.find(Ie => Ie.id === oe); return pe ? c.jsxs("div", { className: "flex justify-between items-center text-sm", children: [c.jsx("span", { className: "font-bold text-gray-700 dark:text-gray-300 truncate pr-2 w-2/3", children: pe.name }), c.jsx("span", { className: "font-mono text-xs text-gray-400", children: pe.cptCode })] }, oe) : null }) })] }, le.id)) })] }), _ && c.jsx("div", { className: "fixed inset-0 z-50 flex items-center justify-center p-4 bg-gray-900/60 backdrop-blur-sm", onClick: () => k(!1), children: c.jsxs("div", { className: "bg-white dark:bg-gray-900 rounded-3xl w-full max-w-lg p-6 shadow-2xl animate-fade-in-up border border-gray-100 dark:border-gray-800", onClick: le => le.stopPropagation(), children: [c.jsx("h3", { className: "text-2xl font-black text-gray-900 dark:text-white mb-6", children: C.id ? "Edit Code" : "Add New Code" }), c.jsxs("div", { className: "space-y-4", children: [c.jsxs("div", { children: [c.jsx("label", { className: "text-xs font-bold text-gray-500 uppercase", children: "Procedure Name" }), c.jsx("input", { value: C.name || "", onChange: le => T({ ...C, name: le.target.value }), className: "w-full h-12 px-4 rounded-xl bg-gray-50 dark:bg-gray-800 border-none font-bold text-gray-900 dark:text-white focus:ring-2 focus:ring-cyan-500/20", placeholder: "e.g. Rapid Strep" })] }), c.jsxs("div", { children: [c.jsx("label", { className: "text-xs font-bold text-gray-500 uppercase", children: "CPT Code" }), c.jsx("input", { value: C.cptCode || "", onChange: le => T({ ...C, cptCode: le.target.value }), className: "w-full h-12 px-4 rounded-xl bg-gray-50 dark:bg-gray-800 border-none font-bold font-mono text-gray-900 dark:text-white focus:ring-2 focus:ring-cyan-500/20", placeholder: "e.g. 87880" })] }), c.jsxs("div", { className: "flex gap-4", children: [c.jsxs("div", { className: "flex-1", children: [c.jsx("label", { className: "text-xs font-bold text-gray-500 uppercase", children: "Lab Code" }), c.jsx("input", { value: C.labCode || "", onChange: le => T({ ...C, labCode: le.target.value }), className: "w-full h-12 px-4 rounded-xl bg-gray-50 dark:bg-gray-800 border-none font-bold font-mono text-gray-900 dark:text-white focus:ring-2 focus:ring-cyan-500/20" })] }), c.jsxs("div", { className: "flex-1", children: [c.jsx("label", { className: "text-xs font-bold text-gray-500 uppercase", children: "Admin Code" }), c.jsx("input", { value: C.adminCode || "", onChange: le => T({ ...C, adminCode: le.target.value }), className: "w-full h-12 px-4 rounded-xl bg-gray-50 dark:bg-gray-800 border-none font-bold font-mono text-gray-900 dark:text-white focus:ring-2 focus:ring-cyan-500/20" })] })] })] }), c.jsxs("div", { className: "flex gap-3 mt-8", children: [c.jsx("button", { disabled: l, onClick: () => k(!1), className: "flex-1 h-12 rounded-xl bg-gray-100 dark:bg-gray-800 font-bold text-gray-600 dark:text-gray-300", children: "Cancel" }), c.jsxs("button", { disabled: l, onClick: te, className: "flex-1 h-12 rounded-xl bg-cyan-600 hover:bg-cyan-500 text-white font-bold shadow-lg flex justify-center items-center gap-2", children: [l ? c.jsx("i", { className: "fa-solid fa-spinner fa-spin" }) : null, "Save"] })] })] }) }), j && c.jsx("div", { className: "fixed inset-0 z-50 flex items-center justify-center p-4 bg-gray-900/60 backdrop-blur-sm", onClick: () => R(!1), children: c.jsxs("div", { className: "bg-white dark:bg-gray-900 rounded-3xl w-full max-w-4xl p-8 shadow-2xl animate-fade-in-up border border-gray-100 dark:border-gray-800 flex flex-col max-h-[90vh]", onClick: le => le.stopPropagation(), children: [c.jsx("h3", { className: "text-3xl font-black text-gray-900 dark:text-white mb-6", children: O.id ? "Edit Panel" : "Create New Panel" }), c.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6 mb-6", children: [c.jsxs("div", { children: [c.jsx("label", { className: "text-xs font-bold text-gray-500 uppercase mb-2 block", children: "Panel Name" }), c.jsx("input", { value: O.name || "", onChange: le => I({ ...O, name: le.target.value }), className: "w-full h-14 px-5 rounded-2xl bg-gray-50 dark:bg-gray-800 border-none font-bold text-xl text-gray-900 dark:text-white focus:ring-4 focus:ring-purple-500/10 placeholder-gray-400", placeholder: "e.g. Routine Labs" })] }), c.jsxs("div", { children: [c.jsx("label", { className: "text-xs font-bold text-gray-500 uppercase mb-2 block", children: "Description (Optional)" }), c.jsx("input", { value: O.description || "", onChange: le => I({ ...O, description: le.target.value }), className: "w-full h-14 px-5 rounded-2xl bg-gray-50 dark:bg-gray-800 border-none font-bold text-lg text-gray-900 dark:text-white focus:ring-4 focus:ring-purple-500/10 placeholder-gray-400", placeholder: "Short description" })] })] }), c.jsxs("div", { className: "flex-1 overflow-hidden flex flex-col min-h-0 bg-gray-50 dark:bg-gray-950 rounded-3xl border border-gray-200 dark:border-gray-800", children: [c.jsxs("div", { className: "p-4 border-b border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-900", children: [c.jsxs("div", { className: "relative", children: [c.jsx("i", { className: "fa-solid fa-magnifying-glass absolute left-4 top-3.5 text-gray-400" }), c.jsx("input", { value: H, onChange: le => F(le.target.value), className: "w-full h-12 pl-12 pr-4 bg-gray-100 dark:bg-gray-800 rounded-xl text-base font-bold outline-none text-gray-900 dark:text-white placeholder-gray-500 focus:ring-2 focus:ring-purple-500/50 transition-all", placeholder: "Search codes to add..." })] }), H && c.jsx("div", { className: "mt-4 space-y-2 max-h-[300px] overflow-y-auto custom-scrollbar pr-2", children: D.map(le => { var oe, pe, Ie; return c.jsxs("div", { className: "flex justify-between items-center p-3 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 hover:border-purple-300 transition-colors", children: [c.jsxs("div", { className: "flex-1 min-w-0 mr-3", children: [c.jsx("div", { className: "font-bold text-base text-gray-900 dark:text-white", children: le.name }), c.jsxs("div", { className: "flex flex-wrap gap-2 mt-1", children: [le.cptCode && c.jsxs("span", { className: "px-2 py-0.5 rounded bg-gray-100 dark:bg-gray-700 text-xs font-mono font-bold text-gray-600 dark:text-gray-300", children: ["CPT: ", le.cptCode] }), le.labCode && c.jsxs("span", { className: "px-2 py-0.5 rounded bg-blue-50 dark:bg-blue-900/30 text-xs font-mono font-bold text-blue-600 dark:text-blue-400", children: ["LAB: ", le.labCode] }), le.adminCode && c.jsxs("span", { className: "px-2 py-0.5 rounded bg-purple-50 dark:bg-purple-900/30 text-xs font-mono font-bold text-purple-600 dark:text-purple-400", children: ["ADM: ", le.adminCode] })] })] }), c.jsx("button", { onClick: () => { W(le.id), F("") }, disabled: (oe = O.codeIds) == null ? void 0 : oe.includes(le.id), className: `h-10 px-4 rounded-xl font-bold text-sm transition-all ${(pe = O.codeIds) != null && pe.includes(le.id) ? "bg-green-100 text-green-700 cursor-default" : "bg-purple-600 text-white hover:bg-purple-500 shadow-md transform active:scale-95"}`, children: (Ie = O.codeIds) != null && Ie.includes(le.id) ? "Added" : "Add" })] }, le.id) }) })] }), c.jsxs("div", { className: "flex-1 overflow-y-auto p-4 space-y-3 custom-scrollbar", children: [c.jsxs("div", { className: "flex justify-between items-center mb-2 px-1", children: [c.jsxs("span", { className: "text-xs font-extrabold text-gray-400 uppercase tracking-widest", children: ["Selected Codes (", ((B = O.codeIds) == null ? void 0 : B.length) || 0, ")"] }), ((ce = O.codeIds) == null ? void 0 : ce.length) === 0 && c.jsx("span", { className: "text-xs text-gray-400 italic", children: "List is empty" })] }), (fe = O.codeIds) == null ? void 0 : fe.map(le => { const oe = e.find(pe => pe.id === le); return oe ? c.jsxs("div", { className: "flex flex-col md:flex-row md:items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 hover:border-purple-300 transition-colors gap-4 animate-fade-in-up", children: [c.jsxs("div", { className: "flex-1", children: [c.jsx("div", { className: "text-xl md:text-2xl font-black text-gray-900 dark:text-white mb-3", children: oe.name }), c.jsxs("div", { className: "flex flex-wrap gap-3", children: [oe.cptCode && c.jsxs("div", { className: "group/chip flex items-center gap-3 bg-gray-100 dark:bg-gray-700 px-4 py-2 rounded-xl cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors border border-gray-200 dark:border-gray-600", onClick: () => ie(oe.cptCode), children: [c.jsx("span", { className: "text-xs font-bold text-gray-500 uppercase tracking-wider", children: "CPT" }), c.jsx("span", { className: "font-mono font-black text-gray-800 dark:text-gray-200 text-lg", children: oe.cptCode }), c.jsx("i", { className: "fa-regular fa-copy opacity-0 group-hover/chip:opacity-100 text-gray-400 transition-opacity" })] }), oe.labCode && c.jsxs("div", { className: "group/chip flex items-center gap-3 bg-blue-50 dark:bg-blue-900/20 px-4 py-2 rounded-xl cursor-pointer hover:bg-blue-100 dark:hover:bg-blue-900/40 transition-colors border border-blue-100 dark:border-blue-900/30", onClick: () => ie(oe.labCode), children: [c.jsx("span", { className: "text-xs font-bold text-blue-500 uppercase tracking-wider", children: "LAB" }), c.jsx("span", { className: "font-mono font-black text-blue-700 dark:text-blue-300 text-lg", children: oe.labCode }), c.jsx("i", { className: "fa-regular fa-copy opacity-0 group-hover/chip:opacity-100 text-blue-400 transition-opacity" })] }), oe.adminCode && c.jsxs("div", { className: "group/chip flex items-center gap-3 bg-purple-50 dark:bg-purple-900/20 px-4 py-2 rounded-xl cursor-pointer hover:bg-purple-100 dark:hover:bg-purple-900/40 transition-colors border border-purple-100 dark:border-purple-900/30", onClick: () => ie(oe.adminCode), children: [c.jsx("span", { className: "text-xs font-bold text-purple-500 uppercase tracking-wider", children: "ADM" }), c.jsx("span", { className: "font-mono font-black text-purple-700 dark:text-purple-300 text-lg", children: oe.adminCode }), c.jsx("i", { className: "fa-regular fa-copy opacity-0 group-hover/chip:opacity-100 text-purple-400 transition-opacity" })] })] })] }), c.jsx("button", { onClick: () => W(le), className: "self-start md:self-center w-12 h-12 rounded-xl bg-red-50 dark:bg-red-900/10 text-red-500 hover:bg-red-100 dark:hover:bg-red-900/30 flex items-center justify-center transition-colors", title: "Remove from panel", children: c.jsx("i", { className: "fa-solid fa-xmark text-xl" }) })] }, le) : null })] })] }), c.jsxs("div", { className: "flex gap-4 mt-8 pt-4 border-t border-gray-100 dark:border-gray-800", children: [c.jsx("button", { disabled: l, onClick: () => R(!1), className: "flex-1 h-14 rounded-2xl border-2 border-gray-100 dark:border-gray-800 font-bold text-gray-500 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors", children: "Cancel" }), c.jsxs("button", { disabled: l, onClick: P, className: "flex-1 h-14 rounded-2xl bg-purple-600 hover:bg-purple-500 text-white font-bold shadow-xl shadow-purple-500/20 transition-transform hover:scale-[1.01] flex justify-center items-center gap-2", children: [l ? c.jsx("i", { className: "fa-solid fa-spinner fa-spin" }) : null, "Save Panel"] })] })] }) }), X && c.jsx("div", { className: "fixed inset-0 z-50 flex items-center justify-center p-4 bg-gray-900/60 backdrop-blur-sm", onClick: () => V(null), children: c.jsxs("div", { className: "bg-white dark:bg-gray-900 rounded-[2.5rem] w-full max-w-3xl shadow-2xl animate-fade-in-up border border-gray-100 dark:border-gray-800 overflow-hidden flex flex-col max-h-[85vh] relative", onClick: le => le.stopPropagation(), children: [c.jsxs("div", { className: "bg-purple-600 p-8 relative overflow-hidden flex-shrink-0", children: [c.jsx("div", { className: "absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none" }), c.jsx("button", { onClick: () => V(null), className: "absolute top-6 right-6 w-10 h-10 rounded-full bg-black/20 text-white hover:bg-black/40 flex items-center justify-center transition-colors backdrop-blur-sm z-20", children: c.jsx("i", { className: "fa-solid fa-xmark text-lg" }) }), c.jsxs("div", { className: "relative z-10", children: [c.jsxs("div", { className: "flex items-center gap-3 mb-4", children: [c.jsxs("div", { className: "inline-flex items-center gap-2 px-3 py-1 rounded-lg bg-white/20 backdrop-blur-md text-white text-xs font-bold uppercase tracking-wider", children: [c.jsx("i", { className: "fa-solid fa-layer-group" }), " Exam Panel"] }), c.jsxs("button", { onClick: J, className: "flex items-center gap-2 px-3 py-1 rounded-lg bg-white/10 hover:bg-white/20 text-white text-xs font-bold uppercase tracking-wider transition-colors backdrop-blur-md border border-white/10", title: "Print Panel Details", children: [c.jsx("i", { className: "fa-solid fa-print" }), " Print List"] })] }), c.jsx("h2", { className: "text-4xl font-black text-white mb-2 tracking-tight pr-12", children: X.name }), X.description && c.jsx("p", { className: "text-purple-100 text-lg font-medium pr-12", children: X.description })] })] }), c.jsxs("div", { className: "px-8 py-4 border-b border-gray-100 dark:border-gray-800 bg-gray-50/50 dark:bg-gray-900/50 flex flex-col md:flex-row justify-between items-center gap-4 flex-shrink-0", children: [c.jsxs("div", { className: "relative w-full md:w-auto flex-1", children: [c.jsx("i", { className: "fa-solid fa-search absolute left-3 top-3 text-gray-400" }), c.jsx("input", { type: "text", value: U, onChange: le => ee(le.target.value), placeholder: `Search ${X.codeIds.length} codes...`, className: "w-full pl-10 pr-4 py-2 rounded-xl bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-500/20 text-gray-900 dark:text-white font-bold text-sm" })] }), re && c.jsxs("button", { onClick: () => { I(X), F(""), R(!0), V(null) }, className: "px-4 py-2 rounded-xl bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-300 font-bold text-xs hover:bg-purple-100 dark:hover:bg-purple-900/40 transition-colors flex items-center gap-2 whitespace-nowrap", children: [c.jsx("i", { className: "fa-solid fa-pen" }), " Edit Panel"] })] }), c.jsx("div", { className: "p-6 overflow-y-auto custom-scrollbar bg-white dark:bg-gray-900 space-y-3 flex-1 min-h-0", children: z.length === 0 ? c.jsxs("div", { className: "text-center py-10 text-gray-400", children: ['No codes found matching "', U, '"'] }) : z.map((le, oe) => c.jsxs("div", { className: `p-5 rounded-2xl border border-gray-100 dark:border-gray-700 transition-colors group ${oe % 2 === 0 ? "bg-gray-50/50 dark:bg-gray-800/30" : "bg-white dark:bg-gray-800/10"} hover:border-purple-300 dark:hover:border-purple-700`, children: [c.jsx("div", { className: "flex justify-between items-start mb-3", children: c.jsx("h4", { className: "text-xl font-bold text-gray-900 dark:text-white", children: le.name }) }), c.jsxs("div", { className: "flex flex-wrap gap-3", children: [le.cptCode && c.jsxs("div", { className: "flex items-center gap-3 bg-white dark:bg-gray-800 px-4 py-2 rounded-xl border border-gray-200 dark:border-gray-600 shadow-sm cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors", onClick: () => ie(le.cptCode), children: [c.jsx("span", { className: "text-[10px] font-bold text-gray-400 uppercase tracking-wider", children: "CPT" }), c.jsx("span", { className: "font-mono font-black text-gray-900 dark:text-white text-lg", children: le.cptCode }), c.jsx("i", { className: "fa-regular fa-copy text-gray-300 text-xs ml-1" })] }), le.labCode && c.jsxs("div", { className: "flex items-center gap-3 bg-blue-50 dark:bg-blue-900/20 px-4 py-2 rounded-xl border border-blue-100 dark:border-blue-900/30 shadow-sm cursor-pointer hover:bg-blue-100 dark:hover:bg-blue-900/40 transition-colors", onClick: () => ie(le.labCode), children: [c.jsx("span", { className: "text-[10px] font-bold text-blue-500 uppercase tracking-wider", children: "LAB" }), c.jsx("span", { className: "font-mono font-black text-blue-700 dark:text-blue-300 text-lg", children: le.labCode }), c.jsx("i", { className: "fa-regular fa-copy text-blue-400 text-xs ml-1" })] }), le.adminCode && c.jsxs("div", { className: "flex items-center gap-3 bg-purple-50 dark:bg-purple-900/20 px-4 py-2 rounded-xl border border-purple-100 dark:border-purple-900/30 shadow-sm cursor-pointer hover:bg-purple-100 dark:hover:bg-purple-900/40 transition-colors", onClick: () => ie(le.adminCode), children: [c.jsx("span", { className: "text-[10px] font-bold text-purple-500 uppercase tracking-wider", children: "ADM" }), c.jsx("span", { className: "font-mono font-black text-purple-700 dark:text-purple-300 text-lg", children: le.adminCode }), c.jsx("i", { className: "fa-regular fa-copy text-purple-400 text-xs ml-1" })] })] })] }, le.id)) }), c.jsx("div", { className: "p-4 border-t border-gray-100 dark:border-gray-800 bg-white dark:bg-gray-900 flex justify-end flex-shrink-0", children: c.jsx("button", { onClick: () => V(null), className: "px-8 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white font-bold hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors text-sm uppercase tracking-wide", children: "Close Window" }) })] }) })] })
}, GSe = [{ id: "tx-1", userId: "u1", userName: "Dr. Smith", amount: 200, action: "DEPOSIT", reason: "Initial Opening Balance", runningBalance: 200, timestamp: new Date(Date.now() - 864e5 * 2).toISOString() }, { id: "tx-2", userId: "u3", userName: "Nurse Jackie", amount: 15.5, action: "WITHDRAWAL", reason: "Office Supplies (Pens)", runningBalance: 184.5, timestamp: new Date(Date.now() - 864e5).toISOString() }, { id: "tx-3", userId: "u3", userName: "Nurse Jackie", amount: 50, action: "WITHDRAWAL", reason: "Pizza for Staff Lunch", runningBalance: 134.5, timestamp: new Date().toISOString() }], VSe = ({ user: e, t }) => {
  const [r, n] = A.useState([]), [a, i] = A.useState(0), [s, l] = A.useState(""), [f, d] = A.useState(""), [h, m] = A.useState(!1), [g, v] = A.useState("WITHDRAWAL"), [y, b] = A.useState(""), [_, k] = A.useState(""), [C, T] = A.useState(null), j = e.role === it.OWNER || e.role === it.MANAGER, R = A.useRef(null), O = re => { if (!Array.isArray(re)) return []; const de = [...re].sort((ie, M) => new Date(ie.timestamp).getTime() - new Date(M.timestamp).getTime()); let D = 0; return de.map(ie => { const M = parseFloat(String(ie.amount || 0)); return ie.action === "DEPOSIT" ? D += M : D -= M, { ...ie, amount: M, runningBalance: Number(D.toFixed(2)) } }).sort((ie, M) => new Date(M.timestamp).getTime() - new Date(ie.timestamp).getTime()) }; A.useEffect(() => { const re = localStorage.getItem("ha_petty_cash"); let de = []; if (re) try { const z = JSON.parse(re); Array.isArray(z) && (de = z) } catch (z) { console.error("Failed to parse petty cash history", z) } else de = GSe; const D = O(de); n(D), i(D.length > 0 ? D[0].runningBalance : 0) }, []); const I = A.useMemo(() => r.filter(re => { const de = new Date(re.timestamp).toISOString().split("T")[0]; let D = !0, z = !0; return s && (D = de >= s), f && (z = de <= f), D && z }), [r, s, f]), H = re => { re.preventDefault(); const de = parseFloat(y); if (!de || de <= 0) return; let D; if (C) D = r.map(ie => ie.id === C ? { ...ie, amount: de, action: g, reason: _ } : ie); else { if (g === "WITHDRAWAL" && de > a) { alert("Insufficient funds in petty cash."); return } D = [{ id: `tx-${Date.now()}`, userId: e.id, userName: e.username, amount: de, action: g, reason: _, runningBalance: 0, timestamp: new Date().toISOString() }, ...r] } const z = O(D); n(z), i(z.length > 0 ? z[0].runningBalance : 0), localStorage.setItem("ha_petty_cash", JSON.stringify(z)), m(!1), T(null), b(""), k("") }, F = (re, de) => { re.preventDefault(), re.stopPropagation(), T(de.id), b(de.amount.toString()), k(de.reason), v(de.action), m(!0) }, X = (re, de) => { re.preventDefault(), re.stopPropagation(), window.confirm("Are you sure you want to delete this transaction? Balance will be recalculated.") && (n(D => { const z = D.filter(te => String(te.id) !== String(de)), ie = O(z); localStorage.setItem("ha_petty_cash", JSON.stringify(ie)); const M = ie.length > 0 ? ie[0].runningBalance : 0; return i(M), ie }), C === de && V()) }, V = () => { m(!1), T(null), b(""), k("") }, U = () => {
    var re, de, D; if (R.current) {
      const z = R.current.innerHTML; document.body.innerHTML; const ie = document.createElement("iframe"); ie.style.display = "none", document.body.appendChild(ie); const M = (re = ie.contentWindow) == null ? void 0 : re.document; M && (M.open(), M.write(`
                  <html>
                  <head>
                      <title>Petty Cash Report</title>
                      <link href="https://cdn.tailwindcss.com" rel="stylesheet">
                      <style>
                          body { font-family: sans-serif; padding: 20px; }
                          table { width: 100%; border-collapse: collapse; margin-top: 20px; }
                          th, td { padding: 10px; border-bottom: 1px solid #ddd; text-align: left; font-size: 12px; }
                          th { background-color: #f3f4f6; text-transform: uppercase; font-size: 10px; }
                          .text-right { text-align: right; }
                          .font-bold { font-weight: bold; }
                          .text-red-500 { color: #ef4444; }
                          .text-emerald-500 { color: #10b981; }
                      </style>
                  </head>
                  <body>
                      ${z}
                  </body>
                  </html>
              `), M.close(), (de = ie.contentWindow) == null || de.focus(), (D = ie.contentWindow) == null || D.print(), setTimeout(() => { document.body.removeChild(ie) }, 1e3))
    }
  }, ee = re => re.split(" ").map(de => de[0]).join("").substring(0, 2).toUpperCase(); return c.jsxs("div", { className: "space-y-10 pb-24 md:pb-10 animate-fade-in-up max-w-7xl mx-auto", children: [c.jsx("header", { className: "flex flex-col md:flex-row md:items-center justify-between gap-6", children: c.jsxs("div", { className: "flex items-center gap-4", children: [c.jsx("div", { className: "w-12 h-12 rounded-2xl bg-medical-500 flex items-center justify-center shadow-lg shadow-medical-500/20", children: c.jsx("i", { className: "fa-solid fa-vault text-xl text-white" }) }), c.jsxs("div", { children: [c.jsx("h2", { className: "text-display text-slate-900 dark:text-white", children: "Petty Cash" }), c.jsx("p", { className: "text-caption mt-0.5", children: "Secure Ledger & Audit Trail" })] })] }) }), c.jsxs("div", { className: "grid grid-cols-1 lg:grid-cols-3 gap-8", children: [c.jsxs("div", { className: "space-y-8", children: [c.jsxs("div", { className: "bg-gradient-to-br from-slate-900 to-slate-800 dark:from-black dark:to-slate-900 rounded-[2.5rem] p-8 text-white shadow-2xl relative overflow-hidden h-[340px] flex flex-col justify-between border border-white/10 group", children: [c.jsx("div", { className: "absolute top-0 right-0 w-[400px] h-[400px] bg-gradient-to-br from-emerald-500/20 to-blue-500/20 rounded-full blur-[100px] -mr-20 -mt-20 pointer-events-none group-hover:scale-110 transition-transform duration-1000" }), c.jsx("div", { className: "absolute bottom-0 left-0 w-[300px] h-[300px] bg-indigo-500/10 rounded-full blur-[80px] -ml-10 -mb-10 pointer-events-none" }), c.jsxs("div", { className: "relative z-10 flex justify-between items-start", children: [c.jsxs("div", { className: "flex gap-2 items-center", children: [c.jsx("div", { className: "w-10 h-10 rounded-full bg-white/10 backdrop-blur-md flex items-center justify-center border border-white/20", children: c.jsx("i", { className: "fa-solid fa-building-columns text-sm text-emerald-400" }) }), c.jsx("span", { className: "text-sm font-bold tracking-widest uppercase text-white/60", children: "Clinic Reserve" })] }), c.jsx("span", { className: "text-lg font-black tracking-widest text-white/80", children: "ICP-CARE PC" })] }), c.jsxs("div", { className: "relative z-10 text-center py-6", children: [c.jsxs("div", { className: "text-6xl font-black tracking-tighter bg-clip-text text-transparent bg-gradient-to-r from-white to-slate-400 drop-shadow-sm", children: ["$", a.toFixed(2)] }), c.jsxs("div", { className: "text-sm font-medium text-emerald-400 mt-2 flex items-center justify-center gap-2", children: [c.jsx("span", { className: "w-2 h-2 rounded-full bg-emerald-400 animate-pulse" }), "Available Balance"] })] }), c.jsxs("div", { className: "relative z-10 grid grid-cols-2 gap-4", children: [c.jsxs("button", { onClick: () => { v("DEPOSIT"), m(!0), T(null), b(""), k("") }, className: "bg-emerald-500 hover:bg-emerald-400 text-white font-bold py-3.5 rounded-2xl shadow-lg hover:shadow-emerald-500/40 transition-all transform hover:-translate-y-0.5 flex items-center justify-center gap-2", children: [c.jsx("i", { className: "fa-solid fa-plus" }), " Cash In"] }), c.jsxs("button", { onClick: () => { v("WITHDRAWAL"), m(!0), T(null), b(""), k("") }, className: "bg-white/10 hover:bg-white/20 text-white font-bold py-3.5 rounded-2xl border border-white/10 backdrop-blur-md transition-all flex items-center justify-center gap-2", children: [c.jsx("i", { className: "fa-solid fa-receipt" }), " Cash Out"] })] })] }), h && c.jsxs("div", { className: "bg-white dark:bg-gray-900 rounded-[2.5rem] p-8 shadow-glass border border-gray-100 dark:border-gray-800 animate-scale-in origin-top", children: [c.jsxs("h3", { className: `text-xl font-black mb-6 flex items-center gap-3 ${g === "DEPOSIT" ? "text-emerald-600" : "text-red-500"}`, children: [c.jsx("div", { className: `w-10 h-10 rounded-xl flex items-center justify-center ${g === "DEPOSIT" ? "bg-emerald-100 text-emerald-600" : "bg-red-100 text-red-600"}`, children: c.jsx("i", { className: `fa-solid ${g === "DEPOSIT" ? "fa-arrow-down" : "fa-arrow-up"}` }) }), C ? "Edit Transaction" : g === "DEPOSIT" ? "Add Funds" : "Record Expense"] }), c.jsxs("form", { onSubmit: H, className: "space-y-6", children: [c.jsxs("div", { children: [c.jsx("label", { className: "text-xs font-extrabold text-gray-400 uppercase tracking-wider ml-1 mb-2 block", children: "Amount" }), c.jsxs("div", { className: "relative", children: [c.jsx("span", { className: "absolute left-5 top-1/2 -translate-y-1/2 text-gray-400 font-bold text-xl", children: "$" }), c.jsx("input", { autoFocus: !0, type: "number", min: "0.01", step: "0.01", required: !0, value: y, onChange: re => b(re.target.value), className: "w-full h-16 pl-10 pr-6 text-3xl font-black rounded-2xl bg-gray-50 dark:bg-gray-800 border-none outline-none focus:ring-4 focus:ring-emerald-500/20 text-gray-900 dark:text-white placeholder-gray-300", placeholder: "0.00" })] })] }), c.jsxs("div", { children: [c.jsx("label", { className: "text-xs font-extrabold text-gray-400 uppercase tracking-wider ml-1 mb-2 block", children: "Description" }), c.jsx("input", { type: "text", required: !0, value: _, onChange: re => k(re.target.value), className: "w-full h-14 px-5 rounded-2xl bg-gray-50 dark:bg-gray-800 border-none outline-none focus:ring-4 focus:ring-emerald-500/20 text-gray-900 dark:text-white font-bold text-lg", placeholder: g === "DEPOSIT" ? "Source of funds..." : "What was purchased..." })] }), C && c.jsxs("div", { className: "p-4 bg-gray-50 dark:bg-gray-800 rounded-2xl", children: [c.jsx("label", { className: "text-xs font-extrabold text-gray-400 uppercase tracking-wider block mb-2", children: "Transaction Type" }), c.jsxs("div", { className: "flex gap-2", children: [c.jsx("button", { type: "button", onClick: () => v("DEPOSIT"), className: `flex-1 py-3 rounded-xl text-xs font-black uppercase tracking-wider transition-all ${g === "DEPOSIT" ? "bg-emerald-500 text-white shadow-lg shadow-emerald-500/30" : "bg-white dark:bg-gray-700 text-gray-500"}`, children: "Deposit" }), c.jsx("button", { type: "button", onClick: () => v("WITHDRAWAL"), className: `flex-1 py-3 rounded-xl text-xs font-black uppercase tracking-wider transition-all ${g === "WITHDRAWAL" ? "bg-red-500 text-white shadow-lg shadow-red-500/30" : "bg-white dark:bg-gray-700 text-gray-500"}`, children: "Withdrawal" })] })] }), c.jsxs("div", { className: "flex gap-4 pt-2", children: [c.jsx("button", { type: "button", onClick: V, className: "px-6 h-14 font-bold text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-2xl transition-colors", children: "Cancel" }), c.jsx("button", { type: "submit", className: `flex-1 h-14 font-bold text-white text-lg rounded-2xl shadow-xl shadow-${g === "DEPOSIT" ? "emerald" : "red"}-500/30 transition-transform hover:scale-[1.02] ${g === "DEPOSIT" ? "bg-emerald-600 hover:bg-emerald-500" : "bg-red-500 hover:bg-red-400"}`, children: C ? "Update Record" : "Confirm" })] })] })] })] }), c.jsxs("div", { className: "lg:col-span-2 space-y-6", children: [c.jsxs("div", { className: "glass-panel p-4 rounded-[2rem] shadow-sm flex flex-col md:flex-row gap-4 items-center justify-between", children: [c.jsxs("div", { className: "flex gap-4 items-center w-full md:w-auto px-2", children: [c.jsxs("div", { className: "flex items-center gap-2 bg-white dark:bg-gray-800 rounded-xl px-4 py-2 border border-gray-100 dark:border-gray-700", children: [c.jsx("i", { className: "fa-regular fa-calendar text-gray-400" }), c.jsx("input", { type: "date", value: s, onChange: re => l(re.target.value), className: "bg-transparent border-none h-8 text-sm font-bold text-gray-700 dark:text-white outline-none w-32" })] }), c.jsx("span", { className: "text-gray-300 font-bold", children: "-" }), c.jsx("div", { className: "flex items-center gap-2 bg-white dark:bg-gray-800 rounded-xl px-4 py-2 border border-gray-100 dark:border-gray-700", children: c.jsx("input", { type: "date", value: f, onChange: re => d(re.target.value), className: "bg-transparent border-none h-8 text-sm font-bold text-gray-700 dark:text-white outline-none w-32" }) }), (s || f) && c.jsx("button", { onClick: () => { l(""), d("") }, className: "w-10 h-10 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-500 hover:text-red-500 flex items-center justify-center transition-colors", children: c.jsx("i", { className: "fa-solid fa-xmark" }) })] }), c.jsxs("button", { onClick: U, className: "h-12 px-6 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 text-slate-700 dark:text-slate-200 rounded-xl font-bold flex items-center gap-2 transition-all shadow-sm border border-gray-100 dark:border-gray-700 w-full md:w-auto justify-center", children: [c.jsx("i", { className: "fa-solid fa-print" }), " Print Report"] })] }), c.jsxs("div", { className: "glass-panel rounded-[2.5rem] shadow-glass overflow-hidden flex flex-col min-h-[500px]", children: [c.jsxs("div", { className: "p-8 border-b border-gray-100 dark:border-gray-800/50 flex justify-between items-center bg-white/50 dark:bg-gray-900/50 backdrop-blur-md", children: [c.jsxs("h3", { className: "font-bold text-gray-900 dark:text-white text-lg flex items-center gap-3", children: [c.jsx("span", { className: "w-1.5 h-6 bg-teal-500 rounded-full" }), "Transaction History"] }), c.jsxs("span", { className: "text-xs font-bold text-gray-500 uppercase bg-gray-100 dark:bg-gray-800 px-3 py-1 rounded-full border border-gray-200 dark:border-gray-700", children: [I.length, " Entries"] })] }), c.jsx("div", { className: "overflow-x-auto flex-1", children: c.jsxs("table", { className: "w-full text-left border-collapse", children: [c.jsx("thead", { className: "bg-gray-50/50 dark:bg-gray-800/30 text-xs uppercase text-gray-400 font-extrabold tracking-wider sticky top-0 backdrop-blur-sm z-10", children: c.jsxs("tr", { children: [c.jsx("th", { className: "p-6 pl-8", children: "User / Date" }), c.jsx("th", { className: "p-6", children: "Description" }), c.jsx("th", { className: "p-6 text-right", children: "Cash Out" }), c.jsx("th", { className: "p-6 text-right", children: "Cash In" }), c.jsx("th", { className: "p-6 text-right pr-8", children: "Balance" }), j && c.jsx("th", { className: "p-6 text-center", children: "Actions" })] }) }), c.jsxs("tbody", { className: "divide-y divide-gray-100 dark:divide-gray-800/50", children: [I.map(re => c.jsxs("tr", { className: "group hover:bg-white/60 dark:hover:bg-gray-800/40 transition-colors", children: [c.jsx("td", { className: "p-6 pl-8", children: c.jsxs("div", { className: "flex items-center gap-4", children: [c.jsx("div", { className: "w-10 h-10 rounded-full bg-gradient-to-tr from-slate-200 to-slate-100 dark:from-slate-700 dark:to-slate-800 text-slate-600 dark:text-slate-300 flex items-center justify-center text-xs font-bold shadow-inner", children: ee(re.userName) }), c.jsxs("div", { children: [c.jsx("div", { className: "text-sm font-bold text-gray-900 dark:text-white leading-tight", children: re.userName }), c.jsxs("div", { className: "text-[10px] text-gray-400 font-bold uppercase tracking-wider mt-1", children: [new Date(re.timestamp).toLocaleDateString(), "  ", new Date(re.timestamp).toLocaleTimeString([], { hour: "2-digit", minute: "2-digit" })] })] })] }) }), c.jsx("td", { className: "p-6", children: c.jsx("span", { className: "text-base font-medium text-gray-700 dark:text-gray-300", children: re.reason }) }), c.jsx("td", { className: "p-6 text-right", children: re.action === "WITHDRAWAL" && c.jsxs("span", { className: "font-mono font-bold text-red-500 bg-red-50 dark:bg-red-900/20 px-2 py-1 rounded-md", children: ["-$", Number(re.amount).toFixed(2)] }) }), c.jsx("td", { className: "p-6 text-right", children: re.action === "DEPOSIT" && c.jsxs("span", { className: "font-mono font-bold text-emerald-600 bg-emerald-50 dark:bg-emerald-900/20 px-2 py-1 rounded-md", children: ["+$", Number(re.amount).toFixed(2)] }) }), c.jsx("td", { className: "p-6 text-right pr-8", children: c.jsxs("span", { className: "font-mono font-black text-slate-900 dark:text-white text-lg", children: ["$", Number(re.runningBalance).toFixed(2)] }) }), j && c.jsx("td", { className: "p-6 text-center", children: c.jsxs("div", { className: "flex justify-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity", children: [c.jsx("button", { type: "button", onClick: de => F(de, re), className: "w-9 h-9 rounded-xl bg-slate-100 dark:bg-slate-800 text-slate-500 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/30 flex items-center justify-center transition-all", title: "Edit", children: c.jsx("i", { className: "fa-solid fa-pen text-sm" }) }), c.jsx("button", { type: "button", onClick: de => X(de, re.id), className: "w-9 h-9 rounded-xl bg-slate-100 dark:bg-slate-800 text-slate-500 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 flex items-center justify-center transition-all", title: "Delete", children: c.jsx("i", { className: "fa-solid fa-trash text-sm" }) })] }) })] }, re.id)), I.length === 0 && c.jsx("tr", { children: c.jsxs("td", { colSpan: j ? 6 : 5, className: "p-16 text-center text-gray-400 font-medium", children: [c.jsx("div", { className: "w-20 h-20 bg-gray-50 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4", children: c.jsx("i", { className: "fa-solid fa-receipt text-3xl opacity-20" }) }), "No transactions found for this period."] }) })] })] }) })] })] })] }), c.jsx("div", { className: "hidden", children: c.jsxs("div", { ref: R, children: [c.jsxs("div", { className: "text-center mb-6", children: [c.jsx("h1", { className: "text-2xl font-bold uppercase tracking-wide", children: "Petty Cash Report" }), c.jsxs("p", { className: "text-sm text-gray-500", children: [s || "Start", " to ", f || "Present"] }), c.jsxs("p", { className: "text-sm font-bold mt-1", children: ["Current Physical Balance: $", a.toFixed(2)] })] }), c.jsxs("table", { className: "w-full text-left border-collapse", children: [c.jsx("thead", { children: c.jsxs("tr", { className: "border-b border-gray-300", children: [c.jsx("th", { className: "py-2", children: "Date" }), c.jsx("th", { className: "py-2", children: "User" }), c.jsx("th", { className: "py-2", children: "Description" }), c.jsx("th", { className: "py-2 text-right", children: "Cash Out" }), c.jsx("th", { className: "py-2 text-right", children: "Cash In" }), c.jsx("th", { className: "py-2 text-right", children: "Balance" })] }) }), c.jsx("tbody", { children: I.map(re => c.jsxs("tr", { className: "border-b border-gray-100", children: [c.jsx("td", { className: "py-2", children: new Date(re.timestamp).toLocaleDateString() }), c.jsx("td", { className: "py-2", children: re.userName }), c.jsx("td", { className: "py-2", children: re.reason }), c.jsx("td", { className: "py-2 text-right text-red-500", children: re.action === "WITHDRAWAL" ? `-$${Number(re.amount).toFixed(2)}` : "" }), c.jsx("td", { className: "py-2 text-right text-emerald-500", children: re.action === "DEPOSIT" ? `+$${Number(re.amount).toFixed(2)}` : "" }), c.jsxs("td", { className: "py-2 text-right font-bold", children: ["$", Number(re.runningBalance).toFixed(2)] })] }, re.id)) })] }), c.jsxs("div", { className: "mt-8 text-center text-xs text-gray-400", children: ["Generated by HealthAxis Inventory System on ", new Date().toLocaleString()] })] }) })] })
}, qSe = ({ user: e, t }) => { const [r, n] = A.useState(""), [a, i] = A.useState(() => { try { const d = localStorage.getItem("ha_voice_memos"); return d ? JSON.parse(d) : [] } catch { return [] } }); A.useEffect(() => { localStorage.setItem("ha_voice_memos", JSON.stringify(a)) }, [a]); const s = () => { if (!r.trim()) return; const d = { id: Date.now().toString(), content: r, timestamp: new Date().toISOString(), author: e.username }; i([d, ...a]), n("") }, l = d => { window.confirm("Delete this memo?") && i(a.filter(h => h.id !== d)) }, f = d => { navigator.clipboard.writeText(d), alert("Copied to clipboard!") }; return c.jsxs("div", { className: "space-y-10 pb-20 animate-fade-in-up max-w-6xl mx-auto", children: [c.jsx("header", { className: "flex flex-col md:flex-row md:items-center justify-between gap-6", children: c.jsxs("div", { className: "flex items-center gap-4", children: [c.jsx("div", { className: "w-12 h-12 rounded-2xl bg-medical-500 flex items-center justify-center shadow-lg shadow-medical-500/20", children: c.jsx("i", { className: "fa-solid fa-microphone-lines text-xl text-white" }) }), c.jsxs("div", { children: [c.jsx("h2", { className: "text-display text-slate-900 dark:text-white", children: "Voice Memos" }), c.jsx("p", { className: "text-caption mt-0.5", children: "Medical Dictation & Quick Notes" })] })] }) }), c.jsxs("div", { className: "glass-panel p-8 rounded-[2.5rem] shadow-glass border border-white/50 dark:border-slate-800", children: [c.jsxs("div", { className: "mb-6 flex justify-between items-center", children: [c.jsx("label", { className: "text-sm font-bold text-slate-500 uppercase tracking-widest ml-2", children: "New Memo" }), c.jsxs("span", { className: "inline-flex items-center gap-2 text-xs text-teal-700 bg-teal-100 px-3 py-1 rounded-full font-bold uppercase tracking-wider border border-teal-200", children: [c.jsx("i", { className: "fa-solid fa-wand-magic-sparkles" }), " AI Powered"] })] }), c.jsx(kx, { value: r, onChange: n, placeholder: "Tap the microphone to dictate clinical notes, reminders, or observations...", rows: 6, className: "text-xl leading-relaxed bg-slate-50 dark:bg-slate-900/50 rounded-3xl border-transparent focus:ring-4 focus:ring-teal-500/20 p-6 placeholder:text-slate-400" }), c.jsx("div", { className: "flex justify-end mt-6", children: c.jsxs("button", { onClick: s, disabled: !r.trim(), className: "px-10 py-4 rounded-2xl bg-slate-900 dark:bg-white text-white dark:text-slate-900 font-bold text-lg shadow-xl hover:scale-105 transition-transform disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-3", children: [c.jsx("i", { className: "fa-solid fa-floppy-disk" }), " Save Note"] }) })] }), c.jsx("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-8", children: a.length === 0 ? c.jsxs("div", { className: "col-span-full py-20 text-center text-slate-400 flex flex-col items-center", children: [c.jsx("div", { className: "w-24 h-24 bg-slate-100 dark:bg-slate-800/50 rounded-full flex items-center justify-center mb-6", children: c.jsx("i", { className: "fa-solid fa-note-sticky text-4xl opacity-30" }) }), c.jsx("p", { className: "text-lg font-medium", children: "No voice memos saved yet." }), c.jsx("p", { className: "text-sm opacity-70", children: "Start dictating above to create your first note." })] }) : a.map(d => c.jsxs("div", { className: "bg-white dark:bg-slate-900 p-8 rounded-[2.5rem] border border-slate-100 dark:border-slate-800 shadow-float hover:shadow-xl transition-all duration-300 relative group flex flex-col hover:-translate-y-1", children: [c.jsxs("div", { className: "flex justify-between items-start mb-4", children: [c.jsxs("div", { className: "flex items-center gap-3", children: [c.jsx("div", { className: "w-10 h-10 rounded-2xl bg-gradient-to-br from-teal-400 to-teal-600 text-white flex items-center justify-center text-sm font-bold shadow-md", children: d.author.charAt(0) }), c.jsxs("div", { className: "flex flex-col", children: [c.jsx("span", { className: "text-sm font-bold text-slate-900 dark:text-white", children: d.author }), c.jsx("span", { className: "text-xs text-slate-400 font-mono", children: new Date(d.timestamp).toLocaleString() })] })] }), c.jsxs("div", { className: "flex gap-2", children: [c.jsx("button", { onClick: () => f(d.content), className: "w-10 h-10 rounded-xl bg-slate-50 dark:bg-slate-800 text-slate-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/30 flex items-center justify-center transition-all opacity-0 group-hover:opacity-100", title: "Copy text", children: c.jsx("i", { className: "fa-regular fa-copy" }) }), c.jsx("button", { onClick: () => l(d.id), className: "w-10 h-10 rounded-xl bg-slate-50 dark:bg-slate-800 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 flex items-center justify-center transition-all opacity-0 group-hover:opacity-100", title: "Delete", children: c.jsx("i", { className: "fa-solid fa-trash" }) })] })] }), c.jsx("div", { className: "flex-1 bg-slate-50 dark:bg-slate-800/50 rounded-2xl p-5 mb-2", children: c.jsx("p", { className: "text-slate-700 dark:text-slate-300 text-base leading-relaxed whitespace-pre-wrap font-medium", children: d.content }) })] }, d.id)) })] }) }, WSe = ({ onLogin: e, onPasswordSet: t, t: r, forcePasswordUpdate: n }) => { const [a, i] = A.useState(""), [s, l] = A.useState(""), [f, d] = A.useState(""), [h, m] = A.useState(!1), [g, v] = A.useState(!1), [y, b] = A.useState("signin"), [_, k] = A.useState(null), [C, T] = A.useState(null), [j, R] = A.useState(!1); A.useEffect(() => (window.PublicKeyCredential && R(!0), (n || window.location.hash.includes("type=recovery") || window.location.hash.includes("type=invite") || window.location.hash.includes("type=signup") || window.location.hash.includes("error=access_denied&error_code=403") === !1 && window.location.hash.includes("access_token=")) && (n || window.location.hash.includes("type=")) && b("update-password"), document.body.classList.add("premium-auth-flow"), () => document.body.classList.remove("premium-auth-flow")), [n]); const O = async H => { H.preventDefault(), v(!0), k(null); try { const { error: F } = await Le.auth.updateUser({ password: f }); if (F) throw F; if (s) { const { data: { user: X } } = await Le.auth.getUser(); if (X) { const { error: V } = await Le.from("profiles").update({ username: s }).eq("id", X.id); if (V) { k(`Password set, but username failed: ${V.message}`), v(!1); return } } } alert("Account setup complete! Please log in with your new credentials."), window.location.hash && window.history.replaceState(null, "", window.location.pathname), await Le.auth.signOut(), t && t(), b("signin"), d(""), l("") } catch (F) { k(F.message) } finally { v(!1) } }, I = async H => { if (H.preventDefault(), y === "update-password") return O(H); v(!0), k(null), T(null); try { if (y === "signin") { const { data: F, error: X } = await Le.auth.signInWithPassword({ email: a.includes("@") ? a : `${s}@healthaxis.com`, password: f }); if (X) throw X; F.user && (T(r("msg_login_success")), setTimeout(() => e(F.user), 500)) } else if (y === "signup") { const { data: F, error: X } = await Le.auth.signUp({ email: a, password: f, options: { data: { full_name: a.split("@")[0] } } }); if (X) throw X; alert("Verification email sent!"), b("signin") } else if (y === "forgot") { const { error: F } = await Le.auth.resetPasswordForEmail(a, { redirectTo: window.location.origin }); if (F) throw F; alert("Password reset link sent!"), b("signin") } } catch (F) { k(F.message) } finally { v(!1) } }; return c.jsxs("div", { className: "min-h-screen w-full flex items-center justify-center p-4 bg-[#f8fafc] dark:bg-[#0f172a] overflow-hidden relative", children: [c.jsx("div", { className: "absolute top-[-10%] right-[-10%] w-[40%] h-[40%] bg-medical-500/10 dark:bg-medical-500/5 blur-[120px] rounded-full animate-pulse-slow" }), c.jsx("div", { className: "absolute bottom-[-10%] left-[-10%] w-[40%] h-[40%] bg-teal-500/10 dark:bg-teal-500/5 blur-[120px] rounded-full animate-pulse-slow", style: { animationDelay: "2s" } }), c.jsxs("div", { className: "w-full max-w-lg animate-fade-in-up", children: [c.jsxs("div", { className: "mb-12 text-center", children: [c.jsx("div", { className: "inline-block p-4 rounded-[2.5rem] bg-white dark:bg-slate-900 luxury-shadow mb-6 transform hover:scale-105 transition-transform duration-500", children: c.jsx(Mp, { className: "w-20 h-20" }) }), c.jsxs("h1", { className: "text-5xl font-extrabold text-slate-900 dark:text-white tracking-tight mb-3 leading-none", children: ["Axis", c.jsx("span", { className: "text-medical-600", children: "Inventory" })] }), c.jsx("p", { className: "text-slate-500 dark:text-slate-400 font-extrabold uppercase tracking-[0.2em] text-[10px]", children: r("login_subtitle") })] }), c.jsxs("div", { className: "bg-white/70 dark:bg-slate-900/70 backdrop-blur-2xl p-10 rounded-[3rem] border border-white/50 dark:border-slate-800 luxury-shadow relative overflow-hidden group", children: [c.jsx("div", { className: "absolute inset-0 bg-gradient-to-tr from-transparent via-white/5 to-transparent pointer-events-none" }), _ && c.jsxs("div", { className: "mb-8 p-4 rounded-2xl bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-800 text-red-600 dark:text-red-400 text-sm font-extrabold flex items-center gap-3 animate-shake", children: [c.jsx("i", { className: "fa-solid fa-triangle-exclamation" }), _] }), C && c.jsxs("div", { className: "mb-8 p-4 rounded-2xl bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-100 dark:border-emerald-800 text-emerald-600 dark:text-emerald-400 text-sm font-extrabold flex items-center gap-3", children: [c.jsx("i", { className: "fa-solid fa-circle-check" }), C] }), c.jsxs("form", { onSubmit: I, className: "space-y-6 relative z-10", children: [y !== "update-password" && c.jsxs("div", { className: "space-y-2 group", children: [c.jsx("label", { className: "text-[10px] font-extrabold text-slate-400 uppercase tracking-widest ml-1", children: r("lbl_email") }), c.jsxs("div", { className: "relative", children: [c.jsx("i", { className: "fa-solid fa-envelope absolute left-5 top-1/2 -translate-y-1/2 text-slate-300 group-focus-within:text-medical-500 transition-colors" }), c.jsx("input", { type: "email", required: !0, value: a, onChange: H => i(H.target.value), placeholder: "name@healthaxis.com", className: "w-full h-14 pl-12 pr-6 rounded-2xl border-none bg-slate-100/50 dark:bg-slate-800/50 text-slate-900 dark:text-white font-extrabold placeholder:text-slate-400 focus:ring-4 ring-medical-500/10 transition-all outline-none" })] })] }), c.jsxs("div", { className: "space-y-2 group", children: [c.jsx("label", { className: "text-[10px] font-extrabold text-slate-400 uppercase tracking-widest ml-1", children: r(y === "update-password" ? "lbl_new_password" : "lbl_password") }), c.jsxs("div", { className: "relative", children: [c.jsx("i", { className: "fa-solid fa-lock absolute left-5 top-1/2 -translate-y-1/2 text-slate-300 group-focus-within:text-medical-500 transition-colors" }), c.jsx("input", { type: h ? "text" : "password", required: !0, value: f, onChange: H => d(H.target.value), placeholder: "", className: "w-full h-14 pl-12 pr-12 rounded-2xl border-none bg-slate-100/50 dark:bg-slate-800/50 text-slate-900 dark:text-white font-extrabold placeholder:text-slate-400 focus:ring-4 ring-medical-500/10 transition-all outline-none" }), c.jsx("button", { type: "button", onClick: () => m(!h), className: "absolute right-5 top-1/2 -translate-y-1/2 text-slate-400 hover:text-medical-600 transition-colors", children: c.jsx("i", { className: `fa-solid ${h ? "fa-eye-slash" : "fa-eye"}` }) })] })] }), c.jsx("button", { type: "submit", disabled: g, className: "w-full h-16 bg-gradient-to-r from-medical-600 to-teal-600 text-white font-extrabold rounded-2xl shadow-2xl shadow-medical-500/25 hover:shadow-medical-500/40 hover:scale-[1.02] active:scale-95 transition-all text-lg flex items-center justify-center gap-3 mt-4 disabled:opacity-75 tracking-tight", children: g ? c.jsx("i", { className: "fa-solid fa-circle-notch fa-spin text-xl" }) : c.jsxs(c.Fragment, { children: [c.jsx("span", { children: r(y === "signin" ? "btn_login" : "btn_save_password") }), c.jsx("i", { className: "fa-solid fa-arrow-right text-sm" })] }) })] })] }), c.jsxs("div", { className: "mt-12 text-center text-[11px] font-extrabold text-slate-400 uppercase tracking-[0.3em]", children: [" ", new Date().getFullYear(), " HealthAxis Global  Precision Operations"] })] })] }) }, N4 = ({ toasts: e, removeToast: t }) => c.jsx("div", { className: "fixed bottom-4 right-4 md:bottom-8 md:left-1/2 md:-translate-x-1/2 md:right-auto z-[60] flex flex-col gap-3 pointer-events-none items-center", children: e.map(r => c.jsx(KSe, { toast: r, onRemove: t }, r.id)) }), KSe = ({ toast: e, onRemove: t }) => { A.useEffect(() => { const a = setTimeout(() => { t(e.id) }, 4e3); return () => clearTimeout(a) }, [e.id, t]); const r = { success: "bg-green-600/90 border-green-500 shadow-green-500/20", error: "bg-red-600/90 border-red-500 shadow-red-500/20", info: "bg-blue-600/90 border-blue-500 shadow-blue-500/20" }, n = { success: "fa-circle-check", error: "fa-circle-exclamation", info: "fa-circle-info" }; return c.jsxs("div", { className: `${r[e.type]} backdrop-blur-md text-white px-5 py-3 rounded-full shadow-lg border flex items-center gap-3 min-w-[320px] max-w-md animate-fade-in-up pointer-events-auto transition-all transform hover:scale-[1.02]`, children: [c.jsx("i", { className: `fa-solid ${n[e.type]} text-lg` }), c.jsx("span", { className: "text-sm font-medium flex-1 tracking-wide", children: e.text }), c.jsx("button", { onClick: () => t(e.id), className: "w-6 h-6 rounded-full hover:bg-white/20 flex items-center justify-center transition-colors", children: c.jsx("i", { className: "fa-solid fa-xmark text-xs" }) })] }) }, YSe = ({ onCommand: e, onError: t }) => {
  const [r, n] = A.useState(!1), [a, i] = A.useState(!1), s = A.useRef(null), l = A.useRef([]), f = async () => { try { const m = await navigator.mediaDevices.getUserMedia({ audio: !0 }), g = new MediaRecorder(m, { mimeType: "audio/webm" }); s.current = g, l.current = [], g.ondataavailable = v => { v.data.size > 0 && l.current.push(v.data) }, g.onstop = async () => { const v = new Blob(l.current, { type: "audio/webm" }); h(v), m.getTracks().forEach(y => y.stop()) }, g.start(), n(!0) } catch (m) { console.error("Mic Error:", m), t("Microphone access denied or unavailable.") } }, d = () => { s.current && r && (s.current.stop(), n(!1), i(!0)) }, h = m => { i(!0), RU(m).then(async g => { try { const v = await cme(g); e(v) } catch { t("Could not understand the transcribed command.") } finally { i(!1) } }).catch(g => { console.error("Transcription error:", g), t("Transcription failed. Please try again."), i(!1) }) }; return c.jsxs("div", {
    className: "fixed bottom-24 right-6 z-[45] md:bottom-10 md:right-10", children: [r && c.jsx("span", { className: "absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75 animate-ping" }), c.jsx("button", {
      onMouseDown: f, onMouseUp: d, onTouchStart: f, onTouchEnd: d, disabled: a, className: `relative w-16 h-16 rounded-full shadow-2xl flex items-center justify-center transition-all transform duration-300 border-2
          ${r ? "bg-gradient-to-br from-red-500 to-pink-600 scale-110 border-red-300" : a ? "bg-gray-500 cursor-wait border-gray-400" : "bg-gradient-to-br from-medical-500 to-blue-600 hover:scale-105 border-white/20 hover:shadow-medical-500/50"}`, title: "Hold to Speak", children: a ? c.jsx("i", { className: "fa-solid fa-circle-notch fa-spin text-white text-2xl" }) : c.jsx("i", { className: `fa-solid ${r ? "fa-microphone-lines" : "fa-microphone"} text-white text-2xl drop-shadow-md` })
    }), c.jsxs("div", {
      className: `absolute right-full mr-4 top-1/2 -translate-y-1/2 px-3 py-1.5 bg-gray-900/90 backdrop-blur text-white text-xs font-bold rounded-lg whitespace-nowrap shadow-xl border border-gray-700 transition-all duration-300 transform origin-right
        ${r || a ? "opacity-100 scale-100 translate-x-0" : "opacity-0 scale-90 translate-x-4 pointer-events-none"}`, children: [r ? c.jsxs("span", { className: "flex items-center gap-2", children: [c.jsx("span", { className: "w-2 h-2 bg-red-500 rounded-full animate-pulse" }), "Listening..."] }) : "Processing...", c.jsx("div", { className: "absolute top-1/2 -right-1.5 -translate-y-1/2 w-3 h-3 bg-gray-900/90 rotate-45 border-r border-t border-gray-700" })]
    })]
  })
}, XSe = { en: { nav_dashboard: "Dashboard", nav_inventory: "Inventory", nav_orders: "Purchasing", nav_prices: "Price List", nav_reports: "Inventory Reports", nav_daily: "Daily Close", nav_billing: "Client Billing", nav_voice: "Voice Memos", nav_settings: "Settings", nav_admin: "Admin Panel", nav_signout: "Sign Out", system_online: "System Online", billing_title: "Client Billing Wizard", billing_subtitle: "Determine permissible 'Bill to Client' tests and CPT codes instantly.", lbl_select_insurer: "Select Patient Insurance", opt_select_insurance: "Choose Insurance...", lbl_reverse_lookup: "Search Test Name", tag_client_bill: "CLIENT BILL AUTHORIZED", guide_title: "Billing Guide", guide_subtitle: "Client Bill Policy Reference", guide_header: "Client Bill Processing", guide_body: "All patients with the insurances listed below are sent to Client.", guide_note_title: "Insurers under Client policy", guide_warning: "Please check each insurer, as the permitted tests vary according to each insurance listed.", btn_understood: "Understood", admin_title: "Role Management", admin_subtitle: "Configure access permissions for staff roles", dash_title: "Overview", dash_subtitle: "Real-time system insights", metric_low_stock: "Low Stock Alerts", metric_value: "Total Asset Value", metric_expiring: "Expiring Items", chart_stock: "Stock Levels vs Threshold", chart_cat: "Inventory Distribution", view_report: "View Full Report", activity_feed: "Live Activity Feed", no_activity: "No recent activity recorded", inv_title: "Inventory Control", inv_subtitle: "Manage stock, audit lots, and expirations", btn_audit_mode: "Audit Mode", btn_exit_audit: "Exit Audit", btn_verify_now: "Verify Now", btn_export: "Export", btn_import: "Import", btn_add: "Add Item", btn_scan: "Scan", search_placeholder: "Search items, lot numbers...", cat_all: "All Categories", sort_name: "Name (A-Z)", sort_stock_low: "Stock (Low)", sort_stock_high: "Stock (High)", sort_expiry: "Expiry Date", audit_progress: "Audit Progress", audit_checked_by: "Checked by", audit_at: "at", lbl_total_assets: "Total Assets", btn_fix_dupes: "Auto-Merge Duplicates", msg_dupes_found: "Duplicate Items Detected", desc_dupes_found: "We found sets of items with identical Name, Batch, and Location.", pl_title: "Service Price Checker", pl_subtitle: "Instant reference for exams and procedures", pl_search_ph: "Search for exams, codes (e.g., 'Metabolic', '80053')...", pl_upload_btn: "Upload CSV Price List", pl_total_services: "Services Listed", pl_last_updated: "Last Updated", pl_wipe_confirm: "This will replace the entire current price list. Continue?", pl_col_service: "Service / Exam Name", pl_col_code: "Code", pl_col_price: "Price", pl_col_category: "Category", pl_no_results: "No services found matching query.", ord_title: "Purchase Orders", ord_subtitle: "Manage procurement and receiving", btn_new_order: "New Order", btn_scan_invoice: "Scan Invoice", lbl_po: "PO Number", lbl_vendor: "Vendor", lbl_status: "Status", lbl_date: "Date", lbl_total: "Total", stat_draft: "Draft", stat_pending: "Pending", stat_received: "Received", stat_cancelled: "Cancelled", btn_receive: "Receive Order", msg_receive_confirm: "Confirm receipt? This will update inventory stock.", filter_all_vendors: "All Vendors", filter_start_date: "Start Date", filter_end_date: "End Date", lbl_filtered_results: "Showing results for:", btn_clear_filters: "Clear Filters", ord_form_title: "Order Details", lbl_ship_cost: "Shipping Cost", lbl_tax_amount: "Tax Amount ($)", lbl_subtotal: "Subtotal", lbl_tax: "Tax", lbl_grand_total: "Grand Total", btn_add_item: "Add Item Row", ph_search_item: "Search or type new item...", ph_select_vendor: "Select or type vendor...", rep_title: "Inventory Reports", rep_subtitle: "Low stock alerts and audit history logs", tab_alerts: "Low Stock Alerts", tab_history: "Audit History", col_item: "Item / Batch", col_status: "Status / Gap", col_user: "User", col_action: "Action / Timestamp", msg_no_alerts: "All stock levels are healthy.", msg_alert_low: "CRITICAL LOW", msg_stock_gap: "Below Min", alert_min_reached: "Warning: Minimum stock reached for", alert_max_exceeded: "Note: Maximum stock capacity exceeded for", dc_btn_start: "Start Daily Close", dc_title: "Daily Medical Close", dc_subtitle: "End-of-Day Reconciliation Wizard", dc_step_fin: "1. Financial Reconciliation", dc_step_vol: "2. Patient Volume", dc_step_stat: "3. Statistics", dc_methods: "Collection Methods (Drawer)", dc_types: "Payment Types (System)", dc_total_drawer: "Total Drawer", dc_total_posted: "Total Posted", dc_ins_breakdown: "Insurance Breakdown (Counts)", dc_ops_split: "Operational Split", dc_nurse_visits: "Nurse Visits Only", dc_provider_visits: "Provider Visits", dc_balanced: "Balanced", dc_mismatch: "Mismatch", dc_btn_sign: "Sign & Generate Report", dc_btn_incomplete: "Reconciliation Incomplete", th_details: "Item Details", th_category: "Category", th_stock: "Stock", th_batch: "Batch / Lot", th_limits: "Limits (Min/Max)", th_expiry: "Expiry", th_location: "Location", th_controls: "Controls", th_status: "Audit Status", audit_verified_by: "Verified by {user} on {date}", btn_reverify: "Re-verify", th_cost: "Unit Cost", th_qty: "Qty", th_total: "Line Total", lbl_batch: "LOT", lbl_units: "units", lbl_min: "MIN", lbl_max: "MAX", btn_consume: "Consume", btn_restock: "Restock", btn_checked: "CHECKED", btn_mark_read: "MARK READ", audit_today: "Audited Today", showing_items: "Showing", items_count: "items", modal_add_title: "Add New Inventory", modal_edit_title: "Edit Item Details", lbl_name: "Item Name", ph_name: "e.g. Surgical Masks N95", lbl_cat: "Category", lbl_loc: "Storage Location", ph_loc: "e.g. A-1", lbl_current_stock: "Current Stock", lbl_unit: "Unit of Measure", lbl_min_alert: "Min Stock (Alert)", lbl_max_limit: "Max Stock (Limit)", lbl_batch_num: "Lot / Batch Number", ph_batch: "XYZ-123", lbl_expiry: "Expiry Date", btn_cancel: "Cancel", btn_save_add: "Add to Inventory", btn_save_update: "Update Item", unit_each: "Each (1x)", unit_box: "Box", unit_pack: "Pack", unit_bottle: "Bottle", unit_vial: "Vial", unit_tube: "Tube", unit_roll: "Roll", unit_kit: "Kit", unit_ream: "Ream (Paper)", unit_liter: "Liter", unit_gallon: "Galn", unit_ampoule: "Ampoule", set_title: "System Configuration", set_subtitle: "Manage user profile and application preferences", sec_profile: "User Profile", lbl_display_name: "Display Name", lbl_role: "Active Role", sec_prefs: "Preferences", lbl_appearance: "Appearance", desc_appearance: "Switch between Day and Night mode", lbl_language: "Language / Idioma", desc_language: "Select your preferred system language", sec_danger: "Zona de Peligro", lbl_reset: "Factory Reset", desc_reset: "Permanently delete all local data.", btn_reset: "Reset System", footer_version: "HealthAxis Inventory System v2.1.0", login_welcome: "Welcome Back", login_subtitle: "Please sign in to your dashboard.", lbl_username: "Username", ph_username: "Enter your Medical ID", lbl_select_role: "Select Role", btn_access: "Access System", login_footer: "Protected by HealthAxis Enterprise Security.", login_hero_title: "Next-Gen Inventory.", login_hero_sub: "Secure, AI-powered inventory management for modern clinical environments.", lbl_email: "Email Address", lbl_password: "Password", btn_login: "Sign In", lbl_new_password: "New Password", btn_save_password: "Save Password", msg_login_success: "Login successful. Redirecting..." }, es: { nav_dashboard: "Panel Principal", nav_inventory: "Inventario", nav_orders: "Compras", nav_prices: "Lista Precios", nav_reports: "Reportes Inventario", nav_daily: "Cierre Diario", nav_billing: "Facturacin Cliente", nav_voice: "Notas de Voz", nav_settings: "Ajustes", nav_admin: "Admin", nav_signout: "Cerrar Sesin", system_online: "Sistema en Lnea", billing_title: "Asistente de Facturacin", billing_subtitle: "Determine tests permitidos para 'Bill to Client' y cdigos CPT.", lbl_select_insurer: "Seleccionar Seguro", opt_select_insurance: "Elegir Seguro...", lbl_reverse_lookup: "Buscar por Nombre de Test", tag_client_bill: "FACTURACIN CLIENTE AUTORIZADA", guide_title: "Gua de Facturacin", guide_subtitle: "Referencia de Poltica 'Bill to Client'", guide_header: "Procesamiento 'Client Bill'", guide_body: "Todos los pacientes con los seguros listados a continuacin se envan a Cliente.", guide_note_title: "Seguros bajo poltica de Cliente", guide_warning: "Por favor revise cada seguro, ya que los exmenes para los que es permitido hacer esto varan segn cada seguro listado.", btn_understood: "Entendido", admin_title: "Gestin de Roles", admin_subtitle: "Configurar permisos de acceso", dash_title: "Resumen", dash_subtitle: "Mtricas del sistema en tiempo real", metric_low_stock: "Alertas de Stock Bajo", metric_value: "Valor Total Activos", metric_expiring: "Items por Vencer", chart_stock: "Nivel de Stock vs Mnimo", chart_cat: "Distribucin por Categora", view_report: "Ver Reporte", activity_feed: "Actividad Reciente", no_activity: "No hay actividad reciente", inv_title: "Control de Inventario", inv_subtitle: "Gestin de stock, lotes y caducidades", btn_audit_mode: "Modo Auditora", btn_exit_audit: "Salir Auditora", btn_verify_now: "Verificar Ahora", btn_export: "Exportar", btn_import: "Importar", btn_add: "Agregar Item", btn_scan: "Escanear", search_placeholder: "Buscar items, lotes...", cat_all: "Todas las Categoras", sort_name: "Nombre (A-Z)", sort_stock_low: "Stock (Bajo)", sort_stock_high: "Stock (Alto)", sort_expiry: "Fecha Expiracin", audit_progress: "Progreso Auditora", audit_checked_by: "Revisado por", audit_at: "a las", lbl_total_assets: "Total de Activos", btn_fix_dupes: "Fusionar Duplicados", msg_dupes_found: "Duplicados Detectados", desc_dupes_found: "Encontramos grupos de items con Nombre, Lote y Ubicacin idnticos.", pl_title: "Verificador de Precios", pl_subtitle: "Referencia instantnea para exmenes y procedimientos", pl_search_ph: "Buscar exmenes, cdigos (ej. 'Metablico', '80053')...", pl_upload_btn: "Subir Lista CSV", pl_total_services: "Servicios Listados", pl_last_updated: "ltima Actualizacin", pl_wipe_confirm: "Esto reemplazar toda la lista de precios actual. Continuar?", pl_col_service: "Servicio / Examen", pl_col_code: "Cdigo", pl_col_price: "Precio", pl_col_category: "Categora", pl_no_results: "No se encontraron servicios.", ord_title: "rdenes de Compra", ord_subtitle: "Gestin de compras y recepcin", btn_new_order: "Nueva Orden", btn_scan_invoice: "Escanear Factura", lbl_po: "N Orden", lbl_vendor: "Proveedor", lbl_status: "Estado", lbl_date: "Fecha", lbl_total: "Total", stat_draft: "Borrador", stat_pending: "Pendiente", stat_received: "Recibido", stat_cancelled: "Cancelado", btn_receive: "Recibir Orden", msg_receive_confirm: "Confirmar recepcin? Esto actualizar el inventario.", filter_all_vendors: "Todos los Proveedores", filter_start_date: "Desde", filter_end_date: "Hasta", lbl_filtered_results: "Mostrando resultados para:", btn_clear_filters: "Limpiar Filtros", ord_form_title: "Detalles de Orden", lbl_ship_cost: "Costo Envo", lbl_tax_amount: "Impuesto (Monto)", lbl_subtotal: "Subtotal", lbl_tax: "Impuesto", lbl_grand_total: "Gran Total", btn_add_item: "Agregar Item", ph_search_item: "Buscar o escribir nuevo...", ph_select_vendor: "Selecciona o escribe proveedor...", rep_title: "Reportes de Inventario", rep_subtitle: "Alertas de stock bajo e historial de auditora", tab_alerts: "Alertas Stock Bajo", tab_history: "Historial Auditora", col_item: "Item / Lote", col_status: "Estado / Dficit", col_user: "Usuario", col_action: "Accin / Fecha", msg_no_alerts: "Todos los niveles de stock son saludables.", msg_alert_low: "BAJO CRTICO", msg_stock_gap: "Bajo Mnimo", alert_min_reached: "Atencin: Stock mnimo alcanzado para", alert_max_exceeded: "Nota: Capacidad mxima excedida para", dc_btn_start: "Iniciar Cierre Diario", dc_title: "Cierre Mdico Diario", dc_subtitle: "Asistente de Reconciliacin Final", dc_step_fin: "1. Reconciliacin Financiera", dc_step_vol: "2. Volumen de Pacientes", dc_step_stat: "3. Estadsticas", dc_methods: "Mtodos de Cobro (Caja)", dc_types: "Tipos de Pago (Sistema)", dc_total_drawer: "Total Caja", dc_total_posted: "Total Sistema", dc_ins_breakdown: "Desglose por Seguro (Conteo)", dc_ops_split: "Divisin Operativa", dc_nurse_visits: "Visitas de Enfermera", dc_provider_visits: "Visitas por Proveedor", dc_balanced: "Cuadrado", dc_mismatch: "Descuadre", dc_btn_sign: "Firmar y Generar PDF", dc_btn_incomplete: "Reconciliacin Incompleta", th_details: "Detalles del Item", th_category: "Categora", th_stock: "Stock", th_batch: "Lote", th_limits: "Lmites (Mn/Mx)", th_expiry: "Vencimiento", th_location: "Ubicacin", th_controls: "Controles", th_status: "Estado Auditora", th_cost: "Costo Unit.", th_qty: "Cant.", th_total: "Total Lnea", lbl_batch: "LOTE", lbl_units: "u", lbl_min: "MN", lbl_max: "MX", btn_consume: "Consumir", btn_restock: "Reponer", btn_checked: "REVISADO", btn_mark_read: "MARCAR", audit_today: "Auditado Hoy", showing_items: "Mostrando", items_count: "items", modal_add_title: "Nuevo Inventario", modal_edit_title: "Editar Detalles", lbl_name: "Nombre del Item", ph_name: "ej. Mascarillas N95", lbl_cat: "Categora", lbl_loc: "Ubicacin", ph_loc: "ej. Estante A-1", lbl_current_stock: "Stock Actual", lbl_unit: "Unidad de Medida", lbl_min_alert: "Stock Mnimo (Alerta)", lbl_max_limit: "Stock Mximo (Lmite)", lbl_batch_num: "Nmero de Lote", ph_batch: "XYZ-123", lbl_expiry: "Fecha Vencimiento", btn_cancel: "Cancelar", btn_save_add: "Guardar en Inventario", btn_save_update: "Actualizar Item", unit_each: "Unidad (c/u)", unit_box: "Caja", unit_pack: "Pack", unit_bottle: "Botella", unit_vial: "Vial", unit_tube: "Tubo", unit_roll: "Rollo", unit_kit: "Kit", unit_ream: "Resma (Papel)", unit_liter: "Litro", unit_gallon: "Galn", unit_ampoule: "Ampolla", set_title: "Configuracin", set_subtitle: "Perfil de usuario y preferencias", sec_profile: "Perfil de Usuario", lbl_display_name: "Nombre Visible", lbl_role: "Rol Activo", sec_prefs: "Preferencias", lbl_appearance: "Apariencia", desc_appearance: "Alternar entre modo Da y Noche", lbl_language: "Idioma / Language", desc_language: "Selecciona el idioma del sistema", sec_danger: "Zona de Peligro", lbl_reset: "Restablecer Fbrica", desc_reset: "Borrar permanentemente datos locales.", btn_reset: "Reiniciar Sistema", footer_version: "Sistema HealthAxis v2.1.0", login_welcome: "Bienvenido", login_subtitle: "Inicia sesin en tu panel.", lbl_username: "Usuario", ph_username: "Ingresa tu ID Mdico", lbl_select_role: "Seleccionar Rol", btn_access: "Acceder al Sistema", login_footer: "Protegido por Seguridad Enterprise HealthAxis.", login_hero_title: "Inventario Next-Gen.", login_hero_sub: "Gestin segura con IA para entornos clnicos modernos.", lbl_email: "Correo Electrnico", lbl_password: "Contrasea", btn_login: "Iniciar Sesin", lbl_new_password: "Nueva Contrasea", btn_save_password: "Guardar Contrasea", msg_login_success: "Inicio de sesin exitoso. Redirigiendo..." } }, JSe = { INVENTORY: "ha_inventory" }, ZSe = async e => { try { const t = localStorage.getItem(JSe.INVENTORY); if (!t) return { success: !0, message: "No local data to migrate." }; const r = JSON.parse(t); console.log(`[Migration] Found ${r.length} items in localStorage.`); let n = 0, a = 0; for (const i of r) { const { data: s } = await Le.from("items").select("id").eq("name", i.name).single(); if (s) { console.log(`[Migration] Item ${i.name} already exists. Skipping.`); continue } const { data: l, error: f } = await Le.from("items").insert({ name: i.name, category: i.category, unit: i.unit || "unit_each", stock: i.stock || 0, average_cost: i.averageCost || 0, min_stock: i.minStock || 0, max_stock: i.maxStock || 0, expiry_date: i.expiryDate || null, batch_number: i.batchNumber || "", location: i.location || "", category_id: null }).select().single(); if (f || !l) { console.error(`[Migration] Failed to insert item ${i.name}`, f), a++; continue } const d = i.location || "Main Storage"; let h; const { data: m } = await Le.from("locations").select("id").eq("name", d).single(); if (m) h = m.id; else { const { data: g } = await Le.from("locations").insert({ name: d }).select().single(); h = g == null ? void 0 : g.id } h && await Le.from("stock_levels").insert({ item_id: l.id, location_id: h, quantity: i.stock }), i.batchNumber && await Le.from("lots").insert({ item_id: l.id, lot_number: i.batchNumber, expiration_date: i.expiryDate || null }), n++ } return { success: !0, message: `Migration Complete. Migrated: ${n}, Failed: ${a}, Skipped: ${r.length - n - a}` } } catch (t) { return console.error("[Migration] Critical Failure:", t), { success: !1, message: t.message } } }, lu = { USER: "ha_user", USERS_DB: "ha_users_db", THEME: "ha_theme", LANG: "ha_lang", TEMPLATES: "ha_templates", DAILY_REPORTS: "ha_daily_reports", MEDICAL_CODES: "ha_medical_codes", CODE_GROUPS: "ha_code_groups", PETTY_CASH: "ha_petty_cash", VOICE_MEMOS: "ha_voice_memos", BILLING_RULES: "ha_billing_rules" }; new Date().toISOString(); const q1 = (e, t) => { try { const r = localStorage.getItem(e); return r ? JSON.parse(r) : t } catch (r) { return console.error(`Error loading key ${e}`, r), t } }, QSe = () => { const { user: e, hasPermission: t, roleConfigs: r, updateRoleConfig: n, signOut: a, updateUser: i, isLoading: s } = V4(), [l, f] = A.useState(() => q1(lu.USERS_DB, [{ id: "u1", username: "Dr. Smith", role: it.DOCTOR }, { id: "u2", username: "Dr. Jones", role: it.DOCTOR }, { id: "u3", username: "Nurse Jackie", role: it.MA }])), { inventory: d, orders: h, prices: m, codes: g, codeGroups: v, isLoadingInventory: y, isLoadingOrders: b, isLoadingPrices: _, isLoadingCodes: k, refreshInventory: C, setInventory: T, setOrders: j, setPrices: R, setCodes: O, setCodeGroups: I, setIsLoadingInventory: H, setIsLoadingOrders: F, setIsLoadingPrices: X, setIsLoadingCodes: V } = Bz(), { templates: U, setTemplates: ee, dailyReports: re, billingRules: de, pettyCashHistory: D, logs: z, setDailyReports: ie, setLogs: M, addLog: te } = Gz(), G = (me, ve) => { te(me, ve) }, [P, W] = A.useState(mt.DASHBOARD), [J, B] = A.useState(void 0), [ce, fe] = A.useState([]), [le, oe] = A.useState(() => q1(lu.THEME, !0)), [pe, Ie] = A.useState(() => q1(lu.LANG, "en")), [Y, ct] = A.useState(!1), [He, tt] = A.useState(!1), [Je, Pe] = A.useState(void 0), [Ut, dn] = A.useState(""), [kn, Xr] = A.useState(void 0), [Ti, fa] = A.useState(null), [Mt, Tn] = A.useState(!1); A.useRef(null); const Ht = me => XSe[pe][me] || me; A.useEffect(() => { (window.location.hash.includes("type=invite") || window.location.hash.includes("type=recovery") || window.location.hash.includes("type=signup")) && (console.log("[Auth] Detected invite/recovery link, enforcing password update."), Tn(!0)); const { data: { subscription: ve } } = Le.auth.onAuthStateChange((Me, Ge) => { var Qe; console.log("Auth Event:", Me, (Qe = Ge == null ? void 0 : Ge.user) == null ? void 0 : Qe.email), Me === "PASSWORD_RECOVERY" && Tn(!0) }); return () => ve.unsubscribe() }, []), A.useEffect(() => { le ? document.documentElement.classList.add("dark") : document.documentElement.classList.remove("dark"), localStorage.setItem(lu.THEME, JSON.stringify(le)) }, [le]), A.useEffect(() => { (async () => { if (e != null && e.id) try { const { data: ve, error: Me } = await Le.from("profiles").select("id, full_name, user_roles(role_id), permissions"); if (Me) { console.error("Error fetching users db:", Me); return } if (console.log("[Debug] Raw Profiles from DB:", ve), ve) { const Ge = ve.map(Qe => { var Ct, Jr; const gt = ((Jr = (Ct = Qe.user_roles) == null ? void 0 : Ct[0]) == null ? void 0 : Jr.role_id) || it.FRONT_DESK; return console.log(`[Debug] User ${Qe.full_name} (${Qe.id}):`, { rawRoles: Qe.user_roles, resolvedRole: gt }), { id: Qe.id, username: Qe.full_name || "Unknown", role: gt, email: "", permissions: Qe.permissions } }); console.log("[Debug] Final Mapped Users:", Ge), f(Ge), localStorage.setItem(lu.USERS_DB, JSON.stringify(Ge)) } } catch (ve) { console.error("Exception fetching users db:", ve) } })() }, [e == null ? void 0 : e.id]), A.useEffect(() => { r.some(ve => ve.permissions.includes("admin.access")) || console.log("Migrating roleConfigs to include admin.access") }, [r]), A.useEffect(() => { localStorage.setItem(lu.LANG, JSON.stringify(pe)) }, [pe]); const ei = () => oe(!le), Fe = (me, ve = "info") => { const Me = Date.now().toString(); fe(Ge => [...Ge, { id: Me, text: me, type: ve }]) }, $n = me => fe(ve => ve.filter(Me => Me.id !== me)), ut = async () => { if (!(e != null && e.id)) return; const me = await ZSe(e.id); me.success ? (alert(me.message), C()) : alert("Migration Failed: " + me.message) }, Xt = (me, ve) => { me !== P && (W(me), me === mt.REPORTS && ve ? B(ve) : B(void 0)) }; A.useEffect(() => { var me; e ? console.log("[AuthDebug] User Logged In:", JSON.stringify({ id: e.id, email: e.email, role: e.role, permissions: ((me = e.permissions) == null ? void 0 : me.length) || 0 }, null, 2)) : console.log("[AuthDebug] No user session found") }, [e]); const Nn = me => { Fe("Authentication successful", "success"), window.location.hash && (window.location.hash.includes("type=invite") || window.location.hash.includes("type=recovery")) && window.history.replaceState(null, "", window.location.pathname) }, Pt = me => { const ve = {}; return me.name !== void 0 && (ve.name = me.name), me.category !== void 0 && (ve.category = me.category), me.stock !== void 0 && (ve.stock = me.stock), me.unit !== void 0 && (ve.unit = me.unit), me.averageCost !== void 0 && (ve.average_cost = me.averageCost), me.minStock !== void 0 && (ve.min_stock = me.minStock), me.maxStock !== void 0 && (ve.max_stock = me.maxStock), me.expiryDate !== void 0 && (ve.expiry_date = me.expiryDate || null), me.batchNumber !== void 0 && (ve.batch_number = me.batchNumber), me.location !== void 0 && (ve.location = me.location), me.lastChecked !== void 0 && (ve.last_checked = me.lastChecked), ve }, hr = async me => { try { const ve = new FileReader; ve.onload = async Me => { var Ge; try { console.log(`[Import] Starting file processing: ${me.name}`); const Qe = (Ge = Me.target) == null ? void 0 : Ge.result; if (!Qe) throw new Error("Could not read file data"); const gt = hg(Qe, { type: "array" }), Ct = gt.SheetNames[0], Jr = gt.Sheets[Ct], mr = OU.sheet_to_json(Jr); if (console.log(`[Import] Parsed ${mr.length} rows from Excel`), mr.length === 0) { Fe("File is empty", "error"); return } const Zr = mr.map((ti, hc) => { const hn = q => { const ae = Object.keys(ti).find(Q => q.some(ne => Q.toLowerCase().trim() === ne.toLowerCase())), Z = ae ? ti[ae] : void 0; return typeof Z == "string" ? Z.trim() : Z }, Ni = hn(["Stock", "Existencia", "Cantidad", "Quantity", "Stock Actual", "Qty"]), pc = hn(["Cost", "Costo", "Average Cost", "Price", "Precio", "Costo Promedio"]), Jo = hn(["Min", "Mnimo", "Min Stock", "Alert", "Stock Minimo", "Mnimo stock"]), Qi = hn(["Max", "Mximo", "Max Stock", "Limit", "Stock Maximo", "Mximo stock"]), mc = hn(["Expiry", "Expiracin", "Vencimiento", "Expiry Date", "Fecha de Vencimiento", "Fecha Expiracin"]), Zo = hn(["SKU", "Code", "Cdigo", "Ref", "Reference", "Cod"]), Ks = { name: hn(["Name", "Nombre", "Item", "Producto", "Descripcin", "Descripcion"]) || "", category: hn(["Category", "Categora", "Grupo", "Categoria"]) || "General", sku: Zo || "", stock: isNaN(Number(Ni)) ? 0 : Number(Ni), unit: hn(["Unit", "Unidad"]) || "unit_each", averageCost: isNaN(Number(pc)) ? 0 : Number(pc), minStock: isNaN(Number(Jo)) ? 10 : Number(Jo), maxStock: isNaN(Number(Qi)) ? 100 : Number(Qi), expiryDate: mc || null, batchNumber: hn(["Batch", "Lote", "Batch Number", "Lot", "Nmero de Lote"]) || "", location: hn(["Location", "Ubicacin", "Bodega", "Ubicacion"]) || "Main Storage" }; return Ks.name || console.warn(`[Import] Row ${hc + 2} skipped: Missing Name column`), Ks }).filter(ti => ti.name); if (console.log(`[Import] Validated ${Zr.length} items for upsert`), Zr.length === 0) { Fe("No valid items found. Check Excel headers.", "error"); return } Fe(`Processing ${Zr.length} items...`, "info"); const fn = await q4.importItems(Zr); await C(), fn > 0 ? (Fe(`Successfully imported ${fn} items`, "success"), G("IMPORT_INVENTORY", `Imported ${fn}/${Zr.length} items from ${me.name}`)) : Fe("Import failed. Please check data format or permissions.", "error") } catch (Qe) { console.error("[Import] Internal Error:", Qe), Fe(`Import error: ${Qe.message}`, "error") } }, ve.readAsArrayBuffer(me) } catch (ve) { console.error("[Import] Reader Error:", ve), Fe(`File read failed: ${ve.message}`, "error") } }; return s ? c.jsx("div", { className: "flex items-center justify-center min-h-screen bg-gray-100 dark:bg-[#0a0f18] text-indigo-600", children: c.jsxs("div", { className: "flex flex-col items-center gap-4", children: [c.jsx("div", { className: "w-12 h-12 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin" }), c.jsx("p", { className: "text-lg font-medium text-gray-600 dark:text-gray-300 animate-pulse", children: "Loading HealthAxis..." })] }) }) : !e || Mt ? c.jsxs(c.Fragment, { children: [c.jsx(N4, { toasts: ce, removeToast: $n }), c.jsx(WSe, { onLogin: me => { Nn(), Tn(!1) }, t: Ht, forcePasswordUpdate: Mt, onPasswordSet: () => Tn(!1) })] }) : c.jsxs("div", { className: "min-h-screen transition-colors duration-500 font-sans selection:bg-medical-500/20 selection:text-medical-600 bg-medical-50 dark:bg-[#0a0f18]", children: [c.jsx(N4, { toasts: ce, removeToast: $n }), c.jsx(YSe, { onCommand: () => { }, onError: me => Fe(me, "error") }), c.jsx($Se, { isOpen: Y, onClose: () => ct(!1), onAddItem: async me => { try { const ve = Pt(me), { data: Me, error: Ge } = await Le.from("items").insert([ve]).select(); if (Ge) throw Ge; if (Me && Me[0]) { const Qe = { ...me, id: Me[0].id }; T(gt => [Qe, ...gt]) } Fe("Item added via AI Scanner", "success"), G("ADDED", `AI Scanner added: ${me.name}`) } catch (ve) { Fe(`Scan save failed: ${ve.message}`, "error") } }, t: Ht }), c.jsx(BSe, { isOpen: He, onClose: () => tt(!1), onSave: async me => { try { const ve = Pt(me); if (me.id) { const { error: Me } = await Le.from("items").update(ve).eq("id", me.id); if (Me) throw Me; T(Ge => Ge.map(Qe => Qe.id === me.id ? { ...Qe, ...me } : Qe)), Fe("Item updated", "success") } else { const { data: Me, error: Ge } = await Le.from("items").insert([ve]).select(); if (Ge) throw Ge; if (Me && Me[0]) { const Qe = { ...me, id: Me[0].id, averageCost: me.averageCost || 0, minStock: me.minStock || 10, maxStock: me.maxStock || 100, batchNumber: me.batchNumber || "", expiryDate: me.expiryDate || "", location: me.location || "" }; T(gt => [Qe, ...gt]) } Fe("Item added", "success") } tt(!1) } catch (ve) { Fe(`Save failed: ${ve.message}`, "error") } }, initialData: Je, t: Ht }), c.jsx(Vz, { currentRoute: P, onNavigate: Xt, isDarkMode: le, toggleTheme: ei, t: Ht, children: c.jsxs("div", { className: "max-w-[1600px] mx-auto print:max-w-none animate-fade-in-up", children: [P === mt.DASHBOARD && ((e == null ? void 0 : e.role) === it.OWNER || (e == null ? void 0 : e.role) === it.MANAGER) && c.jsxs("div", { className: "mb-8 p-6 rounded-3xl bg-gradient-to-r from-indigo-500 to-purple-600 text-white shadow-xl flex items-center justify-between relative overflow-hidden group", children: [c.jsxs("div", { className: "relative z-10", children: [c.jsxs("h3", { className: "text-xl font-bold mb-1", children: [c.jsx("i", { className: "fa-solid fa-cloud-arrow-up mr-2" }), " System Migration"] }), c.jsx("p", { className: "text-indigo-100/90 text-sm max-w-lg", children: "We are moving to a localized Database. If you have local data, click below to sync it safely to the cloud." })] }), c.jsxs("button", { onClick: ut, className: "relative z-10 px-6 py-3 bg-white text-indigo-600 rounded-xl font-bold shadow-lg hover:scale-105 active:scale-95 transition-all flex items-center gap-2", children: [c.jsx("i", { className: "fa-solid fa-bolt" }), " Sync Data to Cloud"] }), c.jsx("div", { className: "absolute top-0 right-0 -mr-16 -mt-16 w-64 h-64 rounded-full bg-white/10 blur-3xl" }), c.jsx("div", { className: "absolute bottom-0 left-0 -ml-16 -mb-16 w-64 h-64 rounded-full bg-indigo-900/20 blur-3xl" })] }), P === mt.DASHBOARD && t("dashboard.view") && c.jsx(Gle, { inventory: d, logs: z, dailyReports: re, pettyCashHistory: D, orders: h, users: l, t: Ht, onNavigate: Xt }), P === mt.INVENTORY && t("inventory.view") && c.jsx(qle, { items: d, user: e, hasPermission: t, onAddItem: () => { Pe(void 0), tt(!0) }, onEditItem: me => { Pe(me), tt(!0) }, onUpdateItem: async (me, ve) => { try { const Me = Pt(ve), { error: Ge } = await Le.from("items").update(Me).eq("id", me); if (Ge) throw Ge; T(Qe => Qe.map(gt => gt.id === me ? { ...gt, ...ve } : gt)), Fe("Item updated successfully", "success") } catch (Me) { Fe(`Update failed: ${Me.message}`, "error") } }, onDeleteItem: () => { }, onAuditItem: async me => { try { const ve = new Date().toISOString(), Me = (e == null ? void 0 : e.username) || "System", Ge = e == null ? void 0 : e.id, { error: Qe } = await Le.from("items").update({ last_checked: ve, last_checked_by: Me }).eq("id", me); if (Qe) throw Qe; if (T(gt => gt.map(Ct => Ct.id === me ? { ...Ct, lastChecked: ve, lastCheckedBy: Me } : Ct)), Ge) { const gt = d.find(Ct => Ct.id === me); await Le.from("audit_log").insert({ user_id: Ge, action: "AUDITED", resource: "inventory", resource_id: me, new_value: { stock: gt == null ? void 0 : gt.stock, verified_at: ve } }), G("AUDITED", `Verified audit for ${(gt == null ? void 0 : gt.name) || "Item ID: " + me}`) } Fe("Audit verified successfully", "success") } catch (ve) { Fe(`Audit failed: ${ve.message}`, "error") } }, onScanClick: () => ct(!0), onImport: hr, onMergeDuplicates: () => { }, searchOverride: Ut, t: Ht }), P === mt.ORDERS && t("orders.view") && c.jsx(bme, { orders: h, inventory: d, user: e, hasPermission: t, isLoadingOrders: b, onSaveOrder: async me => { try { if (F(!0), !(e != null && e.id)) throw new Error("User not authenticated"); const ve = await Pp.createOrder(me, e.id); ve && (j(Me => [ve, ...Me]), Fe("Order created successfully", "success"), G("ORDER_CREATED", `Created PO #${ve.poNumber} for ${ve.vendor}`), e.id && await Le.from("audit_log").insert({ user_id: e.id, action: "ORDER_CREATED", resource: "orders", resource_id: ve.id, new_value: { vendor: ve.vendor, total: ve.grandTotal } })) } catch (ve) { console.error(ve), Fe(`Error saving order: ${ve.message}`, "error") } finally { F(!1) } }, onReceiveOrder: async me => { try { const ve = { ...me, status: "RECEIVED" }; j(Qe => Qe.map(gt => gt.id === me.id ? ve : gt)); const Me = [...d], Ge = []; for (const Qe of me.items) { const gt = Me.findIndex(Ct => Qe.inventoryItemId && Ct.id === Qe.inventoryItemId || Ct.name.toLowerCase() === Qe.name.toLowerCase()); if (gt >= 0) { const Ct = Me[gt], Jr = Ct.stock + Qe.quantity, mr = Ct.stock * (Ct.averageCost || 0), Zr = Qe.quantity * Qe.unitCost, fn = (mr + Zr) / Jr, ti = { ...Ct, stock: Jr, averageCost: fn, lastChecked: new Date().toISOString(), lastCheckedBy: (e == null ? void 0 : e.username) || "Validation System" }; Me[gt] = ti, Ge.push(`${ti.name} (+${Qe.quantity})`), e != null && e.id && (await Le.from("items").update({ stock: Jr, average_cost: fn, last_checked: new Date().toISOString(), last_checked_by: e.username }).eq("id", Ct.id), await Le.from("audit_log").insert({ user_id: e.id, action: "RESTOCKED", resource: "inventory", resource_id: Ct.id, new_value: { stock: Jr, added: Qe.quantity, source_order: me.id } })) } else { const Ct = { name: Qe.name, category: Qe.category || "Uncategorized", stock: Qe.quantity, unit: Qe.unitType || "unit", averageCost: Qe.unitCost, minStock: 10, maxStock: 100, expiryDate: new Date(new Date().setFullYear(new Date().getFullYear() + 1)).toISOString().split("T")[0], batchNumber: `ORDER-${me.poNumber}`, location: "Main Storage", lastChecked: new Date().toISOString(), lastCheckedBy: (e == null ? void 0 : e.username) || "Validation System" }; if (e != null && e.id) { const Jr = { ...Pt(Ct), user_id: e.id }, { data: mr, error: Zr } = await Le.from("items").insert([Jr]).select(); if (mr && mr[0]) { const fn = { ...Ct, id: mr[0].id }; Me.push(fn), Ge.push(`${fn.name} (New)`) } else Zr && (console.error("Error creating item from order:", Zr), Fe(`Failed to save ${Ct.name}: ${Zr.message}`, "error")) } else console.warn("No user ID found, skipping DB insert for item"), Fe(`Failed to save ${Ct.name}: User not authenticated`, "error") } } T(Me), e != null && e.id && await Pp.updateStatus(me.id, "RECEIVED"), Fe(`Received Order ${me.poNumber}. Inventory updated: ${Ge.length} items.`, "success"), G("ORDER_RECEIVED", `Received ${me.poNumber}. Updated: ${Ge.join(", ")}`) } catch (ve) { console.error("Order receipt failed:", ve), Fe(`Error receiving order: ${ve.message}`, "error") } }, onDeleteOrder: async me => { try { if (F(!0), await Pp.deleteOrder(me), j(ve => ve.filter(Me => Me.id !== me)), G("DELETED_ORDER", `Deleted order ID: ${me}`), e != null && e.id) try { await Le.from("audit_log").insert({ user_id: e.id, action: "DELETED_ORDER", resource: "orders", resource_id: me }) } catch (ve) { console.warn("Audit log insert failed (non-critical):", ve) } Fe("Order deleted successfully", "info") } catch (ve) { console.error("Failed to delete order:", ve), Fe("Failed to delete order", "error") } finally { F(!1) } }, onAddToInventory: async me => { try { const ve = Pt(me), { data: Me, error: Ge } = await Le.from("items").insert([ve]).select(); if (Ge) throw Ge; if (Me && Me[0]) { const Qe = { ...me, id: Me[0].id }; T(gt => [Qe, ...gt]) } Fe(`Added ${me.name} to inventory`, "success"), G("ADDED", `Order Scanner added: ${me.name}`) } catch (ve) { Fe(`Failed to add item: ${ve.message}`, "error") } }, t: Ht }), P === mt.PRICELIST && t("prices.view") && c.jsx(_Se, { prices: m, user: e, hasPermission: t, isLoadingPrices: _, onAddPrice: async me => { try { const ve = await jo.createPrice(me); ve && (R(Me => [ve, ...Me]), Fe("Price item added", "success"), G("PRICE_ADDED", `Added service: ${ve.serviceName}`)) } catch { Fe("Failed to add price item", "error") } }, onUpdatePrice: async me => { try { await jo.updatePrice(me), R(ve => ve.map(Me => Me.id === me.id ? me : Me)), Fe("Price item updated", "success"), G("PRICE_UPDATED", `Updated service: ${me.serviceName}`) } catch { Fe("Failed to update price item", "error") } }, onDeletePrice: async me => { try { await jo.deletePrice(me), R(ve => ve.filter(Me => Me.id !== me)), Fe("Price item deleted", "info"), G("PRICE_DELETED", `Deleted price item ID: ${me}`) } catch { Fe("Failed to delete price item", "error") } }, onImportPrices: async me => { try { let ve = 0; for (const Me of me) { const Ge = await jo.createPrice(Me); Ge && (R(Qe => [Ge, ...Qe]), ve++) } Fe(`Imported ${ve} prices`, "success"), G("PRICE_IMPORT", `Imported ${ve} items`) } catch { Fe("Failed to import some prices", "error") } }, t: Ht }), P === mt.BILLING_WIZARD && t("billing.view") && c.jsx(zSe, { billingRules: de, user: e, onSaveRule: () => { }, onDeleteRule: () => { }, t: Ht }), P === mt.MEDICAL_CODES && t("codes.view") && c.jsx(HSe, { codes: g, groups: v, user: e, isLoadingCodes: k, canManage: t("codes.manage"), onSaveCode: async me => { try { if (me.id) { const ve = await So.updateCode(me); ve && (O(Me => Me.map(Ge => Ge.id === me.id ? ve : Ge)), Fe("Medical code updated", "success"), G("CODE_UPDATED", `Updated code: ${me.name}`)) } else { const ve = await So.createCode(me); ve && (O(Me => [ve, ...Me]), Fe("Medical code created", "success"), G("CODE_ADDED", `Created code: ${ve.name}`)) } } catch { Fe("Failed to save code", "error") } }, onDeleteCode: async me => { try { await So.deleteCode(me), O(ve => ve.filter(Me => Me.id !== me)), I(ve => ve.map(Me => ({ ...Me, codeIds: Me.codeIds.filter(Ge => Ge !== me) }))), Fe("Medical code deleted", "info"), G("CODE_DELETED", `Deleted code ID: ${me}`) } catch { Fe("Failed to delete code", "error") } }, onSaveGroup: async me => { try { if (me.id) { const ve = await So.updateGroup(me); ve && (I(Me => Me.map(Ge => Ge.id === me.id ? ve : Ge)), Fe("Panel saved", "success"), G("GROUP_UPDATED", `Updated panel: ${me.name}`)) } else { const ve = await So.createGroup(me); ve && (I(Me => [ve, ...Me]), Fe("Panel created", "success"), G("GROUP_ADDED", `Created panel: ${ve.name}`)) } } catch { Fe("Failed to save panel", "error") } }, onDeleteGroup: async me => { try { await So.deleteGroup(me), I(ve => ve.filter(Me => Me.id !== me)), Fe("Panel deleted", "info"), G("GROUP_DELETED", `Deleted panel ID: ${me}`) } catch { Fe("Failed to delete panel", "error") } }, t: Ht }), P === mt.PETTY_CASH && t("finance.view") && c.jsx(VSe, { user: e, t: Ht }), P === mt.VOICE_MEMOS && t("voice.dictate") && c.jsx(qSe, { user: e, t: Ht }), P === mt.FORMS && t("forms.generate") && c.jsx(OSe, { templates: U, users: l, user: e, hasPermission: t, onSaveTemplate: async me => { try { if (U.find(ve => ve.id === me.id)) { const ve = await Dp.updateTemplate(me); ve && (ee(Me => Me.map(Ge => Ge.id === me.id ? ve : Ge)), Fe("Template updated", "success"), G("TEMPLATE_UPDATED", `Updated template: ${me.title}`)) } else { const ve = await Dp.createTemplate(me); ve && (ee(Me => [ve, ...Me]), Fe("Template created", "success"), G("TEMPLATE_CREATED", `Created template: ${me.title}`)) } } catch (ve) { throw console.error("Template Save Error:", ve), Fe(`Failed to save template: ${ve.message}`, "error"), ve } }, onDeleteTemplate: async me => { if (confirm("Delete template?")) try { await Dp.deleteTemplate(me) && (ee(Me => Me.filter(Ge => Ge.id !== me)), Fe("Template deleted", "info"), G("TEMPLATE_DELETED", `Deleted template ID: ${me}`)) } catch { Fe("Failed to delete template", "error") } }, onLogAction: G, t: Ht }), P === mt.REPORTS && t("reports.view") && c.jsx(Kle, { inventory: d, logs: z, user: e, t: Ht, hasPermission: t, onNavigate: W, initialTab: J, onUpdateLog: (me, ve) => { M(Me => Me.map(Ge => Ge.id === me ? { ...Ge, details: ve } : Ge)), Fe("Log updated successfully", "success") }, onDeleteLog: async me => { try { const { error: ve } = await Le.from("audit_log").delete().eq("id", me); if (ve) throw ve; M(Me => Me.filter(Ge => Ge.id !== me)), Fe("Log entry permanently removed", "success") } catch (ve) { Fe(`Failed to delete log: ${ve.message}`, "error") } } }), P === mt.DAILY_HISTORY && t("reports.create") && c.jsx(USe, { reports: re, user: e, onEditReport: me => { Xr(me), W(mt.DAILY_CLOSE) }, onDeleteReport: async me => { if (confirm("Are you sure you want to delete this report?")) try { await Il.deleteReport(me) ? (ie(Me => Me.filter(Ge => Ge.id !== me)), Fe("Report deleted successfully", "success"), G("DAILY_CLOSE", `Deleted report: ${me}`)) : Fe("Failed to delete report from database", "error") } catch { Fe("Error deleting report", "error") } }, onViewReport: me => fa(me), onCreateNew: () => { Xr(void 0), W(mt.DAILY_CLOSE) } }), P === mt.DAILY_CLOSE && t("reports.create") && c.jsx(LSe, { user: e, usersDb: l, onCloseComplete: me => { ie(ve => ve.find(Ge => Ge.id === me.id) ? ve.map(Ge => Ge.id === me.id ? me : Ge) : [me, ...ve]), G("DAILY_CLOSE", `Completed daily reconciliation: ${me.id}`), Fe("Daily Report saved successfully", "success"), Xr(void 0), W(mt.DAILY_HISTORY) }, onCancel: () => { Xr(void 0), W(mt.DAILY_HISTORY) }, initialData: kn }), P === mt.SETTINGS && c.jsx(SSe, { user: e, onUpdateUser: i, isDarkMode: le, toggleTheme: ei, onResetData: () => { }, language: pe, setLanguage: Ie, t: Ht }), P === mt.ADMIN && t("admin.access") && c.jsx(kSe, { roleConfigs: r, onUpdateRoleConfig: n, currentUser: e, t: Ht })] }, P) }), c.jsx("div", { className: "md:hidden fixed bottom-6 right-6 z-40 animate-scale-in", children: c.jsx("button", { onClick: () => ct(!0), className: "w-16 h-16 rounded-full bg-gradient-to-br from-medical-500 to-medical-600 text-white shadow-glow flex items-center justify-center border-4 border-white dark:border-slate-800 active:scale-90 transition-transform", children: c.jsx("i", { className: "fa-solid fa-qrcode text-2xl" }) }) }), Ti && c.jsxs("div", { className: "fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/80 backdrop-blur-sm animate-fade-in-up", children: [c.jsx("button", { onClick: () => fa(null), className: "absolute top-4 right-4 text-white text-3xl hover:text-red-400 transition-colors", children: c.jsx("i", { className: "fa-solid fa-xmark" }) }), c.jsx("div", { className: "bg-white rounded-lg p-4 overflow-auto max-h-full shadow-2xl", children: c.jsx(I_, { report: Ti, usersDb: l }) })] })] }) }; "serviceWorker" in navigator && window.addEventListener("load", () => { navigator.serviceWorker.register("/sw.js").then(e => { console.log("SW registered: ", e) }).catch(e => { console.log("SW registration failed: ", e) }) }); const DU = document.getElementById("root"); if (!DU) throw new Error("Could not find root element to mount to"); const eEe = r$.createRoot(DU); eEe.render(c.jsx(li.StrictMode, { children: c.jsx(Fz, { children: c.jsx(Uz, { children: c.jsx(Hz, { children: c.jsx(QSe, {}) }) }) }) }));
